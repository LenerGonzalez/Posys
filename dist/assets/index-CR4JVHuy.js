var pL=Object.defineProperty;var gL=(t,e,r)=>e in t?pL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var cr=(t,e,r)=>gL(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const A of s.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var TY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a4={exports:{}},S0={},l4={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=Symbol.for("react.element"),wL=Symbol.for("react.portal"),vL=Symbol.for("react.fragment"),yL=Symbol.for("react.strict_mode"),BL=Symbol.for("react.profiler"),_L=Symbol.for("react.provider"),CL=Symbol.for("react.context"),EL=Symbol.for("react.forward_ref"),bL=Symbol.for("react.suspense"),IL=Symbol.for("react.memo"),xL=Symbol.for("react.lazy"),M5=Symbol.iterator;function FL(t){return t===null||typeof t!="object"?null:(t=M5&&t[M5]||t["@@iterator"],typeof t=="function"?t:null)}var u4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c4=Object.assign,h4={};function ph(t,e,r){this.props=t,this.context=e,this.refs=h4,this.updater=r||u4}ph.prototype.isReactComponent={};ph.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ph.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d4(){}d4.prototype=ph.prototype;function T2(t,e,r){this.props=t,this.context=e,this.refs=h4,this.updater=r||u4}var U2=T2.prototype=new d4;U2.constructor=T2;c4(U2,ph.prototype);U2.isPureReactComponent=!0;var H5=Array.isArray,f4=Object.prototype.hasOwnProperty,N2={current:null},p4={key:!0,ref:!0,__self:!0,__source:!0};function g4(t,e,r){var n,i={},s=null,A=null;if(e!=null)for(n in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(s=""+e.key),e)f4.call(e,n)&&!p4.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Yf,type:t,key:s,ref:A,props:i,_owner:N2.current}}function SL(t,e){return{$$typeof:Yf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Q2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yf}function TL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var V5=/\/+/g;function Ww(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TL(""+t.key):e.toString(36)}function Gg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(s){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case Yf:case wL:A=!0}}if(A)return A=t,i=i(A),t=n===""?"."+Ww(A,0):n,H5(i)?(r="",t!=null&&(r=t.replace(V5,"$&/")+"/"),Gg(i,e,r,"",function(l){return l})):i!=null&&(Q2(i)&&(i=SL(i,r+(!i.key||A&&A.key===i.key?"":(""+i.key).replace(V5,"$&/")+"/")+t)),e.push(i)),1;if(A=0,n=n===""?".":n+":",H5(t))for(var o=0;o<t.length;o++){s=t[o];var a=n+Ww(s,o);A+=Gg(s,e,r,a,i)}else if(a=FL(t),typeof a=="function")for(t=a.call(t),o=0;!(s=t.next()).done;)s=s.value,a=n+Ww(s,o++),A+=Gg(s,e,r,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Vp(t,e,r){if(t==null)return t;var n=[],i=0;return Gg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function UL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Di={current:null},qg={transition:null},NL={ReactCurrentDispatcher:Di,ReactCurrentBatchConfig:qg,ReactCurrentOwner:N2};function m4(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:Vp,forEach:function(t,e,r){Vp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Vp(t,function(){e++}),e},toArray:function(t){return Vp(t,function(e){return e})||[]},only:function(t){if(!Q2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=ph;Ot.Fragment=vL;Ot.Profiler=BL;Ot.PureComponent=T2;Ot.StrictMode=yL;Ot.Suspense=bL;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NL;Ot.act=m4;Ot.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=c4({},t.props),i=t.key,s=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,A=N2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(a in e)f4.call(e,a)&&!p4.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&o!==void 0?o[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){o=Array(a);for(var l=0;l<a;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:Yf,type:t.type,key:i,ref:s,props:n,_owner:A}};Ot.createContext=function(t){return t={$$typeof:CL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_L,_context:t},t.Consumer=t};Ot.createElement=g4;Ot.createFactory=function(t){var e=g4.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:EL,render:t}};Ot.isValidElement=Q2;Ot.lazy=function(t){return{$$typeof:xL,_payload:{_status:-1,_result:t},_init:UL}};Ot.memo=function(t,e){return{$$typeof:IL,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=qg.transition;qg.transition={};try{t()}finally{qg.transition=e}};Ot.unstable_act=m4;Ot.useCallback=function(t,e){return Di.current.useCallback(t,e)};Ot.useContext=function(t){return Di.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return Di.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return Di.current.useEffect(t,e)};Ot.useId=function(){return Di.current.useId()};Ot.useImperativeHandle=function(t,e,r){return Di.current.useImperativeHandle(t,e,r)};Ot.useInsertionEffect=function(t,e){return Di.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return Di.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return Di.current.useMemo(t,e)};Ot.useReducer=function(t,e,r){return Di.current.useReducer(t,e,r)};Ot.useRef=function(t){return Di.current.useRef(t)};Ot.useState=function(t){return Di.current.useState(t)};Ot.useSyncExternalStore=function(t,e,r){return Di.current.useSyncExternalStore(t,e,r)};Ot.useTransition=function(){return Di.current.useTransition()};Ot.version="18.3.1";l4.exports=Ot;var te=l4.exports;const QL=mL(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LL=te,PL=Symbol.for("react.element"),RL=Symbol.for("react.fragment"),kL=Object.prototype.hasOwnProperty,DL=LL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OL={key:!0,ref:!0,__self:!0,__source:!0};function w4(t,e,r){var n,i={},s=null,A=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(A=e.ref);for(n in e)kL.call(e,n)&&!OL.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:PL,type:t,key:s,ref:A,props:i,_owner:DL.current}}S0.Fragment=RL;S0.jsx=w4;S0.jsxs=w4;a4.exports=S0;var m=a4.exports,Cv={},v4={exports:{}},Fs={},y4={exports:{}},B4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,ne){var fe=z.length;z.push(ne);e:for(;0<fe;){var me=fe-1>>>1,O=z[me];if(0<i(O,ne))z[me]=ne,z[fe]=O,fe=me;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var ne=z[0],fe=z.pop();if(fe!==ne){z[0]=fe;e:for(var me=0,O=z.length,V=O>>>1;me<V;){var $=2*(me+1)-1,re=z[$],Ae=$+1,ce=z[Ae];if(0>i(re,fe))Ae<O&&0>i(ce,re)?(z[me]=ce,z[Ae]=fe,me=Ae):(z[me]=re,z[$]=fe,me=$);else if(Ae<O&&0>i(ce,fe))z[me]=ce,z[Ae]=fe,me=Ae;else break e}}return ne}function i(z,ne){var fe=z.sortIndex-ne.sortIndex;return fe!==0?fe:z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var A=Date,o=A.now();t.unstable_now=function(){return A.now()-o}}var a=[],l=[],u=1,d=null,g=3,f=!1,_=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(z){for(var ne=r(l);ne!==null;){if(ne.callback===null)n(l);else if(ne.startTime<=z)n(l),ne.sortIndex=ne.expirationTime,e(a,ne);else break;ne=r(l)}}function P(z){if(C=!1,F(z),!_)if(r(a)!==null)_=!0,le(K);else{var ne=r(l);ne!==null&&se(P,ne.startTime-z)}}function K(z,ne){_=!1,C&&(C=!1,v(I),I=-1),f=!0;var fe=g;try{for(F(ne),d=r(a);d!==null&&(!(d.expirationTime>ne)||z&&!S());){var me=d.callback;if(typeof me=="function"){d.callback=null,g=d.priorityLevel;var O=me(d.expirationTime<=ne);ne=t.unstable_now(),typeof O=="function"?d.callback=O:d===r(a)&&n(a),F(ne)}else n(a);d=r(a)}if(d!==null)var V=!0;else{var $=r(l);$!==null&&se(P,$.startTime-ne),V=!1}return V}finally{d=null,g=fe,f=!1}}var M=!1,Q=null,I=-1,b=5,R=-1;function S(){return!(t.unstable_now()-R<b)}function U(){if(Q!==null){var z=t.unstable_now();R=z;var ne=!0;try{ne=Q(!0,z)}finally{ne?N():(M=!1,Q=null)}}else M=!1}var N;if(typeof E=="function")N=function(){E(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ue=X.port2;X.port1.onmessage=U,N=function(){ue.postMessage(null)}}else N=function(){x(U,0)};function le(z){Q=z,M||(M=!0,N())}function se(z,ne){I=x(function(){z(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){_||f||(_=!0,le(K))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(a)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var fe=g;g=ne;try{return z()}finally{g=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var fe=g;g=z;try{return ne()}finally{g=fe}},t.unstable_scheduleCallback=function(z,ne,fe){var me=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?me+fe:me):fe=me,z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=fe+O,z={id:u++,callback:ne,priorityLevel:z,startTime:fe,expirationTime:O,sortIndex:-1},fe>me?(z.sortIndex=fe,e(l,z),r(a)===null&&z===r(l)&&(C?(v(I),I=-1):C=!0,se(P,fe-me))):(z.sortIndex=O,e(a,z),_||f||(_=!0,le(K))),z},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(z){var ne=g;return function(){var fe=g;g=ne;try{return z.apply(this,arguments)}finally{g=fe}}}})(B4);y4.exports=B4;var ML=y4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HL=te,Is=ML;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _4=new Set,uf={};function Du(t,e){Yc(t,e),Yc(t+"Capture",e)}function Yc(t,e){for(uf[t]=e,t=0;t<e.length;t++)_4.add(e[t])}var Wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ev=Object.prototype.hasOwnProperty,VL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j5={},K5={};function jL(t){return Ev.call(K5,t)?!0:Ev.call(j5,t)?!1:VL.test(t)?K5[t]=!0:(j5[t]=!0,!1)}function KL(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GL(t,e,r,n){if(e===null||typeof e>"u"||KL(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oi(t,e,r,n,i,s,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=A}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oi[t]=new Oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oi[e]=new Oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oi[t]=new Oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oi[t]=new Oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oi[t]=new Oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oi[t]=new Oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oi[t]=new Oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oi[t]=new Oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oi[t]=new Oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var L2=/[\-:]([a-z])/g;function P2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(L2,P2);oi[e]=new Oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(L2,P2);oi[e]=new Oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(L2,P2);oi[e]=new Oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oi[t]=new Oi(t,1,!1,t.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oi[t]=new Oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function R2(t,e,r,n){var i=oi.hasOwnProperty(e)?oi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GL(e,r,i,n)&&(r=null),n||i===null?jL(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var na=HL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jp=Symbol.for("react.element"),bc=Symbol.for("react.portal"),Ic=Symbol.for("react.fragment"),k2=Symbol.for("react.strict_mode"),bv=Symbol.for("react.profiler"),C4=Symbol.for("react.provider"),E4=Symbol.for("react.context"),D2=Symbol.for("react.forward_ref"),Iv=Symbol.for("react.suspense"),xv=Symbol.for("react.suspense_list"),O2=Symbol.for("react.memo"),La=Symbol.for("react.lazy"),b4=Symbol.for("react.offscreen"),G5=Symbol.iterator;function Xh(t){return t===null||typeof t!="object"?null:(t=G5&&t[G5]||t["@@iterator"],typeof t=="function"?t:null)}var Zr=Object.assign,$w;function yd(t){if($w===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);$w=e&&e[1]||""}return`
`+$w+t}var Xw=!1;function Yw(t,e){if(!t||Xw)return"";Xw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),A=i.length-1,o=s.length-1;1<=A&&0<=o&&i[A]!==s[o];)o--;for(;1<=A&&0<=o;A--,o--)if(i[A]!==s[o]){if(A!==1||o!==1)do if(A--,o--,0>o||i[A]!==s[o]){var a=`
`+i[A].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=A&&0<=o);break}}}finally{Xw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?yd(t):""}function qL(t){switch(t.tag){case 5:return yd(t.type);case 16:return yd("Lazy");case 13:return yd("Suspense");case 19:return yd("SuspenseList");case 0:case 2:case 15:return t=Yw(t.type,!1),t;case 11:return t=Yw(t.type.render,!1),t;case 1:return t=Yw(t.type,!0),t;default:return""}}function Fv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ic:return"Fragment";case bc:return"Portal";case bv:return"Profiler";case k2:return"StrictMode";case Iv:return"Suspense";case xv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E4:return(t.displayName||"Context")+".Consumer";case C4:return(t._context.displayName||"Context")+".Provider";case D2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O2:return e=t.displayName||null,e!==null?e:Fv(t.type)||"Memo";case La:e=t._payload,t=t._init;try{return Fv(t(e))}catch{}}return null}function zL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fv(e);case 8:return e===k2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WL(t){var e=I4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(A){n=""+A,s.call(this,A)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(A){n=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kp(t){t._valueTracker||(t._valueTracker=WL(t))}function x4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=I4(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Em(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sv(t,e){var r=e.checked;return Zr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function q5(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=gl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F4(t,e){e=e.checked,e!=null&&R2(t,"checked",e,!1)}function Tv(t,e){F4(t,e);var r=gl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uv(t,e.type,r):e.hasOwnProperty("defaultValue")&&Uv(t,e.type,gl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function z5(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Uv(t,e,r){(e!=="number"||Em(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Bd=Array.isArray;function Mc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+gl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Zr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W5(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Me(92));if(Bd(r)){if(1<r.length)throw Error(Me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:gl(r)}}function S4(t,e){var r=gl(e.value),n=gl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function $5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function T4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?T4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gp,U4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gp=Gp||document.createElement("div"),Gp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$L=["Webkit","ms","Moz","O"];Object.keys(kd).forEach(function(t){$L.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kd[e]=kd[t]})});function N4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kd.hasOwnProperty(t)&&kd[t]?(""+e).trim():e+"px"}function Q4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=N4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var XL=Zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lv(t,e){if(e){if(XL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function Pv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rv=null;function M2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kv=null,Hc=null,Vc=null;function X5(t){if(t=ep(t)){if(typeof kv!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=L0(e),kv(t.stateNode,t.type,e))}}function L4(t){Hc?Vc?Vc.push(t):Vc=[t]:Hc=t}function P4(){if(Hc){var t=Hc,e=Vc;if(Vc=Hc=null,X5(t),e)for(t=0;t<e.length;t++)X5(e[t])}}function R4(t,e){return t(e)}function k4(){}var Jw=!1;function D4(t,e,r){if(Jw)return t(e,r);Jw=!0;try{return R4(t,e,r)}finally{Jw=!1,(Hc!==null||Vc!==null)&&(k4(),P4())}}function hf(t,e){var r=t.stateNode;if(r===null)return null;var n=L0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Me(231,e,typeof r));return r}var Dv=!1;if(Wo)try{var Yh={};Object.defineProperty(Yh,"passive",{get:function(){Dv=!0}}),window.addEventListener("test",Yh,Yh),window.removeEventListener("test",Yh,Yh)}catch{Dv=!1}function YL(t,e,r,n,i,s,A,o,a){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Dd=!1,bm=null,Im=!1,Ov=null,JL={onError:function(t){Dd=!0,bm=t}};function ZL(t,e,r,n,i,s,A,o,a){Dd=!1,bm=null,YL.apply(JL,arguments)}function eP(t,e,r,n,i,s,A,o,a){if(ZL.apply(this,arguments),Dd){if(Dd){var l=bm;Dd=!1,bm=null}else throw Error(Me(198));Im||(Im=!0,Ov=l)}}function Ou(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function O4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y5(t){if(Ou(t)!==t)throw Error(Me(188))}function tP(t){var e=t.alternate;if(!e){if(e=Ou(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Y5(i),t;if(s===n)return Y5(i),e;s=s.sibling}throw Error(Me(188))}if(r.return!==n.return)r=i,n=s;else{for(var A=!1,o=i.child;o;){if(o===r){A=!0,r=i,n=s;break}if(o===n){A=!0,n=i,r=s;break}o=o.sibling}if(!A){for(o=s.child;o;){if(o===r){A=!0,r=s,n=i;break}if(o===n){A=!0,n=s,r=i;break}o=o.sibling}if(!A)throw Error(Me(189))}}if(r.alternate!==n)throw Error(Me(190))}if(r.tag!==3)throw Error(Me(188));return r.stateNode.current===r?t:e}function M4(t){return t=tP(t),t!==null?H4(t):null}function H4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=H4(t);if(e!==null)return e;t=t.sibling}return null}var V4=Is.unstable_scheduleCallback,J5=Is.unstable_cancelCallback,rP=Is.unstable_shouldYield,nP=Is.unstable_requestPaint,mn=Is.unstable_now,iP=Is.unstable_getCurrentPriorityLevel,H2=Is.unstable_ImmediatePriority,j4=Is.unstable_UserBlockingPriority,xm=Is.unstable_NormalPriority,sP=Is.unstable_LowPriority,K4=Is.unstable_IdlePriority,T0=null,io=null;function AP(t){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(T0,t,void 0,(t.current.flags&128)===128)}catch{}}var gA=Math.clz32?Math.clz32:lP,oP=Math.log,aP=Math.LN2;function lP(t){return t>>>=0,t===0?32:31-(oP(t)/aP|0)|0}var qp=64,zp=4194304;function _d(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,A=r&268435455;if(A!==0){var o=A&~i;o!==0?n=_d(o):(s&=A,s!==0&&(n=_d(s)))}else A=r&~i,A!==0?n=_d(A):s!==0&&(n=_d(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gA(e),i=1<<r,n|=t[r],e&=~i;return n}function uP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var A=31-gA(s),o=1<<A,a=i[A];a===-1?(!(o&r)||o&n)&&(i[A]=uP(o,e)):a<=e&&(t.expiredLanes|=o),s&=~o}}function Mv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G4(){var t=qp;return qp<<=1,!(qp&4194240)&&(qp=64),t}function Zw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Jf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gA(e),t[e]=r}function hP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-gA(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function V2(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gA(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var pr=0;function q4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var z4,j2,W4,$4,X4,Hv=!1,Wp=[],Za=null,el=null,tl=null,df=new Map,ff=new Map,ka=[],dP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z5(t,e){switch(t){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":df.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(e.pointerId)}}function Jh(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ep(e),e!==null&&j2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fP(t,e,r,n,i){switch(e){case"focusin":return Za=Jh(Za,t,e,r,n,i),!0;case"dragenter":return el=Jh(el,t,e,r,n,i),!0;case"mouseover":return tl=Jh(tl,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return df.set(s,Jh(df.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ff.set(s,Jh(ff.get(s)||null,t,e,r,n,i)),!0}return!1}function Y4(t){var e=su(t.target);if(e!==null){var r=Ou(e);if(r!==null){if(e=r.tag,e===13){if(e=O4(r),e!==null){t.blockedOn=e,X4(t.priority,function(){W4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Vv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Rv=n,r.target.dispatchEvent(n),Rv=null}else return e=ep(r),e!==null&&j2(e),t.blockedOn=r,!1;e.shift()}return!0}function eC(t,e,r){zg(t)&&r.delete(e)}function pP(){Hv=!1,Za!==null&&zg(Za)&&(Za=null),el!==null&&zg(el)&&(el=null),tl!==null&&zg(tl)&&(tl=null),df.forEach(eC),ff.forEach(eC)}function Zh(t,e){t.blockedOn===e&&(t.blockedOn=null,Hv||(Hv=!0,Is.unstable_scheduleCallback(Is.unstable_NormalPriority,pP)))}function pf(t){function e(i){return Zh(i,t)}if(0<Wp.length){Zh(Wp[0],t);for(var r=1;r<Wp.length;r++){var n=Wp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Za!==null&&Zh(Za,t),el!==null&&Zh(el,t),tl!==null&&Zh(tl,t),df.forEach(e),ff.forEach(e),r=0;r<ka.length;r++)n=ka[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ka.length&&(r=ka[0],r.blockedOn===null);)Y4(r),r.blockedOn===null&&ka.shift()}var jc=na.ReactCurrentBatchConfig,Sm=!0;function gP(t,e,r,n){var i=pr,s=jc.transition;jc.transition=null;try{pr=1,K2(t,e,r,n)}finally{pr=i,jc.transition=s}}function mP(t,e,r,n){var i=pr,s=jc.transition;jc.transition=null;try{pr=4,K2(t,e,r,n)}finally{pr=i,jc.transition=s}}function K2(t,e,r,n){if(Sm){var i=Vv(t,e,r,n);if(i===null)l1(t,e,n,Tm,r),Z5(t,n);else if(fP(i,t,e,r,n))n.stopPropagation();else if(Z5(t,n),e&4&&-1<dP.indexOf(t)){for(;i!==null;){var s=ep(i);if(s!==null&&z4(s),s=Vv(t,e,r,n),s===null&&l1(t,e,n,Tm,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else l1(t,e,n,null,r)}}var Tm=null;function Vv(t,e,r,n){if(Tm=null,t=M2(n),t=su(t),t!==null)if(e=Ou(t),e===null)t=null;else if(r=e.tag,r===13){if(t=O4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tm=t,null}function J4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iP()){case H2:return 1;case j4:return 4;case xm:case sP:return 16;case K4:return 536870912;default:return 16}default:return 16}}var qa=null,G2=null,Wg=null;function Z4(){if(Wg)return Wg;var t,e=G2,r=e.length,n,i="value"in qa?qa.value:qa.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var A=r-t;for(n=1;n<=A&&e[r-n]===i[s-n];n++);return Wg=i.slice(t,1<n?1-n:void 0)}function $g(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $p(){return!0}function tC(){return!1}function Ss(t){function e(r,n,i,s,A){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=A,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$p:tC,this.isPropagationStopped=tC,this}return Zr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$p)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$p)},persist:function(){},isPersistent:$p}),e}var gh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q2=Ss(gh),Zf=Zr({},gh,{view:0,detail:0}),wP=Ss(Zf),e1,t1,ed,U0=Zr({},Zf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ed&&(ed&&t.type==="mousemove"?(e1=t.screenX-ed.screenX,t1=t.screenY-ed.screenY):t1=e1=0,ed=t),e1)},movementY:function(t){return"movementY"in t?t.movementY:t1}}),rC=Ss(U0),vP=Zr({},U0,{dataTransfer:0}),yP=Ss(vP),BP=Zr({},Zf,{relatedTarget:0}),r1=Ss(BP),_P=Zr({},gh,{animationName:0,elapsedTime:0,pseudoElement:0}),CP=Ss(_P),EP=Zr({},gh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bP=Ss(EP),IP=Zr({},gh,{data:0}),nC=Ss(IP),xP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SP[t])?!!e[t]:!1}function z2(){return TP}var UP=Zr({},Zf,{key:function(t){if(t.key){var e=xP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$g(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z2,charCode:function(t){return t.type==="keypress"?$g(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$g(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NP=Ss(UP),QP=Zr({},U0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iC=Ss(QP),LP=Zr({},Zf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z2}),PP=Ss(LP),RP=Zr({},gh,{propertyName:0,elapsedTime:0,pseudoElement:0}),kP=Ss(RP),DP=Zr({},U0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OP=Ss(DP),MP=[9,13,27,32],W2=Wo&&"CompositionEvent"in window,Od=null;Wo&&"documentMode"in document&&(Od=document.documentMode);var HP=Wo&&"TextEvent"in window&&!Od,eF=Wo&&(!W2||Od&&8<Od&&11>=Od),sC=" ",AC=!1;function tF(t,e){switch(t){case"keyup":return MP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xc=!1;function VP(t,e){switch(t){case"compositionend":return rF(e);case"keypress":return e.which!==32?null:(AC=!0,sC);case"textInput":return t=e.data,t===sC&&AC?null:t;default:return null}}function jP(t,e){if(xc)return t==="compositionend"||!W2&&tF(t,e)?(t=Z4(),Wg=G2=qa=null,xc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eF&&e.locale!=="ko"?null:e.data;default:return null}}var KP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KP[t.type]:e==="textarea"}function nF(t,e,r,n){L4(n),e=Um(e,"onChange"),0<e.length&&(r=new q2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Md=null,gf=null;function GP(t){fF(t,0)}function N0(t){var e=Tc(t);if(x4(e))return t}function qP(t,e){if(t==="change")return e}var iF=!1;if(Wo){var n1;if(Wo){var i1="oninput"in document;if(!i1){var aC=document.createElement("div");aC.setAttribute("oninput","return;"),i1=typeof aC.oninput=="function"}n1=i1}else n1=!1;iF=n1&&(!document.documentMode||9<document.documentMode)}function lC(){Md&&(Md.detachEvent("onpropertychange",sF),gf=Md=null)}function sF(t){if(t.propertyName==="value"&&N0(gf)){var e=[];nF(e,gf,t,M2(t)),D4(GP,e)}}function zP(t,e,r){t==="focusin"?(lC(),Md=e,gf=r,Md.attachEvent("onpropertychange",sF)):t==="focusout"&&lC()}function WP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return N0(gf)}function $P(t,e){if(t==="click")return N0(e)}function XP(t,e){if(t==="input"||t==="change")return N0(e)}function YP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vA=typeof Object.is=="function"?Object.is:YP;function mf(t,e){if(vA(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ev.call(e,i)||!vA(t[i],e[i]))return!1}return!0}function uC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cC(t,e){var r=uC(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uC(r)}}function AF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oF(){for(var t=window,e=Em();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Em(t.document)}return e}function $2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JP(t){var e=oF(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&AF(r.ownerDocument.documentElement,r)){if(n!==null&&$2(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=cC(r,s);var A=cC(r,n);i&&A&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZP=Wo&&"documentMode"in document&&11>=document.documentMode,Fc=null,jv=null,Hd=null,Kv=!1;function hC(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kv||Fc==null||Fc!==Em(n)||(n=Fc,"selectionStart"in n&&$2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hd&&mf(Hd,n)||(Hd=n,n=Um(jv,"onSelect"),0<n.length&&(e=new q2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Fc)))}function Xp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sc={animationend:Xp("Animation","AnimationEnd"),animationiteration:Xp("Animation","AnimationIteration"),animationstart:Xp("Animation","AnimationStart"),transitionend:Xp("Transition","TransitionEnd")},s1={},aF={};Wo&&(aF=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function Q0(t){if(s1[t])return s1[t];if(!Sc[t])return t;var e=Sc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in aF)return s1[t]=e[r];return t}var lF=Q0("animationend"),uF=Q0("animationiteration"),cF=Q0("animationstart"),hF=Q0("transitionend"),dF=new Map,dC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cl(t,e){dF.set(t,e),Du(e,[t])}for(var A1=0;A1<dC.length;A1++){var o1=dC[A1],eR=o1.toLowerCase(),tR=o1[0].toUpperCase()+o1.slice(1);Cl(eR,"on"+tR)}Cl(lF,"onAnimationEnd");Cl(uF,"onAnimationIteration");Cl(cF,"onAnimationStart");Cl("dblclick","onDoubleClick");Cl("focusin","onFocus");Cl("focusout","onBlur");Cl(hF,"onTransitionEnd");Yc("onMouseEnter",["mouseout","mouseover"]);Yc("onMouseLeave",["mouseout","mouseover"]);Yc("onPointerEnter",["pointerout","pointerover"]);Yc("onPointerLeave",["pointerout","pointerover"]);Du("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Du("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Du("onBeforeInput",["compositionend","keypress","textInput","paste"]);Du("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Du("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Du("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cd));function fC(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,eP(n,e,void 0,t),t.currentTarget=null}function fF(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var A=n.length-1;0<=A;A--){var o=n[A],a=o.instance,l=o.currentTarget;if(o=o.listener,a!==s&&i.isPropagationStopped())break e;fC(i,o,l),s=a}else for(A=0;A<n.length;A++){if(o=n[A],a=o.instance,l=o.currentTarget,o=o.listener,a!==s&&i.isPropagationStopped())break e;fC(i,o,l),s=a}}}if(Im)throw t=Ov,Im=!1,Ov=null,t}function Lr(t,e){var r=e[$v];r===void 0&&(r=e[$v]=new Set);var n=t+"__bubble";r.has(n)||(pF(e,t,2,!1),r.add(n))}function a1(t,e,r){var n=0;e&&(n|=4),pF(r,t,n,e)}var Yp="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[Yp]){t[Yp]=!0,_4.forEach(function(r){r!=="selectionchange"&&(rR.has(r)||a1(r,!1,t),a1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yp]||(e[Yp]=!0,a1("selectionchange",!1,e))}}function pF(t,e,r,n){switch(J4(e)){case 1:var i=gP;break;case 4:i=mP;break;default:i=K2}r=i.bind(null,e,r,t),i=void 0,!Dv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function l1(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var A=n.tag;if(A===3||A===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(A===4)for(A=n.return;A!==null;){var a=A.tag;if((a===3||a===4)&&(a=A.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;A=A.return}for(;o!==null;){if(A=su(o),A===null)return;if(a=A.tag,a===5||a===6){n=s=A;continue e}o=o.parentNode}}n=n.return}D4(function(){var l=s,u=M2(r),d=[];e:{var g=dF.get(t);if(g!==void 0){var f=q2,_=t;switch(t){case"keypress":if($g(r)===0)break e;case"keydown":case"keyup":f=NP;break;case"focusin":_="focus",f=r1;break;case"focusout":_="blur",f=r1;break;case"beforeblur":case"afterblur":f=r1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=rC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=yP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=PP;break;case lF:case uF:case cF:f=CP;break;case hF:f=kP;break;case"scroll":f=wP;break;case"wheel":f=OP;break;case"copy":case"cut":case"paste":f=bP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=iC}var C=(e&4)!==0,x=!C&&t==="scroll",v=C?g!==null?g+"Capture":null:g;C=[];for(var E=l,F;E!==null;){F=E;var P=F.stateNode;if(F.tag===5&&P!==null&&(F=P,v!==null&&(P=hf(E,v),P!=null&&C.push(vf(E,P,F)))),x)break;E=E.return}0<C.length&&(g=new f(g,_,null,r,u),d.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",g&&r!==Rv&&(_=r.relatedTarget||r.fromElement)&&(su(_)||_[$o]))break e;if((f||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,f?(_=r.relatedTarget||r.toElement,f=l,_=_?su(_):null,_!==null&&(x=Ou(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(f=null,_=l),f!==_)){if(C=rC,P="onMouseLeave",v="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(C=iC,P="onPointerLeave",v="onPointerEnter",E="pointer"),x=f==null?g:Tc(f),F=_==null?g:Tc(_),g=new C(P,E+"leave",f,r,u),g.target=x,g.relatedTarget=F,P=null,su(u)===l&&(C=new C(v,E+"enter",_,r,u),C.target=F,C.relatedTarget=x,P=C),x=P,f&&_)t:{for(C=f,v=_,E=0,F=C;F;F=tc(F))E++;for(F=0,P=v;P;P=tc(P))F++;for(;0<E-F;)C=tc(C),E--;for(;0<F-E;)v=tc(v),F--;for(;E--;){if(C===v||v!==null&&C===v.alternate)break t;C=tc(C),v=tc(v)}C=null}else C=null;f!==null&&pC(d,g,f,C,!1),_!==null&&x!==null&&pC(d,x,_,C,!0)}}e:{if(g=l?Tc(l):window,f=g.nodeName&&g.nodeName.toLowerCase(),f==="select"||f==="input"&&g.type==="file")var K=qP;else if(oC(g))if(iF)K=XP;else{K=WP;var M=zP}else(f=g.nodeName)&&f.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(K=$P);if(K&&(K=K(t,l))){nF(d,K,r,u);break e}M&&M(t,g,l),t==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&Uv(g,"number",g.value)}switch(M=l?Tc(l):window,t){case"focusin":(oC(M)||M.contentEditable==="true")&&(Fc=M,jv=l,Hd=null);break;case"focusout":Hd=jv=Fc=null;break;case"mousedown":Kv=!0;break;case"contextmenu":case"mouseup":case"dragend":Kv=!1,hC(d,r,u);break;case"selectionchange":if(ZP)break;case"keydown":case"keyup":hC(d,r,u)}var Q;if(W2)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else xc?tF(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(eF&&r.locale!=="ko"&&(xc||I!=="onCompositionStart"?I==="onCompositionEnd"&&xc&&(Q=Z4()):(qa=u,G2="value"in qa?qa.value:qa.textContent,xc=!0)),M=Um(l,I),0<M.length&&(I=new nC(I,t,null,r,u),d.push({event:I,listeners:M}),Q?I.data=Q:(Q=rF(r),Q!==null&&(I.data=Q)))),(Q=HP?VP(t,r):jP(t,r))&&(l=Um(l,"onBeforeInput"),0<l.length&&(u=new nC("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:l}),u.data=Q))}fF(d,e)})}function vf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Um(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hf(t,r),s!=null&&n.unshift(vf(t,s,i)),s=hf(t,e),s!=null&&n.push(vf(t,s,i))),t=t.return}return n}function tc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pC(t,e,r,n,i){for(var s=e._reactName,A=[];r!==null&&r!==n;){var o=r,a=o.alternate,l=o.stateNode;if(a!==null&&a===n)break;o.tag===5&&l!==null&&(o=l,i?(a=hf(r,s),a!=null&&A.unshift(vf(r,a,o))):i||(a=hf(r,s),a!=null&&A.push(vf(r,a,o)))),r=r.return}A.length!==0&&t.push({event:e,listeners:A})}var nR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function gC(t){return(typeof t=="string"?t:""+t).replace(nR,`
`).replace(iR,"")}function Jp(t,e,r){if(e=gC(e),gC(t)!==e&&r)throw Error(Me(425))}function Nm(){}var Gv=null,qv=null;function zv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wv=typeof setTimeout=="function"?setTimeout:void 0,sR=typeof clearTimeout=="function"?clearTimeout:void 0,mC=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof mC<"u"?function(t){return mC.resolve(null).then(t).catch(oR)}:Wv;function oR(t){setTimeout(function(){throw t})}function u1(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),pf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);pf(e)}function rl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var mh=Math.random().toString(36).slice(2),ZA="__reactFiber$"+mh,yf="__reactProps$"+mh,$o="__reactContainer$"+mh,$v="__reactEvents$"+mh,aR="__reactListeners$"+mh,lR="__reactHandles$"+mh;function su(t){var e=t[ZA];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$o]||r[ZA]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=wC(t);t!==null;){if(r=t[ZA])return r;t=wC(t)}return e}t=r,r=t.parentNode}return null}function ep(t){return t=t[ZA]||t[$o],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function L0(t){return t[yf]||null}var Xv=[],Uc=-1;function El(t){return{current:t}}function Rr(t){0>Uc||(t.current=Xv[Uc],Xv[Uc]=null,Uc--)}function Sr(t,e){Uc++,Xv[Uc]=t.current,t.current=e}var ml={},Ei=El(ml),ts=El(!1),vu=ml;function Jc(t,e){var r=t.type.contextTypes;if(!r)return ml;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rs(t){return t=t.childContextTypes,t!=null}function Qm(){Rr(ts),Rr(Ei)}function vC(t,e,r){if(Ei.current!==ml)throw Error(Me(168));Sr(Ei,e),Sr(ts,r)}function gF(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Me(108,zL(t)||"Unknown",i));return Zr({},r,n)}function Lm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ml,vu=Ei.current,Sr(Ei,t),Sr(ts,ts.current),!0}function yC(t,e,r){var n=t.stateNode;if(!n)throw Error(Me(169));r?(t=gF(t,e,vu),n.__reactInternalMemoizedMergedChildContext=t,Rr(ts),Rr(Ei),Sr(Ei,t)):Rr(ts),Sr(ts,r)}var Po=null,P0=!1,c1=!1;function mF(t){Po===null?Po=[t]:Po.push(t)}function uR(t){P0=!0,mF(t)}function bl(){if(!c1&&Po!==null){c1=!0;var t=0,e=pr;try{var r=Po;for(pr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Po=null,P0=!1}catch(i){throw Po!==null&&(Po=Po.slice(t+1)),V4(H2,bl),i}finally{pr=e,c1=!1}}return null}var Nc=[],Qc=0,Pm=null,Rm=0,Hs=[],Vs=0,yu=null,ko=1,Do="";function Wl(t,e){Nc[Qc++]=Rm,Nc[Qc++]=Pm,Pm=t,Rm=e}function wF(t,e,r){Hs[Vs++]=ko,Hs[Vs++]=Do,Hs[Vs++]=yu,yu=t;var n=ko;t=Do;var i=32-gA(n)-1;n&=~(1<<i),r+=1;var s=32-gA(e)+i;if(30<s){var A=i-i%5;s=(n&(1<<A)-1).toString(32),n>>=A,i-=A,ko=1<<32-gA(e)+i|r<<i|n,Do=s+t}else ko=1<<s|r<<i|n,Do=t}function X2(t){t.return!==null&&(Wl(t,1),wF(t,1,0))}function Y2(t){for(;t===Pm;)Pm=Nc[--Qc],Nc[Qc]=null,Rm=Nc[--Qc],Nc[Qc]=null;for(;t===yu;)yu=Hs[--Vs],Hs[Vs]=null,Do=Hs[--Vs],Hs[Vs]=null,ko=Hs[--Vs],Hs[Vs]=null}var bs=null,_s=null,Kr=!1,pA=null;function vF(t,e){var r=Ks(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function BC(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bs=t,_s=rl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bs=t,_s=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yu!==null?{id:ko,overflow:Do}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ks(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,bs=t,_s=null,!0):!1;default:return!1}}function Yv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jv(t){if(Kr){var e=_s;if(e){var r=e;if(!BC(t,e)){if(Yv(t))throw Error(Me(418));e=rl(r.nextSibling);var n=bs;e&&BC(t,e)?vF(n,r):(t.flags=t.flags&-4097|2,Kr=!1,bs=t)}}else{if(Yv(t))throw Error(Me(418));t.flags=t.flags&-4097|2,Kr=!1,bs=t}}}function _C(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bs=t}function Zp(t){if(t!==bs)return!1;if(!Kr)return _C(t),Kr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zv(t.type,t.memoizedProps)),e&&(e=_s)){if(Yv(t))throw yF(),Error(Me(418));for(;e;)vF(t,e),e=rl(e.nextSibling)}if(_C(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){_s=rl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}_s=null}}else _s=bs?rl(t.stateNode.nextSibling):null;return!0}function yF(){for(var t=_s;t;)t=rl(t.nextSibling)}function Zc(){_s=bs=null,Kr=!1}function J2(t){pA===null?pA=[t]:pA.push(t)}var cR=na.ReactCurrentBatchConfig;function td(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Me(309));var n=r.stateNode}if(!n)throw Error(Me(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(A){var o=i.refs;A===null?delete o[s]:o[s]=A},e._stringRef=s,e)}if(typeof t!="string")throw Error(Me(284));if(!r._owner)throw Error(Me(290,t))}return t}function eg(t,e){throw t=Object.prototype.toString.call(e),Error(Me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CC(t){var e=t._init;return e(t._payload)}function BF(t){function e(v,E){if(t){var F=v.deletions;F===null?(v.deletions=[E],v.flags|=16):F.push(E)}}function r(v,E){if(!t)return null;for(;E!==null;)e(v,E),E=E.sibling;return null}function n(v,E){for(v=new Map;E!==null;)E.key!==null?v.set(E.key,E):v.set(E.index,E),E=E.sibling;return v}function i(v,E){return v=Al(v,E),v.index=0,v.sibling=null,v}function s(v,E,F){return v.index=F,t?(F=v.alternate,F!==null?(F=F.index,F<E?(v.flags|=2,E):F):(v.flags|=2,E)):(v.flags|=1048576,E)}function A(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,E,F,P){return E===null||E.tag!==6?(E=w1(F,v.mode,P),E.return=v,E):(E=i(E,F),E.return=v,E)}function a(v,E,F,P){var K=F.type;return K===Ic?u(v,E,F.props.children,P,F.key):E!==null&&(E.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===La&&CC(K)===E.type)?(P=i(E,F.props),P.ref=td(v,E,F),P.return=v,P):(P=rm(F.type,F.key,F.props,null,v.mode,P),P.ref=td(v,E,F),P.return=v,P)}function l(v,E,F,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==F.containerInfo||E.stateNode.implementation!==F.implementation?(E=v1(F,v.mode,P),E.return=v,E):(E=i(E,F.children||[]),E.return=v,E)}function u(v,E,F,P,K){return E===null||E.tag!==7?(E=cu(F,v.mode,P,K),E.return=v,E):(E=i(E,F),E.return=v,E)}function d(v,E,F){if(typeof E=="string"&&E!==""||typeof E=="number")return E=w1(""+E,v.mode,F),E.return=v,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case jp:return F=rm(E.type,E.key,E.props,null,v.mode,F),F.ref=td(v,null,E),F.return=v,F;case bc:return E=v1(E,v.mode,F),E.return=v,E;case La:var P=E._init;return d(v,P(E._payload),F)}if(Bd(E)||Xh(E))return E=cu(E,v.mode,F,null),E.return=v,E;eg(v,E)}return null}function g(v,E,F,P){var K=E!==null?E.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return K!==null?null:o(v,E,""+F,P);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case jp:return F.key===K?a(v,E,F,P):null;case bc:return F.key===K?l(v,E,F,P):null;case La:return K=F._init,g(v,E,K(F._payload),P)}if(Bd(F)||Xh(F))return K!==null?null:u(v,E,F,P,null);eg(v,F)}return null}function f(v,E,F,P,K){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(F)||null,o(E,v,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case jp:return v=v.get(P.key===null?F:P.key)||null,a(E,v,P,K);case bc:return v=v.get(P.key===null?F:P.key)||null,l(E,v,P,K);case La:var M=P._init;return f(v,E,F,M(P._payload),K)}if(Bd(P)||Xh(P))return v=v.get(F)||null,u(E,v,P,K,null);eg(E,P)}return null}function _(v,E,F,P){for(var K=null,M=null,Q=E,I=E=0,b=null;Q!==null&&I<F.length;I++){Q.index>I?(b=Q,Q=null):b=Q.sibling;var R=g(v,Q,F[I],P);if(R===null){Q===null&&(Q=b);break}t&&Q&&R.alternate===null&&e(v,Q),E=s(R,E,I),M===null?K=R:M.sibling=R,M=R,Q=b}if(I===F.length)return r(v,Q),Kr&&Wl(v,I),K;if(Q===null){for(;I<F.length;I++)Q=d(v,F[I],P),Q!==null&&(E=s(Q,E,I),M===null?K=Q:M.sibling=Q,M=Q);return Kr&&Wl(v,I),K}for(Q=n(v,Q);I<F.length;I++)b=f(Q,v,I,F[I],P),b!==null&&(t&&b.alternate!==null&&Q.delete(b.key===null?I:b.key),E=s(b,E,I),M===null?K=b:M.sibling=b,M=b);return t&&Q.forEach(function(S){return e(v,S)}),Kr&&Wl(v,I),K}function C(v,E,F,P){var K=Xh(F);if(typeof K!="function")throw Error(Me(150));if(F=K.call(F),F==null)throw Error(Me(151));for(var M=K=null,Q=E,I=E=0,b=null,R=F.next();Q!==null&&!R.done;I++,R=F.next()){Q.index>I?(b=Q,Q=null):b=Q.sibling;var S=g(v,Q,R.value,P);if(S===null){Q===null&&(Q=b);break}t&&Q&&S.alternate===null&&e(v,Q),E=s(S,E,I),M===null?K=S:M.sibling=S,M=S,Q=b}if(R.done)return r(v,Q),Kr&&Wl(v,I),K;if(Q===null){for(;!R.done;I++,R=F.next())R=d(v,R.value,P),R!==null&&(E=s(R,E,I),M===null?K=R:M.sibling=R,M=R);return Kr&&Wl(v,I),K}for(Q=n(v,Q);!R.done;I++,R=F.next())R=f(Q,v,I,R.value,P),R!==null&&(t&&R.alternate!==null&&Q.delete(R.key===null?I:R.key),E=s(R,E,I),M===null?K=R:M.sibling=R,M=R);return t&&Q.forEach(function(U){return e(v,U)}),Kr&&Wl(v,I),K}function x(v,E,F,P){if(typeof F=="object"&&F!==null&&F.type===Ic&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case jp:e:{for(var K=F.key,M=E;M!==null;){if(M.key===K){if(K=F.type,K===Ic){if(M.tag===7){r(v,M.sibling),E=i(M,F.props.children),E.return=v,v=E;break e}}else if(M.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===La&&CC(K)===M.type){r(v,M.sibling),E=i(M,F.props),E.ref=td(v,M,F),E.return=v,v=E;break e}r(v,M);break}else e(v,M);M=M.sibling}F.type===Ic?(E=cu(F.props.children,v.mode,P,F.key),E.return=v,v=E):(P=rm(F.type,F.key,F.props,null,v.mode,P),P.ref=td(v,E,F),P.return=v,v=P)}return A(v);case bc:e:{for(M=F.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===F.containerInfo&&E.stateNode.implementation===F.implementation){r(v,E.sibling),E=i(E,F.children||[]),E.return=v,v=E;break e}else{r(v,E);break}else e(v,E);E=E.sibling}E=v1(F,v.mode,P),E.return=v,v=E}return A(v);case La:return M=F._init,x(v,E,M(F._payload),P)}if(Bd(F))return _(v,E,F,P);if(Xh(F))return C(v,E,F,P);eg(v,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,E!==null&&E.tag===6?(r(v,E.sibling),E=i(E,F),E.return=v,v=E):(r(v,E),E=w1(F,v.mode,P),E.return=v,v=E),A(v)):r(v,E)}return x}var eh=BF(!0),_F=BF(!1),km=El(null),Dm=null,Lc=null,Z2=null;function eB(){Z2=Lc=Dm=null}function tB(t){var e=km.current;Rr(km),t._currentValue=e}function Zv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Kc(t,e){Dm=t,Z2=Lc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ji=!0),t.firstContext=null)}function Xs(t){var e=t._currentValue;if(Z2!==t)if(t={context:t,memoizedValue:e,next:null},Lc===null){if(Dm===null)throw Error(Me(308));Lc=t,Dm.dependencies={lanes:0,firstContext:t}}else Lc=Lc.next=t;return e}var Au=null;function rB(t){Au===null?Au=[t]:Au.push(t)}function CF(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,rB(e)):(r.next=i.next,i.next=r),e.interleaved=r,Xo(t,n)}function Xo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Pa=!1;function nB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function nl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Jt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Xo(t,r)}return i=n.interleaved,i===null?(e.next=e,rB(n)):(e.next=i.next,i.next=e),n.interleaved=e,Xo(t,r)}function Xg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,V2(t,r)}}function EC(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var A={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=A:s=s.next=A,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Om(t,e,r,n){var i=t.updateQueue;Pa=!1;var s=i.firstBaseUpdate,A=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var a=o,l=a.next;a.next=null,A===null?s=l:A.next=l,A=a;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==A&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;A=0,u=l=a=null,o=s;do{var g=o.lane,f=o.eventTime;if((n&g)===g){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,C=o;switch(g=e,f=r,C.tag){case 1:if(_=C.payload,typeof _=="function"){d=_.call(f,d,g);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=C.payload,g=typeof _=="function"?_.call(f,d,g):_,g==null)break e;d=Zr({},d,g);break e;case 2:Pa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else f={eventTime:f,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=f,a=d):u=u.next=f,A|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(u===null&&(a=d),i.baseState=a,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do A|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_u|=A,t.lanes=A,t.memoizedState=d}}function bC(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Me(191,i));i.call(n)}}}var tp={},so=El(tp),Bf=El(tp),_f=El(tp);function ou(t){if(t===tp)throw Error(Me(174));return t}function iB(t,e){switch(Sr(_f,e),Sr(Bf,t),Sr(so,tp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qv(e,t)}Rr(so),Sr(so,e)}function th(){Rr(so),Rr(Bf),Rr(_f)}function bF(t){ou(_f.current);var e=ou(so.current),r=Qv(e,t.type);e!==r&&(Sr(Bf,t),Sr(so,r))}function sB(t){Bf.current===t&&(Rr(so),Rr(Bf))}var Xr=El(0);function Mm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var h1=[];function AB(){for(var t=0;t<h1.length;t++)h1[t]._workInProgressVersionPrimary=null;h1.length=0}var Yg=na.ReactCurrentDispatcher,d1=na.ReactCurrentBatchConfig,Bu=0,Jr=null,Un=null,jn=null,Hm=!1,Vd=!1,Cf=0,hR=0;function di(){throw Error(Me(321))}function oB(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!vA(t[r],e[r]))return!1;return!0}function aB(t,e,r,n,i,s){if(Bu=s,Jr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yg.current=t===null||t.memoizedState===null?gR:mR,t=r(n,i),Vd){s=0;do{if(Vd=!1,Cf=0,25<=s)throw Error(Me(301));s+=1,jn=Un=null,e.updateQueue=null,Yg.current=wR,t=r(n,i)}while(Vd)}if(Yg.current=Vm,e=Un!==null&&Un.next!==null,Bu=0,jn=Un=Jr=null,Hm=!1,e)throw Error(Me(300));return t}function lB(){var t=Cf!==0;return Cf=0,t}function JA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Jr.memoizedState=jn=t:jn=jn.next=t,jn}function Ys(){if(Un===null){var t=Jr.alternate;t=t!==null?t.memoizedState:null}else t=Un.next;var e=jn===null?Jr.memoizedState:jn.next;if(e!==null)jn=e,Un=t;else{if(t===null)throw Error(Me(310));Un=t,t={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},jn===null?Jr.memoizedState=jn=t:jn=jn.next=t}return jn}function Ef(t,e){return typeof e=="function"?e(t):e}function f1(t){var e=Ys(),r=e.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=t;var n=Un,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var A=i.next;i.next=s.next,s.next=A}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=A=null,a=null,l=s;do{var u=l.lane;if((Bu&u)===u)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(o=a=d,A=n):a=a.next=d,Jr.lanes|=u,_u|=u}l=l.next}while(l!==null&&l!==s);a===null?A=n:a.next=o,vA(n,e.memoizedState)||(Ji=!0),e.memoizedState=n,e.baseState=A,e.baseQueue=a,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Jr.lanes|=s,_u|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function p1(t){var e=Ys(),r=e.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var A=i=i.next;do s=t(s,A.action),A=A.next;while(A!==i);vA(s,e.memoizedState)||(Ji=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function IF(){}function xF(t,e){var r=Jr,n=Ys(),i=e(),s=!vA(n.memoizedState,i);if(s&&(n.memoizedState=i,Ji=!0),n=n.queue,uB(TF.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||jn!==null&&jn.memoizedState.tag&1){if(r.flags|=2048,bf(9,SF.bind(null,r,n,i,e),void 0,null),Kn===null)throw Error(Me(349));Bu&30||FF(r,e,i)}return i}function FF(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Jr.updateQueue,e===null?(e={lastEffect:null,stores:null},Jr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function SF(t,e,r,n){e.value=r,e.getSnapshot=n,UF(e)&&NF(t)}function TF(t,e,r){return r(function(){UF(e)&&NF(t)})}function UF(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!vA(t,r)}catch{return!0}}function NF(t){var e=Xo(t,1);e!==null&&mA(e,t,1,-1)}function IC(t){var e=JA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ef,lastRenderedState:t},e.queue=t,t=t.dispatch=pR.bind(null,Jr,t),[e.memoizedState,t]}function bf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Jr.updateQueue,e===null?(e={lastEffect:null,stores:null},Jr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function QF(){return Ys().memoizedState}function Jg(t,e,r,n){var i=JA();Jr.flags|=t,i.memoizedState=bf(1|e,r,void 0,n===void 0?null:n)}function R0(t,e,r,n){var i=Ys();n=n===void 0?null:n;var s=void 0;if(Un!==null){var A=Un.memoizedState;if(s=A.destroy,n!==null&&oB(n,A.deps)){i.memoizedState=bf(e,r,s,n);return}}Jr.flags|=t,i.memoizedState=bf(1|e,r,s,n)}function xC(t,e){return Jg(8390656,8,t,e)}function uB(t,e){return R0(2048,8,t,e)}function LF(t,e){return R0(4,2,t,e)}function PF(t,e){return R0(4,4,t,e)}function RF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kF(t,e,r){return r=r!=null?r.concat([t]):null,R0(4,4,RF.bind(null,e,t),r)}function cB(){}function DF(t,e){var r=Ys();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&oB(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function OF(t,e){var r=Ys();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&oB(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function MF(t,e,r){return Bu&21?(vA(r,e)||(r=G4(),Jr.lanes|=r,_u|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ji=!0),t.memoizedState=r)}function dR(t,e){var r=pr;pr=r!==0&&4>r?r:4,t(!0);var n=d1.transition;d1.transition={};try{t(!1),e()}finally{pr=r,d1.transition=n}}function HF(){return Ys().memoizedState}function fR(t,e,r){var n=sl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},VF(t))jF(e,r);else if(r=CF(t,e,r,n),r!==null){var i=Pi();mA(r,t,n,i),KF(r,e,n)}}function pR(t,e,r){var n=sl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(VF(t))jF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var A=e.lastRenderedState,o=s(A,r);if(i.hasEagerState=!0,i.eagerState=o,vA(o,A)){var a=e.interleaved;a===null?(i.next=i,rB(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}r=CF(t,e,i,n),r!==null&&(i=Pi(),mA(r,t,n,i),KF(r,e,n))}}function VF(t){var e=t.alternate;return t===Jr||e!==null&&e===Jr}function jF(t,e){Vd=Hm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function KF(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,V2(t,r)}}var Vm={readContext:Xs,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useInsertionEffect:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useSyncExternalStore:di,useId:di,unstable_isNewReconciler:!1},gR={readContext:Xs,useCallback:function(t,e){return JA().memoizedState=[t,e===void 0?null:e],t},useContext:Xs,useEffect:xC,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Jg(4194308,4,RF.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Jg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jg(4,2,t,e)},useMemo:function(t,e){var r=JA();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=JA();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fR.bind(null,Jr,t),[n.memoizedState,t]},useRef:function(t){var e=JA();return t={current:t},e.memoizedState=t},useState:IC,useDebugValue:cB,useDeferredValue:function(t){return JA().memoizedState=t},useTransition:function(){var t=IC(!1),e=t[0];return t=dR.bind(null,t[1]),JA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Jr,i=JA();if(Kr){if(r===void 0)throw Error(Me(407));r=r()}else{if(r=e(),Kn===null)throw Error(Me(349));Bu&30||FF(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,xC(TF.bind(null,n,s,t),[t]),n.flags|=2048,bf(9,SF.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=JA(),e=Kn.identifierPrefix;if(Kr){var r=Do,n=ko;r=(n&~(1<<32-gA(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Cf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=hR++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mR={readContext:Xs,useCallback:DF,useContext:Xs,useEffect:uB,useImperativeHandle:kF,useInsertionEffect:LF,useLayoutEffect:PF,useMemo:OF,useReducer:f1,useRef:QF,useState:function(){return f1(Ef)},useDebugValue:cB,useDeferredValue:function(t){var e=Ys();return MF(e,Un.memoizedState,t)},useTransition:function(){var t=f1(Ef)[0],e=Ys().memoizedState;return[t,e]},useMutableSource:IF,useSyncExternalStore:xF,useId:HF,unstable_isNewReconciler:!1},wR={readContext:Xs,useCallback:DF,useContext:Xs,useEffect:uB,useImperativeHandle:kF,useInsertionEffect:LF,useLayoutEffect:PF,useMemo:OF,useReducer:p1,useRef:QF,useState:function(){return p1(Ef)},useDebugValue:cB,useDeferredValue:function(t){var e=Ys();return Un===null?e.memoizedState=t:MF(e,Un.memoizedState,t)},useTransition:function(){var t=p1(Ef)[0],e=Ys().memoizedState;return[t,e]},useMutableSource:IF,useSyncExternalStore:xF,useId:HF,unstable_isNewReconciler:!1};function dA(t,e){if(t&&t.defaultProps){e=Zr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ey(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Zr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var k0={isMounted:function(t){return(t=t._reactInternals)?Ou(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Pi(),i=sl(t),s=jo(n,i);s.payload=e,r!=null&&(s.callback=r),e=nl(t,s,i),e!==null&&(mA(e,t,i,n),Xg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Pi(),i=sl(t),s=jo(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=nl(t,s,i),e!==null&&(mA(e,t,i,n),Xg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pi(),n=sl(t),i=jo(r,n);i.tag=2,e!=null&&(i.callback=e),e=nl(t,i,n),e!==null&&(mA(e,t,n,r),Xg(e,t,n))}};function FC(t,e,r,n,i,s,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,A):e.prototype&&e.prototype.isPureReactComponent?!mf(r,n)||!mf(i,s):!0}function GF(t,e,r){var n=!1,i=ml,s=e.contextType;return typeof s=="object"&&s!==null?s=Xs(s):(i=rs(e)?vu:Ei.current,n=e.contextTypes,s=(n=n!=null)?Jc(t,i):ml),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=k0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function SC(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&k0.enqueueReplaceState(e,e.state,null)}function ty(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},nB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xs(s):(s=rs(e)?vu:Ei.current,i.context=Jc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ey(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&k0.enqueueReplaceState(i,i.state,null),Om(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function rh(t,e){try{var r="",n=e;do r+=qL(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function g1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ry(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var vR=typeof WeakMap=="function"?WeakMap:Map;function qF(t,e,r){r=jo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Km||(Km=!0,hy=n),ry(t,e)},r}function zF(t,e,r){r=jo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ry(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ry(t,e),typeof n!="function"&&(il===null?il=new Set([this]):il.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),r}function TC(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new vR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=QR.bind(null,t,e,r),e.then(t,t))}function UC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function NC(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=jo(-1,1),e.tag=2,nl(r,e,1))),r.lanes|=1),t)}var yR=na.ReactCurrentOwner,Ji=!1;function Qi(t,e,r,n){e.child=t===null?_F(e,null,r,n):eh(e,t.child,r,n)}function QC(t,e,r,n,i){r=r.render;var s=e.ref;return Kc(e,i),n=aB(t,e,r,n,s,i),r=lB(),t!==null&&!Ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yo(t,e,i)):(Kr&&r&&X2(e),e.flags|=1,Qi(t,e,n,i),e.child)}function LC(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!vB(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,WF(t,e,s,n,i)):(t=rm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var A=s.memoizedProps;if(r=r.compare,r=r!==null?r:mf,r(A,n)&&t.ref===e.ref)return Yo(t,e,i)}return e.flags|=1,t=Al(s,n),t.ref=e.ref,t.return=e,e.child=t}function WF(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(mf(s,n)&&t.ref===e.ref)if(Ji=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Ji=!0);else return e.lanes=t.lanes,Yo(t,e,i)}return ny(t,e,r,n,i)}function $F(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Rc,Bs),Bs|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Sr(Rc,Bs),Bs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Sr(Rc,Bs),Bs|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Sr(Rc,Bs),Bs|=n;return Qi(t,e,i,r),e.child}function XF(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ny(t,e,r,n,i){var s=rs(r)?vu:Ei.current;return s=Jc(e,s),Kc(e,i),r=aB(t,e,r,n,s,i),n=lB(),t!==null&&!Ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yo(t,e,i)):(Kr&&n&&X2(e),e.flags|=1,Qi(t,e,r,i),e.child)}function PC(t,e,r,n,i){if(rs(r)){var s=!0;Lm(e)}else s=!1;if(Kc(e,i),e.stateNode===null)Zg(t,e),GF(e,r,n),ty(e,r,n,i),n=!0;else if(t===null){var A=e.stateNode,o=e.memoizedProps;A.props=o;var a=A.context,l=r.contextType;typeof l=="object"&&l!==null?l=Xs(l):(l=rs(r)?vu:Ei.current,l=Jc(e,l));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof A.getSnapshotBeforeUpdate=="function";d||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==n||a!==l)&&SC(e,A,n,l),Pa=!1;var g=e.memoizedState;A.state=g,Om(e,n,A,i),a=e.memoizedState,o!==n||g!==a||ts.current||Pa?(typeof u=="function"&&(ey(e,r,u,n),a=e.memoizedState),(o=Pa||FC(e,r,o,n,g,a,l))?(d||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),A.props=n,A.state=a,A.context=l,n=o):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{A=e.stateNode,EF(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:dA(e.type,o),A.props=l,d=e.pendingProps,g=A.context,a=r.contextType,typeof a=="object"&&a!==null?a=Xs(a):(a=rs(r)?vu:Ei.current,a=Jc(e,a));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==d||g!==a)&&SC(e,A,n,a),Pa=!1,g=e.memoizedState,A.state=g,Om(e,n,A,i);var _=e.memoizedState;o!==d||g!==_||ts.current||Pa?(typeof f=="function"&&(ey(e,r,f,n),_=e.memoizedState),(l=Pa||FC(e,r,l,n,g,_,a)||!1)?(u||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(n,_,a),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(n,_,a)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),A.props=n,A.state=_,A.context=a,n=l):(typeof A.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return iy(t,e,r,n,s,i)}function iy(t,e,r,n,i,s){XF(t,e);var A=(e.flags&128)!==0;if(!n&&!A)return i&&yC(e,r,!1),Yo(t,e,s);n=e.stateNode,yR.current=e;var o=A&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&A?(e.child=eh(e,t.child,null,s),e.child=eh(e,null,o,s)):Qi(t,e,o,s),e.memoizedState=n.state,i&&yC(e,r,!0),e.child}function YF(t){var e=t.stateNode;e.pendingContext?vC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vC(t,e.context,!1),iB(t,e.containerInfo)}function RC(t,e,r,n,i){return Zc(),J2(i),e.flags|=256,Qi(t,e,r,n),e.child}var sy={dehydrated:null,treeContext:null,retryLane:0};function Ay(t){return{baseLanes:t,cachePool:null,transitions:null}}function JF(t,e,r){var n=e.pendingProps,i=Xr.current,s=!1,A=(e.flags&128)!==0,o;if((o=A)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Sr(Xr,i&1),t===null)return Jv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=n.children,t=n.fallback,s?(n=e.mode,s=e.child,A={mode:"hidden",children:A},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=A):s=M0(A,n,0,null),t=cu(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ay(r),e.memoizedState=sy,t):hB(e,A));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return BR(t,e,A,n,o,i,r);if(s){s=n.fallback,A=e.mode,i=t.child,o=i.sibling;var a={mode:"hidden",children:n.children};return!(A&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Al(i,a),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Al(o,s):(s=cu(s,A,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,A=t.child.memoizedState,A=A===null?Ay(r):{baseLanes:A.baseLanes|r,cachePool:null,transitions:A.transitions},s.memoizedState=A,s.childLanes=t.childLanes&~r,e.memoizedState=sy,n}return s=t.child,t=s.sibling,n=Al(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hB(t,e){return e=M0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tg(t,e,r,n){return n!==null&&J2(n),eh(e,t.child,null,r),t=hB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BR(t,e,r,n,i,s,A){if(r)return e.flags&256?(e.flags&=-257,n=g1(Error(Me(422))),tg(t,e,A,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=M0({mode:"visible",children:n.children},i,0,null),s=cu(s,i,A,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&eh(e,t.child,null,A),e.child.memoizedState=Ay(A),e.memoizedState=sy,s);if(!(e.mode&1))return tg(t,e,A,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Me(419)),n=g1(s,n,void 0),tg(t,e,A,n)}if(o=(A&t.childLanes)!==0,Ji||o){if(n=Kn,n!==null){switch(A&-A){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|A)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xo(t,i),mA(n,t,i,-1))}return wB(),n=g1(Error(Me(421))),tg(t,e,A,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_s=rl(i.nextSibling),bs=e,Kr=!0,pA=null,t!==null&&(Hs[Vs++]=ko,Hs[Vs++]=Do,Hs[Vs++]=yu,ko=t.id,Do=t.overflow,yu=e),e=hB(e,n.children),e.flags|=4096,e)}function kC(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zv(t.return,e,r)}function m1(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function ZF(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Qi(t,e,n.children,r),n=Xr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kC(t,r,e);else if(t.tag===19)kC(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Sr(Xr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Mm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),m1(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}m1(e,!0,r,null,s);break;case"together":m1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),_u|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,r=Al(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Al(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _R(t,e,r){switch(e.tag){case 3:YF(e),Zc();break;case 5:bF(e);break;case 1:rs(e.type)&&Lm(e);break;case 4:iB(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Sr(km,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Sr(Xr,Xr.current&1),e.flags|=128,null):r&e.child.childLanes?JF(t,e,r):(Sr(Xr,Xr.current&1),t=Yo(t,e,r),t!==null?t.sibling:null);Sr(Xr,Xr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ZF(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sr(Xr,Xr.current),n)break;return null;case 22:case 23:return e.lanes=0,$F(t,e,r)}return Yo(t,e,r)}var eS,oy,tS,rS;eS=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};oy=function(){};tS=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ou(so.current);var s=null;switch(r){case"input":i=Sv(t,i),n=Sv(t,n),s=[];break;case"select":i=Zr({},i,{value:void 0}),n=Zr({},n,{value:void 0}),s=[];break;case"textarea":i=Nv(t,i),n=Nv(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Nm)}Lv(r,n);var A;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(A in o)o.hasOwnProperty(A)&&(r||(r={}),r[A]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(uf.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var a=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&a!==o&&(a!=null||o!=null))if(l==="style")if(o){for(A in o)!o.hasOwnProperty(A)||a&&a.hasOwnProperty(A)||(r||(r={}),r[A]="");for(A in a)a.hasOwnProperty(A)&&o[A]!==a[A]&&(r||(r={}),r[A]=a[A])}else r||(s||(s=[]),s.push(l,r)),r=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(s=s||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(uf.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&Lr("scroll",t),s||o===a||(s=[])):(s=s||[]).push(l,a))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};rS=function(t,e,r,n){r!==n&&(e.flags|=4)};function rd(t,e){if(!Kr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function CR(t,e,r){var n=e.pendingProps;switch(Y2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(e),null;case 1:return rs(e.type)&&Qm(),fi(e),null;case 3:return n=e.stateNode,th(),Rr(ts),Rr(Ei),AB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Zp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pA!==null&&(py(pA),pA=null))),oy(t,e),fi(e),null;case 5:sB(e);var i=ou(_f.current);if(r=e.type,t!==null&&e.stateNode!=null)tS(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Me(166));return fi(e),null}if(t=ou(so.current),Zp(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ZA]=e,n[yf]=s,t=(e.mode&1)!==0,r){case"dialog":Lr("cancel",n),Lr("close",n);break;case"iframe":case"object":case"embed":Lr("load",n);break;case"video":case"audio":for(i=0;i<Cd.length;i++)Lr(Cd[i],n);break;case"source":Lr("error",n);break;case"img":case"image":case"link":Lr("error",n),Lr("load",n);break;case"details":Lr("toggle",n);break;case"input":q5(n,s),Lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",n);break;case"textarea":W5(n,s),Lr("invalid",n)}Lv(r,s),i=null;for(var A in s)if(s.hasOwnProperty(A)){var o=s[A];A==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Jp(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Jp(n.textContent,o,t),i=["children",""+o]):uf.hasOwnProperty(A)&&o!=null&&A==="onScroll"&&Lr("scroll",n)}switch(r){case"input":Kp(n),z5(n,s,!0);break;case"textarea":Kp(n),$5(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Nm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{A=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=T4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=A.createElement(r,{is:n.is}):(t=A.createElement(r),r==="select"&&(A=t,n.multiple?A.multiple=!0:n.size&&(A.size=n.size))):t=A.createElementNS(t,r),t[ZA]=e,t[yf]=n,eS(t,e,!1,!1),e.stateNode=t;e:{switch(A=Pv(r,n),r){case"dialog":Lr("cancel",t),Lr("close",t),i=n;break;case"iframe":case"object":case"embed":Lr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Cd.length;i++)Lr(Cd[i],t);i=n;break;case"source":Lr("error",t),i=n;break;case"img":case"image":case"link":Lr("error",t),Lr("load",t),i=n;break;case"details":Lr("toggle",t),i=n;break;case"input":q5(t,n),i=Sv(t,n),Lr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Zr({},n,{value:void 0}),Lr("invalid",t);break;case"textarea":W5(t,n),i=Nv(t,n),Lr("invalid",t);break;default:i=n}Lv(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="style"?Q4(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&U4(t,a)):s==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&cf(t,a):typeof a=="number"&&cf(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(uf.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Lr("scroll",t):a!=null&&R2(t,s,a,A))}switch(r){case"input":Kp(t),z5(t,n,!1);break;case"textarea":Kp(t),$5(t);break;case"option":n.value!=null&&t.setAttribute("value",""+gl(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Mc(t,!!n.multiple,s,!1):n.defaultValue!=null&&Mc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fi(e),null;case 6:if(t&&e.stateNode!=null)rS(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Me(166));if(r=ou(_f.current),ou(so.current),Zp(e)){if(n=e.stateNode,r=e.memoizedProps,n[ZA]=e,(s=n.nodeValue!==r)&&(t=bs,t!==null))switch(t.tag){case 3:Jp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jp(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ZA]=e,e.stateNode=n}return fi(e),null;case 13:if(Rr(Xr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kr&&_s!==null&&e.mode&1&&!(e.flags&128))yF(),Zc(),e.flags|=98560,s=!1;else if(s=Zp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[ZA]=e}else Zc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fi(e),s=!1}else pA!==null&&(py(pA),pA=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Xr.current&1?Ln===0&&(Ln=3):wB())),e.updateQueue!==null&&(e.flags|=4),fi(e),null);case 4:return th(),oy(t,e),t===null&&wf(e.stateNode.containerInfo),fi(e),null;case 10:return tB(e.type._context),fi(e),null;case 17:return rs(e.type)&&Qm(),fi(e),null;case 19:if(Rr(Xr),s=e.memoizedState,s===null)return fi(e),null;if(n=(e.flags&128)!==0,A=s.rendering,A===null)if(n)rd(s,!1);else{if(Ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=Mm(t),A!==null){for(e.flags|=128,rd(s,!1),n=A.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,A=s.alternate,A===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=A.childLanes,s.lanes=A.lanes,s.child=A.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=A.memoizedProps,s.memoizedState=A.memoizedState,s.updateQueue=A.updateQueue,s.type=A.type,t=A.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Sr(Xr,Xr.current&1|2),e.child}t=t.sibling}s.tail!==null&&mn()>nh&&(e.flags|=128,n=!0,rd(s,!1),e.lanes=4194304)}else{if(!n)if(t=Mm(A),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),rd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!A.alternate&&!Kr)return fi(e),null}else 2*mn()-s.renderingStartTime>nh&&r!==1073741824&&(e.flags|=128,n=!0,rd(s,!1),e.lanes=4194304);s.isBackwards?(A.sibling=e.child,e.child=A):(r=s.last,r!==null?r.sibling=A:e.child=A,s.last=A)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mn(),e.sibling=null,r=Xr.current,Sr(Xr,n?r&1|2:r&1),e):(fi(e),null);case 22:case 23:return mB(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Bs&1073741824&&(fi(e),e.subtreeFlags&6&&(e.flags|=8192)):fi(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function ER(t,e){switch(Y2(e),e.tag){case 1:return rs(e.type)&&Qm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return th(),Rr(ts),Rr(Ei),AB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sB(e),null;case 13:if(Rr(Xr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));Zc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rr(Xr),null;case 4:return th(),null;case 10:return tB(e.type._context),null;case 22:case 23:return mB(),null;case 24:return null;default:return null}}var rg=!1,Ci=!1,bR=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Pc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sn(t,e,n)}else r.current=null}function ay(t,e,r){try{r()}catch(n){sn(t,e,n)}}var DC=!1;function IR(t,e){if(Gv=Sm,t=oF(),$2(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var A=0,o=-1,a=-1,l=0,u=0,d=t,g=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(o=A+i),d!==s||n!==0&&d.nodeType!==3||(a=A+n),d.nodeType===3&&(A+=d.nodeValue.length),(f=d.firstChild)!==null;)g=d,d=f;for(;;){if(d===t)break t;if(g===r&&++l===i&&(o=A),g===s&&++u===n&&(a=A),(f=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=f}r=o===-1||a===-1?null:{start:o,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(qv={focusedElem:t,selectionRange:r},Sm=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){e=Je;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var C=_.memoizedProps,x=_.memoizedState,v=e.stateNode,E=v.getSnapshotBeforeUpdate(e.elementType===e.type?C:dA(e.type,C),x);v.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var F=e.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(P){sn(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}return _=DC,DC=!1,_}function jd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ay(e,r,s)}i=i.next}while(i!==n)}}function D0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ly(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function nS(t){var e=t.alternate;e!==null&&(t.alternate=null,nS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ZA],delete e[yf],delete e[$v],delete e[aR],delete e[lR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iS(t){return t.tag===5||t.tag===3||t.tag===4}function OC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Nm));else if(n!==4&&(t=t.child,t!==null))for(uy(t,e,r),t=t.sibling;t!==null;)uy(t,e,r),t=t.sibling}function cy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(cy(t,e,r),t=t.sibling;t!==null;)cy(t,e,r),t=t.sibling}var Jn=null,fA=!1;function ba(t,e,r){for(r=r.child;r!==null;)sS(t,e,r),r=r.sibling}function sS(t,e,r){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(T0,r)}catch{}switch(r.tag){case 5:Ci||Pc(r,e);case 6:var n=Jn,i=fA;Jn=null,ba(t,e,r),Jn=n,fA=i,Jn!==null&&(fA?(t=Jn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Jn.removeChild(r.stateNode));break;case 18:Jn!==null&&(fA?(t=Jn,r=r.stateNode,t.nodeType===8?u1(t.parentNode,r):t.nodeType===1&&u1(t,r),pf(t)):u1(Jn,r.stateNode));break;case 4:n=Jn,i=fA,Jn=r.stateNode.containerInfo,fA=!0,ba(t,e,r),Jn=n,fA=i;break;case 0:case 11:case 14:case 15:if(!Ci&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,A=s.destroy;s=s.tag,A!==void 0&&(s&2||s&4)&&ay(r,e,A),i=i.next}while(i!==n)}ba(t,e,r);break;case 1:if(!Ci&&(Pc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){sn(r,e,o)}ba(t,e,r);break;case 21:ba(t,e,r);break;case 22:r.mode&1?(Ci=(n=Ci)||r.memoizedState!==null,ba(t,e,r),Ci=n):ba(t,e,r);break;default:ba(t,e,r)}}function MC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new bR),e.forEach(function(n){var i=PR.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function uA(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,A=e,o=A;e:for(;o!==null;){switch(o.tag){case 5:Jn=o.stateNode,fA=!1;break e;case 3:Jn=o.stateNode.containerInfo,fA=!0;break e;case 4:Jn=o.stateNode.containerInfo,fA=!0;break e}o=o.return}if(Jn===null)throw Error(Me(160));sS(s,A,i),Jn=null,fA=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(l){sn(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AS(e,t),e=e.sibling}function AS(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(uA(e,t),WA(t),n&4){try{jd(3,t,t.return),D0(3,t)}catch(C){sn(t,t.return,C)}try{jd(5,t,t.return)}catch(C){sn(t,t.return,C)}}break;case 1:uA(e,t),WA(t),n&512&&r!==null&&Pc(r,r.return);break;case 5:if(uA(e,t),WA(t),n&512&&r!==null&&Pc(r,r.return),t.flags&32){var i=t.stateNode;try{cf(i,"")}catch(C){sn(t,t.return,C)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,A=r!==null?r.memoizedProps:s,o=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&F4(i,s),Pv(o,A);var l=Pv(o,s);for(A=0;A<a.length;A+=2){var u=a[A],d=a[A+1];u==="style"?Q4(i,d):u==="dangerouslySetInnerHTML"?U4(i,d):u==="children"?cf(i,d):R2(i,u,d,l)}switch(o){case"input":Tv(i,s);break;case"textarea":S4(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Mc(i,!!s.multiple,f,!1):g!==!!s.multiple&&(s.defaultValue!=null?Mc(i,!!s.multiple,s.defaultValue,!0):Mc(i,!!s.multiple,s.multiple?[]:"",!1))}i[yf]=s}catch(C){sn(t,t.return,C)}}break;case 6:if(uA(e,t),WA(t),n&4){if(t.stateNode===null)throw Error(Me(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){sn(t,t.return,C)}}break;case 3:if(uA(e,t),WA(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pf(e.containerInfo)}catch(C){sn(t,t.return,C)}break;case 4:uA(e,t),WA(t);break;case 13:uA(e,t),WA(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pB=mn())),n&4&&MC(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ci=(l=Ci)||u,uA(e,t),Ci=l):uA(e,t),WA(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(Je=t,u=t.child;u!==null;){for(d=Je=u;Je!==null;){switch(g=Je,f=g.child,g.tag){case 0:case 11:case 14:case 15:jd(4,g,g.return);break;case 1:Pc(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(C){sn(n,r,C)}}break;case 5:Pc(g,g.return);break;case 22:if(g.memoizedState!==null){VC(d);continue}}f!==null?(f.return=g,Je=f):VC(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,a=d.memoizedProps.style,A=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=N4("display",A))}catch(C){sn(t,t.return,C)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(C){sn(t,t.return,C)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:uA(e,t),WA(t),n&4&&MC(t);break;case 21:break;default:uA(e,t),WA(t)}}function WA(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(iS(r)){var n=r;break e}r=r.return}throw Error(Me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(cf(i,""),n.flags&=-33);var s=OC(t);cy(t,s,i);break;case 3:case 4:var A=n.stateNode.containerInfo,o=OC(t);uy(t,o,A);break;default:throw Error(Me(161))}}catch(a){sn(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xR(t,e,r){Je=t,oS(t)}function oS(t,e,r){for(var n=(t.mode&1)!==0;Je!==null;){var i=Je,s=i.child;if(i.tag===22&&n){var A=i.memoizedState!==null||rg;if(!A){var o=i.alternate,a=o!==null&&o.memoizedState!==null||Ci;o=rg;var l=Ci;if(rg=A,(Ci=a)&&!l)for(Je=i;Je!==null;)A=Je,a=A.child,A.tag===22&&A.memoizedState!==null?jC(i):a!==null?(a.return=A,Je=a):jC(i);for(;s!==null;)Je=s,oS(s),s=s.sibling;Je=i,rg=o,Ci=l}HC(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Je=s):HC(t)}}function HC(t){for(;Je!==null;){var e=Je;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ci||D0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ci)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:dA(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bC(e,s,n);break;case 3:var A=e.updateQueue;if(A!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}bC(e,A,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&pf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Ci||e.flags&512&&ly(e)}catch(g){sn(e,e.return,g)}}if(e===t){Je=null;break}if(r=e.sibling,r!==null){r.return=e.return,Je=r;break}Je=e.return}}function VC(t){for(;Je!==null;){var e=Je;if(e===t){Je=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Je=r;break}Je=e.return}}function jC(t){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{D0(4,e)}catch(a){sn(e,r,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(a){sn(e,i,a)}}var s=e.return;try{ly(e)}catch(a){sn(e,s,a)}break;case 5:var A=e.return;try{ly(e)}catch(a){sn(e,A,a)}}}catch(a){sn(e,e.return,a)}if(e===t){Je=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Je=o;break}Je=e.return}}var FR=Math.ceil,jm=na.ReactCurrentDispatcher,dB=na.ReactCurrentOwner,Ws=na.ReactCurrentBatchConfig,Jt=0,Kn=null,In=null,ii=0,Bs=0,Rc=El(0),Ln=0,If=null,_u=0,O0=0,fB=0,Kd=null,Yi=null,pB=0,nh=1/0,Lo=null,Km=!1,hy=null,il=null,ng=!1,za=null,Gm=0,Gd=0,dy=null,em=-1,tm=0;function Pi(){return Jt&6?mn():em!==-1?em:em=mn()}function sl(t){return t.mode&1?Jt&2&&ii!==0?ii&-ii:cR.transition!==null?(tm===0&&(tm=G4()),tm):(t=pr,t!==0||(t=window.event,t=t===void 0?16:J4(t.type)),t):1}function mA(t,e,r,n){if(50<Gd)throw Gd=0,dy=null,Error(Me(185));Jf(t,r,n),(!(Jt&2)||t!==Kn)&&(t===Kn&&(!(Jt&2)&&(O0|=r),Ln===4&&Da(t,ii)),ns(t,n),r===1&&Jt===0&&!(e.mode&1)&&(nh=mn()+500,P0&&bl()))}function ns(t,e){var r=t.callbackNode;cP(t,e);var n=Fm(t,t===Kn?ii:0);if(n===0)r!==null&&J5(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&J5(r),e===1)t.tag===0?uR(KC.bind(null,t)):mF(KC.bind(null,t)),AR(function(){!(Jt&6)&&bl()}),r=null;else{switch(q4(n)){case 1:r=H2;break;case 4:r=j4;break;case 16:r=xm;break;case 536870912:r=K4;break;default:r=xm}r=pS(r,aS.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function aS(t,e){if(em=-1,tm=0,Jt&6)throw Error(Me(327));var r=t.callbackNode;if(Gc()&&t.callbackNode!==r)return null;var n=Fm(t,t===Kn?ii:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=qm(t,n);else{e=n;var i=Jt;Jt|=2;var s=uS();(Kn!==t||ii!==e)&&(Lo=null,nh=mn()+500,uu(t,e));do try{UR();break}catch(o){lS(t,o)}while(!0);eB(),jm.current=s,Jt=i,In!==null?e=0:(Kn=null,ii=0,e=Ln)}if(e!==0){if(e===2&&(i=Mv(t),i!==0&&(n=i,e=fy(t,i))),e===1)throw r=If,uu(t,0),Da(t,n),ns(t,mn()),r;if(e===6)Da(t,n);else{if(i=t.current.alternate,!(n&30)&&!SR(i)&&(e=qm(t,n),e===2&&(s=Mv(t),s!==0&&(n=s,e=fy(t,s))),e===1))throw r=If,uu(t,0),Da(t,n),ns(t,mn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Me(345));case 2:$l(t,Yi,Lo);break;case 3:if(Da(t,n),(n&130023424)===n&&(e=pB+500-mn(),10<e)){if(Fm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Pi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wv($l.bind(null,t,Yi,Lo),e);break}$l(t,Yi,Lo);break;case 4:if(Da(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var A=31-gA(n);s=1<<A,A=e[A],A>i&&(i=A),n&=~s}if(n=i,n=mn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*FR(n/1960))-n,10<n){t.timeoutHandle=Wv($l.bind(null,t,Yi,Lo),n);break}$l(t,Yi,Lo);break;case 5:$l(t,Yi,Lo);break;default:throw Error(Me(329))}}}return ns(t,mn()),t.callbackNode===r?aS.bind(null,t):null}function fy(t,e){var r=Kd;return t.current.memoizedState.isDehydrated&&(uu(t,e).flags|=256),t=qm(t,e),t!==2&&(e=Yi,Yi=r,e!==null&&py(e)),t}function py(t){Yi===null?Yi=t:Yi.push.apply(Yi,t)}function SR(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!vA(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e){for(e&=~fB,e&=~O0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gA(e),n=1<<r;t[r]=-1,e&=~n}}function KC(t){if(Jt&6)throw Error(Me(327));Gc();var e=Fm(t,0);if(!(e&1))return ns(t,mn()),null;var r=qm(t,e);if(t.tag!==0&&r===2){var n=Mv(t);n!==0&&(e=n,r=fy(t,n))}if(r===1)throw r=If,uu(t,0),Da(t,e),ns(t,mn()),r;if(r===6)throw Error(Me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$l(t,Yi,Lo),ns(t,mn()),null}function gB(t,e){var r=Jt;Jt|=1;try{return t(e)}finally{Jt=r,Jt===0&&(nh=mn()+500,P0&&bl())}}function Cu(t){za!==null&&za.tag===0&&!(Jt&6)&&Gc();var e=Jt;Jt|=1;var r=Ws.transition,n=pr;try{if(Ws.transition=null,pr=1,t)return t()}finally{pr=n,Ws.transition=r,Jt=e,!(Jt&6)&&bl()}}function mB(){Bs=Rc.current,Rr(Rc)}function uu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,sR(r)),In!==null)for(r=In.return;r!==null;){var n=r;switch(Y2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qm();break;case 3:th(),Rr(ts),Rr(Ei),AB();break;case 5:sB(n);break;case 4:th();break;case 13:Rr(Xr);break;case 19:Rr(Xr);break;case 10:tB(n.type._context);break;case 22:case 23:mB()}r=r.return}if(Kn=t,In=t=Al(t.current,null),ii=Bs=e,Ln=0,If=null,fB=O0=_u=0,Yi=Kd=null,Au!==null){for(e=0;e<Au.length;e++)if(r=Au[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var A=s.next;s.next=i,n.next=A}r.pending=n}Au=null}return t}function lS(t,e){do{var r=In;try{if(eB(),Yg.current=Vm,Hm){for(var n=Jr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Hm=!1}if(Bu=0,jn=Un=Jr=null,Vd=!1,Cf=0,dB.current=null,r===null||r.return===null){Ln=1,If=e,In=null;break}e:{var s=t,A=r.return,o=r,a=e;if(e=ii,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=UC(A);if(f!==null){f.flags&=-257,NC(f,A,o,s,e),f.mode&1&&TC(s,l,e),e=f,a=l;var _=e.updateQueue;if(_===null){var C=new Set;C.add(a),e.updateQueue=C}else _.add(a);break e}else{if(!(e&1)){TC(s,l,e),wB();break e}a=Error(Me(426))}}else if(Kr&&o.mode&1){var x=UC(A);if(x!==null){!(x.flags&65536)&&(x.flags|=256),NC(x,A,o,s,e),J2(rh(a,o));break e}}s=a=rh(a,o),Ln!==4&&(Ln=2),Kd===null?Kd=[s]:Kd.push(s),s=A;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=qF(s,a,e);EC(s,v);break e;case 1:o=a;var E=s.type,F=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(il===null||!il.has(F)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=zF(s,o,e);EC(s,P);break e}}s=s.return}while(s!==null)}hS(r)}catch(K){e=K,In===r&&r!==null&&(In=r=r.return);continue}break}while(!0)}function uS(){var t=jm.current;return jm.current=Vm,t===null?Vm:t}function wB(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Kn===null||!(_u&268435455)&&!(O0&268435455)||Da(Kn,ii)}function qm(t,e){var r=Jt;Jt|=2;var n=uS();(Kn!==t||ii!==e)&&(Lo=null,uu(t,e));do try{TR();break}catch(i){lS(t,i)}while(!0);if(eB(),Jt=r,jm.current=n,In!==null)throw Error(Me(261));return Kn=null,ii=0,Ln}function TR(){for(;In!==null;)cS(In)}function UR(){for(;In!==null&&!rP();)cS(In)}function cS(t){var e=fS(t.alternate,t,Bs);t.memoizedProps=t.pendingProps,e===null?hS(t):In=e,dB.current=null}function hS(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ER(r,e),r!==null){r.flags&=32767,In=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ln=6,In=null;return}}else if(r=CR(r,e,Bs),r!==null){In=r;return}if(e=e.sibling,e!==null){In=e;return}In=e=t}while(e!==null);Ln===0&&(Ln=5)}function $l(t,e,r){var n=pr,i=Ws.transition;try{Ws.transition=null,pr=1,NR(t,e,r,n)}finally{Ws.transition=i,pr=n}return null}function NR(t,e,r,n){do Gc();while(za!==null);if(Jt&6)throw Error(Me(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Me(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(hP(t,s),t===Kn&&(In=Kn=null,ii=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ng||(ng=!0,pS(xm,function(){return Gc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ws.transition,Ws.transition=null;var A=pr;pr=1;var o=Jt;Jt|=4,dB.current=null,IR(t,r),AS(r,t),JP(qv),Sm=!!Gv,qv=Gv=null,t.current=r,xR(r),nP(),Jt=o,pr=A,Ws.transition=s}else t.current=r;if(ng&&(ng=!1,za=t,Gm=i),s=t.pendingLanes,s===0&&(il=null),AP(r.stateNode),ns(t,mn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Km)throw Km=!1,t=hy,hy=null,t;return Gm&1&&t.tag!==0&&Gc(),s=t.pendingLanes,s&1?t===dy?Gd++:(Gd=0,dy=t):Gd=0,bl(),null}function Gc(){if(za!==null){var t=q4(Gm),e=Ws.transition,r=pr;try{if(Ws.transition=null,pr=16>t?16:t,za===null)var n=!1;else{if(t=za,za=null,Gm=0,Jt&6)throw Error(Me(331));var i=Jt;for(Jt|=4,Je=t.current;Je!==null;){var s=Je,A=s.child;if(Je.flags&16){var o=s.deletions;if(o!==null){for(var a=0;a<o.length;a++){var l=o[a];for(Je=l;Je!==null;){var u=Je;switch(u.tag){case 0:case 11:case 15:jd(8,u,s)}var d=u.child;if(d!==null)d.return=u,Je=d;else for(;Je!==null;){u=Je;var g=u.sibling,f=u.return;if(nS(u),u===l){Je=null;break}if(g!==null){g.return=f,Je=g;break}Je=f}}}var _=s.alternate;if(_!==null){var C=_.child;if(C!==null){_.child=null;do{var x=C.sibling;C.sibling=null,C=x}while(C!==null)}}Je=s}}if(s.subtreeFlags&2064&&A!==null)A.return=s,Je=A;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Je=v;break e}Je=s.return}}var E=t.current;for(Je=E;Je!==null;){A=Je;var F=A.child;if(A.subtreeFlags&2064&&F!==null)F.return=A,Je=F;else e:for(A=E;Je!==null;){if(o=Je,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:D0(9,o)}}catch(K){sn(o,o.return,K)}if(o===A){Je=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,Je=P;break e}Je=o.return}}if(Jt=i,bl(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(T0,t)}catch{}n=!0}return n}finally{pr=r,Ws.transition=e}}return!1}function GC(t,e,r){e=rh(r,e),e=qF(t,e,1),t=nl(t,e,1),e=Pi(),t!==null&&(Jf(t,1,e),ns(t,e))}function sn(t,e,r){if(t.tag===3)GC(t,t,r);else for(;e!==null;){if(e.tag===3){GC(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(il===null||!il.has(n))){t=rh(r,t),t=zF(e,t,1),e=nl(e,t,1),t=Pi(),e!==null&&(Jf(e,1,t),ns(e,t));break}}e=e.return}}function QR(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Pi(),t.pingedLanes|=t.suspendedLanes&r,Kn===t&&(ii&r)===r&&(Ln===4||Ln===3&&(ii&130023424)===ii&&500>mn()-pB?uu(t,0):fB|=r),ns(t,e)}function dS(t,e){e===0&&(t.mode&1?(e=zp,zp<<=1,!(zp&130023424)&&(zp=4194304)):e=1);var r=Pi();t=Xo(t,e),t!==null&&(Jf(t,e,r),ns(t,r))}function LR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),dS(t,r)}function PR(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Me(314))}n!==null&&n.delete(e),dS(t,r)}var fS;fS=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ts.current)Ji=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ji=!1,_R(t,e,r);Ji=!!(t.flags&131072)}else Ji=!1,Kr&&e.flags&1048576&&wF(e,Rm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Zg(t,e),t=e.pendingProps;var i=Jc(e,Ei.current);Kc(e,r),i=aB(null,e,n,t,i,r);var s=lB();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rs(n)?(s=!0,Lm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nB(e),i.updater=k0,e.stateNode=i,i._reactInternals=e,ty(e,n,t,r),e=iy(null,e,n,!0,s,r)):(e.tag=0,Kr&&s&&X2(e),Qi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Zg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=kR(n),t=dA(n,t),i){case 0:e=ny(null,e,n,t,r);break e;case 1:e=PC(null,e,n,t,r);break e;case 11:e=QC(null,e,n,t,r);break e;case 14:e=LC(null,e,n,dA(n.type,t),r);break e}throw Error(Me(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dA(n,i),ny(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dA(n,i),PC(t,e,n,i,r);case 3:e:{if(YF(e),t===null)throw Error(Me(387));n=e.pendingProps,s=e.memoizedState,i=s.element,EF(t,e),Om(e,n,null,r);var A=e.memoizedState;if(n=A.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=rh(Error(Me(423)),e),e=RC(t,e,n,r,i);break e}else if(n!==i){i=rh(Error(Me(424)),e),e=RC(t,e,n,r,i);break e}else for(_s=rl(e.stateNode.containerInfo.firstChild),bs=e,Kr=!0,pA=null,r=_F(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zc(),n===i){e=Yo(t,e,r);break e}Qi(t,e,n,r)}e=e.child}return e;case 5:return bF(e),t===null&&Jv(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,A=i.children,zv(n,i)?A=null:s!==null&&zv(n,s)&&(e.flags|=32),XF(t,e),Qi(t,e,A,r),e.child;case 6:return t===null&&Jv(e),null;case 13:return JF(t,e,r);case 4:return iB(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=eh(e,null,n,r):Qi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dA(n,i),QC(t,e,n,i,r);case 7:return Qi(t,e,e.pendingProps,r),e.child;case 8:return Qi(t,e,e.pendingProps.children,r),e.child;case 12:return Qi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,A=i.value,Sr(km,n._currentValue),n._currentValue=A,s!==null)if(vA(s.value,A)){if(s.children===i.children&&!ts.current){e=Yo(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){A=s.child;for(var a=o.firstContext;a!==null;){if(a.context===n){if(s.tag===1){a=jo(-1,r&-r),a.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?a.next=a:(a.next=u.next,u.next=a),l.pending=a}}s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),Zv(s.return,r,e),o.lanes|=r;break}a=a.next}}else if(s.tag===10)A=s.type===e.type?null:s.child;else if(s.tag===18){if(A=s.return,A===null)throw Error(Me(341));A.lanes|=r,o=A.alternate,o!==null&&(o.lanes|=r),Zv(A,r,e),A=s.sibling}else A=s.child;if(A!==null)A.return=s;else for(A=s;A!==null;){if(A===e){A=null;break}if(s=A.sibling,s!==null){s.return=A.return,A=s;break}A=A.return}s=A}Qi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Kc(e,r),i=Xs(i),n=n(i),e.flags|=1,Qi(t,e,n,r),e.child;case 14:return n=e.type,i=dA(n,e.pendingProps),i=dA(n.type,i),LC(t,e,n,i,r);case 15:return WF(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dA(n,i),Zg(t,e),e.tag=1,rs(n)?(t=!0,Lm(e)):t=!1,Kc(e,r),GF(e,n,i),ty(e,n,i,r),iy(null,e,n,!0,t,r);case 19:return ZF(t,e,r);case 22:return $F(t,e,r)}throw Error(Me(156,e.tag))};function pS(t,e){return V4(t,e)}function RR(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(t,e,r,n){return new RR(t,e,r,n)}function vB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kR(t){if(typeof t=="function")return vB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===D2)return 11;if(t===O2)return 14}return 2}function Al(t,e){var r=t.alternate;return r===null?(r=Ks(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function rm(t,e,r,n,i,s){var A=2;if(n=t,typeof t=="function")vB(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case Ic:return cu(r.children,i,s,e);case k2:A=8,i|=8;break;case bv:return t=Ks(12,r,e,i|2),t.elementType=bv,t.lanes=s,t;case Iv:return t=Ks(13,r,e,i),t.elementType=Iv,t.lanes=s,t;case xv:return t=Ks(19,r,e,i),t.elementType=xv,t.lanes=s,t;case b4:return M0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C4:A=10;break e;case E4:A=9;break e;case D2:A=11;break e;case O2:A=14;break e;case La:A=16,n=null;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=Ks(A,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function cu(t,e,r,n){return t=Ks(7,t,n,e),t.lanes=r,t}function M0(t,e,r,n){return t=Ks(22,t,n,e),t.elementType=b4,t.lanes=r,t.stateNode={isHidden:!1},t}function w1(t,e,r){return t=Ks(6,t,null,e),t.lanes=r,t}function v1(t,e,r){return e=Ks(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DR(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zw(0),this.expirationTimes=Zw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yB(t,e,r,n,i,s,A,o,a){return t=new DR(t,e,r,o,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ks(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nB(s),t}function OR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function gS(t){if(!t)return ml;t=t._reactInternals;e:{if(Ou(t)!==t||t.tag!==1)throw Error(Me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(t.tag===1){var r=t.type;if(rs(r))return gF(t,r,e)}return e}function mS(t,e,r,n,i,s,A,o,a){return t=yB(r,n,!0,t,i,s,A,o,a),t.context=gS(null),r=t.current,n=Pi(),i=sl(r),s=jo(n,i),s.callback=e??null,nl(r,s,i),t.current.lanes=i,Jf(t,i,n),ns(t,n),t}function H0(t,e,r,n){var i=e.current,s=Pi(),A=sl(i);return r=gS(r),e.context===null?e.context=r:e.pendingContext=r,e=jo(s,A),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=nl(i,e,A),t!==null&&(mA(t,i,A,s),Xg(t,i,A)),A}function zm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function BB(t,e){qC(t,e),(t=t.alternate)&&qC(t,e)}function MR(){return null}var wS=typeof reportError=="function"?reportError:function(t){console.error(t)};function _B(t){this._internalRoot=t}V0.prototype.render=_B.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Me(409));H0(t,e,null,null)};V0.prototype.unmount=_B.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cu(function(){H0(null,t,null,null)}),e[$o]=null}};function V0(t){this._internalRoot=t}V0.prototype.unstable_scheduleHydration=function(t){if(t){var e=$4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ka.length&&e!==0&&e<ka[r].priority;r++);ka.splice(r,0,t),r===0&&Y4(t)}};function CB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function j0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zC(){}function HR(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=zm(A);s.call(l)}}var A=mS(e,n,t,0,null,!1,!1,"",zC);return t._reactRootContainer=A,t[$o]=A.current,wf(t.nodeType===8?t.parentNode:t),Cu(),A}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var l=zm(a);o.call(l)}}var a=yB(t,0,!1,null,null,!1,!1,"",zC);return t._reactRootContainer=a,t[$o]=a.current,wf(t.nodeType===8?t.parentNode:t),Cu(function(){H0(e,a,r,n)}),a}function K0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var A=s;if(typeof i=="function"){var o=i;i=function(){var a=zm(A);o.call(a)}}H0(e,A,t,i)}else A=HR(r,e,t,i,n);return zm(A)}z4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=_d(e.pendingLanes);r!==0&&(V2(e,r|1),ns(e,mn()),!(Jt&6)&&(nh=mn()+500,bl()))}break;case 13:Cu(function(){var n=Xo(t,1);if(n!==null){var i=Pi();mA(n,t,1,i)}}),BB(t,1)}};j2=function(t){if(t.tag===13){var e=Xo(t,134217728);if(e!==null){var r=Pi();mA(e,t,134217728,r)}BB(t,134217728)}};W4=function(t){if(t.tag===13){var e=sl(t),r=Xo(t,e);if(r!==null){var n=Pi();mA(r,t,e,n)}BB(t,e)}};$4=function(){return pr};X4=function(t,e){var r=pr;try{return pr=t,e()}finally{pr=r}};kv=function(t,e,r){switch(e){case"input":if(Tv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=L0(n);if(!i)throw Error(Me(90));x4(n),Tv(n,i)}}}break;case"textarea":S4(t,r);break;case"select":e=r.value,e!=null&&Mc(t,!!r.multiple,e,!1)}};R4=gB;k4=Cu;var VR={usingClientEntryPoint:!1,Events:[ep,Tc,L0,L4,P4,gB]},nd={findFiberByHostInstance:su,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jR={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:na.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M4(t),t===null?null:t.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||MR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ig.isDisabled&&ig.supportsFiber)try{T0=ig.inject(jR),io=ig}catch{}}Fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VR;Fs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CB(e))throw Error(Me(200));return OR(t,e,null,r)};Fs.createRoot=function(t,e){if(!CB(t))throw Error(Me(299));var r=!1,n="",i=wS;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yB(t,1,!1,null,null,r,!1,n,i),t[$o]=e.current,wf(t.nodeType===8?t.parentNode:t),new _B(e)};Fs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):(t=Object.keys(t).join(","),Error(Me(268,t)));return t=M4(e),t=t===null?null:t.stateNode,t};Fs.flushSync=function(t){return Cu(t)};Fs.hydrate=function(t,e,r){if(!j0(e))throw Error(Me(200));return K0(null,t,e,!0,r)};Fs.hydrateRoot=function(t,e,r){if(!CB(t))throw Error(Me(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",A=wS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),e=mS(e,null,t,1,r??null,i,!1,s,A),t[$o]=e.current,wf(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new V0(e)};Fs.render=function(t,e,r){if(!j0(e))throw Error(Me(200));return K0(null,t,e,!1,r)};Fs.unmountComponentAtNode=function(t){if(!j0(t))throw Error(Me(40));return t._reactRootContainer?(Cu(function(){K0(null,null,t,!1,function(){t._reactRootContainer=null,t[$o]=null})}),!0):!1};Fs.unstable_batchedUpdates=gB;Fs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!j0(r))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return K0(t,e,r,!1,n)};Fs.version="18.3.1-next-f1338f8080-20240426";function vS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vS)}catch(t){console.error(t)}}vS(),v4.exports=Fs;var KR=v4.exports,WC=KR;Cv.createRoot=WC.createRoot,Cv.hydrateRoot=WC.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $C="popstate";function GR(t={}){function e(n,i){let{pathname:s,search:A,hash:o}=n.location;return gy("",{pathname:s,search:A,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:xf(i)}return zR(e,r,null,t)}function zr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qR(){return Math.random().toString(36).substring(2,10)}function XC(t,e){return{usr:t.state,key:t.key,idx:e}}function gy(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wh(e):e,state:r,key:e&&e.key||n||qR()}}function xf({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function zR(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,A=i.history,o="POP",a=null,l=u();l==null&&(l=0,A.replaceState({...A.state,idx:l},""));function u(){return(A.state||{idx:null}).idx}function d(){o="POP";let x=u(),v=x==null?null:x-l;l=x,a&&a({action:o,location:C.location,delta:v})}function g(x,v){o="PUSH";let E=gy(C.location,x,v);l=u()+1;let F=XC(E,l),P=C.createHref(E);try{A.pushState(F,"",P)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(P)}s&&a&&a({action:o,location:C.location,delta:1})}function f(x,v){o="REPLACE";let E=gy(C.location,x,v);l=u();let F=XC(E,l),P=C.createHref(E);A.replaceState(F,"",P),s&&a&&a({action:o,location:C.location,delta:0})}function _(x){return WR(x)}let C={get action(){return o},get location(){return t(i,A)},listen(x){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener($C,d),a=x,()=>{i.removeEventListener($C,d),a=null}},createHref(x){return e(i,x)},createURL:_,encodeLocation(x){let v=_(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:f,go(x){return A.go(x)}};return C}function WR(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),zr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:xf(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function yS(t,e,r="/"){return $R(t,e,r,!1)}function $R(t,e,r,n){let i=typeof e=="string"?wh(e):e,s=Jo(i.pathname||"/",r);if(s==null)return null;let A=BS(t);XR(A);let o=null;for(let a=0;o==null&&a<A.length;++a){let l=ok(s);o=sk(A[a],l,n)}return o}function BS(t,e=[],r=[],n="",i=!1){let s=(A,o,a=i,l)=>{let u={relativePath:l===void 0?A.path||"":l,caseSensitive:A.caseSensitive===!0,childrenIndex:o,route:A};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&a)return;zr(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let d=Ko([n,u.relativePath]),g=r.concat(u);A.children&&A.children.length>0&&(zr(A.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),BS(A.children,e,g,d,a)),!(A.path==null&&!A.index)&&e.push({path:d,score:nk(d,A.index),routesMeta:g})};return t.forEach((A,o)=>{var a;if(A.path===""||!((a=A.path)!=null&&a.includes("?")))s(A,o);else for(let l of _S(A.path))s(A,o,!0,l)}),e}function _S(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let A=_S(n.join("/")),o=[];return o.push(...A.map(a=>a===""?s:[s,a].join("/"))),i&&o.push(...A),o.map(a=>t.startsWith("/")&&a===""?"/":a)}function XR(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ik(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var YR=/^:[\w-]+$/,JR=3,ZR=2,ek=1,tk=10,rk=-2,YC=t=>t==="*";function nk(t,e){let r=t.split("/"),n=r.length;return r.some(YC)&&(n+=rk),e&&(n+=ZR),r.filter(i=>!YC(i)).reduce((i,s)=>i+(YR.test(s)?JR:s===""?ek:tk),n)}function ik(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function sk(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",A=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Wm({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u),g=a.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=Wm({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),A.push({params:i,pathname:Ko([s,d.pathname]),pathnameBase:ck(Ko([s,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(s=Ko([s,d.pathnameBase]))}return A}function Wm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Ak(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],A=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((l,{paramName:u,isOptional:d},g)=>{if(u==="*"){let _=o[g]||"";A=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const f=o[g];return d&&!f?l[u]=void 0:l[u]=(f||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:A,pattern:t}}function Ak(t,e=!1,r=!0){yA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,o,a)=>(n.push({paramName:o,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ok(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yA(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ak(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?wh(t):t;return{pathname:r?r.startsWith("/")?r:lk(r,e):e,search:hk(n),hash:dk(i)}}function lk(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function y1(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uk(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function EB(t){let e=uk(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function bB(t,e,r,n=!1){let i;typeof t=="string"?i=wh(t):(i={...t},zr(!i.pathname||!i.pathname.includes("?"),y1("?","pathname","search",i)),zr(!i.pathname||!i.pathname.includes("#"),y1("#","pathname","hash",i)),zr(!i.search||!i.search.includes("#"),y1("#","search","hash",i)));let s=t===""||i.pathname==="",A=s?"/":i.pathname,o;if(A==null)o=r;else{let d=e.length-1;if(!n&&A.startsWith("..")){let g=A.split("/");for(;g[0]==="..";)g.shift(),d-=1;i.pathname=g.join("/")}o=d>=0?e[d]:"/"}let a=ak(i,o),l=A&&A!=="/"&&A.endsWith("/"),u=(s||A===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(l||u)&&(a.pathname+="/"),a}var Ko=t=>t.join("/").replace(/\/\/+/g,"/"),ck=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var CS=["POST","PUT","PATCH","DELETE"];new Set(CS);var pk=["GET",...CS];new Set(pk);var vh=te.createContext(null);vh.displayName="DataRouter";var G0=te.createContext(null);G0.displayName="DataRouterState";te.createContext(!1);var ES=te.createContext({isTransitioning:!1});ES.displayName="ViewTransition";var gk=te.createContext(new Map);gk.displayName="Fetchers";var mk=te.createContext(null);mk.displayName="Await";var EA=te.createContext(null);EA.displayName="Navigation";var rp=te.createContext(null);rp.displayName="Location";var bA=te.createContext({outlet:null,matches:[],isDataRoute:!1});bA.displayName="Route";var IB=te.createContext(null);IB.displayName="RouteError";function wk(t,{relative:e}={}){zr(yh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=te.useContext(EA),{hash:i,pathname:s,search:A}=np(t,{relative:e}),o=s;return r!=="/"&&(o=s==="/"?r:Ko([r,s])),n.createHref({pathname:o,search:A,hash:i})}function yh(){return te.useContext(rp)!=null}function Il(){return zr(yh(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(rp).location}var bS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IS(t){te.useContext(EA).static||te.useLayoutEffect(t)}function q0(){let{isDataRoute:t}=te.useContext(bA);return t?Qk():vk()}function vk(){zr(yh(),"useNavigate() may be used only in the context of a <Router> component.");let t=te.useContext(vh),{basename:e,navigator:r}=te.useContext(EA),{matches:n}=te.useContext(bA),{pathname:i}=Il(),s=JSON.stringify(EB(n)),A=te.useRef(!1);return IS(()=>{A.current=!0}),te.useCallback((a,l={})=>{if(yA(A.current,bS),!A.current)return;if(typeof a=="number"){r.go(a);return}let u=bB(a,JSON.parse(s),i,l.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Ko([e,u.pathname])),(l.replace?r.replace:r.push)(u,l.state,l)},[e,r,s,i,t])}var yk=te.createContext(null);function Bk(t){let e=te.useContext(bA).outlet;return e&&te.createElement(yk.Provider,{value:t},e)}function np(t,{relative:e}={}){let{matches:r}=te.useContext(bA),{pathname:n}=Il(),i=JSON.stringify(EB(r));return te.useMemo(()=>bB(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function _k(t,e){return xS(t,e)}function xS(t,e,r,n,i){var E;zr(yh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=te.useContext(EA),{matches:A}=te.useContext(bA),o=A[A.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let F=d&&d.path||"";FS(l,!d||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let g=Il(),f;if(e){let F=typeof e=="string"?wh(e):e;zr(u==="/"||((E=F.pathname)==null?void 0:E.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${F.pathname}" was given in the \`location\` prop.`),f=F}else f=g;let _=f.pathname||"/",C=_;if(u!=="/"){let F=u.replace(/^\//,"").split("/");C="/"+_.replace(/^\//,"").split("/").slice(F.length).join("/")}let x=yS(t,{pathname:C});yA(d||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),yA(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=xk(x&&x.map(F=>Object.assign({},F,{params:Object.assign({},a,F.params),pathname:Ko([u,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?u:Ko([u,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),A,r,n,i);return e&&v?te.createElement(rp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},v):v}function Ck(){let t=Nk(),e=fk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},A=null;return console.error("Error handled by React Router default ErrorBoundary:",t),A=te.createElement(te.Fragment,null,te.createElement("p",null,"💿 Hey developer 👋"),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:s},"ErrorBoundary")," or"," ",te.createElement("code",{style:s},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),r?te.createElement("pre",{style:i},r):null,A)}var Ek=te.createElement(Ck,null),bk=class extends te.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?te.createElement(bA.Provider,{value:this.props.routeContext},te.createElement(IB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ik({routeContext:t,match:e,children:r}){let n=te.useContext(vh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),te.createElement(bA.Provider,{value:t},r)}function xk(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,A=r==null?void 0:r.errors;if(A!=null){let l=s.findIndex(u=>u.route.id&&(A==null?void 0:A[u.route.id])!==void 0);zr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(A).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(r)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:g}=r,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!g||g[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,d)=>{let g,f=!1,_=null,C=null;r&&(g=A&&u.route.id?A[u.route.id]:void 0,_=u.route.errorElement||Ek,o&&(a<0&&d===0?(FS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,C=null):a===d&&(f=!0,C=u.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,d+1)),v=()=>{let E;return g?E=_:f?E=C:u.route.Component?E=te.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=l,te.createElement(Ik,{match:u,routeContext:{outlet:l,matches:x,isDataRoute:r!=null},children:E})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?te.createElement(bk,{location:r.location,revalidation:r.revalidation,component:_,error:g,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:n}):v()},null)}function xB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fk(t){let e=te.useContext(vh);return zr(e,xB(t)),e}function Sk(t){let e=te.useContext(G0);return zr(e,xB(t)),e}function Tk(t){let e=te.useContext(bA);return zr(e,xB(t)),e}function FB(t){let e=Tk(t),r=e.matches[e.matches.length-1];return zr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Uk(){return FB("useRouteId")}function Nk(){var n;let t=te.useContext(IB),e=Sk("useRouteError"),r=FB("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Qk(){let{router:t}=Fk("useNavigate"),e=FB("useNavigate"),r=te.useRef(!1);return IS(()=>{r.current=!0}),te.useCallback(async(i,s={})=>{yA(r.current,bS),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var JC={};function FS(t,e,r){!e&&!JC[t]&&(JC[t]=!0,yA(!1,r))}te.memo(Lk);function Lk({routes:t,future:e,state:r,unstable_onError:n}){return xS(t,void 0,r,n,e)}function my({to:t,replace:e,state:r,relative:n}){zr(yh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=te.useContext(EA);yA(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=te.useContext(bA),{pathname:A}=Il(),o=q0(),a=bB(t,EB(s),A,n==="path"),l=JSON.stringify(a);return te.useEffect(()=>{o(JSON.parse(l),{replace:e,state:r,relative:n})},[o,l,n,e,r]),null}function Pk(t){return Bk(t.context)}function yi(t){zr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rk({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){zr(!yh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let A=t.replace(/^\/*/,"/"),o=te.useMemo(()=>({basename:A,navigator:i,static:s,future:{}}),[A,i,s]);typeof r=="string"&&(r=wh(r));let{pathname:a="/",search:l="",hash:u="",state:d=null,key:g="default"}=r,f=te.useMemo(()=>{let _=Jo(a,A);return _==null?null:{location:{pathname:_,search:l,hash:u,state:d,key:g},navigationType:n}},[A,a,l,u,d,g,n]);return yA(f!=null,`<Router basename="${A}"> is not able to match the URL "${a}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:te.createElement(EA.Provider,{value:o},te.createElement(rp.Provider,{children:e,value:f}))}function kk({children:t,location:e}){return _k(wy(t),e)}function wy(t,e=[]){let r=[];return te.Children.forEach(t,(n,i)=>{if(!te.isValidElement(n))return;let s=[...e,i];if(n.type===te.Fragment){r.push.apply(r,wy(n.props.children,s));return}zr(n.type===yi,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let A={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(A.children=wy(n.props.children,s)),r.push(A)}),r}var nm="get",im="application/x-www-form-urlencoded";function z0(t){return t!=null&&typeof t.tagName=="string"}function Dk(t){return z0(t)&&t.tagName.toLowerCase()==="button"}function Ok(t){return z0(t)&&t.tagName.toLowerCase()==="form"}function Mk(t){return z0(t)&&t.tagName.toLowerCase()==="input"}function Hk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Vk(t,e){return t.button===0&&(!e||e==="_self")&&!Hk(t)}var sg=null;function jk(){if(sg===null)try{new FormData(document.createElement("form"),0),sg=!1}catch{sg=!0}return sg}var Kk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function B1(t){return t!=null&&!Kk.has(t)?(yA(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${im}"`),null):t}function Gk(t,e){let r,n,i,s,A;if(Ok(t)){let o=t.getAttribute("action");n=o?Jo(o,e):null,r=t.getAttribute("method")||nm,i=B1(t.getAttribute("enctype"))||im,s=new FormData(t)}else if(Dk(t)||Mk(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||o.getAttribute("action");if(n=a?Jo(a,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||nm,i=B1(t.getAttribute("formenctype"))||B1(o.getAttribute("enctype"))||im,s=new FormData(o,t),!jk()){let{name:l,type:u,value:d}=t;if(u==="image"){let g=l?`${l}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else l&&s.append(l,d)}}else{if(z0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=nm,n=null,i=im,A=t}return s&&i==="text/plain"&&(A=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:A}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function SB(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qk(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Jo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function zk(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $k(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let A=await zk(s,r);return A.links?A.links():[]}return[]}));return Zk(n.flat(1).filter(Wk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ZC(t,e,r,n,i,s){let A=(a,l)=>r[l]?a.route.id!==r[l].route.id:!0,o=(a,l)=>{var u;return r[l].pathname!==a.pathname||((u=r[l].route.path)==null?void 0:u.endsWith("*"))&&r[l].params["*"]!==a.params["*"]};return s==="assets"?e.filter((a,l)=>A(a,l)||o(a,l)):s==="data"?e.filter((a,l)=>{var d;let u=n.routes[a.route.id];if(!u||!u.hasLoader)return!1;if(A(a,l)||o(a,l))return!0;if(a.route.shouldRevalidate){let g=a.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Xk(t,e,{includeHydrateFallback:r}={}){return Yk(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Yk(t){return[...new Set(t)]}function Jk(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Zk(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(Jk(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function SS(){let t=te.useContext(vh);return SB(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eD(){let t=te.useContext(G0);return SB(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var TB=te.createContext(void 0);TB.displayName="FrameworkContext";function TS(){let t=te.useContext(TB);return SB(t,"You must render this element inside a <HydratedRouter> element"),t}function tD(t,e){let r=te.useContext(TB),[n,i]=te.useState(!1),[s,A]=te.useState(!1),{onFocus:o,onBlur:a,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=e,g=te.useRef(null);te.useEffect(()=>{if(t==="render"&&A(!0),t==="viewport"){let C=v=>{v.forEach(E=>{A(E.isIntersecting)})},x=new IntersectionObserver(C,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[t]),te.useEffect(()=>{if(n){let C=setTimeout(()=>{A(!0)},100);return()=>{clearTimeout(C)}}},[n]);let f=()=>{i(!0)},_=()=>{i(!1),A(!1)};return r?t!=="intent"?[s,g,{}]:[s,g,{onFocus:id(o,f),onBlur:id(a,_),onMouseEnter:id(l,f),onMouseLeave:id(u,_),onTouchStart:id(d,f)}]:[!1,g,{}]}function id(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function rD({page:t,...e}){let{router:r}=SS(),n=te.useMemo(()=>yS(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?te.createElement(iD,{page:t,matches:n,...e}):null}function nD(t){let{manifest:e,routeModules:r}=TS(),[n,i]=te.useState([]);return te.useEffect(()=>{let s=!1;return $k(t,e,r).then(A=>{s||i(A)}),()=>{s=!0}},[t,e,r]),n}function iD({page:t,matches:e,...r}){let n=Il(),{manifest:i,routeModules:s}=TS(),{basename:A}=SS(),{loaderData:o,matches:a}=eD(),l=te.useMemo(()=>ZC(t,e,a,i,n,"data"),[t,e,a,i,n]),u=te.useMemo(()=>ZC(t,e,a,i,n,"assets"),[t,e,a,i,n]),d=te.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let _=new Set,C=!1;if(e.forEach(v=>{var F;let E=i.routes[v.route.id];!E||!E.hasLoader||(!l.some(P=>P.route.id===v.route.id)&&v.route.id in o&&((F=s[v.route.id])!=null&&F.shouldRevalidate)||E.hasClientLoader?C=!0:_.add(v.route.id))}),_.size===0)return[];let x=qk(t,A,"data");return C&&_.size>0&&x.searchParams.set("_routes",e.filter(v=>_.has(v.route.id)).map(v=>v.route.id).join(",")),[x.pathname+x.search]},[A,o,n,i,l,e,t,s]),g=te.useMemo(()=>Xk(u,i),[u,i]),f=nD(u);return te.createElement(te.Fragment,null,d.map(_=>te.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),g.map(_=>te.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),f.map(({key:_,link:C})=>te.createElement("link",{key:_,nonce:r.nonce,...C})))}function sD(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var US=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{US&&(window.__reactRouterVersion="7.8.2")}catch{}function AD({basename:t,children:e,window:r}){let n=te.useRef();n.current==null&&(n.current=GR({window:r,v5Compat:!0}));let i=n.current,[s,A]=te.useState({action:i.action,location:i.location}),o=te.useCallback(a=>{te.startTransition(()=>A(a))},[A]);return te.useLayoutEffect(()=>i.listen(o),[i,o]),te.createElement(Rk,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var NS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QS=te.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:A,state:o,target:a,to:l,preventScrollReset:u,viewTransition:d,...g},f){let{basename:_}=te.useContext(EA),C=typeof l=="string"&&NS.test(l),x,v=!1;if(typeof l=="string"&&C&&(x=l,US))try{let b=new URL(window.location.href),R=l.startsWith("//")?new URL(b.protocol+l):new URL(l),S=Jo(R.pathname,_);R.origin===b.origin&&S!=null?l=S+R.search+R.hash:v=!0}catch{yA(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=wk(l,{relative:i}),[F,P,K]=tD(n,g),M=lD(l,{replace:A,state:o,target:a,preventScrollReset:u,relative:i,viewTransition:d});function Q(b){e&&e(b),b.defaultPrevented||M(b)}let I=te.createElement("a",{...g,...K,href:x||E,onClick:v||s?e:Q,ref:sD(f,P),target:a,"data-discover":!C&&r==="render"?"true":void 0});return F&&!C?te.createElement(te.Fragment,null,I,te.createElement(rD,{page:E})):I});QS.displayName="Link";var vs=te.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:A,viewTransition:o,children:a,...l},u){let d=np(A,{relative:l.relative}),g=Il(),f=te.useContext(G0),{navigator:_,basename:C}=te.useContext(EA),x=f!=null&&fD(d)&&o===!0,v=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,E=g.pathname,F=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(E=E.toLowerCase(),F=F?F.toLowerCase():null,v=v.toLowerCase()),F&&C&&(F=Jo(F,C)||F);const P=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let K=E===v||!i&&E.startsWith(v)&&E.charAt(P)==="/",M=F!=null&&(F===v||!i&&F.startsWith(v)&&F.charAt(v.length)==="/"),Q={isActive:K,isPending:M,isTransitioning:x},I=K?e:void 0,b;typeof n=="function"?b=n(Q):b=[n,K?"active":null,M?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(Q):s;return te.createElement(QS,{...l,"aria-current":I,className:b,ref:u,style:R,to:A,viewTransition:o},typeof a=="function"?a(Q):a)});vs.displayName="NavLink";var oD=te.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:A=nm,action:o,onSubmit:a,relative:l,preventScrollReset:u,viewTransition:d,...g},f)=>{let _=hD(),C=dD(o,{relative:l}),x=A.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&NS.test(o),E=F=>{if(a&&a(F),F.defaultPrevented)return;F.preventDefault();let P=F.nativeEvent.submitter,K=(P==null?void 0:P.getAttribute("formmethod"))||A;_(P||F.currentTarget,{fetcherKey:e,method:K,navigate:r,replace:i,state:s,relative:l,preventScrollReset:u,viewTransition:d})};return te.createElement("form",{ref:f,method:x,action:C,onSubmit:n?a:E,...g,"data-discover":!v&&t==="render"?"true":void 0})});oD.displayName="Form";function aD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(t){let e=te.useContext(vh);return zr(e,aD(t)),e}function lD(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:A}={}){let o=q0(),a=Il(),l=np(t,{relative:s});return te.useCallback(u=>{if(Vk(u,e)){u.preventDefault();let d=r!==void 0?r:xf(a)===xf(l);o(t,{replace:d,state:n,preventScrollReset:i,relative:s,viewTransition:A})}},[a,o,l,r,n,e,t,i,s,A])}var uD=0,cD=()=>`__${String(++uD)}__`;function hD(){let{router:t}=LS("useSubmit"),{basename:e}=te.useContext(EA),r=Uk();return te.useCallback(async(n,i={})=>{let{action:s,method:A,encType:o,formData:a,body:l}=Gk(n,e);if(i.navigate===!1){let u=i.fetcherKey||cD();await t.fetch(u,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:a,body:l,formMethod:i.method||A,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:a,body:l,formMethod:i.method||A,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function dD(t,{relative:e}={}){let{basename:r}=te.useContext(EA),n=te.useContext(bA);zr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...np(t||".",{relative:e})},A=Il();if(t==null){s.search=A.search;let o=new URLSearchParams(s.search),a=o.getAll("index");if(a.some(u=>u==="")){o.delete("index"),a.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ko([r,s.pathname])),xf(s)}function fD(t,{relative:e}={}){let r=te.useContext(ES);zr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=LS("useViewTransitionState"),i=np(t,{relative:e});if(!r.isTransitioning)return!1;let s=Jo(r.currentLocation.pathname,n)||r.currentLocation.pathname,A=Jo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Wm(i.pathname,A)!=null||Wm(i.pathname,s)!=null}var eE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},pD=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],A=t[r++],o=t[r++],a=((i&7)<<18|(s&63)<<12|(A&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(a&1023))}else{const s=t[r++],A=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|A&63)}}return e.join("")},RS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],A=i+1<t.length,o=A?t[i+1]:0,a=i+2<t.length,l=a?t[i+2]:0,u=s>>2,d=(s&3)<<4|o>>4;let g=(o&15)<<2|l>>6,f=l&63;a||(f=64,A||(g=64)),n.push(r[u],r[d],r[g],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||l==null||d==null)throw new gD;const g=s<<2|o>>4;if(n.push(g),l!==64){const f=o<<4&240|l>>2;if(n.push(f),d!==64){const _=l<<6&192|d;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mD=function(t){const e=PS(t);return RS.encodeByteArray(e,!0)},$m=function(t){return mD(t).replace(/\./g,"")},kS=function(t){try{return RS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=()=>wD().__FIREBASE_DEFAULTS__,yD=()=>{if(typeof process>"u"||typeof eE>"u")return;const t=eE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kS(t[1]);return e&&JSON.parse(e)},W0=()=>{try{return vD()||yD()||BD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DS=t=>{var e,r;return(r=(e=W0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},_D=t=>{const e=DS(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},OS=()=>{var t;return(t=W0())===null||t===void 0?void 0:t.config},MS=t=>{var e;return(e=W0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$m(JSON.stringify(r)),$m(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function ID(){var t;const e=(t=W0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TD(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HS(){return!ID()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VS(){try{return typeof indexedDB=="object"}catch{return!1}}function UD(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="FirebaseError";class ia extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=ND,Object.setPrototypeOf(this,ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ip.prototype.create)}}class ip{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],A=s?QD(s,n):"Error",o=`${this.serviceName}: ${A} (${i}).`;return new ia(i,o,n)}}function QD(t,e){return t.replace(LD,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const LD=/\{\$([^}]+)}/g;function PD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],A=e[i];if(tE(s)&&tE(A)){if(!Xm(s,A))return!1}else if(s!==A)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function tE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ed(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function bd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function RD(t,e){const r=new kD(t,e);return r.subscribe.bind(r)}class kD{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");DD(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=_1),i.error===void 0&&(i.error=_1),i.complete===void 0&&(i.complete=_1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DD(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function _1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class Eu{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new CD;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HD(e))try{this.getOrInitializeService({instanceIdentifier:Xl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xl){return this.instances.has(e)}getOptions(e=Xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,A]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&A.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const A=this.instances.get(i);return A&&e(A,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:MD(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Xl){return this.component?this.component.multipleInstances?e:Xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MD(t){return t===Xl?void 0:t}function HD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new OD(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jt||(jt={}));const jD={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},KD=jt.INFO,GD={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},qD=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=GD[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let UB=class{constructor(e){this.name=e,this._logLevel=KD,this._logHandler=qD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}};const zD=(t,e)=>e.some(r=>t instanceof r);let rE,nE;function WD(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $D(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jS=new WeakMap,vy=new WeakMap,KS=new WeakMap,C1=new WeakMap,NB=new WeakMap;function XD(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",A)},s=()=>{r(ol(t.result)),i()},A=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",A)});return e.then(r=>{r instanceof IDBCursor&&jS.set(r,t)}).catch(()=>{}),NB.set(e,t),e}function YD(t){if(vy.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",A),t.removeEventListener("abort",A)},s=()=>{r(),i()},A=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",A),t.addEventListener("abort",A)});vy.set(t,e)}let yy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KS.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ol(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JD(t){yy=t(yy)}function ZD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(E1(this),e,...r);return KS.set(n,e.sort?e.sort():[e]),ol(n)}:$D().includes(t)?function(...e){return t.apply(E1(this),e),ol(jS.get(this))}:function(...e){return ol(t.apply(E1(this),e))}}function e6(t){return typeof t=="function"?ZD(t):(t instanceof IDBTransaction&&YD(t),zD(t,WD())?new Proxy(t,yy):t)}function ol(t){if(t instanceof IDBRequest)return XD(t);if(C1.has(t))return C1.get(t);const e=e6(t);return e!==t&&(C1.set(t,e),NB.set(e,t)),e}const E1=t=>NB.get(t);function t6(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const A=indexedDB.open(t,e),o=ol(A);return n&&A.addEventListener("upgradeneeded",a=>{n(ol(A.result),a.oldVersion,a.newVersion,ol(A.transaction),a)}),r&&A.addEventListener("blocked",a=>r(a.oldVersion,a.newVersion,a)),o.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const r6=["get","getKey","getAll","getAllKeys","count"],n6=["put","add","delete","clear"],b1=new Map;function iE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(b1.get(e))return b1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=n6.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||r6.includes(r)))return;const s=async function(A,...o){const a=this.transaction(A,i?"readwrite":"readonly");let l=a.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),i&&a.done]))[0]};return b1.set(e,s),s}JD(t=>({...t,get:(e,r,n)=>iE(e,r)||t.get(e,r,n),has:(e,r)=>!!iE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(s6(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function s6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const By="@firebase/app",sE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new UB("@firebase/app"),A6="@firebase/app-compat",o6="@firebase/analytics-compat",a6="@firebase/analytics",l6="@firebase/app-check-compat",u6="@firebase/app-check",c6="@firebase/auth",h6="@firebase/auth-compat",d6="@firebase/database",f6="@firebase/data-connect",p6="@firebase/database-compat",g6="@firebase/functions",m6="@firebase/functions-compat",w6="@firebase/installations",v6="@firebase/installations-compat",y6="@firebase/messaging",B6="@firebase/messaging-compat",_6="@firebase/performance",C6="@firebase/performance-compat",E6="@firebase/remote-config",b6="@firebase/remote-config-compat",I6="@firebase/storage",x6="@firebase/storage-compat",F6="@firebase/firestore",S6="@firebase/vertexai-preview",T6="@firebase/firestore-compat",U6="firebase",N6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="[DEFAULT]",Q6={[By]:"fire-core",[A6]:"fire-core-compat",[a6]:"fire-analytics",[o6]:"fire-analytics-compat",[u6]:"fire-app-check",[l6]:"fire-app-check-compat",[c6]:"fire-auth",[h6]:"fire-auth-compat",[d6]:"fire-rtdb",[f6]:"fire-data-connect",[p6]:"fire-rtdb-compat",[g6]:"fire-fn",[m6]:"fire-fn-compat",[w6]:"fire-iid",[v6]:"fire-iid-compat",[y6]:"fire-fcm",[B6]:"fire-fcm-compat",[_6]:"fire-perf",[C6]:"fire-perf-compat",[E6]:"fire-rc",[b6]:"fire-rc-compat",[I6]:"fire-gcs",[x6]:"fire-gcs-compat",[F6]:"fire-fst",[T6]:"fire-fst-compat",[S6]:"fire-vertex","fire-js":"fire-js",[U6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,Cy=new Map,Ey=new Map;function AE(t,e){try{t.container.addComponent(e)}catch(r){Zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function sh(t){const e=t.name;if(Ey.has(e))return Zo.debug(`There were multiple attempts to register component ${e}.`),!1;Ey.set(e,t);for(const r of ih.values())AE(r,t);for(const r of Cy.values())AE(r,t);return!0}function QB(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function eo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},al=new ip("app","Firebase",L6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw al.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=N6;function LB(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:_y,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw al.create("bad-app-name",{appName:String(i)});if(r||(r=OS()),!r)throw al.create("no-options");const s=ih.get(i);if(s){if(Xm(r,s.options)&&Xm(n,s.config))return s;throw al.create("duplicate-app",{appName:i})}const A=new VD(i);for(const a of Ey.values())A.addComponent(a);const o=new P6(r,n,A);return ih.set(i,o),o}function PB(t=_y){const e=ih.get(t);if(!e&&t===_y&&OS())return LB();if(!e)throw al.create("no-app",{appName:t});return e}async function R6(t){let e=!1;const r=t.name;ih.has(r)?(e=!0,ih.delete(r)):Cy.has(r)&&t.decRefCount()<=0&&(Cy.delete(r),e=!0),e&&(await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function ll(t,e,r){var n;let i=(n=Q6[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),A=e.match(/\s|\//);if(s||A){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&A&&o.push("and"),A&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zo.warn(o.join(" "));return}sh(new Eu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="firebase-heartbeat-database",D6=1,Ff="firebase-heartbeat-store";let I1=null;function GS(){return I1||(I1=t6(k6,D6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ff)}catch(r){console.warn(r)}}}}).catch(t=>{throw al.create("idb-open",{originalErrorMessage:t.message})})),I1}async function O6(t){try{const r=(await GS()).transaction(Ff),n=await r.objectStore(Ff).get(qS(t));return await r.done,n}catch(e){if(e instanceof ia)Zo.warn(e.message);else{const r=al.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zo.warn(r.message)}}}async function oE(t,e){try{const n=(await GS()).transaction(Ff,"readwrite");await n.objectStore(Ff).put(e,qS(t)),await n.done}catch(r){if(r instanceof ia)Zo.warn(r.message);else{const n=al.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Zo.warn(n.message)}}}function qS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=1024,H6=30*24*60*60*1e3;class V6{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new K6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(A=>A.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const o=new Date(A.date).valueOf();return Date.now()-o<=H6}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Zo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=aE(),{heartbeatsToSend:n,unsentEntries:i}=j6(this._heartbeatsCache.heartbeats),s=$m(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Zo.warn(r),""}}}function aE(){return new Date().toISOString().substring(0,10)}function j6(t,e=M6){const r=[];let n=t.slice();for(const i of t){const s=r.find(A=>A.agent===i.agent);if(s){if(s.dates.push(i.date),lE(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),lE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class K6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?UD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await O6(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lE(t){return $m(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){sh(new Eu("platform-logger",e=>new i6(e),"PRIVATE")),sh(new Eu("heartbeat",e=>new V6(e),"PRIVATE")),ll(By,sE,t),ll(By,sE,"esm2017"),ll("fire-js","")}G6("");function RB(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function zS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q6=zS,WS=new ip("auth","Firebase",zS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=new UB("@firebase/auth");function z6(t,...e){Ym.logLevel<=jt.WARN&&Ym.warn(`Auth (${Bh}): ${t}`,...e)}function sm(t,...e){Ym.logLevel<=jt.ERROR&&Ym.error(`Auth (${Bh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,...e){throw kB(t,...e)}function Ao(t,...e){return kB(t,...e)}function $S(t,e,r){const n=Object.assign(Object.assign({},q6()),{[e]:r});return new ip("auth","Firebase",n).create(e,{appName:t.name})}function Go(t){return $S(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kB(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return WS.create(t,...e)}function yt(t,e,...r){if(!t)throw kB(e,...r)}function Oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sm(e),new Error(e)}function ea(t,e){t||Oo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function W6(){return uE()==="http:"||uE()==="https:"}function uE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W6()||FD()||"connection"in navigator)?navigator.onLine:!0}function X6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,r){this.shortDelay=e,this.longDelay=r,ea(r>e,"Short delay should be less than long delay!"),this.isMobile=bD()||SD()}get(){return $6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t,e){ea(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new Ap(3e4,6e4);function xl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fl(t,e,r,n,i={}){return YS(t,i,async()=>{let s={},A={};n&&(e==="GET"?A=n:s={body:JSON.stringify(n)});const o=sp(Object.assign({key:t.config.apiKey},A)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:a},s);return xD()||(l.referrerPolicy="no-referrer"),XS.fetch()(JS(t,t.config.apiHost,r,o),l)})}async function YS(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Y6),e);try{const i=new eO(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const A=await s.json();if("needConfirmation"in A)throw Ag(t,"account-exists-with-different-credential",A);if(s.ok&&!("errorMessage"in A))return A;{const o=s.ok?A.errorMessage:A.error.message,[a,l]=o.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ag(t,"credential-already-in-use",A);if(a==="EMAIL_EXISTS")throw Ag(t,"email-already-in-use",A);if(a==="USER_DISABLED")throw Ag(t,"user-disabled",A);const u=n[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $S(t,u,l);BA(t,u)}}catch(i){if(i instanceof ia)throw i;BA(t,"network-request-failed",{message:String(i)})}}async function op(t,e,r,n,i={}){const s=await Fl(t,e,r,n,i);return"mfaPendingCredential"in s&&BA(t,"multi-factor-auth-required",{_serverResponse:s}),s}function JS(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?DB(t.config,i):`${t.config.apiScheme}://${i}`}function Z6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ao(this.auth,"network-request-failed")),J6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ag(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ao(t,e,n);return i.customData._tokenResponse=r,i}function cE(t){return t!==void 0&&t.enterprise!==void 0}class tO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Z6(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function rO(t,e){return Fl(t,"GET","/v2/recaptchaConfig",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function ZS(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iO(t,e=!1){const r=An(t),n=await r.getIdToken(e),i=OB(n);yt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,A=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:qd(x1(i.auth_time)),issuedAtTime:qd(x1(i.iat)),expirationTime:qd(x1(i.exp)),signInProvider:A||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function x1(t){return Number(t)*1e3}function OB(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return sm("JWT malformed, contained fewer than 3 sections"),null;try{const i=kS(r);return i?JSON.parse(i):(sm("Failed to decode base64 JWT payload"),null)}catch(i){return sm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hE(t){const e=OB(t);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ia&&sO(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function sO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=qd(this.lastLoginAt),this.creationTime=qd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Sf(t,ZS(r,{idToken:n}));yt(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const A=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eT(s.providerUserInfo):[],o=aO(t.providerData,A),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Iy(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function oO(t){const e=An(t);await Jm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aO(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function eT(t){return t.map(e=>{var{providerId:r}=e,n=RB(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e){const r=await YS(t,{},async()=>{const n=sp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,A=JS(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",XS.fetch()(A,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function uO(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const r=hE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await lO(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,A=new qc;return n&&(yt(typeof n=="string","internal-error",{appName:e}),A.refreshToken=n),i&&(yt(typeof i=="string","internal-error",{appName:e}),A.accessToken=i),s&&(yt(typeof s=="number","internal-error",{appName:e}),A.expirationTime=s),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qc,this.toJSON())}_performRefresh(){return Oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mo{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=RB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Iy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Sf(this,this.stsTokenManager.getToken(this.auth,e));return yt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return iO(this,e)}reload(){return oO(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Mo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Jm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(eo(this.auth.app))return Promise.reject(Go(this.auth));const e=await this.getIdToken();return await Sf(this,nO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,A,o,a,l,u;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,g=(i=r.email)!==null&&i!==void 0?i:void 0,f=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,_=(A=r.photoURL)!==null&&A!==void 0?A:void 0,C=(o=r.tenantId)!==null&&o!==void 0?o:void 0,x=(a=r._redirectEventId)!==null&&a!==void 0?a:void 0,v=(l=r.createdAt)!==null&&l!==void 0?l:void 0,E=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:F,emailVerified:P,isAnonymous:K,providerData:M,stsTokenManager:Q}=r;yt(F&&Q,e,"internal-error");const I=qc.fromJSON(this.name,Q);yt(typeof F=="string",e,"internal-error"),Ia(d,e.name),Ia(g,e.name),yt(typeof P=="boolean",e,"internal-error"),yt(typeof K=="boolean",e,"internal-error"),Ia(f,e.name),Ia(_,e.name),Ia(C,e.name),Ia(x,e.name),Ia(v,e.name),Ia(E,e.name);const b=new Mo({uid:F,auth:e,email:g,emailVerified:P,displayName:d,isAnonymous:K,photoURL:_,phoneNumber:f,tenantId:C,stsTokenManager:I,createdAt:v,lastLoginAt:E});return M&&Array.isArray(M)&&(b.providerData=M.map(R=>Object.assign({},R))),x&&(b._redirectEventId=x),b}static async _fromIdTokenResponse(e,r,n=!1){const i=new qc;i.updateFromServerResponse(r);const s=new Mo({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Jm(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];yt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?eT(i.providerUserInfo):[],A=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new qc;o.updateFromIdToken(n);const a=new Mo({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:A}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Iy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(a,l),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;function Ho(t){ea(t instanceof Function,"Expected a class definition");let e=dE.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}tT.type="NONE";const fE=tT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e,r){return`firebase:${t}:${e}:${r}`}class zc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Am(this.userKey,i.apiKey,s),this.fullPersistenceKey=Am("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new zc(Ho(fE),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Ho(fE);const A=Am(n,e.config.apiKey,e.name);let o=null;for(const l of r)try{const u=await l._get(A);if(u){const d=Mo._fromJSON(e,u);l!==s&&(o=d),s=l;break}}catch{}const a=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new zc(s,e,n):(s=a[0],o&&await s._set(A,o.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(A)}catch{}})),new zc(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oT(e))return"Blackberry";if(aT(e))return"Webos";if(nT(e))return"Safari";if((e.includes("chrome/")||iT(e))&&!e.includes("edge/"))return"Chrome";if(AT(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function rT(t=Pn()){return/firefox\//i.test(t)}function nT(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iT(t=Pn()){return/crios\//i.test(t)}function sT(t=Pn()){return/iemobile/i.test(t)}function AT(t=Pn()){return/android/i.test(t)}function oT(t=Pn()){return/blackberry/i.test(t)}function aT(t=Pn()){return/webos/i.test(t)}function MB(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cO(t=Pn()){var e;return MB(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hO(){return TD()&&document.documentMode===10}function lT(t=Pn()){return MB(t)||AT(t)||aT(t)||oT(t)||/windows phone/i.test(t)||sT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t,e=[]){let r;switch(t){case"Browser":r=pE(Pn());break;case"Worker":r=`${pE(Pn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Bh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((A,o)=>{try{const a=e(s);A(a)}catch(a){o(a)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",xl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=6;class gO{constructor(e){var r,n,i,s;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=A.minPasswordLength)!==null&&r!==void 0?r:pO,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,A,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(r=a.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(n=a.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(A=a.containsNumericCharacter)!==null&&A!==void 0?A:!0),a.isValid&&(a.isValid=(o=a.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),a}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gE(this),this.idTokenSubscription=new gE(this),this.beforeStateQueue=new dO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ho(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await zc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await ZS(this,{idToken:e}),n=await Mo._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(eo(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!A||A===o)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(A){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Jm(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(eo(this.app))return Promise.reject(Go(this));const r=e?An(e):null;return r&&yt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return eo(this.app)?Promise.reject(Go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return eo(this.app)?Promise.reject(Go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ho(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fO(this),r=new gO(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ip("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await uO(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ho(e)||this._popupRedirectResolver;yt(r,this,"argument-error"),this.redirectPersistenceManager=await zc.create(this,[Ho(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let A=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(o,this,"internal-error"),o.then(()=>{A||s(this.currentUser)}),typeof r=="function"){const a=e.addObserver(r,n,i);return()=>{A=!0,a()}}else{const a=e.addObserver(r);return()=>{A=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&z6(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Mu(t){return An(t)}class gE{constructor(e){this.auth=e,this.observer=null,this.addObserver=RD(r=>this.observer=r)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wO(t){$0=t}function cT(t){return $0.loadJS(t)}function vO(){return $0.recaptchaEnterpriseScript}function yO(){return $0.gapiScript}function BO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _O="recaptcha-enterprise",CO="NO_RECAPTCHA";class EO{constructor(e){this.type=_O,this.auth=Mu(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(A,o)=>{rO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new tO(a);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,A(l.siteKey)}}).catch(a=>{o(a)})})}function i(s,A,o){const a=window.grecaptcha;cE(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(l=>{A(l)}).catch(()=>{A(CO)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,A)=>{n(this.auth).then(o=>{if(!r&&cE(window.grecaptcha))i(o,s,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let a=vO();a.length!==0&&(a+=o),cT(a).then(()=>{i(o,s,A)}).catch(l=>{A(l)})}}).catch(o=>{A(o)})})}}async function mE(t,e,r,n=!1){const i=new EO(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const A=Object.assign({},e);return n?Object.assign(A,{captchaResp:s}):Object.assign(A,{captchaResponse:s}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function xy(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await mE(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await mE(t,e,r,r==="getOobCode");return n(t,A)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){const r=QB(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Xm(s,e??{}))return i;BA(i,"already-initialized")}return r.initialize({options:e})}function IO(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ho);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function xO(t,e,r){const n=Mu(t);yt(n._canInitEmulator,n,"emulator-config-failed"),yt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=hT(e),{host:A,port:o}=FO(e),a=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${A}${a}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:A,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),SO()}function hT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FO(t){const e=hT(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:wE(n.substr(s.length+1))}}else{const[s,A]=n.split(":");return{host:s,port:wE(A)}}}function wE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SO(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Oo("not implemented")}_getIdTokenResponse(e){return Oo("not implemented")}_linkToIdToken(e,r){return Oo("not implemented")}_getReauthenticationResolver(e){return Oo("not implemented")}}async function TO(t,e){return Fl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){return op(t,"POST","/v1/accounts:signInWithPassword",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e){return op(t,"POST","/v1/accounts:signInWithEmailLink",xl(t,e))}async function QO(t,e){return op(t,"POST","/v1/accounts:signInWithEmailLink",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends HB{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Tf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Tf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(e,r,"signInWithPassword",UO);case"emailLink":return NO(e,{email:this._email,oobCode:this._password});default:BA(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(e,n,"signUpPassword",TO);case"emailLink":return QO(e,{idToken:r,email:this._email,oobCode:this._password});default:BA(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t,e){return op(t,"POST","/v1/accounts:signInWithIdp",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="http://localhost";class bu extends HB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new bu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):BA("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=RB(r,["providerId","signInMethod"]);if(!n||!i)return null;const A=new bu(n,i);return A.idToken=s.idToken||void 0,A.accessToken=s.accessToken||void 0,A.secret=s.secret,A.nonce=s.nonce,A.pendingToken=s.pendingToken||null,A}_getIdTokenResponse(e){const r=this.buildRequest();return Wc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Wc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Wc(e,r)}buildRequest(){const e={requestUri:LO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=sp(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RO(t){const e=Ed(bd(t)).link,r=e?Ed(bd(e)).deep_link_id:null,n=Ed(bd(t)).deep_link_id;return(n?Ed(bd(n)).link:null)||n||r||e||t}class VB{constructor(e){var r,n,i,s,A,o;const a=Ed(bd(e)),l=(r=a.apiKey)!==null&&r!==void 0?r:null,u=(n=a.oobCode)!==null&&n!==void 0?n:null,d=PO((i=a.mode)!==null&&i!==void 0?i:null);yt(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(A=a.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(o=a.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=RO(e);try{return new VB(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this.providerId=_h.PROVIDER_ID}static credential(e,r){return Tf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=VB.parseLink(r);return yt(n,"argument-error"),Tf._fromEmailAndCode(e,n.code,n.tenantId)}}_h.PROVIDER_ID="password";_h.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_h.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends dT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends ap{constructor(){super("facebook.com")}static credential(e){return bu._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends ap{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return bu._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ma.credential(r,n)}catch{return null}}}Ma.GOOGLE_SIGN_IN_METHOD="google.com";Ma.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends ap{constructor(){super("github.com")}static credential(e){return bu._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.GITHUB_SIGN_IN_METHOD="github.com";Ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends ap{constructor(){super("twitter.com")}static credential(e,r){return bu._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Va.credential(r,n)}catch{return null}}}Va.TWITTER_SIGN_IN_METHOD="twitter.com";Va.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(t,e){return op(t,"POST","/v1/accounts:signUp",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await Mo._fromIdTokenResponse(e,n,i),A=vE(n);return new Iu({user:s,providerId:A,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=vE(n);return new Iu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function vE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends ia{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Zm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Zm(e,r,n,i)}}function fT(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zm._fromErrorAndOperation(t,s,e,n):s})}async function DO(t,e,r=!1){const n=await Sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Iu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e,r=!1){const{auth:n}=t;if(eo(n.app))return Promise.reject(Go(n));const i="reauthenticate";try{const s=await Sf(t,fT(n,i,e,t),r);yt(s.idToken,n,"internal-error");const A=OB(s.idToken);yt(A,n,"internal-error");const{sub:o}=A;return yt(t.uid===o,n,"user-mismatch"),Iu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&BA(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(t,e,r=!1){if(eo(t.app))return Promise.reject(Go(t));const n="signIn",i=await fT(t,n,e),s=await Iu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function MO(t,e){return pT(Mu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(t){const e=Mu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HO(t,e,r){if(eo(t.app))return Promise.reject(Go(t));const n=Mu(t),A=await xy(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kO).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&gT(t),a}),o=await Iu._fromIdTokenResponse(n,"signIn",A);return await n._updateCurrentUser(o.user),o}function VO(t,e,r){return eo(t.app)?Promise.reject(Go(t)):MO(An(t),_h.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&gT(t),n})}function jO(t,e,r,n){return An(t).onIdTokenChanged(e,r,n)}function KO(t,e,r){return An(t).beforeAuthStateChanged(e,r)}function mT(t,e,r,n){return An(t).onAuthStateChanged(e,r,n)}function wT(t){return An(t).signOut()}const e0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(e0,"1"),this.storage.removeItem(e0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=1e3,qO=10;class yT extends vT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((A,o,a)=>{this.notifyListeners(A,a)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const A=this.storage.getItem(n);!r&&this.localCache[n]===A||this.notifyListeners(n,A)},s=this.storage.getItem(n);hO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qO):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},GO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}yT.type="LOCAL";const zO=yT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends vT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}BT.type="SESSION";const _T=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new X0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,A=this.handlersMap[i];if(!(A!=null&&A.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(A).map(async l=>l(r.origin,s)),a=await WO(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}X0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,A;return new Promise((o,a)=>{const l=jB("",20);i.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);A={messageChannel:i,onMessage(d){const g=d;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(u),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(A),i.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(){return window}function XO(t){oo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){return typeof oo().WorkerGlobalScope<"u"&&typeof oo().importScripts=="function"}async function YO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZO(){return CT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="firebaseLocalStorageDb",eM=1,t0="firebaseLocalStorage",bT="fbase_key";class lp{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Y0(t,e){return t.transaction([t0],e?"readwrite":"readonly").objectStore(t0)}function tM(){const t=indexedDB.deleteDatabase(ET);return new lp(t).toPromise()}function Fy(){const t=indexedDB.open(ET,eM);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(t0,{keyPath:bT})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(t0)?e(n):(n.close(),await tM(),e(await Fy()))})})}async function yE(t,e,r){const n=Y0(t,!0).put({[bT]:e,value:r});return new lp(n).toPromise()}async function rM(t,e){const r=Y0(t,!1).get(e),n=await new lp(r).toPromise();return n===void 0?null:n.value}function BE(t,e){const r=Y0(t,!0).delete(e);return new lp(r).toPromise()}const nM=800,iM=3;class IT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fy(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>iM)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=X0._getInstance(ZO()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await YO(),!this.activeServiceWorker)return;this.sender=new $O(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fy();return await yE(e,e0,"1"),await BE(e,e0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>yE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>rM(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>BE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Y0(i,!1).getAll();return new lp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IT.type="LOCAL";const sM=IT;new Ap(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e){return e?Ho(e):(yt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB extends HB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Wc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Wc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function oM(t){return pT(t.auth,new KB(t),t.bypassAuthState)}function aM(t){const{auth:e,user:r}=t;return yt(r,e,"internal-error"),OO(r,new KB(t),t.bypassAuthState)}async function lM(t){const{auth:e,user:r}=t;return yt(r,e,"internal-error"),DO(r,new KB(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:A,type:o}=e;if(A){this.reject(A);return}const a={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oM;case"linkViaPopup":case"linkViaRedirect":return lM;case"reauthViaPopup":case"reauthViaRedirect":return aM;default:BA(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new Ap(2e3,1e4);class kc extends xT{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,kc.currentPopupAction&&kc.currentPopupAction.cancel(),kc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yt(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=jB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ao(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ao(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ao(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uM.get())};e()}}kc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="pendingRedirect",om=new Map;class hM extends xT{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=om.get(this.auth._key());if(!e){try{const n=await dM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}om.set(this.auth._key(),e)}return this.bypassAuthState||om.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dM(t,e){const r=gM(e),n=pM(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function fM(t,e){om.set(t._key(),e)}function pM(t){return Ho(t._redirectPersistence)}function gM(t){return Am(cM,t.config.apiKey,t.name)}async function mM(t,e,r=!1){if(eo(t.app))return Promise.reject(Go(t));const n=Mu(t),i=AM(n,e),A=await new hM(n,i,r).execute();return A&&!r&&(delete A.user._redirectEventId,await n._persistUserIfCurrent(A.user),await n._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=10*60*1e3;class vM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yM(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!FT(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ao(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wM&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(e))}saveEventToCache(e){this.cachedEventUids.add(_E(e)),this.lastProcessedEventTime=Date.now()}}function _E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,e={}){return Fl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CM=/^https?/;async function EM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BM(t);for(const r of e)try{if(bM(r))return}catch{}BA(t,"unauthorized-domain")}function bM(t){const e=by(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&A.hostname===n}if(!CM.test(r))return!1;if(_M.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new Ap(3e4,6e4);function CE(){const t=oo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function xM(t){return new Promise((e,r)=>{var n,i,s;function A(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),r(Ao(t,"network-request-failed"))},timeout:IM.get()})}if(!((i=(n=oo().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=oo().gapi)===null||s===void 0)&&s.load)A();else{const o=BO("iframefcb");return oo()[o]=()=>{gapi.load?A():r(Ao(t,"network-request-failed"))},cT(`${yO()}?onload=${o}`).catch(a=>r(a))}}).catch(e=>{throw am=null,e})}let am=null;function FM(t){return am=am||xM(t),am}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new Ap(5e3,15e3),TM="__/auth/iframe",UM="emulator/auth/iframe",NM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LM(t){const e=t.config;yt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?DB(e,UM):`https://${t.config.authDomain}/${TM}`,n={apiKey:e.apiKey,appName:t.name,v:Bh},i=QM.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${sp(n).slice(1)}`}async function PM(t){const e=await FM(t),r=oo().gapi;return yt(r,t,"internal-error"),e.open({where:document.body,url:LM(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NM,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const A=Ao(t,"network-request-failed"),o=oo().setTimeout(()=>{s(A)},SM.get());function a(){oo().clearTimeout(o),i(n)}n.ping(a).then(a,()=>{s(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kM=500,DM=600,OM="_blank",MM="http://localhost";class EE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HM(t,e,r,n=kM,i=DM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),A=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const a=Object.assign(Object.assign({},RM),{width:n.toString(),height:i.toString(),top:s,left:A}),l=Pn().toLowerCase();r&&(o=iT(l)?OM:r),rT(l)&&(e=e||MM,a.scrollbars="yes");const u=Object.entries(a).reduce((g,[f,_])=>`${g}${f}=${_},`,"");if(cO(l)&&o!=="_self")return VM(e||"",o),new EE(null);const d=window.open(e||"",o,u);yt(d,t,"popup-blocked");try{d.focus()}catch{}return new EE(d)}function VM(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="__/auth/handler",KM="emulator/auth/handler",GM=encodeURIComponent("fac");async function bE(t,e,r,n,i,s){yt(t.config.authDomain,t,"auth-domain-config-required"),yt(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Bh,eventId:i};if(e instanceof dT){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",PD(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))A[u]=d}if(e instanceof ap){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(A.scopes=u.join(","))}t.tenantId&&(A.tid=t.tenantId);const o=A;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const a=await t._getAppCheckToken(),l=a?`#${GM}=${encodeURIComponent(a)}`:"";return`${qM(t)}?${sp(o).slice(1)}${l}`}function qM({config:t}){return t.emulator?DB(t,KM):`https://${t.authDomain}/${jM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="webStorageSupport";class zM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_T,this._completeRedirectFn=mM,this._overrideRedirectResult=fM}async _openPopup(e,r,n,i){var s;ea((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const A=await bE(e,r,n,by(),i);return HM(e,A,jB())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await bE(e,r,n,by(),i);return XO(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(ea(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await PM(e),n=new vM(e);return r.register("authEvent",i=>(yt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(F1,{type:F1},i=>{var s;const A=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[F1];A!==void 0&&r(!!A),BA(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=EM(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return lT()||nT()||MB()}}const WM=zM;var IE="@firebase/auth",xE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YM(t){sh(new Eu("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:A,authDomain:o}=n.options;yt(A&&!A.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:A,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(t)},l=new mO(n,i,s,a);return IO(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),sh(new Eu("auth-internal",e=>{const r=Mu(e.getProvider("auth").getImmediate());return(n=>new $M(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ll(IE,xE,XM(t)),ll(IE,xE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=5*60,ZM=MS("authIdTokenMaxAge")||JM;let FE=null;const e8=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>ZM)return;const i=r==null?void 0:r.token;FE!==i&&(FE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ST(t=PB()){const e=QB(t,"auth");if(e.isInitialized())return e.getImmediate();const r=bO(t,{popupRedirectResolver:WM,persistence:[sM,zO,_T]}),n=MS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const A=e8(s.toString());KO(r,A,()=>A(r.currentUser)),jO(r,o=>A(o))}}const i=DS("auth");return i&&xO(r,`http://${i}`),r}function t8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wO({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Ao("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",t8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YM("Browser");var r8="firebase",n8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ll(r8,n8,"app");var SE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hu,TT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Q,I){function b(){}b.prototype=I.prototype,Q.D=I.prototype,Q.prototype=new b,Q.prototype.constructor=Q,Q.C=function(R,S,U){for(var N=Array(arguments.length-2),X=2;X<arguments.length;X++)N[X-2]=arguments[X];return I.prototype[S].apply(R,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(Q,I,b){b||(b=0);var R=Array(16);if(typeof I=="string")for(var S=0;16>S;++S)R[S]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(S=0;16>S;++S)R[S]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=Q.g[0],b=Q.g[1],S=Q.g[2];var U=Q.g[3],N=I+(U^b&(S^U))+R[0]+3614090360&4294967295;I=b+(N<<7&4294967295|N>>>25),N=U+(S^I&(b^S))+R[1]+3905402710&4294967295,U=I+(N<<12&4294967295|N>>>20),N=S+(b^U&(I^b))+R[2]+606105819&4294967295,S=U+(N<<17&4294967295|N>>>15),N=b+(I^S&(U^I))+R[3]+3250441966&4294967295,b=S+(N<<22&4294967295|N>>>10),N=I+(U^b&(S^U))+R[4]+4118548399&4294967295,I=b+(N<<7&4294967295|N>>>25),N=U+(S^I&(b^S))+R[5]+1200080426&4294967295,U=I+(N<<12&4294967295|N>>>20),N=S+(b^U&(I^b))+R[6]+2821735955&4294967295,S=U+(N<<17&4294967295|N>>>15),N=b+(I^S&(U^I))+R[7]+4249261313&4294967295,b=S+(N<<22&4294967295|N>>>10),N=I+(U^b&(S^U))+R[8]+1770035416&4294967295,I=b+(N<<7&4294967295|N>>>25),N=U+(S^I&(b^S))+R[9]+2336552879&4294967295,U=I+(N<<12&4294967295|N>>>20),N=S+(b^U&(I^b))+R[10]+4294925233&4294967295,S=U+(N<<17&4294967295|N>>>15),N=b+(I^S&(U^I))+R[11]+2304563134&4294967295,b=S+(N<<22&4294967295|N>>>10),N=I+(U^b&(S^U))+R[12]+1804603682&4294967295,I=b+(N<<7&4294967295|N>>>25),N=U+(S^I&(b^S))+R[13]+4254626195&4294967295,U=I+(N<<12&4294967295|N>>>20),N=S+(b^U&(I^b))+R[14]+2792965006&4294967295,S=U+(N<<17&4294967295|N>>>15),N=b+(I^S&(U^I))+R[15]+1236535329&4294967295,b=S+(N<<22&4294967295|N>>>10),N=I+(S^U&(b^S))+R[1]+4129170786&4294967295,I=b+(N<<5&4294967295|N>>>27),N=U+(b^S&(I^b))+R[6]+3225465664&4294967295,U=I+(N<<9&4294967295|N>>>23),N=S+(I^b&(U^I))+R[11]+643717713&4294967295,S=U+(N<<14&4294967295|N>>>18),N=b+(U^I&(S^U))+R[0]+3921069994&4294967295,b=S+(N<<20&4294967295|N>>>12),N=I+(S^U&(b^S))+R[5]+3593408605&4294967295,I=b+(N<<5&4294967295|N>>>27),N=U+(b^S&(I^b))+R[10]+38016083&4294967295,U=I+(N<<9&4294967295|N>>>23),N=S+(I^b&(U^I))+R[15]+3634488961&4294967295,S=U+(N<<14&4294967295|N>>>18),N=b+(U^I&(S^U))+R[4]+3889429448&4294967295,b=S+(N<<20&4294967295|N>>>12),N=I+(S^U&(b^S))+R[9]+568446438&4294967295,I=b+(N<<5&4294967295|N>>>27),N=U+(b^S&(I^b))+R[14]+3275163606&4294967295,U=I+(N<<9&4294967295|N>>>23),N=S+(I^b&(U^I))+R[3]+4107603335&4294967295,S=U+(N<<14&4294967295|N>>>18),N=b+(U^I&(S^U))+R[8]+1163531501&4294967295,b=S+(N<<20&4294967295|N>>>12),N=I+(S^U&(b^S))+R[13]+2850285829&4294967295,I=b+(N<<5&4294967295|N>>>27),N=U+(b^S&(I^b))+R[2]+4243563512&4294967295,U=I+(N<<9&4294967295|N>>>23),N=S+(I^b&(U^I))+R[7]+1735328473&4294967295,S=U+(N<<14&4294967295|N>>>18),N=b+(U^I&(S^U))+R[12]+2368359562&4294967295,b=S+(N<<20&4294967295|N>>>12),N=I+(b^S^U)+R[5]+4294588738&4294967295,I=b+(N<<4&4294967295|N>>>28),N=U+(I^b^S)+R[8]+2272392833&4294967295,U=I+(N<<11&4294967295|N>>>21),N=S+(U^I^b)+R[11]+1839030562&4294967295,S=U+(N<<16&4294967295|N>>>16),N=b+(S^U^I)+R[14]+4259657740&4294967295,b=S+(N<<23&4294967295|N>>>9),N=I+(b^S^U)+R[1]+2763975236&4294967295,I=b+(N<<4&4294967295|N>>>28),N=U+(I^b^S)+R[4]+1272893353&4294967295,U=I+(N<<11&4294967295|N>>>21),N=S+(U^I^b)+R[7]+4139469664&4294967295,S=U+(N<<16&4294967295|N>>>16),N=b+(S^U^I)+R[10]+3200236656&4294967295,b=S+(N<<23&4294967295|N>>>9),N=I+(b^S^U)+R[13]+681279174&4294967295,I=b+(N<<4&4294967295|N>>>28),N=U+(I^b^S)+R[0]+3936430074&4294967295,U=I+(N<<11&4294967295|N>>>21),N=S+(U^I^b)+R[3]+3572445317&4294967295,S=U+(N<<16&4294967295|N>>>16),N=b+(S^U^I)+R[6]+76029189&4294967295,b=S+(N<<23&4294967295|N>>>9),N=I+(b^S^U)+R[9]+3654602809&4294967295,I=b+(N<<4&4294967295|N>>>28),N=U+(I^b^S)+R[12]+3873151461&4294967295,U=I+(N<<11&4294967295|N>>>21),N=S+(U^I^b)+R[15]+530742520&4294967295,S=U+(N<<16&4294967295|N>>>16),N=b+(S^U^I)+R[2]+3299628645&4294967295,b=S+(N<<23&4294967295|N>>>9),N=I+(S^(b|~U))+R[0]+4096336452&4294967295,I=b+(N<<6&4294967295|N>>>26),N=U+(b^(I|~S))+R[7]+1126891415&4294967295,U=I+(N<<10&4294967295|N>>>22),N=S+(I^(U|~b))+R[14]+2878612391&4294967295,S=U+(N<<15&4294967295|N>>>17),N=b+(U^(S|~I))+R[5]+4237533241&4294967295,b=S+(N<<21&4294967295|N>>>11),N=I+(S^(b|~U))+R[12]+1700485571&4294967295,I=b+(N<<6&4294967295|N>>>26),N=U+(b^(I|~S))+R[3]+2399980690&4294967295,U=I+(N<<10&4294967295|N>>>22),N=S+(I^(U|~b))+R[10]+4293915773&4294967295,S=U+(N<<15&4294967295|N>>>17),N=b+(U^(S|~I))+R[1]+2240044497&4294967295,b=S+(N<<21&4294967295|N>>>11),N=I+(S^(b|~U))+R[8]+1873313359&4294967295,I=b+(N<<6&4294967295|N>>>26),N=U+(b^(I|~S))+R[15]+4264355552&4294967295,U=I+(N<<10&4294967295|N>>>22),N=S+(I^(U|~b))+R[6]+2734768916&4294967295,S=U+(N<<15&4294967295|N>>>17),N=b+(U^(S|~I))+R[13]+1309151649&4294967295,b=S+(N<<21&4294967295|N>>>11),N=I+(S^(b|~U))+R[4]+4149444226&4294967295,I=b+(N<<6&4294967295|N>>>26),N=U+(b^(I|~S))+R[11]+3174756917&4294967295,U=I+(N<<10&4294967295|N>>>22),N=S+(I^(U|~b))+R[2]+718787259&4294967295,S=U+(N<<15&4294967295|N>>>17),N=b+(U^(S|~I))+R[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+I&4294967295,Q.g[1]=Q.g[1]+(S+(N<<21&4294967295|N>>>11))&4294967295,Q.g[2]=Q.g[2]+S&4294967295,Q.g[3]=Q.g[3]+U&4294967295}n.prototype.u=function(Q,I){I===void 0&&(I=Q.length);for(var b=I-this.blockSize,R=this.B,S=this.h,U=0;U<I;){if(S==0)for(;U<=b;)i(this,Q,U),U+=this.blockSize;if(typeof Q=="string"){for(;U<I;)if(R[S++]=Q.charCodeAt(U++),S==this.blockSize){i(this,R),S=0;break}}else for(;U<I;)if(R[S++]=Q[U++],S==this.blockSize){i(this,R),S=0;break}}this.h=S,this.o+=I},n.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var I=1;I<Q.length-8;++I)Q[I]=0;var b=8*this.o;for(I=Q.length-8;I<Q.length;++I)Q[I]=b&255,b/=256;for(this.u(Q),Q=Array(16),I=b=0;4>I;++I)for(var R=0;32>R;R+=8)Q[b++]=this.g[I]>>>R&255;return Q};function s(Q,I){var b=o;return Object.prototype.hasOwnProperty.call(b,Q)?b[Q]:b[Q]=I(Q)}function A(Q,I){this.h=I;for(var b=[],R=!0,S=Q.length-1;0<=S;S--){var U=Q[S]|0;R&&U==I||(b[S]=U,R=!1)}this.g=b}var o={};function a(Q){return-128<=Q&&128>Q?s(Q,function(I){return new A([I|0],0>I?-1:0)}):new A([Q|0],0>Q?-1:0)}function l(Q){if(isNaN(Q)||!isFinite(Q))return d;if(0>Q)return x(l(-Q));for(var I=[],b=1,R=0;Q>=b;R++)I[R]=Q/b|0,b*=4294967296;return new A(I,0)}function u(Q,I){if(Q.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(Q.charAt(0)=="-")return x(u(Q.substring(1),I));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(I,8)),R=d,S=0;S<Q.length;S+=8){var U=Math.min(8,Q.length-S),N=parseInt(Q.substring(S,S+U),I);8>U?(U=l(Math.pow(I,U)),R=R.j(U).add(l(N))):(R=R.j(b),R=R.add(l(N)))}return R}var d=a(0),g=a(1),f=a(16777216);t=A.prototype,t.m=function(){if(C(this))return-x(this).m();for(var Q=0,I=1,b=0;b<this.g.length;b++){var R=this.i(b);Q+=(0<=R?R:4294967296+R)*I,I*=4294967296}return Q},t.toString=function(Q){if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(_(this))return"0";if(C(this))return"-"+x(this).toString(Q);for(var I=l(Math.pow(Q,6)),b=this,R="";;){var S=P(b,I).g;b=v(b,S.j(I));var U=((0<b.g.length?b.g[0]:b.h)>>>0).toString(Q);if(b=S,_(b))return U+R;for(;6>U.length;)U="0"+U;R=U+R}},t.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h};function _(Q){if(Q.h!=0)return!1;for(var I=0;I<Q.g.length;I++)if(Q.g[I]!=0)return!1;return!0}function C(Q){return Q.h==-1}t.l=function(Q){return Q=v(this,Q),C(Q)?-1:_(Q)?0:1};function x(Q){for(var I=Q.g.length,b=[],R=0;R<I;R++)b[R]=~Q.g[R];return new A(b,~Q.h).add(g)}t.abs=function(){return C(this)?x(this):this},t.add=function(Q){for(var I=Math.max(this.g.length,Q.g.length),b=[],R=0,S=0;S<=I;S++){var U=R+(this.i(S)&65535)+(Q.i(S)&65535),N=(U>>>16)+(this.i(S)>>>16)+(Q.i(S)>>>16);R=N>>>16,U&=65535,N&=65535,b[S]=N<<16|U}return new A(b,b[b.length-1]&-2147483648?-1:0)};function v(Q,I){return Q.add(x(I))}t.j=function(Q){if(_(this)||_(Q))return d;if(C(this))return C(Q)?x(this).j(x(Q)):x(x(this).j(Q));if(C(Q))return x(this.j(x(Q)));if(0>this.l(f)&&0>Q.l(f))return l(this.m()*Q.m());for(var I=this.g.length+Q.g.length,b=[],R=0;R<2*I;R++)b[R]=0;for(R=0;R<this.g.length;R++)for(var S=0;S<Q.g.length;S++){var U=this.i(R)>>>16,N=this.i(R)&65535,X=Q.i(S)>>>16,ue=Q.i(S)&65535;b[2*R+2*S]+=N*ue,E(b,2*R+2*S),b[2*R+2*S+1]+=U*ue,E(b,2*R+2*S+1),b[2*R+2*S+1]+=N*X,E(b,2*R+2*S+1),b[2*R+2*S+2]+=U*X,E(b,2*R+2*S+2)}for(R=0;R<I;R++)b[R]=b[2*R+1]<<16|b[2*R];for(R=I;R<2*I;R++)b[R]=0;return new A(b,0)};function E(Q,I){for(;(Q[I]&65535)!=Q[I];)Q[I+1]+=Q[I]>>>16,Q[I]&=65535,I++}function F(Q,I){this.g=Q,this.h=I}function P(Q,I){if(_(I))throw Error("division by zero");if(_(Q))return new F(d,d);if(C(Q))return I=P(x(Q),I),new F(x(I.g),x(I.h));if(C(I))return I=P(Q,x(I)),new F(x(I.g),I.h);if(30<Q.g.length){if(C(Q)||C(I))throw Error("slowDivide_ only works with positive integers.");for(var b=g,R=I;0>=R.l(Q);)b=K(b),R=K(R);var S=M(b,1),U=M(R,1);for(R=M(R,2),b=M(b,2);!_(R);){var N=U.add(R);0>=N.l(Q)&&(S=S.add(b),U=N),R=M(R,1),b=M(b,1)}return I=v(Q,S.j(I)),new F(S,I)}for(S=d;0<=Q.l(I);){for(b=Math.max(1,Math.floor(Q.m()/I.m())),R=Math.ceil(Math.log(b)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),U=l(b),N=U.j(I);C(N)||0<N.l(Q);)b-=R,U=l(b),N=U.j(I);_(U)&&(U=g),S=S.add(U),Q=v(Q,N)}return new F(S,Q)}t.A=function(Q){return P(this,Q).h},t.and=function(Q){for(var I=Math.max(this.g.length,Q.g.length),b=[],R=0;R<I;R++)b[R]=this.i(R)&Q.i(R);return new A(b,this.h&Q.h)},t.or=function(Q){for(var I=Math.max(this.g.length,Q.g.length),b=[],R=0;R<I;R++)b[R]=this.i(R)|Q.i(R);return new A(b,this.h|Q.h)},t.xor=function(Q){for(var I=Math.max(this.g.length,Q.g.length),b=[],R=0;R<I;R++)b[R]=this.i(R)^Q.i(R);return new A(b,this.h^Q.h)};function K(Q){for(var I=Q.g.length+1,b=[],R=0;R<I;R++)b[R]=Q.i(R)<<1|Q.i(R-1)>>>31;return new A(b,Q.h)}function M(Q,I){var b=I>>5;I%=32;for(var R=Q.g.length-b,S=[],U=0;U<R;U++)S[U]=0<I?Q.i(U+b)>>>I|Q.i(U+b+1)<<32-I:Q.i(U+b);return new A(S,Q.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,TT=n,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=l,A.fromString=u,hu=A}).apply(typeof SE<"u"?SE:typeof self<"u"?self:typeof window<"u"?window:{});var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UT,Id,NT,lm,Sy,QT,LT,PT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,B,L){return h==Array.prototype||h==Object.prototype||(h[B]=L.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof og=="object"&&og];for(var B=0;B<h.length;++B){var L=h[B];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var n=r(this);function i(h,B){if(B)e:{var L=n;h=h.split(".");for(var q=0;q<h.length-1;q++){var pe=h[q];if(!(pe in L))break e;L=L[pe]}h=h[h.length-1],q=L[h],B=B(q),B!=q&&B!=null&&e(L,h,{configurable:!0,writable:!0,value:B})}}function s(h,B){h instanceof String&&(h+="");var L=0,q=!1,pe={next:function(){if(!q&&L<h.length){var _e=L++;return{value:B(_e,h[_e]),done:!1}}return q=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}i("Array.prototype.values",function(h){return h||function(){return s(this,function(B,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},o=this||self;function a(h){var B=typeof h;return B=B!="object"?B:h?Array.isArray(h)?"array":B:"null",B=="array"||B=="object"&&typeof h.length=="number"}function l(h){var B=typeof h;return B=="object"&&h!=null||B=="function"}function u(h,B,L){return h.call.apply(h.bind,arguments)}function d(h,B,L){if(!h)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,q),h.apply(B,pe)}}return function(){return h.apply(B,arguments)}}function g(h,B,L){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,g.apply(null,arguments)}function f(h,B){var L=Array.prototype.slice.call(arguments,1);return function(){var q=L.slice();return q.push.apply(q,arguments),h.apply(this,q)}}function _(h,B){function L(){}L.prototype=B.prototype,h.aa=B.prototype,h.prototype=new L,h.prototype.constructor=h,h.Qb=function(q,pe,_e){for(var Re=Array(arguments.length-2),er=2;er<arguments.length;er++)Re[er-2]=arguments[er];return B.prototype[pe].apply(q,Re)}}function C(h){const B=h.length;if(0<B){const L=Array(B);for(let q=0;q<B;q++)L[q]=h[q];return L}return[]}function x(h,B){for(let L=1;L<arguments.length;L++){const q=arguments[L];if(a(q)){const pe=h.length||0,_e=q.length||0;h.length=pe+_e;for(let Re=0;Re<_e;Re++)h[pe+Re]=q[Re]}else h.push(q)}}class v{constructor(B,L){this.i=B,this.j=L,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function E(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function P(h){return P[" "](h),h}P[" "]=function(){};var K=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function M(h,B,L){for(const q in h)B.call(L,h[q],q,h)}function Q(h,B){for(const L in h)B.call(void 0,h[L],L,h)}function I(h){const B={};for(const L in h)B[L]=h[L];return B}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(h,B){let L,q;for(let pe=1;pe<arguments.length;pe++){q=arguments[pe];for(L in q)h[L]=q[L];for(let _e=0;_e<b.length;_e++)L=b[_e],Object.prototype.hasOwnProperty.call(q,L)&&(h[L]=q[L])}}function S(h){var B=1;h=h.split(":");const L=[];for(;0<B&&h.length;)L.push(h.shift()),B--;return h.length&&L.push(h.join(":")),L}function U(h){o.setTimeout(()=>{throw h},0)}function N(){var h=ne;let B=null;return h.g&&(B=h.g,h.g=h.g.next,h.g||(h.h=null),B.next=null),B}class X{constructor(){this.h=this.g=null}add(B,L){const q=ue.get();q.set(B,L),this.h?this.h.next=q:this.g=q,this.h=q}}var ue=new v(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(B,L){this.h=B,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let se,z=!1,ne=new X,fe=()=>{const h=o.Promise.resolve(void 0);se=()=>{h.then(me)}};var me=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(L){U(L)}var B=ue;B.j(h),100>B.h&&(B.h++,h.next=B.g,B.g=h)}z=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,B){this.type=h,this.g=this.target=B,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,B=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const L=()=>{};o.addEventListener("test",L,B),o.removeEventListener("test",L,B)}catch{}return h}();function re(h,B){if(V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var L=this.type=h.type,q=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=B,B=h.relatedTarget){if(K){e:{try{P(B.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(B=null)}}else L=="mouseover"?B=h.fromElement:L=="mouseout"&&(B=h.toElement);this.relatedTarget=B,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ae[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&re.aa.h.call(this)}}_(re,V);var Ae={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Be=0;function he(h,B,L,q,pe){this.listener=h,this.proxy=null,this.src=B,this.type=L,this.capture=!!q,this.ha=pe,this.key=++Be,this.da=this.fa=!1}function Ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h){this.src=h,this.g={},this.h=0}Pe.prototype.add=function(h,B,L,q,pe){var _e=h.toString();h=this.g[_e],h||(h=this.g[_e]=[],this.h++);var Re=qe(h,B,q,pe);return-1<Re?(B=h[Re],L||(B.fa=!1)):(B=new he(B,this.src,_e,!!q,pe),B.fa=L,h.push(B)),B};function Ge(h,B){var L=B.type;if(L in h.g){var q=h.g[L],pe=Array.prototype.indexOf.call(q,B,void 0),_e;(_e=0<=pe)&&Array.prototype.splice.call(q,pe,1),_e&&(Ce(B),h.g[L].length==0&&(delete h.g[L],h.h--))}}function qe(h,B,L,q){for(var pe=0;pe<h.length;++pe){var _e=h[pe];if(!_e.da&&_e.listener==B&&_e.capture==!!L&&_e.ha==q)return pe}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),ee={};function Nt(h,B,L,q,pe){if(Array.isArray(B)){for(var _e=0;_e<B.length;_e++)Nt(h,B[_e],L,q,pe);return null}return L=bt(L),h&&h[ce]?h.K(B,L,l(q)?!!q.capture:!1,pe):Ie(h,B,L,!1,q,pe)}function Ie(h,B,L,q,pe,_e){if(!B)throw Error("Invalid event type");var Re=l(pe)?!!pe.capture:!!pe,er=je(h);if(er||(h[Ee]=er=new Pe(h)),L=er.add(B,L,q,Re,_e),L.proxy)return L;if(q=Oe(),L.proxy=q,q.src=h,q.listener=L,h.addEventListener)$||(pe=Re),pe===void 0&&(pe=!1),h.addEventListener(B.toString(),q,pe);else if(h.attachEvent)h.attachEvent(Ne(B.toString()),q);else if(h.addListener&&h.removeListener)h.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Oe(){function h(L){return B.call(h.src,h.listener,L)}const B=Ye;return h}function be(h,B,L,q,pe){if(Array.isArray(B))for(var _e=0;_e<B.length;_e++)be(h,B[_e],L,q,pe);else q=l(q)?!!q.capture:!!q,L=bt(L),h&&h[ce]?(h=h.i,B=String(B).toString(),B in h.g&&(_e=h.g[B],L=qe(_e,L,q,pe),-1<L&&(Ce(_e[L]),Array.prototype.splice.call(_e,L,1),_e.length==0&&(delete h.g[B],h.h--)))):h&&(h=je(h))&&(B=h.g[B.toString()],h=-1,B&&(h=qe(B,L,q,pe)),(L=-1<h?B[h]:null)&&He(L))}function He(h){if(typeof h!="number"&&h&&!h.da){var B=h.src;if(B&&B[ce])Ge(B.i,h);else{var L=h.type,q=h.proxy;B.removeEventListener?B.removeEventListener(L,q,h.capture):B.detachEvent?B.detachEvent(Ne(L),q):B.addListener&&B.removeListener&&B.removeListener(q),(L=je(B))?(Ge(L,h),L.h==0&&(L.src=null,B[Ee]=null)):Ce(h)}}}function Ne(h){return h in ee?ee[h]:ee[h]="on"+h}function Ye(h,B){if(h.da)h=!0;else{B=new re(B,this);var L=h.listener,q=h.ha||h.src;h.fa&&He(h),h=L.call(q,B)}return h}function je(h){return h=h[Ee],h instanceof Pe?h:null}var Gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(h){return typeof h=="function"?h:(h[Gt]||(h[Gt]=function(B){return h.handleEvent(B)}),h[Gt])}function ot(){O.call(this),this.i=new Pe(this),this.M=this,this.F=null}_(ot,O),ot.prototype[ce]=!0,ot.prototype.removeEventListener=function(h,B,L,q){be(this,h,B,L,q)};function Ft(h,B){var L,q=h.F;if(q)for(L=[];q;q=q.F)L.push(q);if(h=h.M,q=B.type||B,typeof B=="string")B=new V(B,h);else if(B instanceof V)B.target=B.target||h;else{var pe=B;B=new V(q,h),R(B,pe)}if(pe=!0,L)for(var _e=L.length-1;0<=_e;_e--){var Re=B.g=L[_e];pe=Bt(Re,q,!0,B)&&pe}if(Re=B.g=h,pe=Bt(Re,q,!0,B)&&pe,pe=Bt(Re,q,!1,B)&&pe,L)for(_e=0;_e<L.length;_e++)Re=B.g=L[_e],pe=Bt(Re,q,!1,B)&&pe}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var h=this.i,B;for(B in h.g){for(var L=h.g[B],q=0;q<L.length;q++)Ce(L[q]);delete h.g[B],h.h--}}this.F=null},ot.prototype.K=function(h,B,L,q){return this.i.add(String(h),B,!1,L,q)},ot.prototype.L=function(h,B,L,q){return this.i.add(String(h),B,!0,L,q)};function Bt(h,B,L,q){if(B=h.i.g[String(B)],!B)return!0;B=B.concat();for(var pe=!0,_e=0;_e<B.length;++_e){var Re=B[_e];if(Re&&!Re.da&&Re.capture==L){var er=Re.listener,Mr=Re.ha||Re.src;Re.fa&&Ge(h.i,Re),pe=er.call(Mr,q)!==!1&&pe}}return pe&&!q.defaultPrevented}function lt(h,B,L){if(typeof h=="function")L&&(h=g(h,L));else if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:o.setTimeout(h,B||0)}function gt(h){h.g=lt(()=>{h.g=null,h.i&&(h.i=!1,gt(h))},h.l);const B=h.h;h.h=null,h.m.apply(null,B)}class ct extends O{constructor(B,L){super(),this.m=B,this.l=L,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:gt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(h){O.call(this),this.h=h,this.g={}}_(Zt,O);var Wt=[];function nt(h){M(h.g,function(B,L){this.g.hasOwnProperty(L)&&He(B)},h),h.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),nt(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=o.JSON.stringify,Ar=o.JSON.parse,pt=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function Pt(){}Pt.prototype.h=null;function It(h){return h.h||(h.h=h.i())}function kr(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){V.call(this,"d")}_(rr,V);function wt(){V.call(this,"c")}_(wt,V);var kt={},SA=null;function on(){return SA=SA||new ot}kt.La="serverreachability";function Ts(h){V.call(this,kt.La,h)}_(Ts,V);function ai(h){const B=on();Ft(B,new Ts(B))}kt.STAT_EVENT="statevent";function ft(h,B){V.call(this,kt.STAT_EVENT,h),this.stat=B}_(ft,V);function Ur(h){const B=on();Ft(B,new ft(B,h))}kt.Ma="timingevent";function Us(h,B){V.call(this,kt.Ma,h),this.size=B}_(Us,V);function kn(h,B){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},B)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function Dr(h,B,L,q,pe,_e){h.info(function(){if(h.g)if(_e)for(var Re="",er=_e.split("&"),Mr=0;Mr<er.length;Mr++){var Dt=er[Mr].split("=");if(1<Dt.length){var Ht=Dt[0];Dt=Dt[1];var ar=Ht.split("_");Re=2<=ar.length&&ar[1]=="type"?Re+(Ht+"="+Dt+"&"):Re+(Ht+"=redacted&")}}else Re=null;else Re=_e;return"XMLHTTP REQ ("+q+") [attempt "+pe+"]: "+B+`
`+L+`
`+Re})}function _n(h,B,L,q,pe,_e,Re){h.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+pe+"]: "+B+`
`+L+`
`+_e+" "+Re})}function Or(h,B,L,q){h.info(function(){return"XMLHTTP TEXT ("+B+"): "+TA(h,L)+(q?" "+q:"")})}function ho(h,B){h.info(function(){return"TIMEOUT: "+B})}Dn.prototype.info=function(){};function TA(h,B){if(!h.g)return B;if(!B)return null;try{var L=JSON.parse(B);if(L){for(h=0;h<L.length;h++)if(Array.isArray(L[h])){var q=L[h];if(!(2>q.length)){var pe=q[1];if(Array.isArray(pe)&&!(1>pe.length)){var _e=pe[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var Re=1;Re<pe.length;Re++)pe[Re]=""}}}}return _t(L)}catch{return B}}var li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ss={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function ui(){}_(ui,Pt),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},bi=new ui;function an(h,B,L,q){this.j=h,this.i=B,this.l=L,this.R=q||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new UA}function UA(){this.i=null,this.g="",this.h=!1}var As={},rA={};function NA(h,B,L){h.L=1,h.v=mo(Ii(B)),h.m=L,h.P=!0,fo(h,null)}function fo(h,B){h.F=Date.now(),QA(h),h.A=Ii(h.v);var L=h.A,q=h.R;Array.isArray(q)||(q=[String(q)]),vt(L.i,"t",q),h.C=0,L=h.j.J,h.h=new UA,h.g=AA(h.j,L?B:null,!h.m),0<h.O&&(h.M=new ct(g(h.Y,h,h.g),h.O)),B=h.U,L=h.g,q=h.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(Wt[0]=pe.toString()),pe=Wt);for(var _e=0;_e<pe.length;_e++){var Re=Nt(L,pe[_e],q||B.handleEvent,!1,B.h||B);if(!Re)break;B.g[Re.key]=Re}B=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,B)):(h.u="GET",h.g.ea(h.A,h.u,null,B)),ai(),Dr(h.i,h.u,h.A,h.l,h.R,h.m)}an.prototype.ca=function(h){h=h.target;const B=this.M;B&&xi(h)==3?B.j():this.Y(h)},an.prototype.Y=function(h){try{if(h==this.g)e:{const ar=xi(this.g);var B=this.g.Ba();const Ps=this.g.Z();if(!(3>ar)&&(ar!=3||this.g&&(this.h.h||this.g.oa()||pa(this.g)))){this.J||ar!=4||B==7||(B==8||0>=Ps?ai(3):ai(2)),oa(this);var L=this.g.Z();this.X=L;t:if(po(this)){var q=pa(this.g);h="";var pe=q.length,_e=xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),On(this);var Re="";break t}this.h.i=new o.TextDecoder}for(B=0;B<pe;B++)this.h.h=!0,h+=this.h.i.decode(q[B],{stream:!(_e&&B==pe-1)});q.length=0,this.h.g+=h,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=L==200,_n(this.i,this.u,this.A,this.l,this.R,ar,L),this.o){if(this.T&&!this.K){t:{if(this.g){var er,Mr=this.g;if((er=Mr.g?Mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(er)){var Dt=er;break t}}Dt=null}if(L=Dt)Or(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,L);else{this.o=!1,this.s=3,Ur(12),os(this),On(this);break e}}if(this.P){L=!0;let qn;for(;!this.J&&this.C<Re.length;)if(qn=Qh(this,Re),qn==rA){ar==4&&(this.s=4,Ur(14),L=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==As){this.s=4,Ur(15),Or(this.i,this.l,Re,"[Invalid Chunk]"),L=!1;break}else Or(this.i,this.l,qn,null),aa(this,qn);if(po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ar!=4||Re.length!=0||this.h.h||(this.s=1,Ur(16),L=!1),this.o=this.o&&L,!L)Or(this.i,this.l,Re,"[Invalid Chunked Response]"),os(this),On(this);else if(0<Re.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),qt(Ht),Ht.M=!0,Ur(11))}}else Or(this.i,this.l,Re,null),aa(this,Re);ar==4&&os(this),this.o&&!this.J&&(ar==4?nr(this.j,this):(this.o=!1,QA(this)))}else Fi(this.g),L==400&&0<Re.indexOf("Unknown SID")?(this.s=3,Ur(12)):(this.s=0,Ur(13)),os(this),On(this)}}}catch{}finally{}};function po(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Qh(h,B){var L=h.C,q=B.indexOf(`
`,L);return q==-1?rA:(L=Number(B.substring(L,q)),isNaN(L)?As:(q+=1,q+L>B.length?rA:(B=B.slice(q,q+L),h.C=q+L,B)))}an.prototype.cancel=function(){this.J=!0,os(this)};function QA(h){h.S=Date.now()+h.I,Ul(h,h.I)}function Ul(h,B){if(h.B!=null)throw Error("WatchDog timer not null");h.B=kn(g(h.ba,h),B)}function oa(h){h.B&&(o.clearTimeout(h.B),h.B=null)}an.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ho(this.i,this.A),this.L!=2&&(ai(),Ur(17)),os(this),this.s=2,On(this)):Ul(this,this.S-h)};function On(h){h.j.G==0||h.J||nr(h.j,h)}function os(h){oa(h);var B=h.M;B&&typeof B.ma=="function"&&B.ma(),h.M=null,nt(h.U),h.g&&(B=h.g,h.g=null,B.abort(),B.ma())}function aa(h,B){try{var L=h.j;if(L.G!=0&&(L.g==h||LA(L.h,h))){if(!h.K&&LA(L.h,h)&&L.G==3){try{var q=L.Da.g.parse(B)}catch{q=null}if(Array.isArray(q)&&q.length==3){var pe=q;if(pe[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<h.F)Nr(L),Y(L);else break e;xt(L),Ur(18)}}else L.za=pe[1],0<L.za-L.T&&37500>pe[2]&&L.F&&L.v==0&&!L.C&&(L.C=kn(g(L.Za,L),6e3));if(1>=Pl(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else mr(L,11)}else if((h.K||L.g==h)&&Nr(L),!E(B))for(pe=L.Da.g.parse(B),B=0;B<pe.length;B++){let Dt=pe[B];if(L.T=Dt[0],Dt=Dt[1],L.G==2)if(Dt[0]=="c"){L.K=Dt[1],L.ia=Dt[2];const Ht=Dt[3];Ht!=null&&(L.la=Ht,L.j.info("VER="+L.la));const ar=Dt[4];ar!=null&&(L.Aa=ar,L.j.info("SVER="+L.Aa));const Ps=Dt[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(q=1.5*Ps,L.L=q,L.j.info("backChannelRequestTimeoutMs_="+q)),q=L;const qn=h.g;if(qn){const us=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var _e=q.h;_e.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(Rl(_e,_e.h),_e.h=null))}if(q.D){const VA=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;VA&&(q.ya=VA,Mt(q.I,q.D,VA))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-h.F,L.j.info("Handshake RTT: "+L.R+"ms")),q=L;var Re=h;if(q.qa=Ls(q,q.J?q.ia:null,q.W),Re.K){$r(q.h,Re);var er=Re,Mr=q.L;Mr&&(er.I=Mr),er.B&&(oa(er),QA(er)),q.g=Re}else mt(q);0<L.i.length&&de(L)}else Dt[0]!="stop"&&Dt[0]!="close"||mr(L,7);else L.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?mr(L,7):k(L):Dt[0]!="noop"&&L.l&&L.l.ta(Dt),L.v=0)}}ai(4)}catch{}}var Nl=class{constructor(h,B){this.g=h,this.map=B}};function Ql(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ll(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pl(h){return h.h?1:h.g?h.g.size:0}function LA(h,B){return h.h?h.h==B:h.g?h.g.has(B):!1}function Rl(h,B){h.g?h.g.add(B):h.h=B}function $r(h,B){h.h&&h.h==B?h.h=null:h.g&&h.g.has(B)&&h.g.delete(B)}Ql.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let B=h.i;for(const L of h.g.values())B=B.concat(L.D);return B}return C(h.i)}function qu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(a(h)){for(var B=[],L=h.length,q=0;q<L;q++)B.push(h[q]);return B}B=[],L=0;for(q in h)B[L++]=h[q];return B}function nA(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(a(h)||typeof h=="string"){var B=[];h=h.length;for(var L=0;L<h;L++)B.push(L);return B}B=[],L=0;for(const q in h)B[L++]=q;return B}}}function PA(h,B){if(h.forEach&&typeof h.forEach=="function")h.forEach(B,void 0);else if(a(h)||typeof h=="string")Array.prototype.forEach.call(h,B,void 0);else for(var L=nA(h),q=qu(h),pe=q.length,_e=0;_e<pe;_e++)B.call(void 0,q[_e],L&&L[_e],h)}var Hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function go(h,B){if(h){h=h.split("&");for(var L=0;L<h.length;L++){var q=h[L].indexOf("="),pe=null;if(0<=q){var _e=h[L].substring(0,q);pe=h[L].substring(q+1)}else _e=h[L];B(_e,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function or(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof or){this.h=h.h,la(this,h.j),this.o=h.o,this.g=h.g,ua(this,h.s),this.l=h.l;var B=h.i,L=new ji;L.i=B.i,B.g&&(L.g=new Map(B.g),L.h=B.h),zu(this,L),this.m=h.m}else h&&(B=String(h).match(Hi))?(this.h=!1,la(this,B[1]||"",!0),this.o=RA(B[2]||""),this.g=RA(B[3]||"",!0),ua(this,B[4]),this.l=RA(B[5]||"",!0),zu(this,B[6]||"",!0),this.m=RA(B[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}or.prototype.toString=function(){var h=[],B=this.j;B&&h.push(Vi(B,Wu,!0),":");var L=this.g;return(L||B=="file")&&(h.push("//"),(B=this.o)&&h.push(Vi(B,Wu,!0),"@"),h.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&h.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&h.push("/"),h.push(Vi(L,L.charAt(0)=="/"?Ph:Lh,!0))),(L=this.i.toString())&&h.push("?",L),(L=this.m)&&h.push("#",Vi(L,wo)),h.join("")};function Ii(h){return new or(h)}function la(h,B,L){h.j=L?RA(B,!0):B,h.j&&(h.j=h.j.replace(/:$/,""))}function ua(h,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);h.s=B}else h.s=null}function zu(h,B,L){B instanceof ji?(h.i=B,Rh(h.i,h.h)):(L||(B=Vi(B,Ol)),h.i=new ji(B,h.h))}function Mt(h,B,L){h.i.set(B,L)}function mo(h){return Mt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function RA(h,B){return h?B?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vi(h,B,L){return typeof h=="string"?(h=encodeURI(h).replace(B,Dl),L&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Wu=/[#\/\?@]/g,Lh=/[#\?:]/g,Ph=/[#\?]/g,Ol=/[#\?@]/g,wo=/#/g;function ji(h,B){this.h=this.g=null,this.i=h||null,this.j=!!B}function Ns(h){h.g||(h.g=new Map,h.h=0,h.i&&go(h.i,function(B,L){h.add(decodeURIComponent(B.replace(/\+/g," ")),L)}))}t=ji.prototype,t.add=function(h,B){Ns(this),this.i=null,h=DA(this,h);var L=this.g.get(h);return L||this.g.set(h,L=[]),L.push(B),this.h+=1,this};function kA(h,B){Ns(h),B=DA(h,B),h.g.has(B)&&(h.i=null,h.h-=h.g.get(B).length,h.g.delete(B))}function ca(h,B){return Ns(h),B=DA(h,B),h.g.has(B)}t.forEach=function(h,B){Ns(this),this.g.forEach(function(L,q){L.forEach(function(pe){h.call(B,pe,q,this)},this)},this)},t.na=function(){Ns(this);const h=Array.from(this.g.values()),B=Array.from(this.g.keys()),L=[];for(let q=0;q<B.length;q++){const pe=h[q];for(let _e=0;_e<pe.length;_e++)L.push(B[q])}return L},t.V=function(h){Ns(this);let B=[];if(typeof h=="string")ca(this,h)&&(B=B.concat(this.g.get(DA(this,h))));else{h=Array.from(this.g.values());for(let L=0;L<h.length;L++)B=B.concat(h[L])}return B},t.set=function(h,B){return Ns(this),this.i=null,h=DA(this,h),ca(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[B]),this.h+=1,this},t.get=function(h,B){return h?(h=this.V(h),0<h.length?String(h[0]):B):B};function vt(h,B,L){kA(h,B),0<L.length&&(h.i=null,h.g.set(DA(h,B),C(L)),h.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],B=Array.from(this.g.keys());for(var L=0;L<B.length;L++){var q=B[L];const _e=encodeURIComponent(String(q)),Re=this.V(q);for(q=0;q<Re.length;q++){var pe=_e;Re[q]!==""&&(pe+="="+encodeURIComponent(String(Re[q]))),h.push(pe)}}return this.i=h.join("&")};function DA(h,B){return B=String(B),h.j&&(B=B.toLowerCase()),B}function Rh(h,B){B&&!h.j&&(Ns(h),h.i=null,h.g.forEach(function(L,q){var pe=q.toLowerCase();q!=pe&&(kA(this,q),vt(this,pe,L))},h)),h.j=B}function kh(h,B){const L=new Dn;if(o.Image){const q=new Image;q.onload=f(Mn,L,"TestLoadImage: loaded",!0,B,q),q.onerror=f(Mn,L,"TestLoadImage: error",!1,B,q),q.onabort=f(Mn,L,"TestLoadImage: abort",!1,B,q),q.ontimeout=f(Mn,L,"TestLoadImage: timeout",!1,B,q),o.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=h}else B(!1)}function Dh(h,B){const L=new Dn,q=new AbortController,pe=setTimeout(()=>{q.abort(),Mn(L,"TestPingServer: timeout",!1,B)},1e4);fetch(h,{signal:q.signal}).then(_e=>{clearTimeout(pe),_e.ok?Mn(L,"TestPingServer: ok",!0,B):Mn(L,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(pe),Mn(L,"TestPingServer: error",!1,B)})}function Mn(h,B,L,q,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),q(L)}catch{}}function iA(){this.g=new pt}function Oh(h,B,L){const q=L||"";try{PA(h,function(pe,_e){let Re=pe;l(pe)&&(Re=_t(pe)),B.push(q+_e+"="+encodeURIComponent(Re))})}catch(pe){throw B.push(q+"type="+encodeURIComponent("_badmap")),pe}}function ha(h){this.l=h.Ub||null,this.j=h.eb||!1}_(ha,Pt),ha.prototype.g=function(){return new sA(this.l,this.j)},ha.prototype.i=function(h){return function(){return h}}({});function sA(h,B){ot.call(this),this.D=h,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(sA,ot),t=sA.prototype,t.open=function(h,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=B,this.readyState=1,Qs(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(B.body=h),(this.D||o).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,as(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;da(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function da(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var B=h.value?h.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!h.done}))&&(this.response=this.responseText+=B)}h.done?as(this):Qs(this),this.readyState==3&&da(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,as(this))},t.Qa=function(h){this.g&&(this.response=h,as(this))},t.ga=function(){this.g&&as(this)};function as(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Qs(h)}t.setRequestHeader=function(h,B){this.u.append(h,B)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],B=this.h.entries();for(var L=B.next();!L.done;)L=L.value,h.push(L[0]+": "+L[1]),L=B.next();return h.join(`\r
`)};function Qs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(sA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function vo(h){let B="";return M(h,function(L,q){B+=q,B+=":",B+=L,B+=`\r
`}),B}function Ml(h,B,L){e:{for(q in L){var q=!1;break e}q=!0}q||(L=vo(L),typeof h=="string"?L!=null&&encodeURIComponent(String(L)):Mt(h,B,L))}function gr(h){ot.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(gr,ot);var Hl=/^https?$/i,yo=["POST","PUT"];t=gr.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,B,L,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);B=B?B.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?It(this.o):It(bi),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(B,String(h),!0),this.B=!1}catch(_e){OA(this,_e);return}if(h=L||"",L=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var pe in q)L.set(pe,q[pe]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const _e of q.keys())L.set(_e,q.get(_e));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(L.keys()).find(_e=>_e.toLowerCase()=="content-type"),pe=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(yo,B,void 0))||q||pe||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Re]of L)this.g.setRequestHeader(_e,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{HA(this),this.u=!0,this.g.send(h),this.u=!1}catch(_e){OA(this,_e)}};function OA(h,B){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=B,h.m=5,fa(h),MA(h)}function fa(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ft(this,"complete"),Ft(this,"abort"),MA(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),MA(this,!0)),gr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bo(this):this.bb())},t.bb=function(){Bo(this)};function Bo(h){if(h.h&&typeof A<"u"&&(!h.v[1]||xi(h)!=4||h.Z()!=2)){if(h.u&&xi(h)==4)lt(h.Ea,0,h);else if(Ft(h,"readystatechange"),xi(h)==4){h.h=!1;try{const Re=h.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var L;if(!(L=B)){var q;if(q=Re===0){var pe=String(h.D).match(Hi)[1]||null;!pe&&o.self&&o.self.location&&(pe=o.self.location.protocol.slice(0,-1)),q=!Hl.test(pe?pe.toLowerCase():"")}L=q}if(L)Ft(h,"complete"),Ft(h,"success");else{h.m=6;try{var _e=2<xi(h)?h.g.statusText:""}catch{_e=""}h.l=_e+" ["+h.Z()+"]",fa(h)}}finally{MA(h)}}}}function MA(h,B){if(h.g){HA(h);const L=h.g,q=h.v[0]?()=>{}:null;h.g=null,h.v=null,B||Ft(h,"ready");try{L.onreadystatechange=q}catch{}}}function HA(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function xi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var B=this.g.responseText;return h&&B.indexOf(h)==0&&(B=B.substring(h.length)),Ar(B)}};function pa(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(h){const B={};h=(h.g&&2<=xi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<h.length;q++){if(E(h[q]))continue;var L=S(h[q]);const pe=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const _e=B[pe]||[];B[pe]=_e,_e.push(L)}Q(B,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(h,B,L){return L&&L.internalChannelParams&&L.internalChannelParams[h]||B}function w(h){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ci("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ci("baseRetryDelayMs",5e3,h),this.cb=ci("retryDelaySeedMs",1e4,h),this.Wa=ci("forwardChannelMaxRetries",2,h),this.wa=ci("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ql(h&&h.concurrentRequestLimit),this.Da=new iA,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w.prototype,t.la=8,t.G=1,t.connect=function(h,B,L,q){Ur(0),this.W=h,this.H=B||{},L&&q!==void 0&&(this.H.OSID=L,this.H.OAID=q),this.F=this.X,this.I=Ls(this,null,this.W),de(this)};function k(h){if(ie(h),h.G==3){var B=h.U++,L=Ii(h.I);if(Mt(L,"SID",h.K),Mt(L,"RID",B),Mt(L,"TYPE","terminate"),$e(h,L),B=new an(h,h.j,B),B.L=2,B.v=mo(Ii(L)),L=!1,o.navigator&&o.navigator.sendBeacon)try{L=o.navigator.sendBeacon(B.v.toString(),"")}catch{}!L&&o.Image&&(new Image().src=B.v,L=!0),L||(B.g=AA(B.j,null),B.g.ea(B.v)),B.F=Date.now(),QA(B)}Cn(h)}function Y(h){h.g&&(qt(h),h.g.cancel(),h.g=null)}function ie(h){Y(h),h.u&&(o.clearTimeout(h.u),h.u=null),Nr(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function de(h){if(!Ll(h.h)&&!h.s){h.s=!0;var B=h.Ga;se||fe(),z||(se(),z=!0),ne.add(B,h),h.B=0}}function Te(h,B){return Pl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=B.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=kn(g(h.Ga,h,B),en(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const pe=new an(this,this.j,h);let _e=this.o;if(this.S&&(_e?(_e=I(_e),R(_e,this.S)):_e=this.S),this.m!==null||this.O||(pe.H=_e,_e=null),this.P)e:{for(var B=0,L=0;L<this.i.length;L++){t:{var q=this.i[L];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(B+=q,4096<B){B=L;break e}if(B===4096||L===this.i.length-1){B=L+1;break e}}B=1e3}else B=1e3;B=rt(this,pe,B),L=Ii(this.I),Mt(L,"RID",h),Mt(L,"CVER",22),this.D&&Mt(L,"X-HTTP-Session-Id",this.D),$e(this,L),_e&&(this.O?B="headers="+encodeURIComponent(String(vo(_e)))+"&"+B:this.m&&Ml(L,this.m,_e)),Rl(this.h,pe),this.Ua&&Mt(L,"TYPE","init"),this.P?(Mt(L,"$req",B),Mt(L,"SID","null"),pe.T=!0,NA(pe,L,null)):NA(pe,L,B),this.G=2}}else this.G==3&&(h?Qe(this,h):this.i.length==0||Ll(this.h)||Qe(this))};function Qe(h,B){var L;B?L=B.l:L=h.U++;const q=Ii(h.I);Mt(q,"SID",h.K),Mt(q,"RID",L),Mt(q,"AID",h.T),$e(h,q),h.m&&h.o&&Ml(q,h.m,h.o),L=new an(h,h.j,L,h.B+1),h.m===null&&(L.H=h.o),B&&(h.i=B.D.concat(h.i)),B=rt(h,L,1e3),L.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Rl(h.h,L),NA(L,q,B)}function $e(h,B){h.H&&M(h.H,function(L,q){Mt(B,q,L)}),h.l&&PA({},function(L,q){Mt(B,q,L)})}function rt(h,B,L){L=Math.min(h.i.length,L);var q=h.l?g(h.l.Na,h.l,h):null;e:{var pe=h.i;let _e=-1;for(;;){const Re=["count="+L];_e==-1?0<L?(_e=pe[0].g,Re.push("ofs="+_e)):_e=0:Re.push("ofs="+_e);let er=!0;for(let Mr=0;Mr<L;Mr++){let Dt=pe[Mr].g;const Ht=pe[Mr].map;if(Dt-=_e,0>Dt)_e=Math.max(0,pe[Mr].g-100),er=!1;else try{Oh(Ht,Re,"req"+Dt+"_")}catch{q&&q(Ht)}}if(er){q=Re.join("&");break e}}}return h=h.i.splice(0,L),B.D=h,q}function mt(h){if(!h.g&&!h.u){h.Y=1;var B=h.Fa;se||fe(),z||(se(),z=!0),ne.add(B,h),h.v=0}}function xt(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=kn(g(h.Fa,h),en(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Er(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=kn(g(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ur(10),Y(this),Er(this))};function qt(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function Er(h){h.g=new an(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var B=Ii(h.qa);Mt(B,"RID","rpc"),Mt(B,"SID",h.K),Mt(B,"AID",h.T),Mt(B,"CI",h.F?"0":"1"),!h.F&&h.ja&&Mt(B,"TO",h.ja),Mt(B,"TYPE","xmlhttp"),$e(h,B),h.m&&h.o&&Ml(B,h.m,h.o),h.L&&(h.g.I=h.L);var L=h.g;h=h.ia,L.L=1,L.v=mo(Ii(B)),L.m=null,L.P=!0,fo(L,h)}t.Za=function(){this.C!=null&&(this.C=null,Y(this),xt(this),Ur(19))};function Nr(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function nr(h,B){var L=null;if(h.g==B){Nr(h),qt(h),h.g=null;var q=2}else if(LA(h.h,B))L=B.D,$r(h.h,B),q=1;else return;if(h.G!=0){if(B.o)if(q==1){L=B.m?B.m.length:0,B=Date.now()-B.F;var pe=h.B;q=on(),Ft(q,new Us(q,L)),de(h)}else mt(h);else if(pe=B.s,pe==3||pe==0&&0<B.X||!(q==1&&Te(h,B)||q==2&&xt(h)))switch(L&&0<L.length&&(B=h.h,B.i=B.i.concat(L)),pe){case 1:mr(h,5);break;case 4:mr(h,10);break;case 3:mr(h,6);break;default:mr(h,2)}}}function en(h,B){let L=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(L*=2),L*B}function mr(h,B){if(h.j.info("Error code "+B),B==2){var L=g(h.fb,h),q=h.Xa;const pe=!q;q=new or(q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||la(q,"https"),mo(q),pe?kh(q.toString(),L):Dh(q.toString(),L)}else Ur(2);h.G=0,h.l&&h.l.sa(B),Cn(h),ie(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ur(2)):(this.j.info("Failed to ping google.com"),Ur(1))};function Cn(h){if(h.G=0,h.ka=[],h.l){const B=kl(h.h);(B.length!=0||h.i.length!=0)&&(x(h.ka,B),x(h.ka,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.ra()}}function Ls(h,B,L){var q=L instanceof or?Ii(L):new or(L);if(q.g!="")B&&(q.g=B+"."+q.g),ua(q,q.s);else{var pe=o.location;q=pe.protocol,B=B?B+"."+pe.hostname:pe.hostname,pe=+pe.port;var _e=new or(null);q&&la(_e,q),B&&(_e.g=B),pe&&ua(_e,pe),L&&(_e.l=L),q=_e}return L=h.D,B=h.ya,L&&B&&Mt(q,L,B),Mt(q,"VER",h.la),$e(h,q),q}function AA(h,B,L){if(B&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=h.Ca&&!h.pa?new gr(new ha({eb:L})):new gr(h.pa),B.Ha(h.J),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}t=$u.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _o(){}_o.prototype.g=function(h,B){return new ln(h,B)};function ln(h,B){ot.call(this),this.g=new w(B),this.l=h,this.h=B&&B.messageUrlParams||null,h=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(h?h["X-WebChannel-Content-Type"]=B.messageContentType:h={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(h?h["X-WebChannel-Client-Profile"]=B.va:h={"X-WebChannel-Client-Profile":B.va}),this.g.S=h,(h=B&&B.Sb)&&!E(h)&&(this.g.m=h),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!E(B)&&(this.g.D=B,h=this.h,h!==null&&B in h&&(h=this.h,B in h&&delete h[B])),this.j=new ls(this)}_(ln,ot),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){k(this.g)},ln.prototype.o=function(h){var B=this.g;if(typeof h=="string"){var L={};L.__data__=h,h=L}else this.u&&(L={},L.__data__=_t(h),h=L);B.i.push(new Nl(B.Ya++,h)),B.G==3&&de(B)},ln.prototype.N=function(){this.g.l=null,delete this.j,k(this.g),delete this.g,ln.aa.N.call(this)};function Ki(h){rr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var B=h.__sm__;if(B){e:{for(const L in B){h=L;break e}h=void 0}(this.i=h)&&(h=this.i,B=B!==null&&h in B?B[h]:void 0),this.data=B}else this.data=h}_(Ki,rr);function ga(){wt.call(this),this.status=1}_(ga,wt);function ls(h){this.g=h}_(ls,$u),ls.prototype.ua=function(){Ft(this.g,"a")},ls.prototype.ta=function(h){Ft(this.g,new Ki(h))},ls.prototype.sa=function(h){Ft(this.g,new ga)},ls.prototype.ra=function(){Ft(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,PT=function(){return new _o},LT=function(){return on()},QT=kt,Sy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,lm=li,ss.COMPLETE="complete",NT=ss,kr.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Id=kr,gr.prototype.listenOnce=gr.prototype.L,gr.prototype.getLastError=gr.prototype.Ka,gr.prototype.getLastErrorCode=gr.prototype.Ba,gr.prototype.getStatus=gr.prototype.Z,gr.prototype.getResponseJson=gr.prototype.Oa,gr.prototype.getResponseText=gr.prototype.oa,gr.prototype.send=gr.prototype.ea,gr.prototype.setWithCredentials=gr.prototype.Ha,UT=gr}).apply(typeof og<"u"?og:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new UB("@firebase/firestore");function gc(){return xu.logLevel}function De(t,...e){if(xu.logLevel<=jt.DEBUG){const r=e.map(GB);xu.debug(`Firestore (${Ch}): ${t}`,...r)}}function Li(t,...e){if(xu.logLevel<=jt.ERROR){const r=e.map(GB);xu.error(`Firestore (${Ch}): ${t}`,...r)}}function Fu(t,...e){if(xu.logLevel<=jt.WARN){const r=e.map(GB);xu.warn(`Firestore (${Ch}): ${t}`,...r)}}function GB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t="Unexpected state"){const e=`FIRESTORE (${Ch}) INTERNAL ASSERTION FAILED: `+t;throw Li(e),new Error(e)}function At(t,e){t||tt()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends ia{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ei.UNAUTHENTICATED))}shutdown(){}}class s8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class A8{constructor(e){this.t=e,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){At(this.o===void 0);let n=this.i;const i=a=>this.i!==n?(n=this.i,r(a)):Promise.resolve();let s=new wA;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wA,e.enqueueRetryable(()=>i(this.currentUser))};const A=()=>{const a=s;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},o=a=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(a=>o(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?o(a):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wA)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(At(typeof n.accessToken=="string"),new RT(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new ei(e)}}class o8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=ei.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class a8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new o8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){At(this.o===void 0);const n=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const A=s.token!==this.R;return this.R=s.token,De("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(At(typeof r.token=="string"),this.R=r.token,new l8(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=c8(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Ut(t,e){return t<e?-1:t>e?1:0}function Ah(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function DT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ve(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ve(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ve(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new ir(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ht(e)}static min(){return new ht(new ir(0,0))}static max(){return new ht(new ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,r,n){r===void 0?r=0:r>e.length&&tt(),n===void 0?n=e.length-r:n>e.length-r&&tt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Uf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Uf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),A=r.get(i);if(s<A)return-1;if(s>A)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class tr extends Uf{construct(e,r,n){return new tr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ve(Fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new tr(r)}static emptyPath(){return new tr([])}}const h8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends Uf{construct(e,r,n){return new Yr(e,r,n)}static isValidIdentifier(e){return h8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ve(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let A=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ve(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new Ve(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=a,i+=2}else o==="`"?(A=!A,i++):o!=="."||A?(n+=o,i++):(s(),i++)}if(s(),A)throw new Ve(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yr(r)}static emptyPath(){return new Yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(tr.fromString(e))}static fromName(e){return new ze(tr.fromString(e).popFirst(5))}static empty(){return new ze(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return tr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new tr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function Ty(t){return t.fields.find(e=>e.kind===2)}function Yl(t){return t.fields.filter(e=>e.kind!==2)}r0.UNKNOWN_ID=-1;class um{constructor(e,r){this.fieldPath=e,this.kind=r}}class Nf{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Nf(0,xs.min())}}function d8(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ht.fromTimestamp(n===1e9?new ir(r+1,0):new ir(r,n));return new xs(i,ze.empty(),e)}function OT(t){return new xs(t.readTime,t.key,-1)}class xs{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new xs(ht.min(),ze.empty(),-1)}static max(){return new xs(ht.max(),ze.empty(),-1)}}function qB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ze.comparator(t.documentKey,e.documentKey),r!==0?r:Ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t){if(t.code!==Fe.FAILED_PRECONDITION||t.message!==MT)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ye((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ye?r:ye.resolve(r)}catch(r){return ye.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ye.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ye.reject(r)}static resolve(e){return new ye((r,n)=>{r(e)})}static reject(e){return new ye((r,n)=>{n(e)})}static waitFor(e){return new ye((r,n)=>{let i=0,s=0,A=!1;e.forEach(o=>{++i,o.next(()=>{++s,A&&s===i&&r()},a=>n(a))}),A=!0,s===i&&r()})}static or(e){let r=ye.resolve(!1);for(const n of e)r=r.next(i=>i?ye.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new ye((n,i)=>{const s=e.length,A=new Array(s);let o=0;for(let a=0;a<s;a++){const l=a;r(e[l]).next(u=>{A[l]=u,++o,o===s&&n(A)},u=>i(u))}})}static doWhile(e,r){return new ye((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new wA,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new zd(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=zB(n.target.error);this.V.reject(new zd(e,i))}}static open(e,r,n,i){try{return new J0(r,e.transaction(i,n))}catch(s){throw new zd(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(De("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new p8(r)}}class ul{constructor(e,r,n){this.name=e,this.version=r,this.p=n,ul.S(Pn())===12.2&&Li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return De("SimpleDb","Removing database:",e),eu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!VS())return!1;if(ul.v())return!0;const e=Pn(),r=ul.S(e),n=0<r&&r<10,i=VT(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(De("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const A=s.target.result;r(A)},i.onblocked=()=>{n(new zd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const A=s.target.error;A.name==="VersionError"?n(new Ve(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):A.name==="InvalidStateError"?n(new Ve(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A)):n(new zd(e,A))},i.onupgradeneeded=s=>{De("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const A=s.target.result;this.p.O(A,i.transaction,s.oldVersion,this.version).next(()=>{De("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let A=0;for(;;){++A;try{this.db=await this.M(e);const o=J0.open(this.db,e,s?"readonly":"readwrite",n),a=i(o).next(l=>(o.g(),l)).catch(l=>(o.abort(l),ye.reject(l))).toPromise();return a.catch(()=>{}),await o.m,a}catch(o){const a=o,l=a.name!=="FirebaseError"&&A<3;if(De("SimpleDb","Transaction failed with error:",a.message,"Retrying:",l),this.close(),!l)return Promise.reject(a)}}}close(){this.db&&this.db.close(),this.db=void 0}}function VT(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class f8{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return eu(this.B.delete())}}class zd extends Ve{constructor(e,r){super(Fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Sl(t){return t.name==="IndexedDbTransactionError"}class p8{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(De("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),eu(n)}add(e){return De("SimpleDb","ADD",this.store.name,e,e),eu(this.store.add(e))}get(e){return eu(this.store.get(e)).next(r=>(r===void 0&&(r=null),De("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return De("SimpleDb","DELETE",this.store.name,e),eu(this.store.delete(e))}count(){return De("SimpleDb","COUNT",this.store.name),eu(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new ye((A,o)=>{s.onerror=a=>{o(a.target.error)},s.onsuccess=a=>{A(a.target.result)}})}{const s=this.cursor(n),A=[];return this.W(s,(o,a)=>{A.push(a)}).next(()=>A)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new ye((i,s)=>{n.onerror=A=>{s(A.target.error)},n.onsuccess=A=>{i(A.target.result)}})}j(e,r){De("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,(s,A,o)=>o.delete())}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new ye((n,i)=>{r.onerror=s=>{const A=zB(s.target.error);i(A)},r.onsuccess=s=>{const A=s.target.result;A?e(A.primaryKey,A.value).next(o=>{o?A.continue():n()}):n()}})}W(e,r){const n=[];return new ye((i,s)=>{e.onerror=A=>{s(A.target.error)},e.onsuccess=A=>{const o=A.target.result;if(!o)return void i();const a=new f8(o),l=r(o.primaryKey,o.value,a);if(l instanceof ye){const u=l.catch(d=>(a.done(),ye.reject(d)));n.push(u)}a.isDone?i():a.K===null?o.continue():o.continue(a.K)}}).next(()=>ye.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function eu(t){return new ye((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=zB(n.target.error);r(i)}})}let UE=!1;function zB(t){const e=ul.S(Pn());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UE||(UE=!0,setTimeout(()=>{throw n},0)),n}}return t}class g8{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){De("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{De("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){Sl(r)?De("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await Hu(r)}await this.X(6e4)})}}class m8{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let i=r,s=!0;return ye.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(A=>{if(A!==null&&!n.has(A))return De("IndexBackfiller",`Processing collection: ${A}`),this.ne(e,A,i).next(o=>{i-=o,n.add(A)});s=!1})).next(()=>r-i)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(s=>{const A=s.changes;return this.localStore.indexManager.updateIndexEntries(e,A).next(()=>this.re(i,s)).next(o=>(De("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o))).next(()=>A.size)}))}re(e,r){let n=e;return r.changes.forEach((i,s)=>{const A=OT(s);qB(A,n)>0&&(n=A)}),new xs(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gs.oe=-1;function up(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function w8(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=NE(e)),e=v8(t.get(r),e);return NE(e)}function v8(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function NE(t){return t+""}function to(t){const e=t.length;if(At(e>=2),e===2)return At(t.charAt(0)===""&&t.charAt(1)===""),tr.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const A=t.indexOf("",s);switch((A<0||A>r)&&tt(),t.charAt(A+1)){case"":const o=t.substring(s,A);let a;i.length===0?a=o:(i+=o,a=i,i=""),n.push(a);break;case"":i+=t.substring(s,A),i+="\0";break;case"":i+=t.substring(s,A+1);break;default:tt()}s=A+2}return new tr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t,e){return[t,Ri(e)]}function jT(t,e,r){return[t,Ri(e),r]}const y8={},B8=["prefixPath","collectionGroup","readTime","documentId"],_8=["prefixPath","collectionGroup","documentId"],C8=["collectionGroup","readTime","prefixPath","documentId"],E8=["canonicalId","targetId"],b8=["targetId","path"],I8=["path","targetId"],x8=["collectionId","parent"],F8=["indexId","uid"],S8=["uid","sequenceNumber"],T8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],U8=["indexId","uid","orderedDocumentKey"],N8=["userId","collectionPath","documentId"],Q8=["userId","collectionPath","largestBatchId"],L8=["userId","collectionGroup","largestBatchId"],KT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],P8=[...KT,"documentOverlays"],GT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qT=GT,WB=[...qT,"indexConfiguration","indexState","indexEntries"],R8=WB,k8=[...WB,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends HT{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Rn(t,e){const r=Et(t);return ul.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Vu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function zT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,r){this.comparator=e,this.root=r||ti.EMPTY}insert(e,r){return new Wr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ti.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ti.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ag(this.root,e,this.comparator,!0)}}class ag{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ti{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??ti.RED,this.left=i??ti.EMPTY,this.right=s??ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new ti(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ti.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}ti.EMPTY=null,ti.RED=!0,ti.BLACK=!1;ti.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(e,r,n,i,s){return this}insert(e,r,n){return new ti(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new yr(this.comparator);return r.data=e,r}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.fields=e,e.sort(Yr.comparator)}static empty(){return new Zi([])}unionWith(e){let r=new yr(Yr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Zi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ah(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WT("Invalid base64 string: "+s):s}}(e);return new xn(r)}static fromUint8Array(e){const r=function(i){let s="";for(let A=0;A<i.length;++A)s+=String.fromCharCode(i[A]);return s}(e);return new xn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const D8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(At(!!t),typeof t=="string"){let e=0;const r=D8.exec(t);if(At(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:jr(t.seconds),nanos:jr(t.nanos)}}function jr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wl(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function XB(t){const e=t.mapValue.fields.__previous_value__;return $B(e)?XB(e):e}function Lf(t){const e=ta(t.mapValue.fields.__local_write_time__.timestampValue);return new ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,r,n,i,s,A,o,a,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=A,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Su{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hm={nullValue:"NULL_VALUE"};function Tu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$B(t)?4:$T(t)?9007199254740991:Z0(t)?10:11:tt()}function ao(t,e){if(t===e)return!0;const r=Tu(t);if(r!==Tu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lf(t).isEqual(Lf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const A=ta(i.timestampValue),o=ta(s.timestampValue);return A.seconds===o.seconds&&A.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return wl(i.bytesValue).isEqual(wl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return jr(i.geoPointValue.latitude)===jr(s.geoPointValue.latitude)&&jr(i.geoPointValue.longitude)===jr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return jr(i.integerValue)===jr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const A=jr(i.doubleValue),o=jr(s.doubleValue);return A===o?Qf(A)===Qf(o):isNaN(A)&&isNaN(o)}return!1}(t,e);case 9:return Ah(t.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:case 11:return function(i,s){const A=i.mapValue.fields||{},o=s.mapValue.fields||{};if(LE(A)!==LE(o))return!1;for(const a in A)if(A.hasOwnProperty(a)&&(o[a]===void 0||!ao(A[a],o[a])))return!1;return!0}(t,e);default:return tt()}}function Pf(t,e){return(t.values||[]).find(r=>ao(r,e))!==void 0}function vl(t,e){if(t===e)return 0;const r=Tu(t),n=Tu(e);if(r!==n)return Ut(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ut(t.booleanValue,e.booleanValue);case 2:return function(s,A){const o=jr(s.integerValue||s.doubleValue),a=jr(A.integerValue||A.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return RE(t.timestampValue,e.timestampValue);case 4:return RE(Lf(t),Lf(e));case 5:return Ut(t.stringValue,e.stringValue);case 6:return function(s,A){const o=wl(s),a=wl(A);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,A){const o=s.split("/"),a=A.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Ut(o[l],a[l]);if(u!==0)return u}return Ut(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,A){const o=Ut(jr(s.latitude),jr(A.latitude));return o!==0?o:Ut(jr(s.longitude),jr(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kE(t.arrayValue,e.arrayValue);case 10:return function(s,A){var o,a,l,u;const d=s.fields||{},g=A.fields||{},f=(o=d.value)===null||o===void 0?void 0:o.arrayValue,_=(a=g.value)===null||a===void 0?void 0:a.arrayValue,C=Ut(((l=f==null?void 0:f.values)===null||l===void 0?void 0:l.length)||0,((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0);return C!==0?C:kE(f,_)}(t.mapValue,e.mapValue);case 11:return function(s,A){if(s===Wa.mapValue&&A===Wa.mapValue)return 0;if(s===Wa.mapValue)return 1;if(A===Wa.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=A.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const g=Ut(a[d],u[d]);if(g!==0)return g;const f=vl(o[a[d]],l[u[d]]);if(f!==0)return f}return Ut(a.length,u.length)}(t.mapValue,e.mapValue);default:throw tt()}}function RE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ut(t,e);const r=ta(t),n=ta(e),i=Ut(r.seconds,n.seconds);return i!==0?i:Ut(r.nanos,n.nanos)}function kE(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=vl(r[i],n[i]);if(s)return s}return Ut(r.length,n.length)}function oh(t){return Ny(t)}function Ny(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ta(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return wl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ze.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Ny(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const A of n)s?s=!1:i+=",",i+=`${A}:${Ny(r.fields[A])}`;return i+"}"}(t.mapValue):tt()}function Rf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qy(t){return!!t&&"integerValue"in t}function kf(t){return!!t&&"arrayValue"in t}function DE(t){return!!t&&"nullValue"in t}function OE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dm(t){return!!t&&"mapValue"in t}function Z0(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Wd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Wd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function $T(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const XT={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function M8(t){return"nullValue"in t?hm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Rf(Su.empty(),ze.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Z0(t)?XT:{mapValue:{}}:tt()}function H8(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Rf(Su.empty(),ze.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?XT:"mapValue"in t?Z0(t)?{mapValue:{}}:Wa:tt()}function ME(t,e){const r=vl(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function HE(t,e){const r=vl(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!dm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wd(r)}setAll(e){let r=Yr.emptyPath(),n={},i=[];e.forEach((A,o)=>{if(!r.isImmediateParentOf(o)){const a=this.getFieldsMap(r);this.applyChanges(a,n,i),n={},i=[],r=o.popLast()}A?n[o.lastSegment()]=Wd(A):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());dm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];dm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Vu(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new ri(Wd(this.value))}}function YT(t){const e=[];return Vu(t.fields,(r,n)=>{const i=new Yr([r]);if(dm(n)){const s=YT(n.mapValue).fields;if(s.length===0)e.push(i);else for(const A of s)e.push(i.child(A))}else e.push(i)}),new Zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,r,n,i,s,A,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=A,this.documentState=o}static newInvalidDocument(e){return new Gr(e,0,ht.min(),ht.min(),ht.min(),ri.empty(),0)}static newFoundDocument(e,r,n,i){return new Gr(e,1,r,ht.min(),n,i,0)}static newNoDocument(e,r){return new Gr(e,2,r,ht.min(),ht.min(),ri.empty(),0)}static newUnknownDocument(e,r){return new Gr(e,3,r,ht.min(),ht.min(),ri.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,r){this.position=e,this.inclusive=r}}function VE(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],A=t.position[i];if(s.field.isKeyField()?n=ze.comparator(ze.fromName(A.referenceValue),r.key):n=vl(A,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function jE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ao(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,r="asc"){this.field=e,this.dir=r}}function V8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{}class Kt extends JT{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new j8(e,r,n):r==="array-contains"?new q8(e,n):r==="in"?new iU(e,n):r==="not-in"?new z8(e,n):r==="array-contains-any"?new W8(e,n):new Kt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new K8(e,n):new G8(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(vl(r,this.value)):r!==null&&Tu(this.value)===Tu(r)&&this.matchesComparison(vl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends JT{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new fr(e,r)}matches(e){return lh(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lh(t){return t.op==="and"}function Ly(t){return t.op==="or"}function YB(t){return ZT(t)&&lh(t)}function ZT(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function Py(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+oh(t.value);if(YB(t))return t.filters.map(e=>Py(e)).join(",");{const e=t.filters.map(r=>Py(r)).join(",");return`${t.op}(${e})`}}function eU(t,e){return t instanceof Kt?function(n,i){return i instanceof Kt&&n.op===i.op&&n.field.isEqual(i.field)&&ao(n.value,i.value)}(t,e):t instanceof fr?function(n,i){return i instanceof fr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,A,o)=>s&&eU(A,i.filters[o]),!0):!1}(t,e):void tt()}function tU(t,e){const r=t.filters.concat(e);return fr.create(r,t.op)}function rU(t){return t instanceof Kt?function(r){return`${r.field.canonicalString()} ${r.op} ${oh(r.value)}`}(t):t instanceof fr?function(r){return r.op.toString()+" {"+r.getFilters().map(rU).join(" ,")+"}"}(t):"Filter"}class j8 extends Kt{constructor(e,r,n){super(e,r,n),this.key=ze.fromName(n.referenceValue)}matches(e){const r=ze.comparator(e.key,this.key);return this.matchesComparison(r)}}class K8 extends Kt{constructor(e,r){super(e,"in",r),this.keys=nU("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class G8 extends Kt{constructor(e,r){super(e,"not-in",r),this.keys=nU("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function nU(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ze.fromName(n.referenceValue))}class q8 extends Kt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return kf(r)&&Pf(r.arrayValue,this.value)}}class iU extends Kt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Pf(this.value.arrayValue,r)}}class z8 extends Kt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Pf(this.value.arrayValue,r)}}class W8 extends Kt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!kf(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Pf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,r=null,n=[],i=[],s=null,A=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=A,this.endAt=o,this.ue=null}}function Ry(t,e=null,r=[],n=[],i=null,s=null,A=null){return new $8(t,e,r,n,i,s,A)}function Uu(t){const e=Et(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Py(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),up(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>oh(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>oh(n)).join(",")),e.ue=r}return e.ue}function cp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!V8(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!eU(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jE(t.startAt,e.startAt)&&jE(t.endAt,e.endAt)}function n0(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function i0(t,e){return t.filters.filter(r=>r instanceof Kt&&r.field.isEqual(e))}function KE(t,e,r){let n=hm,i=!0;for(const s of i0(t,e)){let A=hm,o=!0;switch(s.op){case"<":case"<=":A=M8(s.value);break;case"==":case"in":case">=":A=s.value;break;case">":A=s.value,o=!1;break;case"!=":case"not-in":A=hm}ME({value:n,inclusive:i},{value:A,inclusive:o})<0&&(n=A,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const A=r.position[s];ME({value:n,inclusive:i},{value:A,inclusive:r.inclusive})<0&&(n=A,i=r.inclusive);break}}return{value:n,inclusive:i}}function GE(t,e,r){let n=Wa,i=!0;for(const s of i0(t,e)){let A=Wa,o=!0;switch(s.op){case">=":case">":A=H8(s.value),o=!1;break;case"==":case"in":case"<=":A=s.value;break;case"<":A=s.value,o=!1;break;case"!=":case"not-in":A=Wa}HE({value:n,inclusive:i},{value:A,inclusive:o})>0&&(n=A,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const A=r.position[s];HE({value:n,inclusive:i},{value:A,inclusive:r.inclusive})>0&&(n=A,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,r=null,n=[],i=[],s=null,A="F",o=null,a=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=A,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function X8(t,e,r,n,i,s,A,o){return new Eh(t,e,r,n,i,s,A,o)}function hp(t){return new Eh(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sU(t){return t.collectionGroup!==null}function $d(t){const e=Et(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let o=new yr(Yr.comparator);return A.filters.forEach(a=>{a.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Df(s,n))}),r.has(Yr.keyField().canonicalString())||e.ce.push(new Df(Yr.keyField(),n))}return e.ce}function $s(t){const e=Et(t);return e.le||(e.le=Y8(e,$d(t))),e.le}function Y8(t,e){if(t.limitType==="F")return Ry(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Df(i.field,s)});const r=t.endAt?new ah(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ah(t.startAt.position,t.startAt.inclusive):null;return Ry(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ky(t,e){const r=t.filters.concat([e]);return new Eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function s0(t,e,r){return new Eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ew(t,e){return cp($s(t),$s(e))&&t.limitType===e.limitType}function AU(t){return`${Uu($s(t))}|lt:${t.limitType}`}function mc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>rU(i)).join(", ")}]`),up(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>oh(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>oh(i)).join(",")),`Target(${n})`}($s(t))}; limitType=${t.limitType})`}function dp(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ze.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of $d(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(A,o,a){const l=VE(A,o,a);return A.inclusive?l<=0:l<0}(n.startAt,$d(n),i)||n.endAt&&!function(A,o,a){const l=VE(A,o,a);return A.inclusive?l>=0:l>0}(n.endAt,$d(n),i))}(t,e)}function J8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oU(t){return(e,r)=>{let n=!1;for(const i of $d(t)){const s=Z8(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Z8(t,e,r){const n=t.field.isKeyField()?ze.comparator(e.key,r.key):function(s,A,o){const a=A.data.field(s),l=o.data.field(s);return a!==null&&l!==null?vl(a,l):tt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vu(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=new Wr(ze.comparator);function Cs(){return eH}const aU=new Wr(ze.comparator);function xd(...t){let e=aU;for(const r of t)e=e.insert(r.key,r);return e}function lU(t){let e=aU;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ro(){return Xd()}function uU(){return Xd()}function Xd(){return new Tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const tH=new Wr(ze.comparator),rH=new yr(ze.comparator);function Rt(...t){let e=rH;for(const r of t)e=e.add(r);return e}const nH=new yr(Ut);function iH(){return nH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function cU(t){return{integerValue:""+t}}function sH(t,e){return w8(e)?cU(e):JB(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this._=void 0}}function AH(t,e,r){return t instanceof Of?function(i,s){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$B(s)&&(s=XB(s)),s&&(A.fields.__previous_value__=s),{mapValue:A}}(r,e):t instanceof uh?dU(t,e):t instanceof ch?fU(t,e):function(i,s){const A=hU(i,s),o=zE(A)+zE(i.Pe);return Qy(A)&&Qy(i.Pe)?cU(o):JB(i.serializer,o)}(t,e)}function oH(t,e,r){return t instanceof uh?dU(t,e):t instanceof ch?fU(t,e):r}function hU(t,e){return t instanceof Mf?function(n){return Qy(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Of extends tw{}class uh extends tw{constructor(e){super(),this.elements=e}}function dU(t,e){const r=pU(e);for(const n of t.elements)r.some(i=>ao(i,n))||r.push(n);return{arrayValue:{values:r}}}class ch extends tw{constructor(e){super(),this.elements=e}}function fU(t,e){let r=pU(e);for(const n of t.elements)r=r.filter(i=>!ao(i,n));return{arrayValue:{values:r}}}class Mf extends tw{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function zE(t){return jr(t.integerValue||t.doubleValue)}function pU(t){return kf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,r){this.field=e,this.transform=r}}function lH(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof uh&&i instanceof uh||n instanceof ch&&i instanceof ch?Ah(n.elements,i.elements,ao):n instanceof Mf&&i instanceof Mf?ao(n.Pe,i.Pe):n instanceof Of&&i instanceof Of}(t.transform,e.transform)}class uH{constructor(e,r){this.version=e,this.transformResults=r}}class qr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rw{}function gU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ih(t.key,qr.none()):new bh(t.key,t.data,qr.none());{const r=t.data,n=ri.empty();let i=new yr(Yr.comparator);for(let s of e.fields)if(!i.has(s)){let A=r.field(s);A===null&&s.length>1&&(s=s.popLast(),A=r.field(s)),A===null?n.delete(s):n.set(s,A),i=i.add(s)}return new sa(t.key,n,new Zi(i.toArray()),qr.none())}}function cH(t,e,r){t instanceof bh?function(i,s,A){const o=i.value.clone(),a=$E(i.fieldTransforms,s,A.transformResults);o.setAll(a),s.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,r):t instanceof sa?function(i,s,A){if(!fm(i.precondition,s))return void s.convertToUnknownDocument(A.version);const o=$E(i.fieldTransforms,s,A.transformResults),a=s.data;a.setAll(mU(i)),a.setAll(o),s.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,r):function(i,s,A){s.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,r)}function Yd(t,e,r,n){return t instanceof bh?function(s,A,o,a){if(!fm(s.precondition,A))return o;const l=s.value.clone(),u=XE(s.fieldTransforms,a,A);return l.setAll(u),A.convertToFoundDocument(A.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof sa?function(s,A,o,a){if(!fm(s.precondition,A))return o;const l=XE(s.fieldTransforms,a,A),u=A.data;return u.setAll(mU(s)),u.setAll(l),A.convertToFoundDocument(A.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,A,o){return fm(s.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):o}(t,e,r)}function hH(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=hU(n.transform,i||null);s!=null&&(r===null&&(r=ri.empty()),r.set(n.field,s))}return r||null}function WE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ah(n,i,(s,A)=>lH(s,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bh extends rw{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sa extends rw{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mU(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function $E(t,e,r){const n=new Map;At(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],A=s.transform,o=e.data.field(s.field);n.set(s.field,oH(A,o,r[i]))}return n}function XE(t,e,r){const n=new Map;for(const i of t){const s=i.transform,A=r.data.field(i.field);n.set(i.field,AH(s,A,e))}return n}class Ih extends rw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZB extends rw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cH(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Yd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Yd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=uU();return this.mutations.forEach(i=>{const s=e.get(i.key),A=s.overlayedDocument;let o=this.applyToLocalView(A,s.mutatedFields);o=r.has(i.key)?null:o;const a=gU(A,o);a!==null&&n.set(i.key,a),A.isValidDocument()||A.convertToNoDocument(ht.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Rt())}isEqual(e){return this.batchId===e.batchId&&Ah(this.mutations,e.mutations,(r,n)=>WE(r,n))&&Ah(this.baseMutations,e.baseMutations,(r,n)=>WE(r,n))}}class t_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){At(e.mutations.length===n.length);let i=function(){return tH}();const s=e.mutations;for(let A=0;A<s.length;A++)i=i.insert(s[A].key,n[A].version);return new t_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,Xt;function wU(t){switch(t){default:return tt();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function vU(t){if(t===void 0)return Li("GRPC error has no .code"),Fe.UNKNOWN;switch(t){case En.OK:return Fe.OK;case En.CANCELLED:return Fe.CANCELLED;case En.UNKNOWN:return Fe.UNKNOWN;case En.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case En.INTERNAL:return Fe.INTERNAL;case En.UNAVAILABLE:return Fe.UNAVAILABLE;case En.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case En.NOT_FOUND:return Fe.NOT_FOUND;case En.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case En.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case En.ABORTED:return Fe.ABORTED;case En.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case En.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case En.DATA_LOSS:return Fe.DATA_LOSS;default:return tt()}}(Xt=En||(En={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=new hu([4294967295,4294967295],0);function YE(t){const e=fH().encode(t),r=new TT;return r.update(e),new Uint8Array(r.digest())}function JE(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hu([r,n],0),new hu([i,s],0)]}class n_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Fd(`Invalid padding: ${r}`);if(n<0)throw new Fd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Fd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Fd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=hu.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(hu.fromNumber(n)));return i.compare(pH)===1&&(i=new hu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=YE(e),[n,i]=JE(r);for(let s=0;s<this.hashCount;s++){const A=this.Ee(n,i,s);if(!this.de(A))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),A=new n_(s,i,r);return n.forEach(o=>A.insert(o)),A}insert(e){if(this.Ie===0)return;const r=YE(e),[n,i]=JE(r);for(let s=0;s<this.hashCount;s++){const A=this.Ee(n,i,s);this.Ae(A)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,fp.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new nw(ht.min(),i,new Wr(Ut),Cs(),Rt())}}class fp{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new fp(n,r,Rt(),Rt(),Rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class yU{constructor(e,r){this.targetId=e,this.me=r}}class BU{constructor(e,r,n=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class ZE{constructor(){this.fe=0,this.ge=tb(),this.pe=xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Rt(),r=Rt(),n=Rt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:tt()}}),new fp(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=tb()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,At(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gH{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cs(),this.qe=eb(),this.Qe=new Wr(Ut)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:tt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(n0(s))if(n===0){const A=new ze(s.path);this.Ue(r,A,Gr.newNoDocument(A,ht.min()))}else At(n===1);else{const A=this.Ye(r);if(A!==n){const o=this.Ze(e),a=o?this.Xe(o,e,A):1;if(a!==0){this.je(r);const l=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let A,o;try{A=wl(n).toUint8Array()}catch(a){if(a instanceof WT)return Fu("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{o=new n_(A,i,s)}catch(a){return Fu(a instanceof Fd?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const A=this.Le.tt(),o=`projects/${A.projectId}/databases/${A.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,A)=>{const o=this.Je(A);if(o){if(s.current&&n0(o.target)){const a=new ze(o.target.path);this.ke.get(a)!==null||this.it(A,a)||this.Ue(A,a,Gr.newNoDocument(a,e))}s.be&&(r.set(A,s.ve()),s.Ce())}});let n=Rt();this.qe.forEach((s,A)=>{let o=!0;A.forEachWhile(a=>{const l=this.Je(a);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,A)=>A.setReadTime(e));const i=new nw(e,r,this.Qe,this.ke,n);return this.ke=Cs(),this.qe=eb(),this.Qe=new Wr(Ut),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new ZE,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new yr(Ut),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||De("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ZE),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function eb(){return new Wr(ze.comparator)}function tb(){return new Wr(ze.comparator)}const mH={asc:"ASCENDING",desc:"DESCENDING"},wH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vH={and:"AND",or:"OR"};class yH{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Dy(t,e){return t.useProto3Json||up(e)?e:{value:e}}function hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _U(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BH(t,e){return hh(t,e.toTimestamp())}function Gn(t){return At(!!t),ht.fromTimestamp(function(r){const n=ta(r);return new ir(n.seconds,n.nanos)}(t))}function i_(t,e){return Oy(t,e).canonicalString()}function Oy(t,e){const r=function(i){return new tr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function CU(t){const e=tr.fromString(t);return At(NU(e)),e}function Hf(t,e){return i_(t.databaseId,e.path)}function qo(t,e){const r=CU(e);if(r.get(1)!==t.databaseId.projectId)throw new Ve(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ve(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ze(IU(r))}function EU(t,e){return i_(t.databaseId,e)}function bU(t){const e=CU(t);return e.length===4?tr.emptyPath():IU(e)}function My(t){return new tr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IU(t){return At(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rb(t,e,r){return{name:Hf(t,e),fields:r.value.mapValue.fields}}function _H(t,e,r){const n=qo(t,e.name),i=Gn(e.updateTime),s=e.createTime?Gn(e.createTime):ht.min(),A=new ri({mapValue:{fields:e.fields}}),o=Gr.newFoundDocument(n,i,s,A);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function CH(t,e){return"found"in e?function(n,i){At(!!i.found),i.found.name,i.found.updateTime;const s=qo(n,i.found.name),A=Gn(i.found.updateTime),o=i.found.createTime?Gn(i.found.createTime):ht.min(),a=new ri({mapValue:{fields:i.found.fields}});return Gr.newFoundDocument(s,A,o,a)}(t,e):"missing"in e?function(n,i){At(!!i.missing),At(!!i.readTime);const s=qo(n,i.missing),A=Gn(i.readTime);return Gr.newNoDocument(s,A)}(t,e):tt()}function EH(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:tt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(At(u===void 0||typeof u=="string"),xn.fromBase64String(u||"")):(At(u===void 0||u instanceof Buffer||u instanceof Uint8Array),xn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,o=A&&function(l){const u=l.code===void 0?Fe.UNKNOWN:vU(l.code);return new Ve(u,l.message||"")}(A);r=new BU(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=qo(t,n.document.name),s=Gn(n.document.updateTime),A=n.document.createTime?Gn(n.document.createTime):ht.min(),o=new ri({mapValue:{fields:n.document.fields}}),a=Gr.newFoundDocument(i,s,A,o),l=n.targetIds||[],u=n.removedTargetIds||[];r=new pm(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=qo(t,n.document),s=n.readTime?Gn(n.readTime):ht.min(),A=Gr.newNoDocument(i,s),o=n.removedTargetIds||[];r=new pm([],o,A.key,A)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=qo(t,n.document),s=n.removedTargetIds||[];r=new pm([],s,i,null)}else{if(!("filter"in e))return tt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,A=new dH(i,s),o=n.targetId;r=new yU(o,A)}}return r}function Vf(t,e){let r;if(e instanceof bh)r={update:rb(t,e.key,e.value)};else if(e instanceof Ih)r={delete:Hf(t,e.key)};else if(e instanceof sa)r={update:rb(t,e.key,e.data),updateMask:TH(e.fieldMask)};else{if(!(e instanceof ZB))return tt();r={verify:Hf(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,A){const o=A.transform;if(o instanceof Of)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof uh)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ch)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Mf)return{fieldPath:A.field.canonicalString(),increment:o.Pe};throw tt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:BH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:tt()}(t,e.precondition)),r}function Hy(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?qr.updateTime(Gn(s.updateTime)):s.exists!==void 0?qr.exists(s.exists):qr.none()}(e.currentDocument):qr.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(A,o){let a=null;if("setToServerValue"in o)At(o.setToServerValue==="REQUEST_TIME"),a=new Of;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new uh(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new ch(u)}else"increment"in o?a=new Mf(A,o.increment):tt();const l=Yr.fromServerFormat(o.fieldPath);return new aH(l,a)}(t,i)):[];if(e.update){e.update.name;const i=qo(t,e.update.name),s=new ri({mapValue:{fields:e.update.fields}});if(e.updateMask){const A=function(a){const l=a.fieldPaths||[];return new Zi(l.map(u=>Yr.fromServerFormat(u)))}(e.updateMask);return new sa(i,s,A,r,n)}return new bh(i,s,r,n)}if(e.delete){const i=qo(t,e.delete);return new Ih(i,r)}if(e.verify){const i=qo(t,e.verify);return new ZB(i,r)}return tt()}function bH(t,e){return t&&t.length>0?(At(e!==void 0),t.map(r=>function(i,s){let A=i.updateTime?Gn(i.updateTime):Gn(s);return A.isEqual(ht.min())&&(A=Gn(s)),new uH(A,i.transformResults||[])}(r,e))):[]}function xU(t,e){return{documents:[EU(t,e.path)]}}function FU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=EU(t,i);const s=function(l){if(l.length!==0)return UU(fr.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const A=function(l){if(l.length!==0)return l.map(u=>function(g){return{field:wc(g.field),direction:xH(g.dir)}}(u))}(e.orderBy);A&&(r.structuredQuery.orderBy=A);const o=Dy(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function SU(t){let e=bU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){At(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(d){const g=TU(d);return g instanceof fr&&YB(g)?g.getFilters():[g]}(r.where));let A=[];r.orderBy&&(A=function(d){return d.map(g=>function(_){return new Df(vc(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(r.orderBy));let o=null;r.limit&&(o=function(d){let g;return g=typeof d=="object"?d.value:d,up(g)?null:g}(r.limit));let a=null;r.startAt&&(a=function(d){const g=!!d.before,f=d.values||[];return new ah(f,g)}(r.startAt));let l=null;return r.endAt&&(l=function(d){const g=!d.before,f=d.values||[];return new ah(f,g)}(r.endAt)),X8(e,i,A,s,o,"F",a,l)}function IH(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function TU(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=vc(r.unaryFilter.field);return Kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=vc(r.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vc(r.unaryFilter.field);return Kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=vc(r.unaryFilter.field);return Kt.create(A,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(t):t.fieldFilter!==void 0?function(r){return Kt.create(vc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return fr.create(r.compositeFilter.filters.map(n=>TU(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tt()}}(r.compositeFilter.op))}(t):tt()}function xH(t){return mH[t]}function FH(t){return wH[t]}function SH(t){return vH[t]}function wc(t){return{fieldPath:t.canonicalString()}}function vc(t){return Yr.fromServerFormat(t.fieldPath)}function UU(t){return t instanceof Kt?function(r){if(r.op==="=="){if(OE(r.value))return{unaryFilter:{field:wc(r.field),op:"IS_NAN"}};if(DE(r.value))return{unaryFilter:{field:wc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(OE(r.value))return{unaryFilter:{field:wc(r.field),op:"IS_NOT_NAN"}};if(DE(r.value))return{unaryFilter:{field:wc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(r.field),op:FH(r.op),value:r.value}}}(t):t instanceof fr?function(r){const n=r.getFilters().map(i=>UU(i));return n.length===1?n[0]:{compositeFilter:{op:SH(r.op),filters:n}}}(t):tt()}function TH(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function NU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,r,n,i,s=ht.min(),A=ht.min(),o=xn.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.ct=e}}function UH(t,e){let r;if(e.document)r=_H(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=ze.fromSegments(e.noDocument.path),i=Qu(e.noDocument.readTime);r=Gr.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return tt();{const n=ze.fromSegments(e.unknownDocument.path),i=Qu(e.unknownDocument.version);r=Gr.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(i){const s=new ir(i[0],i[1]);return ht.fromTimestamp(s)}(e.readTime)),r}function nb(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:A0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,A){return{name:Hf(s,A.key),fields:A.data.value.mapValue.fields,updateTime:hh(s,A.version.toTimestamp()),createTime:hh(s,A.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Nu(e.version)};else{if(!e.isUnknownDocument())return tt();n.unknownDocument={path:r.path.toArray(),version:Nu(e.version)}}return n}function A0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qu(t){const e=new ir(t.seconds,t.nanoseconds);return ht.fromTimestamp(e)}function tu(t,e){const r=(e.baseMutations||[]).map(s=>Hy(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const A=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];A.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>Hy(t.ct,s)),i=ir.fromMillis(e.localWriteTimeMs);return new e_(e.batchId,i,r,n)}function Sd(t){const e=Qu(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?Qu(t.lastLimboFreeSnapshotVersion):ht.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){return At(s.documents.length===1),$s(hp(bU(s.documents[0])))}(t.query):function(s){return $s(SU(s))}(t.query),new Vo(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,xn.fromBase64String(t.resumeToken))}function LU(t,e){const r=Nu(e.snapshotVersion),n=Nu(e.lastLimboFreeSnapshotVersion);let i;i=n0(e.target)?xU(t.ct,e.target):FU(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Uu(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function PU(t){const e=SU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?s0(e,e.limit,"L"):e}function S1(t,e){return new r_(e.largestBatchId,Hy(t.ct,e.overlayMutation))}function ib(t,e){const r=e.path.lastSegment();return[t,Ri(e.path.popLast()),r]}function sb(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:Nu(n.readTime),documentKey:Ri(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{getBundleMetadata(e,r){return Ab(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:Qu(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return Ab(e).put(function(i){return{bundleId:i.id,createTime:Nu(Gn(i.createTime)),version:i.version}}(r))}getNamedQuery(e,r){return ob(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:PU(s.bundledQuery),readTime:Qu(s.readTime)}}(n)})}saveNamedQuery(e,r){return ob(e).put(function(i){return{name:i.name,readTime:Nu(Gn(i.readTime)),bundledQuery:i.bundledQuery}}(r))}}function Ab(t){return Rn(t,"bundles")}function ob(t){return Rn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new iw(e,n)}getOverlay(e,r){return sd(e).get(ib(this.userId,r)).next(n=>n?S1(this.serializer,n):null)}getOverlays(e,r){const n=ro();return ye.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((s,A)=>{const o=new r_(r,A);i.push(this.ht(e,o))}),ye.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(A=>i.add(Ri(A.getCollectionPath())));const s=[];return i.forEach(A=>{const o=IDBKeyRange.bound([this.userId,A,n],[this.userId,A,n+1],!1,!0);s.push(sd(e).j("collectionPathOverlayIndex",o))}),ye.waitFor(s)}getOverlaysForCollection(e,r,n){const i=ro(),s=Ri(r),A=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return sd(e).U("collectionPathOverlayIndex",A).next(o=>{for(const a of o){const l=S1(this.serializer,a);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const s=ro();let A;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return sd(e).J({index:"collectionGroupOverlayIndex",range:o},(a,l,u)=>{const d=S1(this.serializer,l);s.size()<i||d.largestBatchId===A?(s.set(d.getKey(),d),A=d.largestBatchId):u.done()}).next(()=>s)}ht(e,r){return sd(e).put(function(i,s,A){const[o,a,l]=ib(s,A.mutation.key);return{userId:s,collectionPath:a,documentId:l,collectionGroup:A.mutation.key.getCollectionGroup(),largestBatchId:A.largestBatchId,overlayMutation:Vf(i.ct,A.mutation)}}(this.serializer,this.userId,r))}}function sd(t){return Rn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{Pt(e){return Rn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?xn.fromUint8Array(n):xn.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(jr(e.integerValue));else if("doubleValue"in e){const n=jr(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Qf(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=ta(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(wl(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?$T(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Z0(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):tt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const A="value",o=((i=(n=s[A].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(jr(o)),this.Vt(A,r),this.Tt(s[A],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),ze.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}ru.vt=new ru;function LH(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function ab(t){const e=64-function(n){let i=0;for(let s=0;s<8;++s){const A=LH(255&n[s]);if(i+=A,A!==8)break}return i}(t);return Math.ceil(e/8)}class PH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=ab(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=ab(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(s){const A=new DataView(new ArrayBuffer(8));return A.setFloat64(0,s,!1),new Uint8Array(A.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class RH{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class kH{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ad{constructor(){this.jt=new PH,this.Ht=new RH(this.jt),this.Jt=new kH(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new nu(this.indexId,this.documentKey,this.arrayValue,n)}}function xa(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=lb(t.arrayValue,e.arrayValue),r!==0?r:(r=lb(t.directionalValue,e.directionalValue),r!==0?r:ze.comparator(t.documentKey,e.documentKey)))}function lb(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.Xt=new yr((r,n)=>Yr.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(At(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Ty(e);if(r!==void 0&&!this.sn(r))return!1;const n=Yl(e);let i=new Set,s=0,A=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const a=n[s];if(!this.on(o,a)||!this._n(this.en[A++],a))return!1}++s}for(;s<n.length;++s){const o=n[s];if(A>=this.en.length||!this._n(this.en[A++],o))return!1}return!0}an(){if(this.nn)return null;let e=new yr(Yr.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new um(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new um(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new um(n.field,n.dir==="asc"?0:1)));return new r0(r0.UNKNOWN_ID,this.collectionId,r,Nf.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t){var e,r;if(At(t instanceof Kt||t instanceof fr),t instanceof Kt){if(t instanceof iU){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Kt.create(t.field,"==",s)))||[];return fr.create(i,"or")}return t}const n=t.filters.map(i=>RU(i));return fr.create(n,t.op)}function DH(t){if(t.getFilters().length===0)return[];const e=Ky(RU(t));return At(kU(e)),Vy(e)||jy(e)?[e]:e.getFilters()}function Vy(t){return t instanceof Kt}function jy(t){return t instanceof fr&&YB(t)}function kU(t){return Vy(t)||jy(t)||function(r){if(r instanceof fr&&Ly(r)){for(const n of r.getFilters())if(!Vy(n)&&!jy(n))return!1;return!0}return!1}(t)}function Ky(t){if(At(t instanceof Kt||t instanceof fr),t instanceof Kt)return t;if(t.filters.length===1)return Ky(t.filters[0]);const e=t.filters.map(n=>Ky(n));let r=fr.create(e,t.op);return r=o0(r),kU(r)?r:(At(r instanceof fr),At(lh(r)),At(r.filters.length>1),r.filters.reduce((n,i)=>s_(n,i)))}function s_(t,e){let r;return At(t instanceof Kt||t instanceof fr),At(e instanceof Kt||e instanceof fr),r=t instanceof Kt?e instanceof Kt?function(i,s){return fr.create([i,s],"and")}(t,e):cb(t,e):e instanceof Kt?cb(e,t):function(i,s){if(At(i.filters.length>0&&s.filters.length>0),lh(i)&&lh(s))return tU(i,s.getFilters());const A=Ly(i)?i:s,o=Ly(i)?s:i,a=A.filters.map(l=>s_(l,o));return fr.create(a,"or")}(t,e),o0(r)}function cb(t,e){if(lh(e))return tU(e,t.getFilters());{const r=e.filters.map(n=>s_(t,n));return fr.create(r,"or")}}function o0(t){if(At(t instanceof Kt||t instanceof fr),t instanceof Kt)return t;const e=t.getFilters();if(e.length===1)return o0(e[0]);if(ZT(t))return t;const r=e.map(i=>o0(i)),n=[];return r.forEach(i=>{i instanceof Kt?n.push(i):i instanceof fr&&(i.op===t.op?n.push(...i.filters):n.push(i))}),n.length===1?n[0]:fr.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.un=new A_}addToCollectionParentIndex(e,r){return this.un.add(r),ye.resolve()}getCollectionParents(e,r){return ye.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ye.resolve()}deleteFieldIndex(e,r){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,r){return ye.resolve()}getDocumentsMatchingTarget(e,r){return ye.resolve(null)}getIndexType(e,r){return ye.resolve(0)}getFieldIndexes(e,r){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,r){return ye.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,r){return ye.resolve(xs.min())}updateCollectionGroup(e,r,n){return ye.resolve()}updateIndexEntries(e,r){return ye.resolve()}}class A_{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new yr(tr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new yr(tr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=new Uint8Array(0);class MH{constructor(e,r){this.databaseId=r,this.cn=new A_,this.ln=new Tl(n=>Uu(n),(n,i)=>cp(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const s={collectionId:n,parent:Ri(i)};return hb(e).put(s)}return ye.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[DT(r),""],!1,!0);return hb(e).U(i).next(s=>{for(const A of s){if(A.collectionId!==r)break;n.push(to(A.parent))}return n})}addFieldIndex(e,r){const n=od(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(r);delete i.indexId;const s=n.add(i);if(r.indexState){const A=ic(e);return s.next(o=>{A.put(sb(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=od(e),i=ic(e),s=nc(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=od(e),n=nc(e),i=ic(e);return r.j().next(()=>n.j()).next(()=>i.j())}createTargetIndexes(e,r){return ye.forEach(this.hn(r),n=>this.getIndexType(e,n).next(i=>{if(i===0||i===1){const s=new ub(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=nc(e);let i=!0;const s=new Map;return ye.forEach(this.hn(r),A=>this.Pn(e,A).next(o=>{i&&(i=!!o),s.set(A,o)})).next(()=>{if(i){let A=Rt();const o=[];return ye.forEach(s,(a,l)=>{De("IndexedDbIndexManager",`Using index ${function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(a)} to execute ${Uu(r)}`);const u=function(F,P){const K=Ty(P);if(K===void 0)return null;for(const M of i0(F,K.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(l,a),d=function(F,P){const K=new Map;for(const M of Yl(P))for(const Q of i0(F,M.fieldPath))switch(Q.op){case"==":case"in":K.set(M.fieldPath.canonicalString(),Q.value);break;case"not-in":case"!=":return K.set(M.fieldPath.canonicalString(),Q.value),Array.from(K.values())}return null}(l,a),g=function(F,P){const K=[];let M=!0;for(const Q of Yl(P)){const I=Q.kind===0?KE(F,Q.fieldPath,F.startAt):GE(F,Q.fieldPath,F.startAt);K.push(I.value),M&&(M=I.inclusive)}return new ah(K,M)}(l,a),f=function(F,P){const K=[];let M=!0;for(const Q of Yl(P)){const I=Q.kind===0?GE(F,Q.fieldPath,F.endAt):KE(F,Q.fieldPath,F.endAt);K.push(I.value),M&&(M=I.inclusive)}return new ah(K,M)}(l,a),_=this.In(a,l,g),C=this.In(a,l,f),x=this.Tn(a,l,d),v=this.En(a.indexId,u,_,g.inclusive,C,f.inclusive,x);return ye.forEach(v,E=>n.G(E,r.limit).next(F=>{F.forEach(P=>{const K=ze.fromSegments(P.documentKey);A.has(K)||(A=A.add(K),o.push(K))})}))}).next(()=>o)}return ye.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=DH(fr.create(e.filters,"and")).map(n=>Ry(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,i,s,A,o){const a=(r!=null?r.length:1)*Math.max(n.length,s.length),l=a/(r!=null?r.length:1),u=[];for(let d=0;d<a;++d){const g=r?this.dn(r[d/l]):lg,f=this.An(e,g,n[d%l],i),_=this.Rn(e,g,s[d%l],A),C=o.map(x=>this.An(e,g,x,!0));u.push(...this.createRange(f,_,C))}return u}An(e,r,n,i){const s=new nu(e,ze.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new nu(e,ze.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new ub(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let A=null;for(const o of s)n.rn(o)&&(!A||o.fields.length>A.fields.length)&&(A=o);return A})}getIndexType(e,r){let n=2;const i=this.hn(r);return ye.forEach(i,s=>this.Pn(e,s).next(A=>{A?n!==0&&A.fields.length<function(a){let l=new yr(Yr.comparator),u=!1;for(const d of a.filters)for(const g of d.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?u=!0:l=l.add(g.field));for(const d of a.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(u?1:0)}(s)&&(n=1):n=0})).next(()=>function(A){return A.limit!==null}(r)&&i.length>1&&n===2?1:n)}Vn(e,r){const n=new Ad;for(const i of Yl(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const A=n.Yt(i.kind);ru.vt.It(s,A)}return n.zt()}dn(e){const r=new Ad;return ru.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new Ad;return ru.vt.It(Rf(this.databaseId,r),n.Yt(function(s){const A=Yl(s);return A.length===0?0:A[A.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new Ad);let s=0;for(const A of Yl(e)){const o=n[s++];for(const a of i)if(this.fn(r,A.fieldPath)&&kf(o))i=this.gn(i,A,o);else{const l=a.Yt(A.kind);ru.vt.It(o,l)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const A of n.arrayValue.values||[])for(const o of i){const a=new Ad;a.seed(o.zt()),ru.vt.It(A,a.Yt(r.kind)),s.push(a)}return s}fn(e,r){return!!e.filters.find(n=>n instanceof Kt&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=od(e),i=ic(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(s=>{const A=[];return ye.forEach(s,o=>i.get([o.indexId,this.uid]).next(a=>{A.push(function(u,d){const g=d?new Nf(d.sequenceNumber,new xs(Qu(d.readTime),new ze(to(d.documentKey)),d.largestBatchId)):Nf.empty(),f=u.fields.map(([_,C])=>new um(Yr.fromServerFormat(_),C));return new r0(u.indexId,u.collectionGroup,f,g)}(o,a))})).next(()=>A)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ut(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=od(e),s=ic(e);return this.yn(e).next(A=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(o=>ye.forEach(o,a=>s.put(sb(a.indexId,this.uid,A,n)))))}updateIndexEntries(e,r){const n=new Map;return ye.forEach(r,(i,s)=>{const A=n.get(i.collectionGroup);return(A?ye.resolve(A):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(n.set(i.collectionGroup,o),ye.forEach(o,a=>this.wn(e,i,a).next(l=>{const u=this.Sn(s,a);return l.isEqual(u)?ye.resolve():this.bn(e,s,a,l,u)}))))})}Dn(e,r,n,i){return nc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return nc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=nc(e);let s=new yr(xa);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(A,o)=>{s=s.add(new nu(n.indexId,r,o.arrayValue,o.directionalValue))}).next(()=>s)}Sn(e,r){let n=new yr(xa);const i=this.Vn(r,e);if(i==null)return n;const s=Ty(r);if(s!=null){const A=e.data.field(s.fieldPath);if(kf(A))for(const o of A.arrayValue.values||[])n=n.add(new nu(r.indexId,e.key,this.dn(o),i))}else n=n.add(new nu(r.indexId,e.key,lg,i));return n}bn(e,r,n,i,s){De("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const A=[];return function(a,l,u,d,g){const f=a.getIterator(),_=l.getIterator();let C=rc(f),x=rc(_);for(;C||x;){let v=!1,E=!1;if(C&&x){const F=u(C,x);F<0?E=!0:F>0&&(v=!0)}else C!=null?E=!0:v=!0;v?(d(x),x=rc(_)):E?(g(C),C=rc(f)):(C=rc(f),x=rc(_))}}(i,s,xa,o=>{A.push(this.Dn(e,r,n,o))},o=>{A.push(this.vn(e,r,n,o))}),ye.waitFor(A)}yn(e){let r=1;return ic(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,s)=>{s.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((A,o)=>xa(A,o)).filter((A,o,a)=>!o||xa(A,a[o-1])!==0);const i=[];i.push(e);for(const A of n){const o=xa(A,e),a=xa(A,r);if(o===0)i[0]=e.Zt();else if(o>0&&a<0)i.push(A),i.push(A.Zt());else if(a>0)break}i.push(r);const s=[];for(let A=0;A<i.length;A+=2){if(this.Cn(i[A],i[A+1]))return[];const o=[i[A].indexId,this.uid,i[A].arrayValue,i[A].directionalValue,lg,[]],a=[i[A+1].indexId,this.uid,i[A+1].arrayValue,i[A+1].directionalValue,lg,[]];s.push(IDBKeyRange.bound(o,a))}return s}Cn(e,r){return xa(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(db)}getMinOffset(e,r){return ye.mapArray(this.hn(r),n=>this.Pn(e,n).next(i=>i||tt())).next(db)}}function hb(t){return Rn(t,"collectionParents")}function nc(t){return Rn(t,"indexEntries")}function od(t){return Rn(t,"indexConfiguration")}function ic(t){return Rn(t,"indexState")}function db(t){At(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;qB(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new xs(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $i{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new $i(e,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],A=IDBKeyRange.only(r.batchId);let o=0;const a=n.J({range:A},(u,d,g)=>(o++,g.delete()));s.push(a.next(()=>{At(o===1)}));const l=[];for(const u of r.mutations){const d=jT(e,u.key.path,r.batchId);s.push(i.delete(d)),l.push(u.key)}return ye.waitFor(s).next(()=>l)}function a0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw tt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(41943040,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);class sw{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){At(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new sw(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fa(e).J({index:"userMutationsIndex",range:n},(i,s,A)=>{r=!1,A.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const s=yc(e),A=Fa(e);return A.add({}).next(o=>{At(typeof o=="number");const a=new e_(o,r,n,i),l=function(f,_,C){const x=C.baseMutations.map(E=>Vf(f.ct,E)),v=C.mutations.map(E=>Vf(f.ct,E));return{userId:_,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:x,mutations:v}}(this.serializer,this.userId,a),u=[];let d=new yr((g,f)=>Ut(g.canonicalString(),f.canonicalString()));for(const g of i){const f=jT(this.userId,g.key.path,o);d=d.add(g.key.path.popLast()),u.push(A.put(l)),u.push(s.put(f,y8))}return d.forEach(g=>{u.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Fn[o]=a.keys()}),ye.waitFor(u).next(()=>a)})}lookupMutationBatch(e,r){return Fa(e).get(r).next(n=>n?(At(n.userId===this.userId),tu(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?ye.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Fa(e).J({index:"userMutationsIndex",range:i},(A,o,a)=>{o.userId===this.userId&&(At(o.batchId>=n),s=tu(this.serializer,o)),a.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Fa(e).J({index:"userMutationsIndex",range:r,reverse:!0},(i,s,A)=>{n=s.batchId,A.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fa(e).U("userMutationsIndex",r).next(n=>n.map(i=>tu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=cm(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return yc(e).J({range:i},(A,o,a)=>{const[l,u,d]=A,g=to(u);if(l===this.userId&&r.path.isEqual(g))return Fa(e).get(d).next(f=>{if(!f)throw tt();At(f.userId===this.userId),s.push(tu(this.serializer,f))});a.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new yr(Ut);const i=[];return r.forEach(s=>{const A=cm(this.userId,s.path),o=IDBKeyRange.lowerBound(A),a=yc(e).J({range:o},(l,u,d)=>{const[g,f,_]=l,C=to(f);g===this.userId&&s.path.isEqual(C)?n=n.add(_):d.done()});i.push(a)}),ye.waitFor(i).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=cm(this.userId,n),A=IDBKeyRange.lowerBound(s);let o=new yr(Ut);return yc(e).J({range:A},(a,l,u)=>{const[d,g,f]=a,_=to(g);d===this.userId&&n.isPrefixOf(_)?_.length===i&&(o=o.add(f)):u.done()}).next(()=>this.xn(e,o))}xn(e,r){const n=[],i=[];return r.forEach(s=>{i.push(Fa(e).get(s).next(A=>{if(A===null)throw tt();At(A.userId===this.userId),n.push(tu(this.serializer,A))}))}),ye.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return DU(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),ye.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ye.resolve();const n=IDBKeyRange.lowerBound(function(A){return[A]}(this.userId)),i=[];return yc(e).J({range:n},(s,A,o)=>{if(s[0]===this.userId){const a=to(s[1]);i.push(a)}else o.done()}).next(()=>{At(i.length===0)})})}containsKey(e,r){return OU(e,this.userId,r)}Nn(e){return MU(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OU(t,e,r){const n=cm(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let A=!1;return yc(t).J({range:s,H:!0},(o,a,l)=>{const[u,d,g]=o;u===e&&d===i&&(A=!0),l.done()}).next(()=>A)}function Fa(t){return Rn(t,"mutations")}function yc(t){return Rn(t,"documentMutations")}function MU(t){return Rn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Lu(0)}static kn(){return new Lu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new Lu(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>ht.fromTimestamp(new ir(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>sc(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(At(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let i=0;const s=[];return sc(e).J((A,o)=>{const a=Sd(o);a.sequenceNumber<=r&&n.get(a.targetId)===null&&(i++,s.push(this.removeTargetData(e,a)))}).next(()=>ye.waitFor(s)).next(()=>i)}forEachTarget(e,r){return sc(e).J((n,i)=>{const s=Sd(i);r(s)})}qn(e){return pb(e).get("targetGlobalKey").next(r=>(At(r!==null),r))}Qn(e,r){return pb(e).put("targetGlobalKey",r)}Kn(e,r){return sc(e).put(LU(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=Uu(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return sc(e).J({range:i,index:"queryTargetsIndex"},(A,o,a)=>{const l=Sd(o);cp(r,l.target)&&(s=l,a.done())}).next(()=>s)}addMatchingKeys(e,r,n){const i=[],s=ja(e);return r.forEach(A=>{const o=Ri(A.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,A))}),ye.waitFor(i)}removeMatchingKeys(e,r,n){const i=ja(e);return ye.forEach(r,s=>{const A=Ri(s.path);return ye.waitFor([i.delete([n,A]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=ja(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=ja(e);let s=Rt();return i.J({range:n,H:!0},(A,o,a)=>{const l=to(A[1]),u=new ze(l);s=s.add(u)}).next(()=>s)}containsKey(e,r){const n=Ri(r.path),i=IDBKeyRange.bound([n],[DT(n)],!1,!0);let s=0;return ja(e).J({index:"documentTargetsIndex",H:!0,range:i},([A,o],a,l)=>{A!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,r){return sc(e).get(r).next(n=>n?Sd(n):null)}}function sc(t){return Rn(t,"targets")}function pb(t){return Rn(t,"targetGlobal")}function ja(t){return Rn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb([t,e],[r,n]){const i=Ut(t,r);return i===0?Ut(e,n):i}class VH{constructor(e){this.Un=e,this.buffer=new yr(gb),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();gb(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class jH{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){De("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Sl(r)?De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Hu(r)}await this.Hn(3e5)})}}class KH{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return ye.resolve(Gs.oe);const n=new VH(r);return this.Jn.forEachTarget(e,i=>n.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>n.zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(fb)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fb):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,A,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,A=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,o=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(l=Date.now(),gc()<=jt.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${A-u}ms
	Determined least recently used ${i} in `+(o-A)+`ms
	Removed ${s} targets in `+(a-o)+`ms
	Removed ${d} documents in `+(l-a)+`ms
Total Duration: ${l-u}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function GH(t,e){return new KH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,r){this.db=e,this.garbageCollector=GH(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,i)=>r(i))}addReference(e,r,n){return ug(e,n)}removeReference(e,r,n){return ug(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return ug(e,r)}nr(e,r){return function(i,s){let A=!1;return MU(i).Y(o=>OU(i,o,s).next(a=>(a&&(A=!0),ye.resolve(!a)))).next(()=>A)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(A,o)=>{if(o<=r){const a=this.nr(e,A).next(l=>{if(!l)return s++,n.getEntry(e,A).next(()=>(n.removeEntry(A,ht.min()),ja(e).delete(function(d){return[0,Ri(d.path)]}(A))))});i.push(a)}}).next(()=>ye.waitFor(i)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return ug(e,r)}tr(e,r){const n=ja(e);let i,s=Gs.oe;return n.J({index:"documentTargetsIndex"},([A,o],{path:a,sequenceNumber:l})=>{A===0?(s!==Gs.oe&&r(new ze(to(i)),s),s=l,i=a):s=Gs.oe}).next(()=>{s!==Gs.oe&&r(new ze(to(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ug(t,e){return ja(t).put(function(n,i){return{targetId:0,path:Ri(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.changes=new Tl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ye.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return ql(e).put(n)}removeEntry(e,r,n){return ql(e).delete(function(s,A){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],A0(A),o[o.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=Gr.newInvalidDocument(r);return ql(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ad(r))},(i,s)=>{n=this.ir(r,s)}).next(()=>n)}sr(e,r){let n={size:0,document:Gr.newInvalidDocument(r)};return ql(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ad(r))},(i,s)=>{n={document:this.ir(r,s),size:a0(s)}}).next(()=>n)}getEntries(e,r){let n=Cs();return this._r(e,r,(i,s)=>{const A=this.ir(i,s);n=n.insert(i,A)}).next(()=>n)}ar(e,r){let n=Cs(),i=new Wr(ze.comparator);return this._r(e,r,(s,A)=>{const o=this.ir(s,A);n=n.insert(s,o),i=i.insert(s,a0(A))}).next(()=>({documents:n,ur:i}))}_r(e,r,n){if(r.isEmpty())return ye.resolve();let i=new yr(vb);r.forEach(a=>i=i.add(a));const s=IDBKeyRange.bound(ad(i.first()),ad(i.last())),A=i.getIterator();let o=A.getNext();return ql(e).J({index:"documentKeyIndex",range:s},(a,l,u)=>{const d=ze.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;o&&vb(o,d)<0;)n(o,null),o=A.getNext();o&&o.isEqual(d)&&(n(o,l),o=A.hasNext()?A.getNext():null),o?u.$(ad(o)):u.done()}).next(()=>{for(;o;)n(o,null),o=A.hasNext()?A.getNext():null})}getDocumentsMatchingQuery(e,r,n,i,s){const A=r.path,o=[A.popLast().toArray(),A.lastSegment(),A0(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[A.popLast().toArray(),A.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ql(e).U(IDBKeyRange.bound(o,a,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let u=Cs();for(const d of l){const g=this.ir(ze.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);g.isFoundDocument()&&(dp(r,g)||i.has(g.key))&&(u=u.insert(g.key,g))}return u})}getAllFromCollectionGroup(e,r,n,i){let s=Cs();const A=wb(r,n),o=wb(r,xs.max());return ql(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(A,o,!0)},(a,l,u)=>{const d=this.ir(ze.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new WH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return mb(e).get("remoteDocumentGlobalKey").next(r=>(At(!!r),r))}rr(e,r){return mb(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=UH(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(ht.min())))return n}return Gr.newInvalidDocument(e)}}function VU(t){return new zH(t)}class WH extends HU{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Tl(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new yr((s,A)=>Ut(s.canonicalString(),A.canonicalString()));return this.changes.forEach((s,A)=>{const o=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,o.readTime)),A.isValidDocument()){const a=nb(this.cr.serializer,A);i=i.add(s.path.popLast());const l=a0(a);n+=l-o.size,r.push(this.cr.addEntry(e,s,a))}else if(n-=o.size,this.trackRemovals){const a=nb(this.cr.serializer,A.convertToNoDocument(ht.min()));r.push(this.cr.addEntry(e,s,a))}}),i.forEach(s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.cr.updateMetadata(e,n)),ye.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:i})=>(i.forEach((s,A)=>{this.lr.set(s,{size:A,readTime:n.get(s).readTime})}),n))}}function mb(t){return Rn(t,"remoteDocumentGlobal")}function ql(t){return Rn(t,"remoteDocumentsV14")}function ad(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wb(t,e){const r=e.documentKey.path.toArray();return[t,A0(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function vb(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Ut(r[s],n[s]),i)return i;return i=Ut(r.length,n.length),i||(i=Ut(r[r.length-2],n[n.length-2]),i||Ut(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Yd(n.mutation,i,Zi.empty(),ir.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Rt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Rt()){const i=ro();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let A=xd();return s.forEach((o,a)=>{A=A.insert(o,a.overlayedDocument)}),A}))}getOverlayedDocuments(e,r){const n=ro();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Rt()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((A,o)=>{r.set(A,o)})})}computeViews(e,r,n,i){let s=Cs();const A=Xd(),o=function(){return Xd()}();return r.forEach((a,l)=>{const u=n.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof sa)?s=s.insert(l.key,l):u!==void 0?(A.set(l.key,u.mutation.getFieldMask()),Yd(u.mutation,l,u.mutation.getFieldMask(),ir.now())):A.set(l.key,Zi.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((l,u)=>A.set(l,u)),r.forEach((l,u)=>{var d;return o.set(l,new $H(u,(d=A.get(l))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,r){const n=Xd();let i=new Wr((A,o)=>A-o),s=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(A=>{for(const o of A)o.keys().forEach(a=>{const l=r.get(a);if(l===null)return;let u=n.get(a)||Zi.empty();u=o.applyToLocalView(l,u),n.set(a,u);const d=(i.get(o.batchId)||Rt()).add(a);i=i.insert(o.batchId,d)})}).next(()=>{const A=[],o=i.getReverseIterator();for(;o.hasNext();){const a=o.getNext(),l=a.key,u=a.value,d=uU();u.forEach(g=>{if(!s.has(g)){const f=gU(r.get(g),n.get(g));f!==null&&d.set(g,f),s=s.add(g)}}),A.push(this.documentOverlayCache.saveOverlays(e,l,d))}return ye.waitFor(A)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(A){return ze.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):sU(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const A=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):ye.resolve(ro());let o=-1,a=s;return A.next(l=>ye.forEach(l,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(u)?ye.resolve():this.remoteDocumentCache.getEntry(e,u).next(g=>{a=a.insert(u,g)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,a,l,Rt())).next(u=>({batchId:o,changes:lU(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ze(r)).next(n=>{let i=xd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let A=xd();return this.indexManager.getCollectionParents(e,s).next(o=>ye.forEach(o,a=>{const l=function(d,g){return new Eh(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(u=>{u.forEach((d,g)=>{A=A.insert(d,g)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(A=>(s=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(A=>{s.forEach((a,l)=>{const u=l.getKey();A.get(u)===null&&(A=A.insert(u,Gr.newInvalidDocument(u)))});let o=xd();return A.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Yd(u.mutation,l,Zi.empty(),ir.now()),dp(r,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ye.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(r)),ye.resolve()}getNamedQuery(e,r){return ye.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:PU(i.bundledQuery),readTime:Gn(i.readTime)}}(r)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(){this.overlays=new Wr(ze.comparator),this.Ir=new Map}getOverlay(e,r){return ye.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ro();return ye.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),ye.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),ye.resolve()}getOverlaysForCollection(e,r,n){const i=ro(),s=r.length+1,A=new ze(r.child("")),o=this.overlays.getIteratorFrom(A);for(;o.hasNext();){const a=o.getNext().value,l=a.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&a.largestBatchId>n&&i.set(a.getKey(),a)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Wr((l,u)=>l-u);const A=this.overlays.getIterator();for(;A.hasNext();){const l=A.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let u=s.get(l.largestBatchId);u===null&&(u=ro(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const o=ro(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((l,u)=>o.set(l,u)),!(o.size()>=i)););return ye.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const A=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,A)}this.overlays=this.overlays.insert(n.key,new r_(r,n));let s=this.Ir.get(r);s===void 0&&(s=Rt(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.Tr=new yr(Vn.Er),this.dr=new yr(Vn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Vn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Vn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ze(new tr([])),n=new Vn(r,e),i=new Vn(r,e+1),s=[];return this.dr.forEachInRange([n,i],A=>{this.Vr(A),s.push(A.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ze(new tr([])),n=new Vn(r,e),i=new Vn(r,e+1);let s=Rt();return this.dr.forEachInRange([n,i],A=>{s=s.add(A.key)}),s}containsKey(e){const r=new Vn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Vn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ze.comparator(e.key,r.key)||Ut(e.wr,r.wr)}static Ar(e,r){return Ut(e.wr,r.wr)||ze.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new yr(Vn.Er)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new e_(s,r,n,i);this.mutationQueue.push(A);for(const o of i)this.br=this.br.add(new Vn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ye.resolve(A)}lookupMutationBatch(e,r){return ye.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Vn(r,0),i=new Vn(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],A=>{const o=this.Dr(A.wr);s.push(o)}),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new yr(Ut);return r.forEach(i=>{const s=new Vn(i,0),A=new Vn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,A],o=>{n=n.add(o.wr)})}),ye.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;ze.isDocumentKey(s)||(s=s.child(""));const A=new Vn(new ze(s),0);let o=new yr(Ut);return this.br.forEachWhile(a=>{const l=a.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(o=o.add(a.wr)),!0)},A),ye.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){At(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ye.forEach(r.mutations,i=>{const s=new Vn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Vn(r,0),i=this.br.firstAfterOrEqual(n);return ye.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.Mr=e,this.docs=function(){return new Wr(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,A=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:A}),this.size+=A-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ye.resolve(n?n.document.mutableCopy():Gr.newInvalidDocument(r))}getEntries(e,r){let n=Cs();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Gr.newInvalidDocument(i))}),ye.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Cs();const A=r.path,o=new ze(A.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:l,value:{document:u}}=a.getNext();if(!A.isPrefixOf(l.path))break;l.path.length>A.length+1||qB(OT(u),n)<=0||(i.has(u.key)||dp(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,r,n,i){tt()}Or(e,r){return ye.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new tV(this)}getSize(e){return ye.resolve(this.size)}}class tV extends HU{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ye.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.persistence=e,this.Nr=new Tl(r=>Uu(r),cp),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.Lr=0,this.Br=new o_,this.targetCount=0,this.kr=Lu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ye.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Lu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ye.resolve()}updateTargetData(e,r){return this.Kn(r),ye.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((A,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(A),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ye.waitFor(s).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ye.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ye.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(A=>{s.push(i.markPotentiallyOrphaned(e,A))}),ye.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ye.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ye.resolve(n)}containsKey(e,r){return ye.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Gs(0),this.Kr=!1,this.Kr=!0,this.$r=new JH,this.referenceDelegate=e(this),this.Ur=new rV(this),this.indexManager=new OH,this.remoteDocumentCache=function(i){return new eV(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new QU(r),this.Gr=new XH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new YH,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new ZH(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){De("MemoryPersistence","Starting transaction:",e);const i=new nV(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return ye.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class nV extends HT{constructor(e){super(),this.currentSequenceNumber=e}}class Aw{constructor(e){this.persistence=e,this.Jr=new o_,this.Yr=null}static Zr(e){return new Aw(e)}get Xr(){if(this.Yr)return this.Yr;throw tt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ye.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ye.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ye.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Xr,n=>{const i=ze.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,ht.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ye.or([()=>ye.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.serializer=e}O(e,r,n,i){const s=new J0("createOrUpgrade",r);n<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QE,{unique:!0}),a.createObjectStore("documentMutations")}(e),yb(e),function(a){a.createObjectStore("remoteDocuments")}(e));let A=ye.resolve();return n<3&&i>=3&&(n!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),yb(e)),A=A.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ht.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),n<4&&i>=4&&(n!==0&&(A=A.next(()=>function(a,l){return l.store("mutations").U().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QE,{unique:!0});const d=l.store("mutations"),g=u.map(f=>d.put(f));return ye.waitFor(g)})}(e,s))),A=A.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&i>=5&&(A=A.next(()=>this.ni(s))),n<6&&i>=6&&(A=A.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),n<7&&i>=7&&(A=A.next(()=>this.ii(s))),n<8&&i>=8&&(A=A.next(()=>this.si(e,s))),n<9&&i>=9&&(A=A.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&i>=10&&(A=A.next(()=>this.oi(s))),n<11&&i>=11&&(A=A.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(A=A.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:N8});l.createIndex("collectionPathOverlayIndex",Q8,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",L8,{unique:!1})})(e)})),n<13&&i>=13&&(A=A.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:B8});l.createIndex("documentKeyIndex",_8),l.createIndex("collectionGroupIndex",C8)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(A=A.next(()=>this.ai(e,s))),n<15&&i>=15&&(A=A.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:F8}).createIndex("sequenceNumberIndex",S8,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:T8}).createIndex("documentKeyIndex",U8,{unique:!1})}(e))),n<16&&i>=16&&(A=A.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&i>=17&&(A=A.next(()=>{(function(a){a.createObjectStore("globals",{keyPath:"name"})})(e)})),A}ri(e){let r=0;return e.store("remoteDocuments").J((n,i)=>{r+=a0(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(i=>ye.forEach(i,s=>{const A=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",A).next(o=>ye.forEach(o,a=>{At(a.userId===s.userId);const l=tu(this.serializer,a);return DU(e,s.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return n.J((A,o)=>{const a=new tr(A),l=function(d){return[0,Ri(d)]}(a);s.push(r.get(l).next(u=>u?ye.resolve():(d=>r.put({targetId:0,path:Ri(d),sequenceNumber:i.highestListenSequenceNumber}))(a)))}).next(()=>ye.waitFor(s))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:x8});const n=r.store("collectionParents"),i=new A_,s=A=>{if(i.add(A)){const o=A.lastSegment(),a=A.popLast();return n.put({collectionId:o,parent:Ri(a)})}};return r.store("remoteDocuments").J({H:!0},(A,o)=>{const a=new tr(A);return s(a.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([A,o,a],l)=>{const u=to(o);return s(u.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,i)=>{const s=Sd(i),A=LU(this.serializer,s);return r.put(A)})}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J((s,A)=>{const o=r.store("remoteDocumentsV14"),a=function(d){return d.document?new ze(tr.fromString(d.document.name).popFirst(5)):d.noDocument?ze.fromSegments(d.noDocument.path):d.unknownDocument?ze.fromSegments(d.unknownDocument.path):tt()}(A).path.toArray(),l={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:A.readTime||[0,0],unknownDocument:A.unknownDocument,noDocument:A.noDocument,document:A.document,hasCommittedMutations:!!A.hasCommittedMutations};i.push(o.put(l))}).next(()=>ye.waitFor(i))}ai(e,r){const n=r.store("mutations"),i=VU(this.serializer),s=new KU(Aw.Zr,this.serializer.ct);return n.U().next(A=>{const o=new Map;return A.forEach(a=>{var l;let u=(l=o.get(a.userId))!==null&&l!==void 0?l:Rt();tu(this.serializer,a).keys().forEach(d=>u=u.add(d)),o.set(a.userId,u)}),ye.forEach(o,(a,l)=>{const u=new ei(l),d=iw.lt(this.serializer,u),g=s.getIndexManager(u),f=sw.lt(u,this.serializer,g,s.referenceDelegate);return new jU(i,f,d,g).recalculateAndSaveOverlaysForDocumentKeys(new Uy(r,Gs.oe),a).next()})})}}function yb(t){t.createObjectStore("targetDocuments",{keyPath:b8}).createIndex("documentTargetsIndex",I8,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",E8,{unique:!0}),t.createObjectStore("targetGlobal")}const T1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class a_{constructor(e,r,n,i,s,A,o,a,l,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=A,this.document=o,this.ci=l,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=g=>Promise.resolve(),!a_.D())throw new Ve(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qH(this,i),this.Ai=r+"main",this.serializer=new QU(a),this.Ri=new ul(this.Ai,this.hi,new iV(this.serializer)),this.$r=new QH,this.Ur=new HH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=VU(this.serializer),this.Gr=new NH,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(Fe.FAILED_PRECONDITION,T1);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Gs(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(Sl(e))return De("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ld(e).get("owner").next(r=>ye.resolve(this.vi(r)))}Ci(e){return cg(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Rn(r,"clientMetadata");return n.U().next(i=>{const s=this.xi(i,18e5),A=i.filter(o=>s.indexOf(o)===-1);return ye.forEach(A,o=>n.delete(o.clientId)).next(()=>A)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ye.resolve(!0):ld(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Ve(Fe.FAILED_PRECONDITION,T1);return!1}}return!(!this.networkEnabled||!this.inForeground)||cg(e).U().next(n=>this.xi(n,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,A=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||A&&o)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&De("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new Uy(e,Gs.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>cg(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return sw.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new MH(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return iw.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){De("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=function(a){return a===17?k8:a===16?R8:a===15?WB:a===14?qT:a===13?GT:a===12?P8:a===11?KT:void tt()}(this.hi);let A;return this.Ri.runTransaction(e,i,s,o=>(A=new Uy(o,this.Qr?this.Qr.next():Gs.oe),r==="readwrite-primary"?this.wi(A).next(a=>!!a||this.Si(A)).next(a=>{if(!a)throw Li(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ve(Fe.FAILED_PRECONDITION,MT);return n(A)}).next(a=>this.Di(A).next(()=>a)):this.Ki(A).next(()=>n(A)))).then(o=>(A.raiseOnCommittedEvent(),o))}Ki(e){return ld(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ve(Fe.FAILED_PRECONDITION,T1)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ld(e).put("owner",r)}static D(){return ul.D()}bi(e){const r=ld(e);return r.get("owner").next(n=>this.vi(n)?(De("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ye.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Li(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;HS()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return De("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Li("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Li("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ld(t){return Rn(t,"owner")}function cg(t){return Rn(t,"clientMetadata")}function sV(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Rt(),i=Rt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new l_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return HS()?8:VT(Pn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(A=>{s.result=A}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(A=>{s.result=A})}).next(()=>{if(s.result)return;const A=new AV;return this.Xi(e,r,A).next(o=>{if(s.result=o,this.zi)return this.es(e,r,A,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(gc()<=jt.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",mc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ye.resolve()):(gc()<=jt.DEBUG&&De("QueryEngine","Query:",mc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(gc()<=jt.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",mc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$s(r))):ye.resolve())}Yi(e,r){if(qE(r))return ye.resolve(null);let n=$s(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=s0(r,null,"F"),n=$s(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const A=Rt(...s);return this.Ji.getDocuments(e,A).next(o=>this.indexManager.getMinOffset(e,n).next(a=>{const l=this.ts(r,o);return this.ns(r,l,A,a.readTime)?this.Yi(e,s0(r,null,"F")):this.rs(e,l,r,a)}))})))}Zi(e,r,n,i){return qE(r)||i.isEqual(ht.min())?ye.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const A=this.ts(r,s);return this.ns(r,A,n,i)?ye.resolve(null):(gc()<=jt.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mc(r)),this.rs(e,A,r,d8(i,-1)).next(o=>o))})}ts(e,r){let n=new yr(oU(e));return r.forEach((i,s)=>{dp(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return gc()<=jt.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",mc(r)),this.Ji.getDocumentsMatchingQuery(e,r,xs.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(A=>{s=s.insert(A.key,A)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Wr(Ut),this._s=new Tl(s=>Uu(s),cp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function qU(t,e,r,n){return new oV(t,e,r,n)}async function zU(t,e){const r=Et(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const A=[],o=[];let a=Rt();for(const l of i){A.push(l.batchId);for(const u of l.mutations)a=a.add(u.key)}for(const l of s){o.push(l.batchId);for(const u of l.mutations)a=a.add(u.key)}return r.localDocuments.getDocuments(n,a).next(l=>({hs:l,removedBatchIds:A,addedBatchIds:o}))})})}function aV(t,e){const r=Et(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const d=l.batch,g=d.keys();let f=ye.resolve();return g.forEach(_=>{f=f.next(()=>u.getEntry(a,_)).next(C=>{const x=l.docVersions.get(_);At(x!==null),C.version.compareTo(x)<0&&(d.applyToRemoteDocument(C,l),C.isValidDocument()&&(C.setReadTime(l.commitVersion),u.addEntry(C)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let a=Rt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function WU(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function lV(t,e){const r=Et(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const A=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((u,d)=>{const g=i.get(d);if(!g)return;o.push(r.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(s,u.addedDocuments,d)));let f=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(xn.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,n)),i=i.insert(d,f),function(C,x,v){return C.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(g,f,u)&&o.push(r.Ur.updateTargetData(s,f))});let a=Cs(),l=Rt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(uV(s,A,e.documentUpdates).next(u=>{a=u.Ps,l=u.Is})),!n.isEqual(ht.min())){const u=r.Ur.getLastRemoteSnapshotVersion(s).next(d=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(u)}return ye.waitFor(o).next(()=>A.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,a,l)).next(()=>a)}).then(s=>(r.os=i,s))}function uV(t,e,r){let n=Rt(),i=Rt();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let A=Cs();return r.forEach((o,a)=>{const l=s.get(o);a.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),a.isNoDocument()&&a.version.isEqual(ht.min())?(e.removeEntry(o,a.readTime),A=A.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(a),A=A.insert(o,a)):De("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),{Ps:A,Is:i}})}function cV(t,e){const r=Et(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function hV(t,e){const r=Et(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,ye.resolve(i)):r.Ur.allocateTargetId(n).next(A=>(i=new Vo(e,A,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Gy(t,e,r){const n=Et(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,A=>n.persistence.referenceDelegate.removeTarget(A,i))}catch(A){if(!Sl(A))throw A;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Bb(t,e,r){const n=Et(t);let i=ht.min(),s=Rt();return n.persistence.runTransaction("Execute query","readwrite",A=>function(a,l,u){const d=Et(a),g=d._s.get(u);return g!==void 0?ye.resolve(d.os.get(g)):d.Ur.getTargetData(l,u)}(n,A,$s(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(A,o.targetId).next(a=>{s=a})}).next(()=>n.ss.getDocumentsMatchingQuery(A,e,r?i:ht.min(),r?s:Rt())).next(o=>(dV(n,J8(e),o),{documents:o,Ts:s})))}function dV(t,e,r){let n=t.us.get(e)||ht.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class _b{constructor(){this.activeTargetIds=iH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $U{constructor(){this.so=new _b,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _b,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg=null;function U1(){return hg===null?hg=function(){return 268435456+Math.round(2147483648*Math.random())}():hg++,"0x"+hg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="WebChannelConnection";class mV extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,A){const o=U1(),a=this.xo(r,n.toUriEncodedString());De("RestConnection",`Sending RPC '${r}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,A),this.No(r,a,l,i).then(u=>(De("RestConnection",`Received RPC '${r}' ${o}: `,u),u),u=>{throw Fu("RestConnection",`RPC '${r}' ${o} failed with error: `,u,"url: ",a,"request:",i),u})}Lo(r,n,i,s,A,o){return this.Mo(r,n,i,s,A)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ch}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,A)=>r[A]=s),i&&i.headers.forEach((s,A)=>r[A]=s)}xo(r,n){const i=pV[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=U1();return new Promise((A,o)=>{const a=new UT;a.setWithCredentials(!0),a.listenOnce(NT.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case lm.NO_ERROR:const u=a.getResponseJson();De(pi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),A(u);break;case lm.TIMEOUT:De(pi,`RPC '${e}' ${s} timed out`),o(new Ve(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:const d=a.getStatus();if(De(pi,`RPC '${e}' ${s} failed with status:`,d,"response text:",a.getResponseText()),d>0){let g=a.getResponseJson();Array.isArray(g)&&(g=g[0]);const f=g==null?void 0:g.error;if(f&&f.status&&f.message){const _=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(v)>=0?v:Fe.UNKNOWN}(f.status);o(new Ve(_,f.message))}else o(new Ve(Fe.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ve(Fe.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{De(pi,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);De(pi,`RPC '${e}' ${s} sending request:`,i),a.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=U1(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=PT(),o=LT(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,r,n),a.encodeInitMessageHeaders=!0;const u=s.join("");De(pi,`Creating RPC '${e}' stream ${i}: ${u}`,a);const d=A.createWebChannel(u,a);let g=!1,f=!1;const _=new gV({Io:x=>{f?De(pi,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(De(pi,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),De(pi,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},To:()=>d.close()}),C=(x,v,E)=>{x.listen(v,F=>{try{E(F)}catch(P){setTimeout(()=>{throw P},0)}})};return C(d,Id.EventType.OPEN,()=>{f||(De(pi,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),C(d,Id.EventType.CLOSE,()=>{f||(f=!0,De(pi,`RPC '${e}' stream ${i} transport closed`),_.So())}),C(d,Id.EventType.ERROR,x=>{f||(f=!0,Fu(pi,`RPC '${e}' stream ${i} transport errored:`,x),_.So(new Ve(Fe.UNAVAILABLE,"The operation could not be completed")))}),C(d,Id.EventType.MESSAGE,x=>{var v;if(!f){const E=x.data[0];At(!!E);const F=E,P=F.error||((v=F[0])===null||v===void 0?void 0:v.error);if(P){De(pi,`RPC '${e}' stream ${i} received error:`,P);const K=P.status;let M=function(b){const R=En[b];if(R!==void 0)return vU(R)}(K),Q=P.message;M===void 0&&(M=Fe.INTERNAL,Q="Unknown error status: "+K+" with message "+P.message),f=!0,_.So(new Ve(M,Q)),d.close()}else De(pi,`RPC '${e}' stream ${i} received:`,E),_.bo(E)}}),C(o,QT.STAT_EVENT,x=>{x.stat===Sy.PROXY?De(pi,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Sy.NOPROXY&&De(pi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(){return typeof window<"u"?window:null}function gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){return new yH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,r,n,i,s,A,o,a){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new u_(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Fe.RESOURCE_EXHAUSTED?(Li(r.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Ve(Fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vV extends XU{constructor(e,r,n,i,s,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,A),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=EH(this.serializer,e),n=function(s){if(!("targetChange"in s))return ht.min();const A=s.targetChange;return A.targetIds&&A.targetIds.length?ht.min():A.readTime?Gn(A.readTime):ht.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=My(this.serializer),r.addTarget=function(s,A){let o;const a=A.target;if(o=n0(a)?{documents:xU(s,a)}:{query:FU(s,a)._t},o.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){o.resumeToken=_U(s,A.resumeToken);const l=Dy(s,A.expectedCount);l!==null&&(o.expectedCount=l)}else if(A.snapshotVersion.compareTo(ht.min())>0){o.readTime=hh(s,A.snapshotVersion.toTimestamp());const l=Dy(s,A.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=IH(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=My(this.serializer),r.removeTarget=e,this.a_(r)}}class yV extends XU{constructor(e,r,n,i,s,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,A),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=bH(e.writeResults,e.commitTime),n=Gn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=My(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Vf(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ve(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,A])=>this.connection.Mo(e,Oy(r,n),i,s,A)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(Fe.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,o])=>this.connection.Lo(e,Oy(r,n),i,A,o,s)).catch(A=>{throw A.name==="FirebaseError"?(A.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new Ve(Fe.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _V{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Li(r),this.D_=!1):De("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(A=>{n.enqueueAndForget(async()=>{ju(this)&&(De("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Et(a);l.L_.add(4),await pp(l),l.q_.set("Unknown"),l.L_.delete(4),await aw(l)}(this))})}),this.q_=new _V(n,i)}}async function aw(t){if(ju(t))for(const e of t.B_)await e(!0)}async function pp(t){for(const e of t.B_)await e(!1)}function YU(t,e){const r=Et(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),f_(r)?d_(r):xh(r).r_()&&h_(r,e))}function c_(t,e){const r=Et(t),n=xh(r);r.N_.delete(e),n.r_()&&JU(r,e),r.N_.size===0&&(n.r_()?n.o_():ju(r)&&r.q_.set("Unknown"))}function h_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ht.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}xh(t).A_(e)}function JU(t,e){t.Q_.xe(e),xh(t).R_(e)}function d_(t){t.Q_=new gH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),xh(t).start(),t.q_.v_()}function f_(t){return ju(t)&&!xh(t).n_()&&t.N_.size>0}function ju(t){return Et(t).L_.size===0}function ZU(t){t.Q_=void 0}async function EV(t){t.q_.set("Online")}async function bV(t){t.N_.forEach((e,r)=>{h_(t,e)})}async function IV(t,e){ZU(t),f_(t)?(t.q_.M_(e),d_(t)):t.q_.set("Unknown")}async function xV(t,e,r){if(t.q_.set("Online"),e instanceof BU&&e.state===2&&e.cause)try{await async function(i,s){const A=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,A),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await l0(t,n)}else if(e instanceof pm?t.Q_.Ke(e):e instanceof yU?t.Q_.He(e):t.Q_.We(e),!r.isEqual(ht.min()))try{const n=await WU(t.localStore);r.compareTo(n)>=0&&await function(s,A){const o=s.Q_.rt(A);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(a.resumeToken,A))}}),o.targetMismatches.forEach((a,l)=>{const u=s.N_.get(a);if(!u)return;s.N_.set(a,u.withResumeToken(xn.EMPTY_BYTE_STRING,u.snapshotVersion)),JU(s,a);const d=new Vo(u.target,a,l,u.sequenceNumber);h_(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){De("RemoteStore","Failed to raise snapshot:",n),await l0(t,n)}}async function l0(t,e,r){if(!Sl(e))throw e;t.L_.add(1),await pp(t),t.q_.set("Offline"),r||(r=()=>WU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{De("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await aw(t)})}function eN(t,e){return e().catch(r=>l0(t,r,e))}async function gp(t){const e=Et(t),r=yl(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;FV(e);)try{const i=await cV(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,SV(e,i)}catch(i){await l0(e,i)}tN(e)&&rN(e)}function FV(t){return ju(t)&&t.O_.length<10}function SV(t,e){t.O_.push(e);const r=yl(t);r.r_()&&r.V_&&r.m_(e.mutations)}function tN(t){return ju(t)&&!yl(t).n_()&&t.O_.length>0}function rN(t){yl(t).start()}async function TV(t){yl(t).p_()}async function UV(t){const e=yl(t);for(const r of t.O_)e.m_(r.mutations)}async function NV(t,e,r){const n=t.O_.shift(),i=t_.from(n,e,r);await eN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gp(t)}async function QV(t,e){e&&yl(t).V_&&await async function(n,i){if(function(A){return wU(A)&&A!==Fe.ABORTED}(i.code)){const s=n.O_.shift();yl(n).s_(),await eN(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gp(n)}}(t,e),tN(t)&&rN(t)}async function Eb(t,e){const r=Et(t);r.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const n=ju(r);r.L_.add(3),await pp(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await aw(r)}async function LV(t,e){const r=Et(t);e?(r.L_.delete(2),await aw(r)):e||(r.L_.add(2),await pp(r),r.q_.set("Unknown"))}function xh(t){return t.K_||(t.K_=function(r,n,i){const s=Et(r);return s.w_(),new vV(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:EV.bind(null,t),Ro:bV.bind(null,t),mo:IV.bind(null,t),d_:xV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),f_(t)?d_(t):t.q_.set("Unknown")):(await t.K_.stop(),ZU(t))})),t.K_}function yl(t){return t.U_||(t.U_=function(r,n,i){const s=Et(r);return s.w_(),new yV(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:TV.bind(null,t),mo:QV.bind(null,t),f_:UV.bind(null,t),g_:NV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await gp(t)):(await t.U_.stop(),t.O_.length>0&&(De("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new wA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const A=Date.now()+n,o=new p_(e,r,A,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g_(t,e){if(Li("AsyncQueue",`${e}: ${t}`),Sl(t))return new Ve(Fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ze.comparator(r.key,n.key):(r,n)=>ze.comparator(r.key,n.key),this.keyedMap=xd(),this.sortedSet=new Wr(this.comparator)}static emptySet(e){return new $c(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof $c)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new $c;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.W_=new Wr(ze.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):tt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class dh{constructor(e,r,n,i,s,A,o,a,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=A,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const A=[];return r.forEach(o=>{A.push({type:0,doc:o})}),new dh(e,r,$c.emptySet(r),A,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ew(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class RV{constructor(){this.queries=Ib(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Et(r),s=i.queries;i.queries=Ib(),s.forEach((A,o)=>{for(const a of o.j_)a.onError(n)})})(this,new Ve(Fe.ABORTED,"Firestore shutting down"))}}function Ib(){return new Tl(t=>AU(t),ew)}async function m_(t,e){const r=Et(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new PV,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(A){const o=g_(A,`Initialization of query '${mc(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&v_(r)}async function w_(t,e){const r=Et(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const A=s.j_.indexOf(e);A>=0&&(s.j_.splice(A,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function kV(t,e){const r=Et(t);let n=!1;for(const i of e){const s=i.query,A=r.queries.get(s);if(A){for(const o of A.j_)o.X_(i)&&(n=!0);A.z_=i}}n&&v_(r)}function DV(t,e,r){const n=Et(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function v_(t){t.Y_.forEach(e=>{e.next()})}var qy,xb;(xb=qy||(qy={})).ea="default",xb.Cache="cache";class y_{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new dh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.key=e}}class iN{constructor(e){this.key=e}}class OV{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Rt(),this.mutatedKeys=Rt(),this.Aa=oU(e),this.Ra=new $c(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new bb,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,A=i,o=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const g=i.get(u),f=dp(this.query,d)?d:null,_=!!g&&this.mutatedKeys.has(g.key),C=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let x=!1;g&&f?g.data.isEqual(f.data)?_!==C&&(n.track({type:3,doc:f}),x=!0):this.ga(g,f)||(n.track({type:2,doc:f}),x=!0,(a&&this.Aa(f,a)>0||l&&this.Aa(f,l)<0)&&(o=!0)):!g&&f?(n.track({type:0,doc:f}),x=!0):g&&!f&&(n.track({type:1,doc:g}),x=!0,(a||l)&&(o=!0)),x&&(f?(A=A.add(f),s=C?s.add(u):s.delete(u)):(A=A.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const u=this.query.limitType==="F"?A.last():A.first();A=A.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:A,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((u,d)=>function(f,_){const C=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return C(f)-C(_)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],a=this.da.size===0&&this.current&&!i?1:0,l=a!==this.Ea;return this.Ea=a,A.length!==0||l?{snapshot:new dh(this.query,e.Ra,s,A,e.mutatedKeys,a===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new bb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Rt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new iN(n))}),this.da.forEach(n=>{e.has(n)||r.push(new nN(n))}),r}ba(e){this.Ta=e.Ts,this.da=Rt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return dh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class MV{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class HV{constructor(e){this.key=e,this.va=!1}}class VV{constructor(e,r,n,i,s,A){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new Tl(o=>AU(o),ew),this.Ma=new Map,this.xa=new Set,this.Oa=new Wr(ze.comparator),this.Na=new Map,this.La=new o_,this.Ba={},this.ka=new Map,this.qa=Lu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function jV(t,e,r=!0){const n=uN(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await sN(n,e,r,!0),i}async function KV(t,e){const r=uN(t);await sN(r,e,!0,!1)}async function sN(t,e,r,n){const i=await hV(t.localStore,$s(e)),s=i.targetId,A=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await GV(t,e,s,A==="current",i.resumeToken)),t.isPrimaryClient&&r&&YU(t.remoteStore,i),o}async function GV(t,e,r,n,i){t.Ka=(d,g,f)=>async function(C,x,v,E){let F=x.view.ma(v);F.ns&&(F=await Bb(C.localStore,x.query,!1).then(({documents:Q})=>x.view.ma(Q,F)));const P=E&&E.targetChanges.get(x.targetId),K=E&&E.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(F,C.isPrimaryClient,P,K);return Sb(C,x.targetId,M.wa),M.snapshot}(t,d,g,f);const s=await Bb(t.localStore,e,!0),A=new OV(e,s.Ts),o=A.ma(s.documents),a=fp.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=A.applyChanges(o,t.isPrimaryClient,a);Sb(t,r,l.wa);const u=new MV(e,r,A);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function qV(t,e,r){const n=Et(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(A=>!ew(A,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Gy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&c_(n.remoteStore,i.targetId),zy(n,i.targetId)}).catch(Hu)):(zy(n,i.targetId),await Gy(n.localStore,i.targetId,!0))}async function zV(t,e){const r=Et(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),c_(r.remoteStore,n.targetId))}async function WV(t,e,r){const n=cN(t);try{const i=await function(A,o){const a=Et(A),l=ir.now(),u=o.reduce((f,_)=>f.add(_.key),Rt());let d,g;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let _=Cs(),C=Rt();return a.cs.getEntries(f,u).next(x=>{_=x,_.forEach((v,E)=>{E.isValidDocument()||(C=C.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,_)).next(x=>{d=x;const v=[];for(const E of o){const F=hH(E,d.get(E.key).overlayedDocument);F!=null&&v.push(new sa(E.key,F,YT(F.value.mapValue),qr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,v,o)}).next(x=>{g=x;const v=x.applyToLocalDocumentSet(d,C);return a.documentOverlayCache.saveOverlays(f,x.batchId,v)})}).then(()=>({batchId:g.batchId,changes:lU(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(A,o,a){let l=A.Ba[A.currentUser.toKey()];l||(l=new Wr(Ut)),l=l.insert(o,a),A.Ba[A.currentUser.toKey()]=l}(n,i.batchId,r),await mp(n,i.changes),await gp(n.remoteStore)}catch(i){const s=g_(i,"Failed to persist write");r.reject(s)}}async function AN(t,e){const r=Et(t);try{const n=await lV(r.localStore,e);e.targetChanges.forEach((i,s)=>{const A=r.Na.get(s);A&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?A.va=!0:i.modifiedDocuments.size>0?At(A.va):i.removedDocuments.size>0&&(At(A.va),A.va=!1))}),await mp(r,n,e)}catch(n){await Hu(n)}}function Fb(t,e,r){const n=Et(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,A)=>{const o=A.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(A,o){const a=Et(A);a.onlineState=o;let l=!1;a.queries.forEach((u,d)=>{for(const g of d.j_)g.Z_(o)&&(l=!0)}),l&&v_(a)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function $V(t,e,r){const n=Et(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let A=new Wr(ze.comparator);A=A.insert(s,Gr.newNoDocument(s,ht.min()));const o=Rt().add(s),a=new nw(ht.min(),new Map,new Wr(Ut),A,o);await AN(n,a),n.Oa=n.Oa.remove(s),n.Na.delete(e),B_(n)}else await Gy(n.localStore,e,!1).then(()=>zy(n,e,r)).catch(Hu)}async function XV(t,e){const r=Et(t),n=e.batch.batchId;try{const i=await aV(r.localStore,e);aN(r,n,null),oN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await mp(r,i)}catch(i){await Hu(i)}}async function YV(t,e,r){const n=Et(t);try{const i=await function(A,o){const a=Et(A);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(d=>(At(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(n.localStore,e);aN(n,e,r),oN(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await mp(n,i)}catch(i){await Hu(i)}}function oN(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function aN(t,e,r){const n=Et(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function zy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||lN(t,n)})}function lN(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(c_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),B_(t))}function Sb(t,e,r){for(const n of r)n instanceof nN?(t.La.addReference(n.key,e),JV(t,n)):n instanceof iN?(De("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||lN(t,n.key)):tt()}function JV(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(De("SyncEngine","New document in limbo: "+r),t.xa.add(n),B_(t))}function B_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ze(tr.fromString(e)),n=t.qa.next();t.Na.set(n,new HV(r)),t.Oa=t.Oa.insert(r,n),YU(t.remoteStore,new Vo($s(hp(r.path)),n,"TargetPurposeLimboResolution",Gs.oe))}}async function mp(t,e,r){const n=Et(t),i=[],s=[],A=[];n.Fa.isEmpty()||(n.Fa.forEach((o,a)=>{A.push(n.Ka(a,e,r).then(l=>{var u;if((l||r)&&n.isPrimaryClient){const d=l?!l.fromCache:(u=r==null?void 0:r.targetChanges.get(a.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(a.targetId,d?"current":"not-current")}if(l){i.push(l);const d=l_.Wi(a.targetId,l);s.push(d)}}))}),await Promise.all(A),n.Ca.d_(i),await async function(a,l){const u=Et(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ye.forEach(l,g=>ye.forEach(g.$i,f=>u.persistence.referenceDelegate.addReference(d,g.targetId,f)).next(()=>ye.forEach(g.Ui,f=>u.persistence.referenceDelegate.removeReference(d,g.targetId,f)))))}catch(d){if(!Sl(d))throw d;De("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const g=d.targetId;if(!d.fromCache){const f=u.os.get(g),_=f.snapshotVersion,C=f.withLastLimboFreeSnapshotVersion(_);u.os=u.os.insert(g,C)}}}(n.localStore,s))}async function ZV(t,e){const r=Et(t);if(!r.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const n=await zU(r.localStore,e);r.currentUser=e,function(s,A){s.ka.forEach(o=>{o.forEach(a=>{a.reject(new Ve(Fe.CANCELLED,A))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await mp(r,n.hs)}}function e7(t,e){const r=Et(t),n=r.Na.get(e);if(n&&n.va)return Rt().add(n.key);{let i=Rt();const s=r.Ma.get(e);if(!s)return i;for(const A of s){const o=r.Fa.get(A);i=i.unionWith(o.view.Va)}return i}}function uN(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$V.bind(null,e),e.Ca.d_=kV.bind(null,e.eventManager),e.Ca.$a=DV.bind(null,e.eventManager),e}function cN(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YV.bind(null,e),e}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ow(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return qU(this.persistence,new GU,e.initialUser,this.serializer)}Ga(e){return new KU(Aw.Zr,this.serializer)}Wa(e){return new $U}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class t7 extends jf{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await cN(this.Ja.syncEngine),await gp(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return qU(this.persistence,new GU,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new jH(n,e.asyncQueue,r)}Ha(e,r){const n=new m8(r,this.persistence);return new g8(e.asyncQueue,n)}Ga(e){const r=sV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new a_(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,wV(),gm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new $U}}class u0{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Fb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZV.bind(null,this.syncEngine),await LV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RV}()}createDatastore(e){const r=ow(e.databaseInfo.databaseId),n=function(s){return new mV(s)}(e.databaseInfo);return function(s,A,o,a){return new BV(s,A,o,a)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,A,o){return new CV(n,i,s,A,o)}(this.localStore,this.datastore,e.asyncQueue,r=>Fb(this.syncEngine,r,0),function(){return Cb.D()?new Cb:new fV}())}createSyncEngine(e,r){return function(i,s,A,o,a,l,u){const d=new VV(i,s,A,o,a,l);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Et(i);De("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await pp(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}u0.provider={build:()=>new u0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ve(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(i,s){const A=Et(i),o={documents:s.map(d=>Hf(A.serializer,d))},a=await A.Lo("BatchGetDocuments",A.serializer.databaseId,tr.emptyPath(),o,s.length),l=new Map;a.forEach(d=>{const g=CH(A.serializer,d);l.set(g.key.toString(),g)});const u=[];return s.forEach(d=>{const g=l.get(d.toString());At(!!g),u.push(g)}),u}(this.datastore,e);return r.forEach(n=>this.recordVersion(n)),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ih(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,n)=>{const i=ze.fromPath(n);this.mutations.push(new ZB(i,this.precondition(i)))}),await async function(n,i){const s=Et(n),A={writes:i.map(o=>Vf(s.serializer,o))};await s.Mo("Commit",s.serializer.databaseId,tr.emptyPath(),A)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw tt();r=ht.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new Ve(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(ht.min())?qr.exists(!1):qr.updateTime(r):qr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(ht.min()))throw new Ve(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qr.updateTime(r)}return qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,r,n,i,s){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=s,this._u=n.maxAttempts,this.t_=new u_(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new r7(this.datastore),r=this.cu(e);r&&r.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(i=>{this.lu(i)}))}).catch(n=>{this.lu(n)})})}cu(e){try{const r=this.updateFunction(e);return!up(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!wU(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ei.UNAUTHENTICATED,this.clientId=kT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async A=>{De("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(n,A=>(De("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=g_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function N1(t,e){t.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await zU(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress();const r=await s7(t);De("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Eb(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Eb(e.remoteStore,i)),t._onlineComponents=e}async function s7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{await N1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Fu("Error using user provided cache. Falling back to memory cache: "+r),await N1(t,new jf)}}else De("FirestoreClient","Using default OfflineComponentProvider"),await N1(t,new jf);return t._offlineComponents}async function C_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),await Tb(t,t._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),await Tb(t,new u0))),t._onlineComponents}function A7(t){return C_(t).then(e=>e.syncEngine)}function o7(t){return C_(t).then(e=>e.datastore)}async function c0(t){const e=await C_(t),r=e.eventManager;return r.onListen=jV.bind(null,e.syncEngine),r.onUnlisten=qV.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=KV.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=zV.bind(null,e.syncEngine),r}function a7(t,e,r={}){const n=new wA;return t.asyncQueue.enqueueAndForget(async()=>function(s,A,o,a,l){const u=new __({next:g=>{u.Za(),A.enqueueAndForget(()=>w_(s,d));const f=g.docs.has(o);!f&&g.fromCache?l.reject(new Ve(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&g.fromCache&&a&&a.source==="server"?l.reject(new Ve(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),d=new y_(hp(o.path),u,{includeMetadataChanges:!0,_a:!0});return m_(s,d)}(await c0(t),t.asyncQueue,e,r,n)),n.promise}function l7(t,e,r={}){const n=new wA;return t.asyncQueue.enqueueAndForget(async()=>function(s,A,o,a,l){const u=new __({next:g=>{u.Za(),A.enqueueAndForget(()=>w_(s,d)),g.fromCache&&a.source==="server"?l.reject(new Ve(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),d=new y_(o,u,{includeMetadataChanges:!0,_a:!0});return m_(s,d)}(await c0(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e,r){if(!r)throw new Ve(Fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u7(t,e,r,n){if(e===!0&&n===!0)throw new Ve(Fe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Nb(t){if(!ze.isDocumentKey(t))throw new Ve(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qb(t){if(ze.isDocumentKey(t))throw new Ve(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt()}function si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=lw(t);throw new Ve(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ve(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hN((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ve(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ve(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ve(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uw{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new i8;switch(n.type){case"firstParty":return new a8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Ub.get(r);n&&(De("ComponentProvider","Removing Datastore"),Ub.delete(r),n.terminate())}(this),Promise.resolve()}}function c7(t,e,r,n={}){var i;const s=(t=si(t,uw))._getSettings(),A=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==A&&Fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:A,ssl:!1})),n.mockUserToken){let o,a;if(typeof n.mockUserToken=="string")o=n.mockUserToken,a=ei.MOCK_USER;else{o=ED(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new Ve(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ei(l)}t._authCredentials=new s8(new RT(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class Ai{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ai(this.firestore,e,this._key)}}class cl extends Aa{constructor(e,r,n){super(e,r,hp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ai(this.firestore,null,new ze(e))}withConverter(e){return new cl(this.firestore,e,this._path)}}function wr(t,e,...r){if(t=An(t),dN("collection","path",e),t instanceof uw){const n=tr.fromString(e,...r);return Qb(n),new cl(t,null,n)}{if(!(t instanceof Ai||t instanceof cl))throw new Ve(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(tr.fromString(e,...r));return Qb(n),new cl(t.firestore,null,n)}}function Br(t,e,...r){if(t=An(t),arguments.length===1&&(e=kT.newId()),dN("doc","path",e),t instanceof uw){const n=tr.fromString(e,...r);return Nb(n),new Ai(t,null,new ze(n))}{if(!(t instanceof Ai||t instanceof cl))throw new Ve(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(tr.fromString(e,...r));return Nb(n),new Ai(t.firestore,t instanceof cl?t.converter:null,new ze(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new u_(this,"async_queue_retry"),this.Vu=()=>{const n=gm();n&&De("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=gm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=gm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new wA;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sl(e))throw e;De("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(A){let o=A.message||"";return A.stack&&(o=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),o}(n);throw Li("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=p_.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&tt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Rb(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Js extends uw{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Pb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pb(e),this._firestoreClient=void 0,await e}}}function h7(t,e){const r=typeof t=="object"?t:PB(),n=typeof t=="string"?t:"(default)",i=QB(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=_D("firestore");s&&c7(i,...s)}return i}function Fh(t){if(t._terminated)throw new Ve(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fN(t),t._firestoreClient}function fN(t){var e,r,n;const i=t._freezeSettings(),s=function(o,a,l,u){return new O8(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,hN(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new i7(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const a=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(a),_online:a}}(t._componentsProvider))}function d7(t,e){Fu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return f7(t,u0.provider,{build:n=>new t7(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function f7(t,e,r){if((t=si(t,Js))._firestoreClient||t._terminated)throw new Ve(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Ve(Fe.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},fN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pu(xn.fromBase64String(e))}catch(r){throw new Ve(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Pu(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ve(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ve(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ve(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=/^__.*__$/;class g7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,r,this.fieldTransforms):new bh(e,this.data,r,this.fieldTransforms)}}class pN{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new sa(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function gN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class x_{constructor(e,r,n,i,s,A){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new x_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return h0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(gN(this.Cu)&&p7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class m7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ow(e)}Qu(e,r,n,i=!1){return new x_({Cu:e,methodName:r,qu:n,path:Yr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Th(t){const e=t._freezeSettings(),r=ow(t._databaseId);return new m7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function cw(t,e,r,n,i,s={}){const A=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);T_("Data must be an object, but it was:",A,n);const o=mN(n,A);let a,l;if(s.merge)a=new Zi(A.fieldMask),l=A.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const g=Wy(e,d,r);if(!A.contains(g))throw new Ve(Fe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);vN(u,g)||u.push(g)}a=new Zi(u),l=A.fieldTransforms.filter(d=>a.covers(d.field))}else a=null,l=A.fieldTransforms;return new g7(new ri(o),a,l)}class hw extends E_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hw}}function F_(t,e,r,n){const i=t.Qu(1,e,r);T_("Data must be an object, but it was:",i,n);const s=[],A=ri.empty();Vu(n,(a,l)=>{const u=U_(e,a,r);l=An(l);const d=i.Nu(u);if(l instanceof hw)s.push(u);else{const g=wp(l,d);g!=null&&(s.push(u),A.set(u,g))}});const o=new Zi(s);return new pN(A,o,i.fieldTransforms)}function S_(t,e,r,n,i,s){const A=t.Qu(1,e,r),o=[Wy(e,n,r)],a=[i];if(s.length%2!=0)throw new Ve(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(Wy(e,s[g])),a.push(s[g+1]);const l=[],u=ri.empty();for(let g=o.length-1;g>=0;--g)if(!vN(l,o[g])){const f=o[g];let _=a[g];_=An(_);const C=A.Nu(f);if(_ instanceof hw)l.push(f);else{const x=wp(_,C);x!=null&&(l.push(f),u.set(f,x))}}const d=new Zi(l);return new pN(u,d,A.fieldTransforms)}function w7(t,e,r,n=!1){return wp(r,t.Qu(n?4:3,e))}function wp(t,e){if(wN(t=An(t)))return T_("Unsupported field value:",e,t),mN(t,e);if(t instanceof E_)return function(n,i){if(!gN(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let A=0;for(const o of n){let a=wp(o,i.Lu(A));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),A++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=An(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sH(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=ir.fromDate(n);return{timestampValue:hh(i.serializer,s)}}if(n instanceof ir){const s=new ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:hh(i.serializer,s)}}if(n instanceof b_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pu)return{bytesValue:_U(i.serializer,n._byteString)};if(n instanceof Ai){const s=i.databaseId,A=n.firestore._databaseId;if(!A.isEqual(s))throw i.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:i_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof I_)return function(A,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(a=>{if(typeof a!="number")throw o.Bu("VectorValues must only contain numeric values.");return JB(o.serializer,a)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${lw(n)}`)}(t,e)}function mN(t,e){const r={};return zT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vu(t,(n,i)=>{const s=wp(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function wN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ir||t instanceof b_||t instanceof Pu||t instanceof Ai||t instanceof E_||t instanceof I_)}function T_(t,e,r){if(!wN(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=lw(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Wy(t,e,r){if((e=An(e))instanceof Sh)return e._internalPath;if(typeof e=="string")return U_(t,e);throw h0("Field path arguments must be of type string or ",t,!1,void 0,r)}const v7=new RegExp("[~\\*/\\[\\]]");function U_(t,e,r){if(e.search(v7)>=0)throw h0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Sh(...e.split("."))._internalPath}catch{throw h0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function h0(t,e,r,n,i){const s=n&&!n.isEmpty(),A=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let a="";return(s||A)&&(a+=" (found",s&&(a+=` in field ${n}`),A&&(a+=` in document ${i}`),a+=")"),new Ve(Fe.INVALID_ARGUMENT,o+t+a)}function vN(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(dw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class y7 extends d0{data(){return super.data()}}function dw(t,e){return typeof e=="string"?U_(t,e):e instanceof Sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ve(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N_{}class Q_ extends N_{}function Zs(t,e,...r){let n=[];e instanceof N_&&n.push(e),n=n.concat(r),function(s){const A=s.filter(a=>a instanceof L_).length,o=s.filter(a=>a instanceof fw).length;if(A>1||A>0&&o>0)throw new Ve(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class fw extends Q_{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new fw(e,r,n)}_apply(e){const r=this._parse(e);return _N(e._query,r),new Aa(e.firestore,e.converter,ky(e._query,r))}_parse(e){const r=Th(e.firestore);return function(s,A,o,a,l,u,d){let g;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ve(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Db(d,u);const f=[];for(const _ of d)f.push(kb(a,s,_));g={arrayValue:{values:f}}}else g=kb(a,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Db(d,u),g=w7(o,A,d,u==="in"||u==="not-in");return Kt.create(l,u,g)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function es(t,e,r){const n=e,i=dw("where",t);return fw._create(i,n,r)}class L_ extends N_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new L_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:fr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let A=i;const o=s.getFlattenedFilters();for(const a of o)_N(A,a),A=ky(A,a)}(e._query,r),new Aa(e.firestore,e.converter,ky(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P_ extends Q_{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new P_(e,r)}_apply(e){const r=function(i,s,A){if(i.startAt!==null)throw new Ve(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ve(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Df(s,A)}(e._query,this._field,this._direction);return new Aa(e.firestore,e.converter,function(i,s){const A=i.explicitOrderBy.concat([s]);return new Eh(i.path,i.collectionGroup,A,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function BN(t,e="asc"){const r=e,n=dw("orderBy",t);return P_._create(n,r)}class R_ extends Q_{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new R_(e,r,n)}_apply(e){return new Aa(e.firestore,e.converter,s0(e._query,this._limit,this._limitType))}}function B7(t){return R_._create("limit",t,"F")}function kb(t,e,r){if(typeof(r=An(r))=="string"){if(r==="")throw new Ve(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sU(e)&&r.indexOf("/")!==-1)throw new Ve(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(tr.fromString(r));if(!ze.isDocumentKey(n))throw new Ve(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Rf(t,new ze(n))}if(r instanceof Ai)return Rf(t,r._key);throw new Ve(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lw(r)}.`)}function Db(t,e){if(!Array.isArray(t)||t.length===0)throw new Ve(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _N(t,e){const r=function(i,s){for(const A of i)for(const o of A.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ve(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ve(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class CN{convertValue(e,r="none"){switch(Tu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw tt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Vu(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(A=>jr(A.doubleValue));return new I_(s)}convertGeoPoint(e){return new b_(jr(e.latitude),jr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=XB(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Lf(e));default:return null}}convertTimestamp(e){const r=ta(e);return new ir(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=tr.fromString(e);At(NU(n));const i=new Su(n.get(1),n.get(3)),s=new ze(n.popFirst(5));return i.isEqual(r)||Li(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class _7 extends CN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ai(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k_ extends d0{constructor(e,r,n,i,s,A){super(e,r,n,i,A),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(dw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class mm extends k_{data(e={}){return super.data(e)}}class EN{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Dc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new mm(this._firestore,this._userDataWriter,n.key,n,new Dc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ve(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let A=0;return i._snapshot.docChanges.map(o=>{const a=new mm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Dc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:A++}})}{let A=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new mm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Dc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return o.type!==0&&(l=A.indexOf(o.doc.key),A=A.delete(o.doc.key)),o.type!==1&&(A=A.add(o.doc),u=A.indexOf(o.doc.key)),{type:C7(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function C7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t){t=si(t,Ai);const e=si(t.firestore,Js);return a7(Fh(e),t._key).then(r=>bN(e,t,r))}class gw extends CN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ai(this.firestore,null,r)}}function Bn(t){t=si(t,Aa);const e=si(t.firestore,Js),r=Fh(e),n=new gw(e);return yN(t._query),l7(r,t._query).then(i=>new EN(e,n,t,i))}function E7(t,e,r){t=si(t,Ai);const n=si(t.firestore,Js),i=pw(t.converter,e,r);return _p(n,[cw(Th(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,qr.none())])}function eA(t,e,r,...n){t=si(t,Ai);const i=si(t.firestore,Js),s=Th(i);let A;return A=typeof(e=An(e))=="string"||e instanceof Sh?S_(s,"updateDoc",t._key,e,r,n):F_(s,"updateDoc",t._key,e),_p(i,[A.toMutation(t._key,qr.exists(!0))])}function yp(t){return _p(si(t.firestore,Js),[new Ih(t._key,qr.none())])}function Bp(t,e){const r=si(t.firestore,Js),n=Br(t),i=pw(t.converter,e);return _p(r,[cw(Th(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,qr.exists(!1))]).then(()=>n)}function b7(t,...e){var r,n,i;t=An(t);let s={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||Rb(e[A])||(s=e[A],A++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Rb(e[A])){const d=e[A];e[A]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[A+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[A+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let a,l,u;if(t instanceof Ai)l=si(t.firestore,Js),u=hp(t._key.path),a={next:d=>{e[A]&&e[A](bN(l,t,d))},error:e[A+1],complete:e[A+2]};else{const d=si(t,Aa);l=si(d.firestore,Js),u=d._query;const g=new gw(l);a={next:f=>{e[A]&&e[A](new EN(l,g,d,f))},error:e[A+1],complete:e[A+2]},yN(t._query)}return function(g,f,_,C){const x=new __(C),v=new y_(f,x,_);return g.asyncQueue.enqueueAndForget(async()=>m_(await c0(g),v)),()=>{x.Za(),g.asyncQueue.enqueueAndForget(async()=>w_(await c0(g),v))}}(Fh(l),u,o,a)}function _p(t,e){return function(n,i){const s=new wA;return n.asyncQueue.enqueueAndForget(async()=>WV(await A7(n),i,s)),s.promise}(Fh(t),e)}function bN(t,e,r){const n=r.docs.get(e._key),i=new gw(t);return new k_(t,i,e._key,n,new Dc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Th(e)}set(e,r,n){this._verifyNotCommitted();const i=Ka(e,this._firestore),s=pw(i.converter,r,n),A=cw(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(A.toMutation(i._key,qr.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=Ka(e,this._firestore);let A;return A=typeof(r=An(r))=="string"||r instanceof Sh?S_(this._dataReader,"WriteBatch.update",s._key,r,n,i):F_(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(A.toMutation(s._key,qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Ka(e,this._firestore);return this._mutations=this._mutations.concat(new Ih(r._key,qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ka(t,e){if((t=An(t)).firestore!==e)throw new Ve(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7 extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=Th(r)}get(r){const n=Ka(r,this._firestore),i=new _7(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||s.length!==1)return tt();const A=s[0];if(A.isFoundDocument())return new d0(this._firestore,i,A.key,A,n.converter);if(A.isNoDocument())return new d0(this._firestore,i,n._key,null,n.converter);throw tt()})}set(r,n,i){const s=Ka(r,this._firestore),A=pw(s.converter,n,i),o=cw(this._dataReader,"Transaction.set",s._key,A,s.converter!==null,i);return this._transaction.set(s._key,o),this}update(r,n,i,...s){const A=Ka(r,this._firestore);let o;return o=typeof(n=An(n))=="string"||n instanceof Sh?S_(this._dataReader,"Transaction.update",A._key,n,i,s):F_(this._dataReader,"Transaction.update",A._key,n),this._transaction.update(A._key,o),this}delete(r){const n=Ka(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Ka(e,this._firestore),n=new gw(this._firestore);return super.get(e).then(i=>new k_(this._firestore,n,r._key,i._document,new Dc(!1,!1),r.converter))}}function IN(t,e,r){t=si(t,Js);const n=Object.assign(Object.assign({},I7),r);return function(s){if(s.maxAttempts<1)throw new Ve(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(s,A,o){const a=new wA;return s.asyncQueue.enqueueAndForget(async()=>{const l=await o7(s);new n7(s.asyncQueue,l,o,A,a).au()}),a.promise}(Fh(t),i=>e(new F7(t,i)),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){return Fh(t=si(t,Js)),new x7(t,e=>_p(t,e))}(function(e,r=!0){(function(i){Ch=i})(Bh),sh(new Eu("firestore",(n,{instanceIdentifier:i,options:s})=>{const A=n.getProvider("app").getImmediate(),o=new Js(new A8(n.getProvider("auth-internal")),new u8(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ve(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(l.options.projectId,u)}(A,i),A);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),ll(TE,"4.7.3",e),ll(TE,"4.7.3","esm2017")})();const S7={apiKey:"AIzaSyA_ZzeP_DAoXeRuallrOaJ4xFaxjnuhw-8",authDomain:"posys-103de.firebaseapp.com",projectId:"posys-103de",storageBucket:"posys-103de.firebasestorage.app",messagingSenderId:"401054148688",appId:"1:401054148688:web:1c2aea9e8b40958b514955",measurementId:"G-Q2GWQXMFLX"},FN=LB(S7),dt=h7(FN),mw=ST(FN);d7(dt).catch(t=>{t.code==="failed-precondition"?console.warn("⚠️ Ya hay otra pestaña usando persistencia."):t.code==="unimplemented"?console.warn("⚠️ El navegador no soporta persistencia offline."):console.error("❌ Error en persistencia offline:",t)});function T7(){const[t,e]=te.useState(""),[r,n]=te.useState(""),[i,s]=te.useState(!1),[A,o]=te.useState(""),a=q0(),l=async u=>{u.preventDefault();try{const g=(await VO(mw,t,r)).user.uid,f=Br(dt,"users",g),_=await vp(f);if(_.exists()){const x=_.data().role;x==="admin"?a("/admin"):x==="vendedor"?a("/admin/salesV2"):o("Rol no válido")}else o("No se encontró el perfil de usuario")}catch(d){console.error(d),o("Credenciales incorrectas o error de conexión")}};return m.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Iniciar Sesión"}),m.jsxs("form",{onSubmit:l,className:"space-y-4 w-64",children:[m.jsx("input",{type:"email",placeholder:"Correo",value:t,onChange:u=>e(u.target.value),className:"w-full p-2 border rounded-[20px]",required:!0}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:i?"text":"password",placeholder:"Contraseña",value:r,onChange:u=>n(u.target.value),className:"w-full p-2 border rounded-[20px] pr-10",required:!0}),m.jsx("button",{type:"button",onClick:()=>s(u=>!u),className:"absolute inset-y-0 right-2 my-auto text-sm text-gray-600 hover:text-gray-800","aria-label":i?"Ocultar contraseña":"Mostrar contraseña",title:i?"Ocultar contraseña":"Mostrar contraseña",children:i?"Ocultar":"Ver"})]}),A&&m.jsx("p",{className:"text-red-600 text-sm",children:A}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-[20px] hover:bg-blue-700",children:"Entrar"})]})]})}function Ds({children:t,allowedRoles:e}){const[r,n]=te.useState(!0),[i,s]=te.useState(!1);return te.useEffect(()=>{const A=mT(mw,async o=>{if(o){const a=Br(dt,"users",o.uid),l=await vp(a);if(l.exists()){const u=l.data().role;s(e.includes(u))}}n(!1)});return()=>A()},[e]),r?m.jsx("div",{className:"p-4",children:"Cargando..."}):i?t:m.jsx(my,{to:"/"})}function U7({role:t}){const e="/admin",r=({isActive:o})=>`block rounded px-3 py-2 text-sm ${o?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,n=q0(),[i,s]=te.useState(!1),A=async()=>{await wT(mw),n("/")};return m.jsxs("div",{className:"min-h-screen flex",children:[m.jsxs("aside",{className:`${i?"w-15":"w-55"} bg-gray-50 border-r p-3 transition-all duration-300 flex flex-col items-center`,children:[m.jsx("button",{onClick:()=>s(!i),className:"mb-2 p-2 rounded bg-gray-200 hover:bg-gray-300","aria-label":i?"Expandir menú":"Colapsar menú",children:i?m.jsx("span",{title:"Expandir menú",children:"▶"}):m.jsx("span",{title:"Colapsar menú",children:"◀"})}),!i&&m.jsxs(m.Fragment,{children:[m.jsxs("nav",{className:"space-y-1",children:[t==="admin"&&m.jsxs(m.Fragment,{children:[m.jsx(vs,{to:`${e}/financialDashboard`,className:r,children:"Finanzas"}),m.jsx(vs,{to:`${e}/salesV2`,className:r,children:"Venta"}),m.jsx(vs,{to:`${e}/bills`,className:r,children:"Cierre"}),m.jsx(vs,{to:`${e}/billhistoric`,className:r,children:"Historial de Cierres"}),m.jsx(vs,{to:`${e}/batches`,className:r,children:"Inventario"}),m.jsx(vs,{to:`${e}/transactionclose`,className:r,children:"Liquidaciones"}),m.jsx(vs,{to:`${e}/expenses`,className:r,children:"Gastos"}),m.jsx(vs,{to:`${e}/products`,className:r,children:"Productos"}),m.jsx(vs,{to:`${e}/users`,className:r,children:"Usuarios"}),m.jsx(vs,{to:`${e}/fix`,className:r,children:"Fix de lotes"})]}),t==="vendedor"&&m.jsxs(m.Fragment,{children:[m.jsx(vs,{to:`${e}/salesV2`,className:r,children:"Venta"}),m.jsx(vs,{to:`${e}/bills`,className:r,children:"Cierre"})]})]}),m.jsx("button",{onClick:A,className:"mt-4 bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600",children:"Cerrar sesión"})]})]}),m.jsx("main",{className:"flex-1 p-6",children:m.jsx(Pk,{})})]})}const SN=6048e5,N7=864e5,Ob=Symbol.for("constructDateFrom");function _A(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Ob in t?t[Ob](e):t instanceof Date?new t.constructor(e):new Date(e)}function Mi(t,e){return _A(e||t,t)}function Q7(t,e,r){const n=Mi(t,r==null?void 0:r.in);return isNaN(e)?_A(t,NaN):(n.setDate(n.getDate()+e),n)}function L7(t,e,r){const n=Mi(t,r==null?void 0:r.in);if(isNaN(e))return _A(t,NaN);const i=n.getDate(),s=_A(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const A=s.getDate();return i>=A?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}let P7={};function ww(){return P7}function Kf(t,e){var o,a,l,u;const r=ww(),n=(e==null?void 0:e.weekStartsOn)??((a=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:a.weekStartsOn)??r.weekStartsOn??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=Mi(t,e==null?void 0:e.in),s=i.getDay(),A=(s<n?7:0)+s-n;return i.setDate(i.getDate()-A),i.setHours(0,0,0,0),i}function f0(t,e){return Kf(t,{...e,weekStartsOn:1})}function TN(t,e){const r=Mi(t,e==null?void 0:e.in),n=r.getFullYear(),i=_A(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=f0(i),A=_A(r,0);A.setFullYear(n,0,4),A.setHours(0,0,0,0);const o=f0(A);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Mb(t){const e=Mi(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function R7(t,...e){const r=_A.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Hb(t,e){const r=Mi(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function k7(t,e,r){const[n,i]=R7(r==null?void 0:r.in,t,e),s=Hb(n),A=Hb(i),o=+s-Mb(s),a=+A-Mb(A);return Math.round((o-a)/N7)}function D7(t,e){const r=TN(t,e),n=_A(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),f0(n)}function O7(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function M7(t){return!(!O7(t)&&typeof t!="number"||isNaN(+Mi(t)))}function UN(t,e){const r=Mi(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function NN(t,e){const r=Mi(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function H7(t,e){const r=Mi(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const V7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j7=(t,e,r)=>{let n;const i=V7[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Q1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const K7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},G7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},q7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},z7={date:Q1({formats:K7,defaultWidth:"full"}),time:Q1({formats:G7,defaultWidth:"full"}),dateTime:Q1({formats:q7,defaultWidth:"full"})},W7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$7=(t,e,r,n)=>W7[t];function ud(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const A=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):A;i=t.formattingValues[o]||t.formattingValues[A]}else{const A=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[A]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const X7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Y7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},J7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Z7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ej={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rj=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nj={ordinalNumber:rj,era:ud({values:X7,defaultWidth:"wide"}),quarter:ud({values:Y7,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ud({values:J7,defaultWidth:"wide"}),day:ud({values:Z7,defaultWidth:"wide"}),dayPeriod:ud({values:ej,defaultWidth:"wide",formattingValues:tj,defaultFormattingWidth:"wide"})};function cd(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const A=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],a=Array.isArray(o)?sj(o,d=>d.test(A)):ij(o,d=>d.test(A));let l;l=t.valueCallback?t.valueCallback(a):a,l=r.valueCallback?r.valueCallback(l):l;const u=e.slice(A.length);return{value:l,rest:u}}}function ij(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function sj(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Aj(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let A=t.valueCallback?t.valueCallback(s[0]):s[0];A=r.valueCallback?r.valueCallback(A):A;const o=e.slice(i.length);return{value:A,rest:o}}}const oj=/^(\d+)(th|st|nd|rd)?/i,aj=/\d+/i,lj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uj={any:[/^b/i,/^(a|c)/i]},cj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hj={any:[/1/i,/2/i,/3/i,/4/i]},dj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vj={ordinalNumber:Aj({matchPattern:oj,parsePattern:aj,valueCallback:t=>parseInt(t,10)}),era:cd({matchPatterns:lj,defaultMatchWidth:"wide",parsePatterns:uj,defaultParseWidth:"any"}),quarter:cd({matchPatterns:cj,defaultMatchWidth:"wide",parsePatterns:hj,defaultParseWidth:"any",valueCallback:t=>t+1}),month:cd({matchPatterns:dj,defaultMatchWidth:"wide",parsePatterns:fj,defaultParseWidth:"any"}),day:cd({matchPatterns:pj,defaultMatchWidth:"wide",parsePatterns:gj,defaultParseWidth:"any"}),dayPeriod:cd({matchPatterns:mj,defaultMatchWidth:"any",parsePatterns:wj,defaultParseWidth:"any"})},yj={code:"en-US",formatDistance:j7,formatLong:z7,formatRelative:$7,localize:nj,match:vj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bj(t,e){const r=Mi(t,e==null?void 0:e.in);return k7(r,H7(r))+1}function _j(t,e){const r=Mi(t,e==null?void 0:e.in),n=+f0(r)-+D7(r);return Math.round(n/SN)+1}function QN(t,e){var u,d,g,f;const r=Mi(t,e==null?void 0:e.in),n=r.getFullYear(),i=ww(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(g=i.locale)==null?void 0:g.options)==null?void 0:f.firstWeekContainsDate)??1,A=_A((e==null?void 0:e.in)||t,0);A.setFullYear(n+1,0,s),A.setHours(0,0,0,0);const o=Kf(A,e),a=_A((e==null?void 0:e.in)||t,0);a.setFullYear(n,0,s),a.setHours(0,0,0,0);const l=Kf(a,e);return+r>=+o?n+1:+r>=+l?n:n-1}function Cj(t,e){var o,a,l,u;const r=ww(),n=(e==null?void 0:e.firstWeekContainsDate)??((a=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:a.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,i=QN(t,e),s=_A((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Kf(s,e)}function Ej(t,e){const r=Mi(t,e==null?void 0:e.in),n=+Kf(r,e)-+Cj(r,e);return Math.round(n/SN)+1}function hr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Sa={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return hr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):hr(r+1,2)},d(t,e){return hr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return hr(t.getHours()%12||12,e.length)},H(t,e){return hr(t.getHours(),e.length)},m(t,e){return hr(t.getMinutes(),e.length)},s(t,e){return hr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return hr(i,e.length)}},Ac={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vb={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Sa.y(t,e)},Y:function(t,e,r,n){const i=QN(t,n),s=i>0?i:1-i;if(e==="YY"){const A=s%100;return hr(A,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):hr(s,e.length)},R:function(t,e){const r=TN(t);return hr(r,e.length)},u:function(t,e){const r=t.getFullYear();return hr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return hr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return hr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Sa.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return hr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Ej(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):hr(i,e.length)},I:function(t,e,r){const n=_j(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):hr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Sa.d(t,e)},D:function(t,e,r){const n=Bj(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):hr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return hr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return hr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return hr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Ac.noon:n===0?i=Ac.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Ac.evening:n>=12?i=Ac.afternoon:n>=4?i=Ac.morning:i=Ac.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Sa.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Sa.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):hr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):hr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Sa.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Sa.s(t,e)},S:function(t,e){return Sa.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Kb(n);case"XXXX":case"XX":return Jl(n);case"XXXXX":case"XXX":default:return Jl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Kb(n);case"xxxx":case"xx":return Jl(n);case"xxxxx":case"xxx":default:return Jl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+jb(n,":");case"OOOO":default:return"GMT"+Jl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+jb(n,":");case"zzzz":default:return"GMT"+Jl(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return hr(n,e.length)},T:function(t,e,r){return hr(+t,e.length)}};function jb(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+hr(s,2)}function Kb(t,e){return t%60===0?(t>0?"-":"+")+hr(Math.abs(t)/60,2):Jl(t,e)}function Jl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=hr(Math.trunc(n/60),2),s=hr(n%60,2);return r+i+e+s}const Gb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},LN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},bj=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Gb(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Gb(n,e)).replace("{{time}}",LN(i,e))},Ij={p:LN,P:bj},xj=/^D+$/,Fj=/^Y+$/,Sj=["D","DD","YY","YYYY"];function Tj(t){return xj.test(t)}function Uj(t){return Fj.test(t)}function Nj(t,e,r){const n=Qj(t,e,r);if(console.warn(n),Sj.includes(t))throw new RangeError(n)}function Qj(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rj=/^'([^]*?)'?$/,kj=/''/g,Dj=/[a-zA-Z]/;function ki(t,e,r){var u,d,g,f;const n=ww(),i=n.locale??yj,s=n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,A=n.weekStartsOn??((f=(g=n.locale)==null?void 0:g.options)==null?void 0:f.weekStartsOn)??0,o=Mi(t,r==null?void 0:r.in);if(!M7(o))throw new RangeError("Invalid time value");let a=e.match(Pj).map(_=>{const C=_[0];if(C==="p"||C==="P"){const x=Ij[C];return x(_,i.formatLong)}return _}).join("").match(Lj).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const C=_[0];if(C==="'")return{isToken:!1,value:Oj(_)};if(Vb[C])return{isToken:!0,value:_};if(C.match(Dj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(a=i.localize.preprocessor(o,a));const l={firstWeekContainsDate:s,weekStartsOn:A,locale:i};return a.map(_=>{if(!_.isToken)return _.value;const C=_.value;(Uj(C)||Tj(C))&&Nj(C,e,String(t));const x=Vb[C[0]];return x(o,C,i.localize,l)}).join("")}function Oj(t){const e=t.match(Rj);return e?e[1].replace(kj,"'"):t}function Mj(t,e,r){return Q7(t,-14,r)}function Hj(t,e,r){return L7(t,-1,r)}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $y=function(t,e){return $y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$y(t,e)};function IA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$y(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Xy=function(){return Xy=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xy.apply(this,arguments)};function Ni(t,e,r,n){function i(s){return s instanceof r?s:new r(function(A){A(s)})}return new(r||(r=Promise))(function(s,A){function o(u){try{l(n.next(u))}catch(d){A(d)}}function a(u){try{l(n.throw(u))}catch(d){A(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,a)}l((n=n.apply(t,[])).next())})}function Bi(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A;return A={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function o(l){return function(u){return a([l,u])}}function a(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function dg(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var ra=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),vw=function(t,e){return ra.fromClientRect(t,e.getBoundingClientRect())},Vj=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new ra(0,0,n,i)},yw=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},gn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var A=t[i];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},qb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jj=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fg=0;fg<qb.length;fg++)jj[qb.charCodeAt(fg)]=fg;var zb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Td=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pg=0;pg<zb.length;pg++)Td[zb.charCodeAt(pg)]=pg;var Kj=function(t){var e=t.length*.75,r=t.length,n,i=0,s,A,o,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Td[t.charCodeAt(n)],A=Td[t.charCodeAt(n+1)],o=Td[t.charCodeAt(n+2)],a=Td[t.charCodeAt(n+3)],u[i++]=s<<2|A>>4,u[i++]=(A&15)<<4|o>>2,u[i++]=(o&3)<<6|a&63;return l},Gj=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},qj=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},du=5,D_=11,L1=2,zj=D_-du,PN=65536>>du,Wj=1<<du,P1=Wj-1,$j=1024>>du,Xj=PN+$j,Yj=Xj,Jj=32,Zj=Yj+Jj,e9=65536>>D_,t9=1<<zj,r9=t9-1,Wb=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},n9=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},i9=function(t,e){var r=Kj(t),n=Array.isArray(r)?qj(r):new Uint32Array(r),i=Array.isArray(r)?Gj(r):new Uint16Array(r),s=24,A=Wb(i,s/2,n[4]/2),o=n[5]===2?Wb(i,(s+n[4])/2):n9(n,Math.ceil((s+n[4])/4));return new s9(n[0],n[1],n[2],n[3],A,o)},s9=function(){function t(e,r,n,i,s,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>du],r=(r<<L1)+(e&P1),this.data[r];if(e<=65535)return r=this.index[PN+(e-55296>>du)],r=(r<<L1)+(e&P1),this.data[r];if(e<this.highStart)return r=Zj-e9+(e>>D_),r=this.index[r],r+=e>>du&r9,r=this.index[r],r=(r<<L1)+(e&P1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),$b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gg=0;gg<$b.length;gg++)A9[$b.charCodeAt(gg)]=gg;var o9="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Xb=50,a9=1,RN=2,kN=3,l9=4,u9=5,Yb=7,DN=8,Jb=9,$a=10,Yy=11,Zb=12,Jy=13,c9=14,Ud=15,Zy=16,mg=17,hd=18,h9=19,eI=20,e2=21,dd=22,R1=23,oc=24,ys=25,Nd=26,Qd=27,ac=28,d9=29,iu=30,f9=31,wg=32,vg=33,t2=34,r2=35,n2=36,Gf=37,i2=38,wm=39,vm=40,k1=41,ON=42,p9=43,g9=[9001,65288],MN="!",Vt="×",yg="÷",s2=i9(o9),Fo=[iu,n2],A2=[a9,RN,kN,u9],HN=[$a,DN],tI=[Qd,Nd],m9=A2.concat(HN),rI=[i2,wm,vm,t2,r2],w9=[Ud,Jy],v9=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,A){var o=s2.get(s);if(o>Xb?(i.push(!0),o-=Xb):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(A),r.push(Zy);if(o===l9||o===Yy){if(A===0)return n.push(A),r.push(iu);var a=r[A-1];return m9.indexOf(a)===-1?(n.push(n[A-1]),r.push(a)):(n.push(A),r.push(iu))}if(n.push(A),o===f9)return r.push(e==="strict"?e2:Gf);if(o===ON||o===d9)return r.push(iu);if(o===p9)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Gf):r.push(iu);r.push(o)}),[n,r,i]},D1=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var A=n[s];if(A===e)return!0;if(A!==$a)break}if(i===$a)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var a=r;a<=n.length;){a++;var A=n[a];if(A===e)return!0;if(A!==$a)break}if(o!==$a)break}return!1},nI=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===$a)r--;else return n}return 0},y9=function(t,e,r,n,i){if(r[n]===0)return Vt;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Vt;var A=s-1,o=s+1,a=e[s],l=A>=0?e[A]:0,u=e[o];if(a===RN&&u===kN)return Vt;if(A2.indexOf(a)!==-1)return MN;if(A2.indexOf(u)!==-1||HN.indexOf(u)!==-1)return Vt;if(nI(s,e)===DN)return yg;if(s2.get(t[s])===Yy||(a===wg||a===vg)&&s2.get(t[o])===Yy||a===Yb||u===Yb||a===Jb||[$a,Jy,Ud].indexOf(a)===-1&&u===Jb||[mg,hd,h9,oc,ac].indexOf(u)!==-1||nI(s,e)===dd||D1(R1,dd,s,e)||D1([mg,hd],e2,s,e)||D1(Zb,Zb,s,e))return Vt;if(a===$a)return yg;if(a===R1||u===R1)return Vt;if(u===Zy||a===Zy)return yg;if([Jy,Ud,e2].indexOf(u)!==-1||a===c9||l===n2&&w9.indexOf(a)!==-1||a===ac&&u===n2||u===eI||Fo.indexOf(u)!==-1&&a===ys||Fo.indexOf(a)!==-1&&u===ys||a===Qd&&[Gf,wg,vg].indexOf(u)!==-1||[Gf,wg,vg].indexOf(a)!==-1&&u===Nd||Fo.indexOf(a)!==-1&&tI.indexOf(u)!==-1||tI.indexOf(a)!==-1&&Fo.indexOf(u)!==-1||[Qd,Nd].indexOf(a)!==-1&&(u===ys||[dd,Ud].indexOf(u)!==-1&&e[o+1]===ys)||[dd,Ud].indexOf(a)!==-1&&u===ys||a===ys&&[ys,ac,oc].indexOf(u)!==-1)return Vt;if([ys,ac,oc,mg,hd].indexOf(u)!==-1)for(var d=s;d>=0;){var g=e[d];if(g===ys)return Vt;if([ac,oc].indexOf(g)!==-1)d--;else break}if([Qd,Nd].indexOf(u)!==-1)for(var d=[mg,hd].indexOf(a)!==-1?A:s;d>=0;){var g=e[d];if(g===ys)return Vt;if([ac,oc].indexOf(g)!==-1)d--;else break}if(i2===a&&[i2,wm,t2,r2].indexOf(u)!==-1||[wm,t2].indexOf(a)!==-1&&[wm,vm].indexOf(u)!==-1||[vm,r2].indexOf(a)!==-1&&u===vm||rI.indexOf(a)!==-1&&[eI,Nd].indexOf(u)!==-1||rI.indexOf(u)!==-1&&a===Qd||Fo.indexOf(a)!==-1&&Fo.indexOf(u)!==-1||a===oc&&Fo.indexOf(u)!==-1||Fo.concat(ys).indexOf(a)!==-1&&u===dd&&g9.indexOf(t[o])===-1||Fo.concat(ys).indexOf(u)!==-1&&a===hd)return Vt;if(a===k1&&u===k1){for(var f=r[s],_=1;f>0&&(f--,e[f]===k1);)_++;if(_%2!==0)return Vt}return a===wg&&u===vg?Vt:yg},B9=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=v9(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[ys,iu,ON].indexOf(o)!==-1?Gf:o}));var A=e.wordBreak==="keep-all"?s.map(function(o,a){return o&&t[a]>=19968&&t[a]<=40959}):void 0;return[n,i,A]},_9=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===MN,this.start=n,this.end=i}return t.prototype.slice=function(){return gn.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),C9=function(t,e){var r=yw(t),n=B9(r,e),i=n[0],s=n[1],A=n[2],o=r.length,a=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var u=Vt;l<o&&(u=y9(r,s,i,++l,A))===Vt;);if(u!==Vt||l===o){var d=new _9(r,u,a,l);return a=l,{value:d,done:!1}}return{done:!0,value:null}}}},E9=1,b9=2,Cp=4,iI=8,p0=10,sI=47,Jd=92,I9=9,x9=32,Bg=34,fd=61,F9=35,S9=36,T9=37,_g=39,Cg=40,pd=41,U9=95,Xi=45,N9=33,Q9=60,L9=62,P9=64,R9=91,k9=93,D9=61,O9=123,Eg=63,M9=125,AI=124,H9=126,V9=128,oI=65533,O1=42,au=43,j9=44,K9=58,G9=59,qf=46,q9=0,z9=8,W9=11,$9=14,X9=31,Y9=127,$A=-1,VN=48,jN=97,KN=101,J9=102,Z9=117,eK=122,GN=65,qN=69,zN=70,tK=85,rK=90,_i=function(t){return t>=VN&&t<=57},nK=function(t){return t>=55296&&t<=57343},lc=function(t){return _i(t)||t>=GN&&t<=zN||t>=jN&&t<=J9},iK=function(t){return t>=jN&&t<=eK},sK=function(t){return t>=GN&&t<=rK},AK=function(t){return iK(t)||sK(t)},oK=function(t){return t>=V9},bg=function(t){return t===p0||t===I9||t===x9},g0=function(t){return AK(t)||oK(t)||t===U9},aI=function(t){return g0(t)||_i(t)||t===Xi},aK=function(t){return t>=q9&&t<=z9||t===W9||t>=$9&&t<=X9||t===Y9},Ra=function(t,e){return t!==Jd?!1:e!==p0},Ig=function(t,e,r){return t===Xi?g0(e)||Ra(e,r):g0(t)?!0:!!(t===Jd&&Ra(t,e))},M1=function(t,e,r){return t===au||t===Xi?_i(e)?!0:e===qf&&_i(r):_i(t===qf?e:t)},lK=function(t){var e=0,r=1;(t[e]===au||t[e]===Xi)&&(t[e]===Xi&&(r=-1),e++);for(var n=[];_i(t[e]);)n.push(t[e++]);var i=n.length?parseInt(gn.apply(void 0,n),10):0;t[e]===qf&&e++;for(var s=[];_i(t[e]);)s.push(t[e++]);var A=s.length,o=A?parseInt(gn.apply(void 0,s),10):0;(t[e]===qN||t[e]===KN)&&e++;var a=1;(t[e]===au||t[e]===Xi)&&(t[e]===Xi&&(a=-1),e++);for(var l=[];_i(t[e]);)l.push(t[e++]);var u=l.length?parseInt(gn.apply(void 0,l),10):0;return r*(i+o*Math.pow(10,-A))*Math.pow(10,a*u)},uK={type:2},cK={type:3},hK={type:4},dK={type:13},fK={type:8},pK={type:21},gK={type:9},mK={type:10},wK={type:11},vK={type:12},yK={type:14},xg={type:23},BK={type:1},_K={type:25},CK={type:24},EK={type:26},bK={type:27},IK={type:28},xK={type:29},FK={type:31},o2={type:32},WN=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(yw(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==o2;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Bg:return this.consumeStringToken(Bg);case F9:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(aI(r)||Ra(n,i)){var s=Ig(r,n,i)?b9:E9,A=this.consumeName();return{type:5,value:A,flags:s}}break;case S9:if(this.peekCodePoint(0)===fd)return this.consumeCodePoint(),dK;break;case _g:return this.consumeStringToken(_g);case Cg:return uK;case pd:return cK;case O1:if(this.peekCodePoint(0)===fd)return this.consumeCodePoint(),yK;break;case au:if(M1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case j9:return hK;case Xi:var o=e,a=this.peekCodePoint(0),l=this.peekCodePoint(1);if(M1(o,a,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Ig(o,a,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===Xi&&l===L9)return this.consumeCodePoint(),this.consumeCodePoint(),CK;break;case qf:if(M1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case sI:if(this.peekCodePoint(0)===O1)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===O1&&(u=this.consumeCodePoint(),u===sI))return this.consumeToken();if(u===$A)return this.consumeToken()}break;case K9:return EK;case G9:return bK;case Q9:if(this.peekCodePoint(0)===N9&&this.peekCodePoint(1)===Xi&&this.peekCodePoint(2)===Xi)return this.consumeCodePoint(),this.consumeCodePoint(),_K;break;case P9:var d=this.peekCodePoint(0),g=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Ig(d,g,f)){var A=this.consumeName();return{type:7,value:A}}break;case R9:return IK;case Jd:if(Ra(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case k9:return xK;case D9:if(this.peekCodePoint(0)===fd)return this.consumeCodePoint(),fK;break;case O9:return wK;case M9:return vK;case Z9:case tK:var _=this.peekCodePoint(0),C=this.peekCodePoint(1);return _===au&&(lc(C)||C===Eg)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case AI:if(this.peekCodePoint(0)===fd)return this.consumeCodePoint(),gK;if(this.peekCodePoint(0)===AI)return this.consumeCodePoint(),pK;break;case H9:if(this.peekCodePoint(0)===fd)return this.consumeCodePoint(),mK;break;case $A:return o2}return bg(e)?(this.consumeWhiteSpace(),FK):_i(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):g0(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:gn(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();lc(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Eg&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(gn.apply(void 0,e.map(function(a){return a===Eg?VN:a})),16),s=parseInt(gn.apply(void 0,e.map(function(a){return a===Eg?zN:a})),16);return{type:30,start:i,end:s}}var A=parseInt(gn.apply(void 0,e),16);if(this.peekCodePoint(0)===Xi&&lc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];lc(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(gn.apply(void 0,o),16);return{type:30,start:A,end:s}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Cg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Cg?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===$A)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===_g||r===Bg){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===$A||this.peekCodePoint(0)===pd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),xg)}for(;;){var i=this.consumeCodePoint();if(i===$A||i===pd)return{type:22,value:gn.apply(void 0,e)};if(bg(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===$A||this.peekCodePoint(0)===pd?(this.consumeCodePoint(),{type:22,value:gn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),xg);if(i===Bg||i===_g||i===Cg||aK(i))return this.consumeBadUrlRemnants(),xg;if(i===Jd)if(Ra(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),xg;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;bg(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===pd||e===$A)return;Ra(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=gn.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===$A||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===p0)return this._value.splice(0,n),BK;if(i===Jd){var s=this._value[n+1];s!==$A&&s!==void 0&&(s===p0?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Ra(i,s)&&(r+=this.consumeStringSlice(n),r+=gn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Cp,n=this.peekCodePoint(0);for((n===au||n===Xi)&&e.push(this.consumeCodePoint());_i(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===qf&&_i(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=iI;_i(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===qN||n===KN)&&((i===au||i===Xi)&&_i(s)||_i(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=iI;_i(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[lK(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Ig(i,s,A)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===T9?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(lc(e)){for(var r=gn(e);lc(this.peekCodePoint(0))&&r.length<6;)r+=gn(this.consumeCodePoint());bg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||nK(n)||n>1114111?oI:n}return e===$A?oI:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(aI(r))e+=gn(r);else if(Ra(r,this.peekCodePoint(0)))e+=gn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),$N=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new WN;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||TK(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?o2:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Ep=function(t){return t.type===15},Uh=function(t){return t.type===17},vr=function(t){return t.type===20},SK=function(t){return t.type===0},a2=function(t,e){return vr(t)&&t.value===e},XN=function(t){return t.type!==31},fh=function(t){return t.type!==31&&t.type!==4},lo=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},TK=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Bl=function(t){return t.type===17||t.type===15},bn=function(t){return t.type===16||Bl(t)},YN=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ni={type:17,number:0,flags:Cp},O_={type:16,number:50,flags:Cp},Xa={type:16,number:100,flags:Cp},Ld=function(t,e,r){var n=t[0],i=t[1];return[Fr(n,e),Fr(typeof i<"u"?i:n,r)]},Fr=function(t,e){if(t.type===16)return t.number/100*e;if(Ep(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},JN="deg",ZN="grad",eQ="rad",tQ="turn",Bw={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case JN:return Math.PI*e.number/180;case ZN:return Math.PI/200*e.number;case eQ:return e.number;case tQ:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},rQ=function(t){return t.type===15&&(t.unit===JN||t.unit===ZN||t.unit===eQ||t.unit===tQ)},nQ=function(t){var e=t.filter(vr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ni,ni];case"to top":case"bottom":return qs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ni,Xa];case"to right":case"left":return qs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Xa,Xa];case"to bottom":case"top":return qs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Xa,ni];case"to left":case"right":return qs(270)}return 0},qs=function(t){return Math.PI*t/180},hl={name:"color",parse:function(t,e){if(e.type===18){var r=UK[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Ya(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),A=e.value.substring(3,4);return Ya(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(A+A,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Ya(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),A=e.value.substring(6,8);return Ya(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(A,16)/255)}}if(e.type===20){var o=zo[e.value.toUpperCase()];if(typeof o<"u")return o}return zo.TRANSPARENT}},dl=function(t){return(255&t)===0},Hn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},Ya=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},lI=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},uI=function(t,e){var r=e.filter(fh);if(r.length===3){var n=r.map(lI),i=n[0],s=n[1],A=n[2];return Ya(i,s,A,1)}if(r.length===4){var o=r.map(lI),i=o[0],s=o[1],A=o[2],a=o[3];return Ya(i,s,A,a)}return 0};function H1(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var cI=function(t,e){var r=e.filter(fh),n=r[0],i=r[1],s=r[2],A=r[3],o=(n.type===17?qs(n.number):Bw.parse(t,n))/(Math.PI*2),a=bn(i)?i.number/100:0,l=bn(s)?s.number/100:0,u=typeof A<"u"&&bn(A)?Fr(A,1):1;if(a===0)return Ya(l*255,l*255,l*255,1);var d=l<=.5?l*(a+1):l+a-l*a,g=l*2-d,f=H1(g,d,o+1/3),_=H1(g,d,o),C=H1(g,d,o-1/3);return Ya(f*255,_*255,C*255,u)},UK={hsl:cI,hsla:cI,rgb:uI,rgba:uI},Zd=function(t,e){return hl.parse(t,$N.create(e).parseComponentValue())},zo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},NK={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(vr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},QK={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_w=function(t,e){var r=hl.parse(t,e[0]),n=e[1];return n&&bn(n)?{color:r,stop:n}:{color:r,stop:null}},hI=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=ni),n.stop===null&&(n.stop=Xa);for(var i=[],s=0,A=0;A<t.length;A++){var o=t[A].stop;if(o!==null){var a=Fr(o,e);a>s?i.push(a):i.push(s),s=a}else i.push(null)}for(var l=null,A=0;A<i.length;A++){var u=i[A];if(u===null)l===null&&(l=A);else if(l!==null){for(var d=A-l,g=i[l-1],f=(u-g)/(d+1),_=1;_<=d;_++)i[l+_-1]=f*_;l=null}}return t.map(function(C,x){var v=C.color;return{color:v,stop:Math.max(Math.min(1,i[x]/e),0)}})},LK=function(t,e,r){var n=e/2,i=r/2,s=Fr(t[0],e)-n,A=i-Fr(t[1],r);return(Math.atan2(A,s)+Math.PI*2)%(Math.PI*2)},PK=function(t,e,r){var n=typeof t=="number"?t:LK(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,A=r/2,o=i/2,a=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,s-l,s+l,A-a,A+a]},hA=function(t,e){return Math.sqrt(t*t+e*e)},dI=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(A,o){var a=o[0],l=o[1],u=hA(r-a,n-l);return(i?u<A.optimumDistance:u>A.optimumDistance)?{optimumCorner:o,optimumDistance:u}:A},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},RK=function(t,e,r,n,i){var s=0,A=0;switch(t.size){case 0:t.shape===0?s=A=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),A=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=A=Math.min(hA(e,r),hA(e,r-i),hA(e-n,r),hA(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),a=dI(n,i,e,r,!0),l=a[0],u=a[1];s=hA(l-e,(u-r)/o),A=o*s}break;case 1:t.shape===0?s=A=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),A=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=A=Math.max(hA(e,r),hA(e,r-i),hA(e-n,r),hA(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=dI(n,i,e,r,!1),l=d[0],u=d[1];s=hA(l-e,(u-r)/o),A=o*s}break}return Array.isArray(t.size)&&(s=Fr(t.size[0],n),A=t.size.length===2?Fr(t.size[1],i):s),[s,A]},kK=function(t,e){var r=qs(180),n=[];return lo(e).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&A.value==="to"){r=nQ(i);return}else if(rQ(A)){r=Bw.parse(t,A);return}}var o=_w(t,i);n.push(o)}),{angle:r,stops:n,type:1}},Fg=function(t,e){var r=qs(180),n=[];return lo(e).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){r=nQ(i);return}else if(rQ(A)){r=(Bw.parse(t,A)+qs(270))%qs(360);return}}var o=_w(t,i);n.push(o)}),{angle:r,stops:n,type:1}},DK=function(t,e){var r=qs(180),n=[],i=1,s=0,A=3,o=[];return lo(e).forEach(function(a,l){var u=a[0];if(l===0){if(vr(u)&&u.value==="linear"){i=1;return}else if(vr(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var d=hl.parse(t,u.values[0]);n.push({stop:ni,color:d})}else if(u.name==="to"){var d=hl.parse(t,u.values[0]);n.push({stop:Xa,color:d})}else if(u.name==="color-stop"){var g=u.values.filter(fh);if(g.length===2){var d=hl.parse(t,g[1]),f=g[0];Uh(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),i===1?{angle:(r+qs(180))%qs(360),stops:n,type:i}:{size:A,shape:s,stops:n,position:o,type:i}},iQ="closest-side",sQ="farthest-side",AQ="closest-corner",oQ="farthest-corner",aQ="circle",lQ="ellipse",uQ="cover",cQ="contain",OK=function(t,e){var r=0,n=3,i=[],s=[];return lo(e).forEach(function(A,o){var a=!0;if(o===0){var l=!1;a=A.reduce(function(d,g){if(l)if(vr(g))switch(g.value){case"center":return s.push(O_),d;case"top":case"left":return s.push(ni),d;case"right":case"bottom":return s.push(Xa),d}else(bn(g)||Bl(g))&&s.push(g);else if(vr(g))switch(g.value){case aQ:return r=0,!1;case lQ:return r=1,!1;case"at":return l=!0,!1;case iQ:return n=0,!1;case uQ:case sQ:return n=1,!1;case cQ:case AQ:return n=2,!1;case oQ:return n=3,!1}else if(Bl(g)||bn(g))return Array.isArray(n)||(n=[]),n.push(g),!1;return d},a)}if(a){var u=_w(t,A);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},Sg=function(t,e){var r=0,n=3,i=[],s=[];return lo(e).forEach(function(A,o){var a=!0;if(o===0?a=A.reduce(function(u,d){if(vr(d))switch(d.value){case"center":return s.push(O_),!1;case"top":case"left":return s.push(ni),!1;case"right":case"bottom":return s.push(Xa),!1}else if(bn(d)||Bl(d))return s.push(d),!1;return u},a):o===1&&(a=A.reduce(function(u,d){if(vr(d))switch(d.value){case aQ:return r=0,!1;case lQ:return r=1,!1;case cQ:case iQ:return n=0,!1;case sQ:return n=1,!1;case AQ:return n=2,!1;case uQ:case oQ:return n=3,!1}else if(Bl(d)||bn(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},a)),a){var l=_w(t,A);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},MK=function(t){return t.type===1},HK=function(t){return t.type===2},M_={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=hQ[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function VK(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!hQ[t.name])}var hQ={"linear-gradient":kK,"-moz-linear-gradient":Fg,"-ms-linear-gradient":Fg,"-o-linear-gradient":Fg,"-webkit-linear-gradient":Fg,"radial-gradient":OK,"-moz-radial-gradient":Sg,"-ms-radial-gradient":Sg,"-o-radial-gradient":Sg,"-webkit-radial-gradient":Sg,"-webkit-gradient":DK},jK={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return fh(n)&&VK(n)}).map(function(n){return M_.parse(t,n)})}},KK={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(vr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},GK={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return lo(e).map(function(r){return r.filter(bn)}).map(YN)}},qK={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return lo(e).map(function(r){return r.filter(vr).map(function(n){return n.value}).join(" ")}).map(zK)}},zK=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Xc;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Xc||(Xc={}));var WK={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return lo(e).map(function(r){return r.filter($K)})}},$K=function(t){return vr(t)||bn(t)},Cw=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},XK=Cw("top"),YK=Cw("right"),JK=Cw("bottom"),ZK=Cw("left"),Ew=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return YN(r.filter(bn))}}},eG=Ew("top-left"),tG=Ew("top-right"),rG=Ew("bottom-right"),nG=Ew("bottom-left"),bw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},iG=bw("top"),sG=bw("right"),AG=bw("bottom"),oG=bw("left"),Iw=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Ep(r)?r.number:0}}},aG=Iw("top"),lG=Iw("right"),uG=Iw("bottom"),cG=Iw("left"),hG={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dG={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},fG={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(vr).reduce(function(r,n){return r|pG(n.value)},0)}},pG=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gG={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mG={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},m0;(function(t){t.NORMAL="normal",t.STRICT="strict"})(m0||(m0={}));var wG={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return m0.STRICT;case"normal":default:return m0.NORMAL}}},vG={name:"line-height",initialValue:"normal",prefix:!1,type:4},fI=function(t,e){return vr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:bn(t)?Fr(t,e):e},yG={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:M_.parse(t,e)}},BG={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},l2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},xw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},_G=xw("top"),CG=xw("right"),EG=xw("bottom"),bG=xw("left"),IG={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(vr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},xG={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Fw=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},FG=Fw("top"),SG=Fw("right"),TG=Fw("bottom"),UG=Fw("left"),NG={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},QG={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},LG={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&a2(e[0],"none")?[]:lo(e).map(function(r){for(var n={color:zo.TRANSPARENT,offsetX:ni,offsetY:ni,blur:ni},i=0,s=0;s<r.length;s++){var A=r[s];Bl(A)?(i===0?n.offsetX=A:i===1?n.offsetY=A:n.blur=A,i++):n.color=hl.parse(t,A)}return n})}},PG={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},RG={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=OG[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},kG=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},DG=function(t){var e=t.filter(function(a){return a.type===17}).map(function(a){return a.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,A,o]:null},OG={matrix:kG,matrix3d:DG},pI={type:16,number:50,flags:Cp},MG=[pI,pI],HG={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(bn);return r.length!==2?MG:[r[0],r[1]]}},VG={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ef;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(ef||(ef={}));var jG={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return ef.BREAK_ALL;case"keep-all":return ef.KEEP_ALL;case"normal":default:return ef.NORMAL}}},KG={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Uh(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},dQ={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},GG={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Uh(e)?e.number:1}},qG={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zG={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(vr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},WG={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},$G={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},XG={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Uh(e))return e.number;if(vr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},YG={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(vr).map(function(r){return r.value})}},JG={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Qn=function(t,e){return(t&e)!==0},ZG={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},eq={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(XN),s=0;s<i.length;s++){var A=i[s],o=i[s+1];if(A.type===20){var a=o&&Uh(o)?o.number:1;n.push({counter:A.value,increment:a})}}return n}},tq={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(XN),i=0;i<n.length;i++){var s=n[i],A=n[i+1];if(vr(s)&&s.value!=="none"){var o=A&&Uh(A)?A.number:0;r.push({counter:s.value,reset:o})}}return r}},rq={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Ep).map(function(r){return dQ.parse(t,r)})}},nq={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(SK);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var A=i[s].value,o=i[s+1].value;n.push({open:A,close:o})}return n}},gI=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},iq={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&a2(e[0],"none")?[]:lo(e).map(function(r){for(var n={color:255,offsetX:ni,offsetY:ni,blur:ni,spread:ni,inset:!1},i=0,s=0;s<r.length;s++){var A=r[s];a2(A,"inset")?n.inset=!0:Bl(A)?(i===0?n.offsetX=A:i===1?n.offsetY=A:i===2?n.blur=A:n.spread=A,i++):n.color=hl.parse(t,A)}return n})}},sq={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(vr).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},Aq={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},oq={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Ep(e)?e.number:0}},aq=function(){function t(e,r){var n,i;this.animationDuration=Xe(e,rq,r.animationDuration),this.backgroundClip=Xe(e,NK,r.backgroundClip),this.backgroundColor=Xe(e,QK,r.backgroundColor),this.backgroundImage=Xe(e,jK,r.backgroundImage),this.backgroundOrigin=Xe(e,KK,r.backgroundOrigin),this.backgroundPosition=Xe(e,GK,r.backgroundPosition),this.backgroundRepeat=Xe(e,qK,r.backgroundRepeat),this.backgroundSize=Xe(e,WK,r.backgroundSize),this.borderTopColor=Xe(e,XK,r.borderTopColor),this.borderRightColor=Xe(e,YK,r.borderRightColor),this.borderBottomColor=Xe(e,JK,r.borderBottomColor),this.borderLeftColor=Xe(e,ZK,r.borderLeftColor),this.borderTopLeftRadius=Xe(e,eG,r.borderTopLeftRadius),this.borderTopRightRadius=Xe(e,tG,r.borderTopRightRadius),this.borderBottomRightRadius=Xe(e,rG,r.borderBottomRightRadius),this.borderBottomLeftRadius=Xe(e,nG,r.borderBottomLeftRadius),this.borderTopStyle=Xe(e,iG,r.borderTopStyle),this.borderRightStyle=Xe(e,sG,r.borderRightStyle),this.borderBottomStyle=Xe(e,AG,r.borderBottomStyle),this.borderLeftStyle=Xe(e,oG,r.borderLeftStyle),this.borderTopWidth=Xe(e,aG,r.borderTopWidth),this.borderRightWidth=Xe(e,lG,r.borderRightWidth),this.borderBottomWidth=Xe(e,uG,r.borderBottomWidth),this.borderLeftWidth=Xe(e,cG,r.borderLeftWidth),this.boxShadow=Xe(e,iq,r.boxShadow),this.color=Xe(e,hG,r.color),this.direction=Xe(e,dG,r.direction),this.display=Xe(e,fG,r.display),this.float=Xe(e,gG,r.cssFloat),this.fontFamily=Xe(e,WG,r.fontFamily),this.fontSize=Xe(e,$G,r.fontSize),this.fontStyle=Xe(e,JG,r.fontStyle),this.fontVariant=Xe(e,YG,r.fontVariant),this.fontWeight=Xe(e,XG,r.fontWeight),this.letterSpacing=Xe(e,mG,r.letterSpacing),this.lineBreak=Xe(e,wG,r.lineBreak),this.lineHeight=Xe(e,vG,r.lineHeight),this.listStyleImage=Xe(e,yG,r.listStyleImage),this.listStylePosition=Xe(e,BG,r.listStylePosition),this.listStyleType=Xe(e,l2,r.listStyleType),this.marginTop=Xe(e,_G,r.marginTop),this.marginRight=Xe(e,CG,r.marginRight),this.marginBottom=Xe(e,EG,r.marginBottom),this.marginLeft=Xe(e,bG,r.marginLeft),this.opacity=Xe(e,GG,r.opacity);var s=Xe(e,IG,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Xe(e,xG,r.overflowWrap),this.paddingTop=Xe(e,FG,r.paddingTop),this.paddingRight=Xe(e,SG,r.paddingRight),this.paddingBottom=Xe(e,TG,r.paddingBottom),this.paddingLeft=Xe(e,UG,r.paddingLeft),this.paintOrder=Xe(e,sq,r.paintOrder),this.position=Xe(e,QG,r.position),this.textAlign=Xe(e,NG,r.textAlign),this.textDecorationColor=Xe(e,qG,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Xe(e,zG,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Xe(e,LG,r.textShadow),this.textTransform=Xe(e,PG,r.textTransform),this.transform=Xe(e,RG,r.transform),this.transformOrigin=Xe(e,HG,r.transformOrigin),this.visibility=Xe(e,VG,r.visibility),this.webkitTextStrokeColor=Xe(e,Aq,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Xe(e,oq,r.webkitTextStrokeWidth),this.wordBreak=Xe(e,jG,r.wordBreak),this.zIndex=Xe(e,KG,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return dl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Qn(this.display,4)||Qn(this.display,33554432)||Qn(this.display,268435456)||Qn(this.display,536870912)||Qn(this.display,67108864)||Qn(this.display,134217728)},t}(),lq=function(){function t(e,r){this.content=Xe(e,ZG,r.content),this.quotes=Xe(e,nq,r.quotes)}return t}(),mI=function(){function t(e,r){this.counterIncrement=Xe(e,eq,r.counterIncrement),this.counterReset=Xe(e,tq,r.counterReset)}return t}(),Xe=function(t,e,r){var n=new WN,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new $N(n.read());switch(e.type){case 2:var A=s.parseComponentValue();return e.parse(t,vr(A)?A.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Bw.parse(t,s.parseComponentValue());case"color":return hl.parse(t,s.parseComponentValue());case"image":return M_.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Bl(o)?o:ni;case"length-percentage":var a=s.parseComponentValue();return bn(a)?a:ni;case"time":return dQ.parse(t,s.parseComponentValue())}break}},uq="data-html2canvas-debug",cq=function(t){var e=t.getAttribute(uq);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},u2=function(t,e){var r=cq(t);return r===1||e===r},uo=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,u2(r,3))debugger;this.styles=new aq(e,window.getComputedStyle(r,null)),d2(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=vw(this.context,r),u2(r,4)&&(this.flags|=16)}return t}(),hq="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",wI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tg=0;Tg<wI.length;Tg++)Pd[wI.charCodeAt(Tg)]=Tg;var dq=function(t){var e=t.length*.75,r=t.length,n,i=0,s,A,o,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Pd[t.charCodeAt(n)],A=Pd[t.charCodeAt(n+1)],o=Pd[t.charCodeAt(n+2)],a=Pd[t.charCodeAt(n+3)],u[i++]=s<<2|A>>4,u[i++]=(A&15)<<4|o>>2,u[i++]=(o&3)<<6|a&63;return l},fq=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},pq=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},fu=5,H_=11,V1=2,gq=H_-fu,fQ=65536>>fu,mq=1<<fu,j1=mq-1,wq=1024>>fu,vq=fQ+wq,yq=vq,Bq=32,_q=yq+Bq,Cq=65536>>H_,Eq=1<<gq,bq=Eq-1,vI=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Iq=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},xq=function(t,e){var r=dq(t),n=Array.isArray(r)?pq(r):new Uint32Array(r),i=Array.isArray(r)?fq(r):new Uint16Array(r),s=24,A=vI(i,s/2,n[4]/2),o=n[5]===2?vI(i,(s+n[4])/2):Iq(n,Math.ceil((s+n[4])/4));return new Fq(n[0],n[1],n[2],n[3],A,o)},Fq=function(){function t(e,r,n,i,s,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>fu],r=(r<<V1)+(e&j1),this.data[r];if(e<=65535)return r=this.index[fQ+(e-55296>>fu)],r=(r<<V1)+(e&j1),this.data[r];if(e<this.highStart)return r=_q-Cq+(e>>H_),r=this.index[r],r+=e>>fu&bq,r=this.index[r],r=(r<<V1)+(e&j1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),yI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ug=0;Ug<yI.length;Ug++)Sq[yI.charCodeAt(Ug)]=Ug;var Tq=1,K1=2,G1=3,BI=4,_I=5,Uq=7,CI=8,q1=9,z1=10,EI=11,bI=12,II=13,xI=14,W1=15,Nq=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Qq=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var A=t[i];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},Lq=xq(hq),Ms="×",$1="÷",Pq=function(t){return Lq.get(t)},Rq=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],A=e[r];if(s===K1&&A===G1)return Ms;if(s===K1||s===G1||s===BI||A===K1||A===G1||A===BI)return $1;if(s===CI&&[CI,q1,EI,bI].indexOf(A)!==-1||(s===EI||s===q1)&&(A===q1||A===z1)||(s===bI||s===z1)&&A===z1||A===II||A===_I||A===Uq||s===Tq)return Ms;if(s===II&&A===xI){for(;i===_I;)i=e[--n];if(i===xI)return Ms}if(s===W1&&A===W1){for(var o=0;i===W1;)o++,i=e[--n];if(o%2===0)return Ms}return $1},kq=function(t){var e=Nq(t),r=e.length,n=0,i=0,s=e.map(Pq);return{next:function(){if(n>=r)return{done:!0,value:null};for(var A=Ms;n<r&&(A=Rq(e,s,++n))===Ms;);if(A!==Ms||n===r){var o=Qq.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},Dq=function(t){for(var e=kq(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},Oq=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},Mq=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=yw(n.data).map(function(a){return gn(a)}),s=0,A={},o=i.every(function(a,l){r.setStart(n,s),r.setEnd(n,s+a.length);var u=r.getBoundingClientRect();s+=a.length;var d=u.x>A.x||u.y>A.y;return A=u,l===0?!0:d});return t.body.removeChild(e),o},Hq=function(){return typeof new Image().crossOrigin<"u"},Vq=function(){return typeof new XMLHttpRequest().responseType=="string"},jq=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},FI=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Kq=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var A=c2(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),SI(A).then(function(o){n.drawImage(o,0,0);var a=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",FI(a)?SI(c2(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),FI(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},c2=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",A=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(o),o.appendChild(i),A},SI=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Zn={get SUPPORT_RANGE_BOUNDS(){var t=Oq(document);return Object.defineProperty(Zn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Zn.SUPPORT_RANGE_BOUNDS&&Mq(document);return Object.defineProperty(Zn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=jq(document);return Object.defineProperty(Zn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Kq(document):Promise.resolve(!1);return Object.defineProperty(Zn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Hq();return Object.defineProperty(Zn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Vq();return Object.defineProperty(Zn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Zn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Zn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},tf=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Gq=function(t,e,r,n){var i=Wq(e,r),s=[],A=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Zn.SUPPORT_RANGE_BOUNDS){var a=TI(n,A,o.length).getClientRects();if(a.length>1){var l=V_(o),u=0;l.forEach(function(g){s.push(new tf(g,ra.fromDOMRectList(t,TI(n,u+A,g.length).getClientRects()))),u+=g.length})}else s.push(new tf(o,ra.fromDOMRectList(t,a)))}else{var d=n.splitText(o.length);s.push(new tf(o,qq(t,n))),n=d}else Zn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));A+=o.length}),s},qq=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=vw(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return ra.EMPTY},TI=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},V_=function(t){if(Zn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Dq(t)},zq=function(t,e){if(Zn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Xq(t,e)},Wq=function(t,e){return e.letterSpacing!==0?V_(t):zq(t,e)},$q=[32,160,4961,65792,65793,4153,4241],Xq=function(t,e){for(var r=C9(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var A=i.value.slice(),o=yw(A),a="";o.forEach(function(l){$q.indexOf(l)===-1?a+=gn(l):(a.length&&n.push(a),n.push(gn(l)),a="")}),a.length&&n.push(a)}};!(i=r.next()).done;)s();return n},Yq=function(){function t(e,r,n){this.text=Jq(r.data,n.textTransform),this.textBounds=Gq(e,this.text,n,r)}return t}(),Jq=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Zq,ez);case 2:return t.toUpperCase();default:return t}},Zq=/(^|\s|:|-|\(|\))([a-z])/g,ez=function(t,e,r){return t.length>0?e+r.toUpperCase():t},pQ=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(uo),gQ=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(uo),mQ=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,A=vw(r,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(uo),wQ=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(uo),h2=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(uo),tz=[{type:15,flags:0,unit:"px",number:3}],rz=[{type:16,flags:0,number:50}],nz=function(t){return t.width>t.height?new ra(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ra(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},iz=function(t){var e=t.type===sz?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},w0="checkbox",v0="radio",sz="password",UI=707406591,j_=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=iz(n),(i.type===w0||i.type===v0)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=nz(i.bounds)),i.type){case w0:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=tz;break;case v0:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=rz;break}return i}return e}(uo),vQ=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(uo),yQ=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(uo),BQ=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=CQ(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Zd(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):zo.TRANSPARENT,A=n.contentWindow.document.body?Zd(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):zo.TRANSPARENT;i.backgroundColor=dl(s)?dl(A)?i.styles.backgroundColor:A:s}}catch{}return i}return e}(uo),Az=["OL","UL","MENU"],ym=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,EQ(i)&&i.data.trim().length>0)r.textNodes.push(new Yq(t,i,r.styles));else if(Oc(i))if(FQ(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return ym(t,o,r,n)});else{var A=_Q(t,i);A.styles.isVisible()&&(oz(i,A,n)?A.flags|=4:az(A.styles)&&(A.flags|=2),Az.indexOf(i.tagName)!==-1&&(A.flags|=8),r.elements.push(A),i.slot,i.shadowRoot?ym(t,i.shadowRoot,A,n):!y0(i)&&!bQ(i)&&!B0(i)&&ym(t,i,A,n))}},_Q=function(t,e){return f2(e)?new pQ(t,e):IQ(e)?new gQ(t,e):bQ(e)?new mQ(t,e):lz(e)?new wQ(t,e):uz(e)?new h2(t,e):cz(e)?new j_(t,e):B0(e)?new vQ(t,e):y0(e)?new yQ(t,e):xQ(e)?new BQ(t,e):new uo(t,e)},CQ=function(t,e){var r=_Q(t,e);return r.flags|=4,ym(t,e,r,r),r},oz=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||K_(t)&&r.styles.isTransparent()},az=function(t){return t.isPositioned()||t.isFloating()},EQ=function(t){return t.nodeType===Node.TEXT_NODE},Oc=function(t){return t.nodeType===Node.ELEMENT_NODE},d2=function(t){return Oc(t)&&typeof t.style<"u"&&!Bm(t)},Bm=function(t){return typeof t.className=="object"},lz=function(t){return t.tagName==="LI"},uz=function(t){return t.tagName==="OL"},cz=function(t){return t.tagName==="INPUT"},hz=function(t){return t.tagName==="HTML"},bQ=function(t){return t.tagName==="svg"},K_=function(t){return t.tagName==="BODY"},IQ=function(t){return t.tagName==="CANVAS"},NI=function(t){return t.tagName==="VIDEO"},f2=function(t){return t.tagName==="IMG"},xQ=function(t){return t.tagName==="IFRAME"},QI=function(t){return t.tagName==="STYLE"},dz=function(t){return t.tagName==="SCRIPT"},y0=function(t){return t.tagName==="TEXTAREA"},B0=function(t){return t.tagName==="SELECT"},FQ=function(t){return t.tagName==="SLOT"},LI=function(t){return t.tagName.indexOf("-")>0},fz=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var a=r.counters[o.counter];a&&o.increment!==0&&(s=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=o.increment)});var A=[];return s&&i.forEach(function(o){var a=r.counters[o.counter];A.push(o.counter),a||(a=r.counters[o.counter]=[]),a.push(o.reset)}),A},t}(),PI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},RI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},pz={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},gz={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},uc=function(t,e,r,n,i,s){return t<e||t>r?zf(t,i,s.length>0):n.integers.reduce(function(A,o,a){for(;t>=o;)t-=o,A+=n.values[a];return A},"")+s},SQ=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},pn=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(SQ(Math.abs(t),s,n,function(A){return gn(Math.floor(A%s)+e)})+i)},zl=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return SQ(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},Bc=1,Na=2,Qa=4,Rd=8,So=function(t,e,r,n,i,s){if(t<-9999||t>9999)return zf(t,4,i.length>0);var A=Math.abs(t),o=i;if(A===0)return e[0]+o;for(var a=0;A>0&&a<=4;a++){var l=A%10;l===0&&Qn(s,Bc)&&o!==""?o=e[l]+o:l>1||l===1&&a===0||l===1&&a===1&&Qn(s,Na)||l===1&&a===1&&Qn(s,Qa)&&t>100||l===1&&a>1&&Qn(s,Rd)?o=e[l]+(a>0?r[a-1]:"")+o:l===1&&a>0&&(o=r[a-1]+o),A=Math.floor(A/10)}return(t<0?n:"")+o},kI="十百千萬",DI="拾佰仟萬",OI="マイナス",X1="마이너스",zf=function(t,e,r){var n=r?". ":"",i=r?"、":"",s=r?", ":"",A=r?" ":"";switch(e){case 0:return"•"+A;case 1:return"◦"+A;case 2:return"◾"+A;case 5:var o=pn(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return zl(t,"〇一二三四五六七八九",i);case 6:return uc(t,1,3999,PI,3,n).toLowerCase();case 7:return uc(t,1,3999,PI,3,n);case 8:return pn(t,945,969,!1,n);case 9:return pn(t,97,122,!1,n);case 10:return pn(t,65,90,!1,n);case 11:return pn(t,1632,1641,!0,n);case 12:case 49:return uc(t,1,9999,RI,3,n);case 35:return uc(t,1,9999,RI,3,n).toLowerCase();case 13:return pn(t,2534,2543,!0,n);case 14:case 30:return pn(t,6112,6121,!0,n);case 15:return zl(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return zl(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return So(t,"零一二三四五六七八九",kI,"負",i,Na|Qa|Rd);case 47:return So(t,"零壹貳參肆伍陸柒捌玖",DI,"負",i,Bc|Na|Qa|Rd);case 42:return So(t,"零一二三四五六七八九",kI,"负",i,Na|Qa|Rd);case 41:return So(t,"零壹贰叁肆伍陆柒捌玖",DI,"负",i,Bc|Na|Qa|Rd);case 26:return So(t,"〇一二三四五六七八九","十百千万",OI,i,0);case 25:return So(t,"零壱弐参四伍六七八九","拾百千万",OI,i,Bc|Na|Qa);case 31:return So(t,"영일이삼사오육칠팔구","십백천만",X1,s,Bc|Na|Qa);case 33:return So(t,"零一二三四五六七八九","十百千萬",X1,s,0);case 32:return So(t,"零壹貳參四五六七八九","拾百千",X1,s,Bc|Na|Qa);case 18:return pn(t,2406,2415,!0,n);case 20:return uc(t,1,19999,gz,3,n);case 21:return pn(t,2790,2799,!0,n);case 22:return pn(t,2662,2671,!0,n);case 22:return uc(t,1,10999,pz,3,n);case 23:return zl(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return zl(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return pn(t,3302,3311,!0,n);case 28:return zl(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return zl(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return pn(t,3792,3801,!0,n);case 37:return pn(t,6160,6169,!0,n);case 38:return pn(t,4160,4169,!0,n);case 39:return pn(t,2918,2927,!0,n);case 40:return pn(t,1776,1785,!0,n);case 43:return pn(t,3046,3055,!0,n);case 44:return pn(t,3174,3183,!0,n);case 45:return pn(t,3664,3673,!0,n);case 46:return pn(t,3872,3881,!0,n);case 3:default:return pn(t,48,57,!0,n)}},TQ="data-html2canvas-ignore",MI=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new fz,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=mz(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,o=i.contentWindow,a=o.document,l=yz(i).then(function(){return Ni(n,void 0,void 0,function(){var u,d;return Bi(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(Ez),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,vz(a)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(a,d)}).then(function(){return i})]:[2,i]}})})});return a.open(),a.write(_z(document.doctype)+"<html></html>"),Cz(this.referenceElement.ownerDocument,s,A),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},t.prototype.createElementClone=function(e){if(u2(e,2))debugger;if(IQ(e))return this.createCanvasClone(e);if(NI(e))return this.createVideoClone(e);if(QI(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return f2(r)&&(f2(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),LI(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Y1(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,A){return A&&typeof A.cssText=="string"?s+A.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),A=i.getContext("2d");if(A)if(!this.options.allowTaint&&s)A.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var a=o.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Oc(r)||!dz(r)&&!r.hasAttribute(TQ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Oc(r)||!QI(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Oc(s)&&FQ(s)&&typeof s.assignedNodes=="function"){var A=s.assignedNodes();A.length&&A.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(EQ(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Oc(e)&&(d2(e)||Bm(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),A=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&d2(i)&&(this.clonedReferenceElement=i),K_(i)&&xz(i);var a=this.counters.parse(new mI(this.context,s)),l=this.resolvePseudoContent(e,i,A,rf.BEFORE);LI(e)&&(r=!0),NI(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var u=this.resolvePseudoContent(e,i,o,rf.AFTER);return u&&i.appendChild(u),this.counters.pop(a),(s&&(this.options.copyStyles||Bm(e))&&!xQ(e)||r)&&Y1(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(y0(e)||B0(e))&&(y0(i)||B0(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var A=n.content,o=r.ownerDocument;if(!(!o||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new mI(this.context,n));var a=new lq(this.context,n),l=o.createElement("html2canvaspseudoelement");Y1(n,l),a.content.forEach(function(d){if(d.type===0)l.appendChild(o.createTextNode(d.value));else if(d.type===22){var g=o.createElement("img");g.src=d.value,g.style.opacity="1",l.appendChild(g)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(vr);f.length&&l.appendChild(o.createTextNode(e.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var _=d.values.filter(fh),C=_[0],x=_[1];if(C&&vr(C)){var v=s.counters.getCounterValue(C.value),E=x&&vr(x)?l2.parse(s.context,x.value):3;l.appendChild(o.createTextNode(zf(v,E,!1)))}}else if(d.name==="counters"){var F=d.values.filter(fh),C=F[0],P=F[1],x=F[2];if(C&&vr(C)){var K=s.counters.getCounterValues(C.value),M=x&&vr(x)?l2.parse(s.context,x.value):3,Q=P&&P.type===0?P.value:"",I=K.map(function(S){return zf(S,M,!1)}).join(Q);l.appendChild(o.createTextNode(I))}}}else if(d.type===20)switch(d.value){case"open-quote":l.appendChild(o.createTextNode(gI(a.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(gI(a.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(d.value))}}),l.className=p2+" "+g2;var u=i===rf.BEFORE?" "+p2:" "+g2;return Bm(r)?r.className.baseValue+=u:r.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),rf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(rf||(rf={}));var mz=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(TQ,"true"),t.body.appendChild(r),r},wz=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},vz=function(t){return Promise.all([].slice.call(t.images,0).map(wz))},yz=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},Bz=["all","d","content"],Y1=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);Bz.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},_z=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Cz=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Ez=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},bz=":before",Iz=":after",p2="___html2canvas___pseudoelement_before",g2="___html2canvas___pseudoelement_after",HI=`{
    content: "" !important;
    display: none !important;
}`,xz=function(t){Fz(t,"."+p2+bz+HI+`
         .`+g2+Iz+HI)},Fz=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},UQ=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Sz=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Z1(e)||Qz(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Ni(this,void 0,void 0,function(){var r,n,i,s,A=this;return Bi(this,function(o){switch(o.label){case 0:return r=UQ.isSameOrigin(e),n=!J1(e)&&this._options.useCORS===!0&&Zn.SUPPORT_CORS_IMAGES&&!r,i=!J1(e)&&!r&&!Z1(e)&&typeof this._options.proxy=="string"&&Zn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!J1(e)&&!Z1(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(a,l){var u=new Image;u.onload=function(){return a(u)},u.onerror=l,(Lz(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return a(u)},500),A._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,A){var o=Zn.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(o==="text")s(a.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(g){return A(g)},!1),d.readAsDataURL(a.response)}else A("Failed to proxy resource "+i+" with status code "+a.status)},a.onerror=A;var l=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;a.timeout=u,a.ontimeout=function(){return A("Timed out ("+u+"ms) proxying "+i)}}a.send()})},t}(),Tz=/^data:image\/svg\+xml/i,Uz=/^data:image\/.*;base64,/i,Nz=/^data:image\/.*/i,Qz=function(t){return Zn.SUPPORT_SVG_DRAWING||!Pz(t)},J1=function(t){return Nz.test(t)},Lz=function(t){return Uz.test(t)},Z1=function(t){return t.substr(0,4)==="blob"},Pz=function(t){return t.substr(-3).toLowerCase()==="svg"||Tz.test(t)},We=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),cc=function(t,e,r){return new We(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Ng=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=cc(this.start,this.startControl,e),i=cc(this.startControl,this.endControl,e),s=cc(this.endControl,this.end,e),A=cc(n,i,e),o=cc(i,s,e),a=cc(A,o,e);return r?new t(this.start,n,A,a):new t(a,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),js=function(t){return t.type===1},Rz=function(){function t(e){var r=e.styles,n=e.bounds,i=Ld(r.borderTopLeftRadius,n.width,n.height),s=i[0],A=i[1],o=Ld(r.borderTopRightRadius,n.width,n.height),a=o[0],l=o[1],u=Ld(r.borderBottomRightRadius,n.width,n.height),d=u[0],g=u[1],f=Ld(r.borderBottomLeftRadius,n.width,n.height),_=f[0],C=f[1],x=[];x.push((s+a)/n.width),x.push((_+d)/n.width),x.push((A+C)/n.height),x.push((l+g)/n.height);var v=Math.max.apply(Math,x);v>1&&(s/=v,A/=v,a/=v,l/=v,d/=v,g/=v,_/=v,C/=v);var E=n.width-a,F=n.height-g,P=n.width-d,K=n.height-C,M=r.borderTopWidth,Q=r.borderRightWidth,I=r.borderBottomWidth,b=r.borderLeftWidth,R=Fr(r.paddingTop,e.bounds.width),S=Fr(r.paddingRight,e.bounds.width),U=Fr(r.paddingBottom,e.bounds.width),N=Fr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||A>0?Hr(n.left+b/3,n.top+M/3,s-b/3,A-M/3,sr.TOP_LEFT):new We(n.left+b/3,n.top+M/3),this.topRightBorderDoubleOuterBox=s>0||A>0?Hr(n.left+E,n.top+M/3,a-Q/3,l-M/3,sr.TOP_RIGHT):new We(n.left+n.width-Q/3,n.top+M/3),this.bottomRightBorderDoubleOuterBox=d>0||g>0?Hr(n.left+P,n.top+F,d-Q/3,g-I/3,sr.BOTTOM_RIGHT):new We(n.left+n.width-Q/3,n.top+n.height-I/3),this.bottomLeftBorderDoubleOuterBox=_>0||C>0?Hr(n.left+b/3,n.top+K,_-b/3,C-I/3,sr.BOTTOM_LEFT):new We(n.left+b/3,n.top+n.height-I/3),this.topLeftBorderDoubleInnerBox=s>0||A>0?Hr(n.left+b*2/3,n.top+M*2/3,s-b*2/3,A-M*2/3,sr.TOP_LEFT):new We(n.left+b*2/3,n.top+M*2/3),this.topRightBorderDoubleInnerBox=s>0||A>0?Hr(n.left+E,n.top+M*2/3,a-Q*2/3,l-M*2/3,sr.TOP_RIGHT):new We(n.left+n.width-Q*2/3,n.top+M*2/3),this.bottomRightBorderDoubleInnerBox=d>0||g>0?Hr(n.left+P,n.top+F,d-Q*2/3,g-I*2/3,sr.BOTTOM_RIGHT):new We(n.left+n.width-Q*2/3,n.top+n.height-I*2/3),this.bottomLeftBorderDoubleInnerBox=_>0||C>0?Hr(n.left+b*2/3,n.top+K,_-b*2/3,C-I*2/3,sr.BOTTOM_LEFT):new We(n.left+b*2/3,n.top+n.height-I*2/3),this.topLeftBorderStroke=s>0||A>0?Hr(n.left+b/2,n.top+M/2,s-b/2,A-M/2,sr.TOP_LEFT):new We(n.left+b/2,n.top+M/2),this.topRightBorderStroke=s>0||A>0?Hr(n.left+E,n.top+M/2,a-Q/2,l-M/2,sr.TOP_RIGHT):new We(n.left+n.width-Q/2,n.top+M/2),this.bottomRightBorderStroke=d>0||g>0?Hr(n.left+P,n.top+F,d-Q/2,g-I/2,sr.BOTTOM_RIGHT):new We(n.left+n.width-Q/2,n.top+n.height-I/2),this.bottomLeftBorderStroke=_>0||C>0?Hr(n.left+b/2,n.top+K,_-b/2,C-I/2,sr.BOTTOM_LEFT):new We(n.left+b/2,n.top+n.height-I/2),this.topLeftBorderBox=s>0||A>0?Hr(n.left,n.top,s,A,sr.TOP_LEFT):new We(n.left,n.top),this.topRightBorderBox=a>0||l>0?Hr(n.left+E,n.top,a,l,sr.TOP_RIGHT):new We(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||g>0?Hr(n.left+P,n.top+F,d,g,sr.BOTTOM_RIGHT):new We(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=_>0||C>0?Hr(n.left,n.top+K,_,C,sr.BOTTOM_LEFT):new We(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||A>0?Hr(n.left+b,n.top+M,Math.max(0,s-b),Math.max(0,A-M),sr.TOP_LEFT):new We(n.left+b,n.top+M),this.topRightPaddingBox=a>0||l>0?Hr(n.left+Math.min(E,n.width-Q),n.top+M,E>n.width+Q?0:Math.max(0,a-Q),Math.max(0,l-M),sr.TOP_RIGHT):new We(n.left+n.width-Q,n.top+M),this.bottomRightPaddingBox=d>0||g>0?Hr(n.left+Math.min(P,n.width-b),n.top+Math.min(F,n.height-I),Math.max(0,d-Q),Math.max(0,g-I),sr.BOTTOM_RIGHT):new We(n.left+n.width-Q,n.top+n.height-I),this.bottomLeftPaddingBox=_>0||C>0?Hr(n.left+b,n.top+Math.min(K,n.height-I),Math.max(0,_-b),Math.max(0,C-I),sr.BOTTOM_LEFT):new We(n.left+b,n.top+n.height-I),this.topLeftContentBox=s>0||A>0?Hr(n.left+b+N,n.top+M+R,Math.max(0,s-(b+N)),Math.max(0,A-(M+R)),sr.TOP_LEFT):new We(n.left+b+N,n.top+M+R),this.topRightContentBox=a>0||l>0?Hr(n.left+Math.min(E,n.width+b+N),n.top+M+R,E>n.width+b+N?0:a-b+N,l-(M+R),sr.TOP_RIGHT):new We(n.left+n.width-(Q+S),n.top+M+R),this.bottomRightContentBox=d>0||g>0?Hr(n.left+Math.min(P,n.width-(b+N)),n.top+Math.min(F,n.height+M+R),Math.max(0,d-(Q+S)),g-(I+U),sr.BOTTOM_RIGHT):new We(n.left+n.width-(Q+S),n.top+n.height-(I+U)),this.bottomLeftContentBox=_>0||C>0?Hr(n.left+b+N,n.top+K,Math.max(0,_-(b+N)),C-(I+U),sr.BOTTOM_LEFT):new We(n.left+b+N,n.top+n.height-(I+U))}return t}(),sr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(sr||(sr={}));var Hr=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),A=r*s,o=n*s,a=t+r,l=e+n;switch(i){case sr.TOP_LEFT:return new Ng(new We(t,l),new We(t,l-o),new We(a-A,e),new We(a,e));case sr.TOP_RIGHT:return new Ng(new We(t,e),new We(t+A,e),new We(a,l-o),new We(a,l));case sr.BOTTOM_RIGHT:return new Ng(new We(a,e),new We(a,e+o),new We(t+A,l),new We(t,l));case sr.BOTTOM_LEFT:default:return new Ng(new We(a,l),new We(a-A,l),new We(t,e+o),new We(t,e))}},_0=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},kz=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},C0=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Dz=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Qg=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),Oz=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Mz=function(t){return t.type===0},NQ=function(t){return t.type===1},Hz=function(t){return t.type===2},VI=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Vz=function(t,e,r,n,i){return t.map(function(s,A){switch(A){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},QQ=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),LQ=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Rz(this.container),this.container.styles.opacity<1&&this.effects.push(new Oz(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Dz(n,i,s))}if(this.container.styles.overflowX!==0){var A=_0(this.curves),o=C0(this.curves);VI(A,o)?this.effects.push(new Qg(A,6)):(this.effects.push(new Qg(A,2)),this.effects.push(new Qg(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(a){return!NQ(a)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=_0(n.curves),o=C0(n.curves);VI(A,o)||i.unshift(new Qg(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(a){return Qn(a.target,e)})},t}(),m2=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Qn(i.flags,4),A=Qn(i.flags,2),o=new LQ(i,t);Qn(i.styles.display,2048)&&n.push(o);var a=Qn(i.flags,8)?[]:n;if(s||A){var l=s||i.styles.isPositioned()?r:e,u=new QQ(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var g=0;l.negativeZIndex.some(function(_,C){return d>_.element.container.styles.zIndex.order?(g=C,!1):g>0}),l.negativeZIndex.splice(g,0,u)}else if(d>0){var f=0;l.positiveZIndex.some(function(_,C){return d>=_.element.container.styles.zIndex.order?(f=C+1,!1):f>0}),l.positiveZIndex.splice(f,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);m2(o,u,s?u:r,a)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),m2(o,e,r,a);Qn(i.flags,8)&&PQ(i,a)})},PQ=function(t,e){for(var r=t instanceof h2?t.start:1,n=t instanceof h2?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof wQ&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=zf(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},jz=function(t){var e=new LQ(t,null),r=new QQ(e),n=[];return m2(e,r,r,n),PQ(e.container,n),r},jI=function(t,e){switch(e){case 0:return zs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return zs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return zs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return zs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Kz=function(t,e){switch(e){case 0:return zs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return zs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return zs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return zs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Gz=function(t,e){switch(e){case 0:return zs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return zs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return zs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return zs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},qz=function(t,e){switch(e){case 0:return Lg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Lg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Lg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Lg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Lg=function(t,e){var r=[];return js(t)?r.push(t.subdivide(.5,!1)):r.push(t),js(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},zs=function(t,e,r,n){var i=[];return js(t)?i.push(t.subdivide(.5,!1)):i.push(t),js(r)?i.push(r.subdivide(.5,!0)):i.push(r),js(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),js(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},RQ=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},E0=function(t){var e=t.styles,r=t.bounds,n=Fr(e.paddingLeft,r.width),i=Fr(e.paddingRight,r.width),s=Fr(e.paddingTop,r.width),A=Fr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+A))},zz=function(t,e){return t===0?e.bounds:t===2?E0(e):RQ(e)},Wz=function(t,e){return t===0?e.bounds:t===2?E0(e):RQ(e)},ev=function(t,e,r){var n=zz(_c(t.styles.backgroundOrigin,e),t),i=Wz(_c(t.styles.backgroundClip,e),t),s=$z(_c(t.styles.backgroundSize,e),r,n),A=s[0],o=s[1],a=Ld(_c(t.styles.backgroundPosition,e),n.width-A,n.height-o),l=Xz(_c(t.styles.backgroundRepeat,e),a,s,n,i),u=Math.round(n.left+a[0]),d=Math.round(n.top+a[1]);return[l,u,d,A,o]},hc=function(t){return vr(t)&&t.value===Xc.AUTO},Pg=function(t){return typeof t=="number"},$z=function(t,e,r){var n=e[0],i=e[1],s=e[2],A=t[0],o=t[1];if(!A)return[0,0];if(bn(A)&&o&&bn(o))return[Fr(A,r.width),Fr(o,r.height)];var a=Pg(s);if(vr(A)&&(A.value===Xc.CONTAIN||A.value===Xc.COVER)){if(Pg(s)){var l=r.width/r.height;return l<s!=(A.value===Xc.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=Pg(n),d=Pg(i),g=u||d;if(hc(A)&&(!o||hc(o))){if(u&&d)return[n,i];if(!a&&!g)return[r.width,r.height];if(g&&a){var f=u?n:i*s,_=d?i:n/s;return[f,_]}var C=u?n:r.width,x=d?i:r.height;return[C,x]}if(a){var v=0,E=0;return bn(A)?v=Fr(A,r.width):bn(o)&&(E=Fr(o,r.height)),hc(A)?v=E*s:(!o||hc(o))&&(E=v/s),[v,E]}var F=null,P=null;if(bn(A)?F=Fr(A,r.width):o&&bn(o)&&(P=Fr(o,r.height)),F!==null&&(!o||hc(o))&&(P=u&&d?F/n*i:r.height),P!==null&&hc(A)&&(F=u&&d?P/i*n:r.width),F!==null&&P!==null)return[F,P];throw new Error("Unable to calculate background-size for element")},_c=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Xz=function(t,e,r,n,i){var s=e[0],A=e[1],o=r[0],a=r[1];switch(t){case 2:return[new We(Math.round(n.left),Math.round(n.top+A)),new We(Math.round(n.left+n.width),Math.round(n.top+A)),new We(Math.round(n.left+n.width),Math.round(a+n.top+A)),new We(Math.round(n.left),Math.round(a+n.top+A))];case 3:return[new We(Math.round(n.left+s),Math.round(n.top)),new We(Math.round(n.left+s+o),Math.round(n.top)),new We(Math.round(n.left+s+o),Math.round(n.height+n.top)),new We(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new We(Math.round(n.left+s),Math.round(n.top+A)),new We(Math.round(n.left+s+o),Math.round(n.top+A)),new We(Math.round(n.left+s+o),Math.round(n.top+A+a)),new We(Math.round(n.left+s),Math.round(n.top+A+a))];default:return[new We(Math.round(i.left),Math.round(i.top)),new We(Math.round(i.left+i.width),Math.round(i.top)),new We(Math.round(i.left+i.width),Math.round(i.height+i.top)),new We(Math.round(i.left),Math.round(i.height+i.top))]}},Yz="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",KI="Hidden Text",Jz=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),i.src=Yz,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(KI)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(KI)),n.style.lineHeight="normal",i.style.verticalAlign="super";var a=i.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:o,middle:a}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),kQ=function(){function t(e,r){this.context=e,this.options=r}return t}(),Zz=1e4,eW=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Jz(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),Hz(r)&&(this.ctx.globalAlpha=r.opacity),Mz(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),NQ(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Ni(this,void 0,void 0,function(){var n;return Bi(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Ni(this,void 0,void 0,function(){return Bi(this,function(n){switch(n.label){case 0:if(Qn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var A=V_(r.text);A.reduce(function(o,a){return s.ctx.fillText(a,o,r.bounds.top+i),o+s.ctx.measureText(a).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),i=sW(r.fontFamily).join(", "),s=Ep(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Ni(this,void 0,void 0,function(){var i,s,A,o,a,l,u,d,g=this;return Bi(this,function(f){return i=this.createFontStyle(n),s=i[0],A=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(A,o),l=a.baseline,u=a.middle,d=n.paintOrder,r.textBounds.forEach(function(_){d.forEach(function(C){switch(C){case 0:g.ctx.fillStyle=Hn(n.color),g.renderTextWithLetterSpacing(_,n.letterSpacing,l);var x=n.textShadow;x.length&&_.text.trim().length&&(x.slice(0).reverse().forEach(function(v){g.ctx.shadowColor=Hn(v.color),g.ctx.shadowOffsetX=v.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=v.offsetY.number*g.options.scale,g.ctx.shadowBlur=v.blur.number,g.renderTextWithLetterSpacing(_,n.letterSpacing,l)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),n.textDecorationLine.length&&(g.ctx.fillStyle=Hn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:g.ctx.fillRect(_.bounds.left,Math.round(_.bounds.top+l),_.bounds.width,1);break;case 2:g.ctx.fillRect(_.bounds.left,Math.round(_.bounds.top),_.bounds.width,1);break;case 3:g.ctx.fillRect(_.bounds.left,Math.ceil(_.bounds.top+u),_.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&_.text.trim().length&&(g.ctx.strokeStyle=Hn(n.webkitTextStrokeColor),g.ctx.lineWidth=n.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(_.text,_.bounds.left,_.bounds.top+l)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=E0(r),A=C0(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Ni(this,void 0,void 0,function(){var n,i,s,A,o,a,E,E,l,u,d,g,P,f,_,K,C,x,v,E,F,P,K;return Bi(this,function(M){switch(M.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,A=0,o=n.textNodes,M.label=1;case 1:return A<o.length?(a=o[A],[4,this.renderTextNode(a,s)]):[3,4];case 2:M.sent(),M.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof pQ))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return E=M.sent(),this.renderReplacedElement(n,i,E),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof gQ&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof mQ))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return E=M.sent(),this.renderReplacedElement(n,i,E),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof BQ&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:u=M.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),M.label=14;case 14:if(n instanceof j_&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===w0?n.checked&&(this.ctx.save(),this.path([new We(n.bounds.left+d*.39363,n.bounds.top+d*.79),new We(n.bounds.left+d*.16,n.bounds.top+d*.5549),new We(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new We(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new We(n.bounds.left+d*.72983,n.bounds.top+d*.23),new We(n.bounds.left+d*.84,n.bounds.top+d*.34085),new We(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=Hn(UI),this.ctx.fill(),this.ctx.restore()):n.type===v0&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=Hn(UI),this.ctx.fill(),this.ctx.restore())),tW(n)&&n.value.length){switch(g=this.createFontStyle(s),P=g[0],f=g[1],_=this.fontMetrics.getMetrics(P,f).baseline,this.ctx.font=P,this.ctx.fillStyle=Hn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=nW(n.styles.textAlign),K=E0(n),C=0,n.styles.textAlign){case 1:C+=K.width/2;break;case 2:C+=K.width;break}x=K.add(C,0,0,-K.height/2+1),this.ctx.save(),this.path([new We(K.left,K.top),new We(K.left+K.width,K.top),new We(K.left+K.width,K.top+K.height),new We(K.left,K.top+K.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new tf(n.value,x),s.letterSpacing,_),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Qn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];E=void 0,F=v.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(F)];case 16:return E=M.sent(),this.ctx.drawImage(E,n.bounds.left-(E.width+10),n.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+F),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(P=this.createFontStyle(s)[0],this.ctx.font=P,this.ctx.fillStyle=Hn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",K=new ra(n.bounds.left,n.bounds.top+Fr(n.styles.paddingTop,n.bounds.width),n.bounds.width,fI(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new tf(r.listValue,K),s.letterSpacing,fI(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Ni(this,void 0,void 0,function(){var n,i,v,s,A,v,o,a,v,l,u,v,d,g,v,f,_,v,C,x,v;return Bi(this,function(E){switch(E.label){case 0:if(Qn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:E.sent(),n=0,i=r.negativeZIndex,E.label=2;case 2:return n<i.length?(v=i[n],[4,this.renderStack(v)]):[3,5];case 3:E.sent(),E.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:E.sent(),s=0,A=r.nonInlineLevel,E.label=7;case 7:return s<A.length?(v=A[s],[4,this.renderNode(v)]):[3,10];case 8:E.sent(),E.label=9;case 9:return s++,[3,7];case 10:o=0,a=r.nonPositionedFloats,E.label=11;case 11:return o<a.length?(v=a[o],[4,this.renderStack(v)]):[3,14];case 12:E.sent(),E.label=13;case 13:return o++,[3,11];case 14:l=0,u=r.nonPositionedInlineLevel,E.label=15;case 15:return l<u.length?(v=u[l],[4,this.renderStack(v)]):[3,18];case 16:E.sent(),E.label=17;case 17:return l++,[3,15];case 18:d=0,g=r.inlineLevel,E.label=19;case 19:return d<g.length?(v=g[d],[4,this.renderNode(v)]):[3,22];case 20:E.sent(),E.label=21;case 21:return d++,[3,19];case 22:f=0,_=r.zeroOrAutoZIndexOrTransformedOrOpacity,E.label=23;case 23:return f<_.length?(v=_[f],[4,this.renderStack(v)]):[3,26];case 24:E.sent(),E.label=25;case 25:return f++,[3,23];case 26:C=0,x=r.positiveZIndex,E.label=27;case 27:return C<x.length?(v=x[C],[4,this.renderStack(v)]):[3,30];case 28:E.sent(),E.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var A=js(i)?i.start:i;s===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),js(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var A=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=A.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var a=o.getContext("2d");return a.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return Ni(this,void 0,void 0,function(){var n,i,s,A,o,a;return Bi(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var d,g,f,R,le,se,N,X,I,_,R,le,se,N,X,C,x,v,E,F,P,K,M,Q,I,b,R,S,U,N,X,ue,le,se,z,ne,fe,me,O,V,$,re;return Bi(this,function(Ae){switch(Ae.label){case 0:if(u.type!==0)return[3,5];d=void 0,g=u.url,Ae.label=1;case 1:return Ae.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return d=Ae.sent(),[3,4];case 3:return Ae.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return d&&(f=ev(r,n,[d.width,d.height,d.width/d.height]),R=f[0],le=f[1],se=f[2],N=f[3],X=f[4],I=s.ctx.createPattern(s.resizeImage(d,N,X),"repeat"),s.renderRepeat(R,I,le,se)),[3,6];case 5:MK(u)?(_=ev(r,n,[null,null,null]),R=_[0],le=_[1],se=_[2],N=_[3],X=_[4],C=PK(u.angle,N,X),x=C[0],v=C[1],E=C[2],F=C[3],P=C[4],K=document.createElement("canvas"),K.width=N,K.height=X,M=K.getContext("2d"),Q=M.createLinearGradient(v,F,E,P),hI(u.stops,x).forEach(function(ce){return Q.addColorStop(ce.stop,Hn(ce.color))}),M.fillStyle=Q,M.fillRect(0,0,N,X),N>0&&X>0&&(I=s.ctx.createPattern(K,"repeat"),s.renderRepeat(R,I,le,se))):HK(u)&&(b=ev(r,n,[null,null,null]),R=b[0],S=b[1],U=b[2],N=b[3],X=b[4],ue=u.position.length===0?[O_]:u.position,le=Fr(ue[0],N),se=Fr(ue[ue.length-1],X),z=RK(u,le,se,N,X),ne=z[0],fe=z[1],ne>0&&fe>0&&(me=s.ctx.createRadialGradient(S+le,U+se,0,S+le,U+se,ne),hI(u.stops,ne*2).forEach(function(ce){return me.addColorStop(ce.stop,Hn(ce.color))}),s.path(R),s.ctx.fillStyle=me,ne!==fe?(O=r.bounds.left+.5*r.bounds.width,V=r.bounds.top+.5*r.bounds.height,$=fe/ne,re=1/$,s.ctx.save(),s.ctx.translate(O,V),s.ctx.transform(1,0,0,$,0,0),s.ctx.translate(-O,-V),s.ctx.fillRect(S,re*(U-V)+V,N,X*re),s.ctx.restore()):s.ctx.fill())),Ae.label=6;case 6:return n--,[2]}})},s=this,A=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return A<o.length?(a=o[A],[5,i(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Ni(this,void 0,void 0,function(){return Bi(this,function(s){return this.path(jI(i,n)),this.ctx.fillStyle=Hn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Ni(this,void 0,void 0,function(){var A,o;return Bi(this,function(a){switch(a.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return a.sent(),[2];case 2:return A=Kz(s,i),this.path(A),this.ctx.fillStyle=Hn(r),this.ctx.fill(),o=Gz(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Ni(this,void 0,void 0,function(){var n,i,s,A,o,a,l,u,d=this;return Bi(this,function(g){switch(g.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!dl(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=rW(_c(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),dl(n.backgroundColor)||(this.ctx.fillStyle=Hn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var _=_0(r.curves),C=f.inset?0:Zz,x=Vz(_,-C+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(_),d.ctx.clip(),d.mask(x)):(d.mask(_),d.ctx.clip(),d.path(x)),d.ctx.shadowOffsetX=f.offsetX.number+C,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=Hn(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?Hn(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),g.label=2;case 2:o=0,a=0,l=s,g.label=3;case 3:return a<l.length?(u=l[a],u.style!==0&&!dl(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return g.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,A){return Ni(this,void 0,void 0,function(){var o,a,l,u,d,g,f,_,C,x,v,E,F,P,K,M,K,M;return Bi(this,function(Q){return this.ctx.save(),o=qz(s,i),a=jI(s,i),A===2&&(this.path(a),this.ctx.clip()),js(a[0])?(l=a[0].start.x,u=a[0].start.y):(l=a[0].x,u=a[0].y),js(a[1])?(d=a[1].end.x,g=a[1].end.y):(d=a[1].x,g=a[1].y),i===0||i===2?f=Math.abs(l-d):f=Math.abs(u-g),this.ctx.beginPath(),A===3?this.formatPath(o):this.formatPath(a.slice(0,2)),_=n<3?n*3:n*2,C=n<3?n*2:n,A===3&&(_=n,C=n),x=!0,f<=_*2?x=!1:f<=_*2+C?(v=f/(2*_+C),_*=v,C*=v):(E=Math.floor((f+C)/(_+C)),F=(f-E*_)/(E-1),P=(f-(E+1)*_)/E,C=P<=0||Math.abs(C-F)<Math.abs(C-P)?F:P),x&&(A===3?this.ctx.setLineDash([0,_+C]):this.ctx.setLineDash([_,C])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Hn(r),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(js(a[0])&&(K=a[3],M=a[0],this.ctx.beginPath(),this.formatPath([new We(K.end.x,K.end.y),new We(M.start.x,M.start.y)]),this.ctx.stroke()),js(a[1])&&(K=a[1],M=a[2],this.ctx.beginPath(),this.formatPath([new We(K.end.x,K.end.y),new We(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Ni(this,void 0,void 0,function(){var n;return Bi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Hn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=jz(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(kQ),tW=function(t){return t instanceof yQ||t instanceof vQ?!0:t instanceof j_&&t.type!==v0&&t.type!==w0},rW=function(t,e){switch(t){case 0:return _0(e);case 2:return kz(e);case 1:default:return C0(e)}},nW=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iW=["-apple-system","system-ui"],sW=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return iW.indexOf(e)===-1}):t},AW=function(t){IA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Ni(this,void 0,void 0,function(){var n,i;return Bi(this,function(s){switch(s.label){case 0:return n=c2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,oW(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Hn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(kQ),oW=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},aW=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,dg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,dg([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,dg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,dg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),lW=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new aW({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Sz(this,e)}return t.instanceCount=1,t}(),DQ=function(t,e){return e===void 0&&(e={}),uW(t,e)};typeof window<"u"&&UQ.setContext(window);var uW=function(t,e){return Ni(void 0,void 0,void 0,function(){var r,n,i,s,A,o,a,l,u,d,g,f,_,C,x,v,E,F,P,K,Q,M,Q,I,b,R,S,U,N,X,ue,le,se,z,ne,fe,me,O,V,$;return Bi(this,function(re){switch(re.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(I=e.allowTaint)!==null&&I!==void 0?I:!1,imageTimeout:(b=e.imageTimeout)!==null&&b!==void 0?b:15e3,proxy:e.proxy,useCORS:(R=e.useCORS)!==null&&R!==void 0?R:!1},s=Xy({logging:(S=e.logging)!==null&&S!==void 0?S:!0,cache:e.cache},i),A={windowWidth:(U=e.windowWidth)!==null&&U!==void 0?U:n.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:n.innerHeight,scrollX:(X=e.scrollX)!==null&&X!==void 0?X:n.pageXOffset,scrollY:(ue=e.scrollY)!==null&&ue!==void 0?ue:n.pageYOffset},o=new ra(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),a=new lW(s,o),l=(le=e.foreignObjectRendering)!==null&&le!==void 0?le:!1,u={allowTaint:(se=e.allowTaint)!==null&&se!==void 0?se:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},a.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new MI(a,t,u),g=d.clonedReferenceElement,g?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=re.sent(),_=K_(g)||hz(g)?Vj(g.ownerDocument):vw(a,g),C=_.width,x=_.height,v=_.left,E=_.top,F=cW(a,g,e.backgroundColor),P={canvas:e.canvas,backgroundColor:F,scale:(ne=(z=e.scale)!==null&&z!==void 0?z:n.devicePixelRatio)!==null&&ne!==void 0?ne:1,x:((fe=e.x)!==null&&fe!==void 0?fe:0)+v,y:((me=e.y)!==null&&me!==void 0?me:0)+E,width:(O=e.width)!==null&&O!==void 0?O:Math.ceil(C),height:(V=e.height)!==null&&V!==void 0?V:Math.ceil(x)},l?(a.logger.debug("Document cloned, using foreign object rendering"),Q=new AW(a,P),[4,Q.render(g)]):[3,3];case 2:return K=re.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+v+","+E+" with size "+C+"x"+x+" using computed rendering"),a.logger.debug("Starting DOM parsing"),M=CQ(a,g),F===M.styles.backgroundColor&&(M.styles.backgroundColor=zo.TRANSPARENT),a.logger.debug("Starting renderer for element at "+P.x+","+P.y+" with size "+P.width+"x"+P.height),Q=new eW(a,P),[4,Q.render(M)];case 4:K=re.sent(),re.label=5;case 5:return(!(($=e.removeContainer)!==null&&$!==void 0)||$)&&(MI.destroy(f)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,K]}})})},cW=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Zd(t,getComputedStyle(n.documentElement).backgroundColor):zo.TRANSPARENT,s=n.body?Zd(t,getComputedStyle(n.body).backgroundColor):zo.TRANSPARENT,A=typeof r=="string"?Zd(t,r):r===null?zo.TRANSPARENT:4294967295;return e===n.documentElement?dl(i)?dl(s)?A:s:i:A};const G_=Object.freeze(Object.defineProperty({__proto__:null,default:DQ},Symbol.toStringTag,{value:"Module"})),hW="modulepreload",dW=function(t){return"/"+t},GI={},fl=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),o=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));i=Promise.allSettled(r.map(a=>{if(a=dW(a),a in GI)return;GI[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":hW,l||(d.as="script"),d.crossOrigin="",d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((g,f)=>{d.addEventListener("load",g),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(A){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=A,window.dispatchEvent(o),!o.defaultPrevented)throw A}return i.then(A=>{for(const o of A||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function dr(t){"@babel/helpers - typeof";return dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dr(t)}var CA=Uint8Array,Es=Uint16Array,q_=Int32Array,z_=new CA([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),W_=new CA([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qI=new CA([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OQ=function(t,e){for(var r=new Es(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new q_(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},MQ=OQ(z_,2),fW=MQ.b,w2=MQ.r;fW[28]=258,w2[258]=28;var pW=OQ(W_,0),zI=pW.r,v2=new Es(32768);for(var Pr=0;Pr<32768;++Pr){var Ta=(Pr&43690)>>1|(Pr&21845)<<1;Ta=(Ta&52428)>>2|(Ta&13107)<<2,Ta=(Ta&61680)>>4|(Ta&3855)<<4,v2[Pr]=((Ta&65280)>>8|(Ta&255)<<8)>>1}var nf=function(t,e,r){for(var n=t.length,i=0,s=new Es(e);i<n;++i)t[i]&&++s[t[i]-1];var A=new Es(e);for(i=1;i<e;++i)A[i]=A[i-1]+s[i-1]<<1;var o;if(r){o=new Es(1<<e);var a=15-e;for(i=0;i<n;++i)if(t[i])for(var l=i<<4|t[i],u=e-t[i],d=A[t[i]-1]++<<u,g=d|(1<<u)-1;d<=g;++d)o[v2[d]>>a]=l}else for(o=new Es(n),i=0;i<n;++i)t[i]&&(o[i]=v2[A[t[i]-1]++]>>15-t[i]);return o},Ru=new CA(288);for(var Pr=0;Pr<144;++Pr)Ru[Pr]=8;for(var Pr=144;Pr<256;++Pr)Ru[Pr]=9;for(var Pr=256;Pr<280;++Pr)Ru[Pr]=7;for(var Pr=280;Pr<288;++Pr)Ru[Pr]=8;var b0=new CA(32);for(var Pr=0;Pr<32;++Pr)b0[Pr]=5;var gW=nf(Ru,9,0),mW=nf(b0,5,0),HQ=function(t){return(t+7)/8|0},wW=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new CA(t.subarray(e,r))},To=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},gd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},tv=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:jQ,l:0};if(i==1){var A=new CA(r[0].s+1);return A[r[0].s]=1,{t:A,l:1}}r.sort(function(K,M){return K.f-M.f}),r.push({s:-1,f:25001});var o=r[0],a=r[1],l=0,u=1,d=2;for(r[0]={s:-1,f:o.f+a.f,l:o,r:a};u!=i-1;)o=r[r[l].f<r[d].f?l++:d++],a=r[l!=u&&r[l].f<r[d].f?l++:d++],r[u++]={s:-1,f:o.f+a.f,l:o,r:a};for(var g=s[0].s,n=1;n<i;++n)s[n].s>g&&(g=s[n].s);var f=new Es(g+1),_=y2(r[u-1],f,0);if(_>e){var n=0,C=0,x=_-e,v=1<<x;for(s.sort(function(M,Q){return f[Q.s]-f[M.s]||M.f-Q.f});n<i;++n){var E=s[n].s;if(f[E]>e)C+=v-(1<<_-f[E]),f[E]=e;else break}for(C>>=x;C>0;){var F=s[n].s;f[F]<e?C-=1<<e-f[F]++-1:++n}for(;n>=0&&C;--n){var P=s[n].s;f[P]==e&&(--f[P],++C)}_=e}return{t:new CA(f),l:_}},y2=function(t,e,r){return t.s==-1?Math.max(y2(t.l,e,r+1),y2(t.r,e,r+1)):e[t.s]=r},WI=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Es(++e),n=0,i=t[0],s=1,A=function(a){r[n++]=a},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)A(32754);s>2&&(A(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(A(i),--s;s>6;s-=6)A(8304);s>2&&(A(s-3<<5|8208),s=0)}for(;s--;)A(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},md=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},VQ=function(t,e,r){var n=r.length,i=HQ(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},$I=function(t,e,r,n,i,s,A,o,a,l,u){To(e,u++,r),++i[256];for(var d=tv(i,15),g=d.t,f=d.l,_=tv(s,15),C=_.t,x=_.l,v=WI(g),E=v.c,F=v.n,P=WI(C),K=P.c,M=P.n,Q=new Es(19),I=0;I<E.length;++I)++Q[E[I]&31];for(var I=0;I<K.length;++I)++Q[K[I]&31];for(var b=tv(Q,7),R=b.t,S=b.l,U=19;U>4&&!R[qI[U-1]];--U);var N=l+5<<3,X=md(i,Ru)+md(s,b0)+A,ue=md(i,g)+md(s,C)+A+14+3*U+md(Q,R)+2*Q[16]+3*Q[17]+7*Q[18];if(a>=0&&N<=X&&N<=ue)return VQ(e,u,t.subarray(a,a+l));var le,se,z,ne;if(To(e,u,1+(ue<X)),u+=2,ue<X){le=nf(g,f,0),se=g,z=nf(C,x,0),ne=C;var fe=nf(R,S,0);To(e,u,F-257),To(e,u+5,M-1),To(e,u+10,U-4),u+=14;for(var I=0;I<U;++I)To(e,u+3*I,R[qI[I]]);u+=3*U;for(var me=[E,K],O=0;O<2;++O)for(var V=me[O],I=0;I<V.length;++I){var $=V[I]&31;To(e,u,fe[$]),u+=R[$],$>15&&(To(e,u,V[I]>>5&127),u+=V[I]>>12)}}else le=gW,se=Ru,z=mW,ne=b0;for(var I=0;I<o;++I){var re=n[I];if(re>255){var $=re>>18&31;gd(e,u,le[$+257]),u+=se[$+257],$>7&&(To(e,u,re>>23&31),u+=z_[$]);var Ae=re&31;gd(e,u,z[Ae]),u+=ne[Ae],Ae>3&&(gd(e,u,re>>5&8191),u+=W_[Ae])}else gd(e,u,le[re]),u+=se[re]}return gd(e,u,le[256]),u+se[256]},vW=new q_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jQ=new CA(0),yW=function(t,e,r,n,i,s){var A=s.z||t.length,o=new CA(n+A+5*(1+Math.ceil(A/7e3))+i),a=o.subarray(n,o.length-i),l=s.l,u=(s.r||0)&7;if(e){u&&(a[0]=s.r>>3);for(var d=vW[e-1],g=d>>13,f=d&8191,_=(1<<r)-1,C=s.p||new Es(32768),x=s.h||new Es(_+1),v=Math.ceil(r/3),E=2*v,F=function(Ee){return(t[Ee]^t[Ee+1]<<v^t[Ee+2]<<E)&_},P=new q_(25e3),K=new Es(288),M=new Es(32),Q=0,I=0,b=s.i||0,R=0,S=s.w||0,U=0;b+2<A;++b){var N=F(b),X=b&32767,ue=x[N];if(C[X]=ue,x[N]=X,S<=b){var le=A-b;if((Q>7e3||R>24576)&&(le>423||!l)){u=$I(t,a,0,P,K,M,I,R,U,b-U,u),R=Q=I=0,U=b;for(var se=0;se<286;++se)K[se]=0;for(var se=0;se<30;++se)M[se]=0}var z=2,ne=0,fe=f,me=X-ue&32767;if(le>2&&N==F(b-me))for(var O=Math.min(g,le)-1,V=Math.min(32767,b),$=Math.min(258,le);me<=V&&--fe&&X!=ue;){if(t[b+z]==t[b+z-me]){for(var re=0;re<$&&t[b+re]==t[b+re-me];++re);if(re>z){if(z=re,ne=me,re>O)break;for(var Ae=Math.min(me,re-2),ce=0,se=0;se<Ae;++se){var Be=b-me+se&32767,he=C[Be],Ce=Be-he&32767;Ce>ce&&(ce=Ce,ue=Be)}}}X=ue,ue=C[X],me+=X-ue&32767}if(ne){P[R++]=268435456|w2[z]<<18|zI[ne];var Pe=w2[z]&31,Ge=zI[ne]&31;I+=z_[Pe]+W_[Ge],++K[257+Pe],++M[Ge],S=b+z,++Q}else P[R++]=t[b],++K[t[b]]}}for(b=Math.max(b,S);b<A;++b)P[R++]=t[b],++K[t[b]];u=$I(t,a,l,P,K,M,I,R,U,b-U,u),l||(s.r=u&7|a[u/8|0]<<3,u-=7,s.h=x,s.p=C,s.i=b,s.w=S)}else{for(var b=s.w||0;b<A+l;b+=65535){var qe=b+65535;qe>=A&&(a[u/8|0]=l,qe=A),u=VQ(a,u+1,t.subarray(b,qe))}s.i=A}return wW(o,0,n+HQ(u)+i)},KQ=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,A=0;A!=s;){for(var o=Math.min(A+2655,s);A<o;++A)i+=n+=r[A];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},BW=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),A=new CA(s.length+t.length);A.set(s),A.set(t,s.length),t=A,i.w=s.length}return yW(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},GQ=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},_W=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=KQ();i.p(e.dictionary),GQ(t,2,i.d())}};function B2(t,e){e||(e={});var r=KQ();r.p(t);var n=BW(t,e,e.dictionary?6:2,4);return _W(n,e),GQ(n,n.length-4,r.d()),n}var CW=typeof TextDecoder<"u"&&new TextDecoder,EW=0;try{CW.decode(jQ,{stream:!0}),EW=1}catch{}function bW(t){if(Array.isArray(t))return t}function IW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,A,o=[],a=!0,l=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(a=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);a=!0);}catch(u){l=!0,i=u}finally{try{if(!a&&r.return!=null&&(A=r.return(),Object(A)!==A))return}finally{if(l)throw i}}return o}}function XI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xW(t,e){if(t){if(typeof t=="string")return XI(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?XI(t,e):void 0}}function FW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YI(t,e){return bW(t)||IW(t,e)||xW(t,e)||FW()}function JI(t,e="utf8"){return new TextDecoder(e).decode(t)}const SW=new TextEncoder;function TW(t){return SW.encode(t)}const UW=1024*8,NW=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),rv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class $_{constructor(e=UW,r={}){cr(this,"buffer");cr(this,"byteLength");cr(this,"byteOffset");cr(this,"length");cr(this,"offset");cr(this,"lastWrittenByte");cr(this,"littleEndian");cr(this,"_data");cr(this,"_mark");cr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let A=i;(ArrayBuffer.isView(e)||e instanceof $_)&&(e.byteLength!==e.buffer.byteLength&&(A=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=A,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,A,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=rv[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===NW&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const a=new rv[r](o.buffer);return this.offset+=n,a.reverse(),a}const A=new rv[r](s);return this.offset+=n,A}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return JI(this.readBytes(e))}decodeText(e=1,r="utf8"){return JI(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(TW(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Nh(t){let e=t.length;for(;--e>=0;)t[e]=0}const QW=3,LW=258,qQ=29,PW=256,RW=PW+1+qQ,zQ=30,kW=512,DW=new Array((RW+2)*2);Nh(DW);const OW=new Array(zQ*2);Nh(OW);const MW=new Array(kW);Nh(MW);const HW=new Array(LW-QW+1);Nh(HW);const VW=new Array(qQ);Nh(VW);const jW=new Array(zQ);Nh(jW);const KW=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,A=0;for(;r!==0;){A=r>2e3?2e3:r,r-=A;do i=i+e[n++]|0,s=s+i|0;while(--A);i%=65521,s%=65521}return i|s<<16|0};var _2=KW;const GW=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},qW=new Uint32Array(GW()),zW=(t,e,r,n)=>{const i=qW,s=n+r;t^=-1;for(let A=n;A<s;A++)t=t>>>8^i[(t^e[A])&255];return t^-1};var XA=zW,C2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},WQ={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const WW=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var $W=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)WW(r,n)&&(t[n]=r[n])}}return t},XW=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let A=t[n];r.set(A,i),i+=A.length}return r},$Q={assign:$W,flattenChunks:XW};let XQ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{XQ=!1}const Wf=new Uint8Array(256);for(let t=0;t<256;t++)Wf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Wf[254]=Wf[254]=1;var YW=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,A=t.length,o=0;for(i=0;i<A;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<A&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<A&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const JW=(t,e)=>{if(e<65534&&t.subarray&&XQ)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var ZW=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let A=t[n++];if(A<128){s[i++]=A;continue}let o=Wf[A];if(o>4){s[i++]=65533,n+=o-1;continue}for(A&=o===2?31:o===3?15:7;o>1&&n<r;)A=A<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}A<65536?s[i++]=A:(A-=65536,s[i++]=55296|A>>10&1023,s[i++]=56320|A&1023)}return JW(s,i)},e$=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Wf[t[r]]>e?r:e},E2={string2buf:YW,buf2string:ZW,utf8border:e$};function t$(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var r$=t$;const Rg=16209,n$=16191;var i$=function(e,r){let n,i,s,A,o,a,l,u,d,g,f,_,C,x,v,E,F,P,K,M,Q,I,b,R;const S=e.state;n=e.next_in,b=e.input,i=n+(e.avail_in-5),s=e.next_out,R=e.output,A=s-(r-e.avail_out),o=s+(e.avail_out-257),a=S.dmax,l=S.wsize,u=S.whave,d=S.wnext,g=S.window,f=S.hold,_=S.bits,C=S.lencode,x=S.distcode,v=(1<<S.lenbits)-1,E=(1<<S.distbits)-1;e:do{_<15&&(f+=b[n++]<<_,_+=8,f+=b[n++]<<_,_+=8),F=C[f&v];t:for(;;){if(P=F>>>24,f>>>=P,_-=P,P=F>>>16&255,P===0)R[s++]=F&65535;else if(P&16){K=F&65535,P&=15,P&&(_<P&&(f+=b[n++]<<_,_+=8),K+=f&(1<<P)-1,f>>>=P,_-=P),_<15&&(f+=b[n++]<<_,_+=8,f+=b[n++]<<_,_+=8),F=x[f&E];r:for(;;){if(P=F>>>24,f>>>=P,_-=P,P=F>>>16&255,P&16){if(M=F&65535,P&=15,_<P&&(f+=b[n++]<<_,_+=8,_<P&&(f+=b[n++]<<_,_+=8)),M+=f&(1<<P)-1,M>a){e.msg="invalid distance too far back",S.mode=Rg;break e}if(f>>>=P,_-=P,P=s-A,M>P){if(P=M-P,P>u&&S.sane){e.msg="invalid distance too far back",S.mode=Rg;break e}if(Q=0,I=g,d===0){if(Q+=l-P,P<K){K-=P;do R[s++]=g[Q++];while(--P);Q=s-M,I=R}}else if(d<P){if(Q+=l+d-P,P-=d,P<K){K-=P;do R[s++]=g[Q++];while(--P);if(Q=0,d<K){P=d,K-=P;do R[s++]=g[Q++];while(--P);Q=s-M,I=R}}}else if(Q+=d-P,P<K){K-=P;do R[s++]=g[Q++];while(--P);Q=s-M,I=R}for(;K>2;)R[s++]=I[Q++],R[s++]=I[Q++],R[s++]=I[Q++],K-=3;K&&(R[s++]=I[Q++],K>1&&(R[s++]=I[Q++]))}else{Q=s-M;do R[s++]=R[Q++],R[s++]=R[Q++],R[s++]=R[Q++],K-=3;while(K>2);K&&(R[s++]=R[Q++],K>1&&(R[s++]=R[Q++]))}}else if(P&64){e.msg="invalid distance code",S.mode=Rg;break e}else{F=x[(F&65535)+(f&(1<<P)-1)];continue r}break}}else if(P&64)if(P&32){S.mode=n$;break e}else{e.msg="invalid literal/length code",S.mode=Rg;break e}else{F=C[(F&65535)+(f&(1<<P)-1)];continue t}break}}while(n<i&&s<o);K=_>>3,n-=K,_-=K<<3,f&=(1<<_)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),S.hold=f,S.bits=_};const dc=15,ZI=852,ex=592,tx=0,nv=1,rx=2,s$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),A$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),o$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a$=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),l$=(t,e,r,n,i,s,A,o)=>{const a=o.bits;let l=0,u=0,d=0,g=0,f=0,_=0,C=0,x=0,v=0,E=0,F,P,K,M,Q,I=null,b;const R=new Uint16Array(dc+1),S=new Uint16Array(dc+1);let U=null,N,X,ue;for(l=0;l<=dc;l++)R[l]=0;for(u=0;u<n;u++)R[e[r+u]]++;for(f=a,g=dc;g>=1&&R[g]===0;g--);if(f>g&&(f=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<g&&R[d]===0;d++);for(f<d&&(f=d),x=1,l=1;l<=dc;l++)if(x<<=1,x-=R[l],x<0)return-1;if(x>0&&(t===tx||g!==1))return-1;for(S[1]=0,l=1;l<dc;l++)S[l+1]=S[l]+R[l];for(u=0;u<n;u++)e[r+u]!==0&&(A[S[e[r+u]]++]=u);if(t===tx?(I=U=A,b=20):t===nv?(I=s$,U=A$,b=257):(I=o$,U=a$,b=0),E=0,u=0,l=d,Q=s,_=f,C=0,K=-1,v=1<<f,M=v-1,t===nv&&v>ZI||t===rx&&v>ex)return 1;for(;;){N=l-C,A[u]+1<b?(X=0,ue=A[u]):A[u]>=b?(X=U[A[u]-b],ue=I[A[u]-b]):(X=96,ue=0),F=1<<l-C,P=1<<_,d=P;do P-=F,i[Q+(E>>C)+P]=N<<24|X<<16|ue|0;while(P!==0);for(F=1<<l-1;E&F;)F>>=1;if(F!==0?(E&=F-1,E+=F):E=0,u++,--R[l]===0){if(l===g)break;l=e[r+A[u]]}if(l>f&&(E&M)!==K){for(C===0&&(C=f),Q+=d,_=l-C,x=1<<_;_+C<g&&(x-=R[_+C],!(x<=0));)_++,x<<=1;if(v+=1<<_,t===nv&&v>ZI||t===rx&&v>ex)return 1;K=E&M,i[K]=f<<24|_<<16|Q-s|0}}return E!==0&&(i[Q+E]=l-C<<24|64<<16|0),o.bits=f,0};var sf=l$;const u$=0,YQ=1,JQ=2,{Z_FINISH:nx,Z_BLOCK:c$,Z_TREES:kg,Z_OK:ku,Z_STREAM_END:h$,Z_NEED_DICT:d$,Z_STREAM_ERROR:tA,Z_DATA_ERROR:ZQ,Z_MEM_ERROR:e3,Z_BUF_ERROR:f$,Z_DEFLATED:ix}=WQ,Sw=16180,sx=16181,Ax=16182,ox=16183,ax=16184,lx=16185,ux=16186,cx=16187,hx=16188,dx=16189,I0=16190,Uo=16191,iv=16192,fx=16193,sv=16194,px=16195,gx=16196,mx=16197,wx=16198,Dg=16199,Og=16200,vx=16201,yx=16202,Bx=16203,_x=16204,Cx=16205,Av=16206,Ex=16207,bx=16208,Vr=16209,t3=16210,r3=16211,p$=852,g$=592,m$=15,w$=m$,Ix=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function v$(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ku=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Sw||e.mode>r3?1:0},n3=t=>{if(Ku(t))return tA;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Sw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(p$),e.distcode=e.distdyn=new Int32Array(g$),e.sane=1,e.back=-1,ku},i3=t=>{if(Ku(t))return tA;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,n3(t)},s3=(t,e)=>{let r;if(Ku(t))return tA;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?tA:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,i3(t))},A3=(t,e)=>{if(!t)return tA;const r=new v$;t.state=r,r.strm=t,r.window=null,r.mode=Sw;const n=s3(t,e);return n!==ku&&(t.state=null),n},y$=t=>A3(t,w$);let xx=!0,ov,av;const B$=t=>{if(xx){ov=new Int32Array(512),av=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(sf(YQ,t.lens,0,288,ov,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;sf(JQ,t.lens,0,32,av,0,t.work,{bits:5}),xx=!1}t.lencode=ov,t.lenbits=9,t.distcode=av,t.distbits=5},o3=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},_$=(t,e)=>{let r,n,i,s,A,o,a,l,u,d,g,f,_,C,x=0,v,E,F,P,K,M,Q,I;const b=new Uint8Array(4);let R,S;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ku(t)||!t.output||!t.input&&t.avail_in!==0)return tA;r=t.state,r.mode===Uo&&(r.mode=iv),A=t.next_out,i=t.output,a=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,l=r.hold,u=r.bits,d=o,g=a,I=ku;e:for(;;)switch(r.mode){case Sw:if(r.wrap===0){r.mode=iv;break}for(;u<16;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}if(r.wrap&2&&l===35615){r.wbits===0&&(r.wbits=15),r.check=0,b[0]=l&255,b[1]=l>>>8&255,r.check=XA(r.check,b,2,0),l=0,u=0,r.mode=sx;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=Vr;break}if((l&15)!==ix){t.msg="unknown compression method",r.mode=Vr;break}if(l>>>=4,u-=4,Q=(l&15)+8,r.wbits===0&&(r.wbits=Q),Q>15||Q>r.wbits){t.msg="invalid window size",r.mode=Vr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=l&512?dx:Uo,l=0,u=0;break;case sx:for(;u<16;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}if(r.flags=l,(r.flags&255)!==ix){t.msg="unknown compression method",r.mode=Vr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Vr;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&r.wrap&4&&(b[0]=l&255,b[1]=l>>>8&255,r.check=XA(r.check,b,2,0)),l=0,u=0,r.mode=Ax;case Ax:for(;u<32;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}r.head&&(r.head.time=l),r.flags&512&&r.wrap&4&&(b[0]=l&255,b[1]=l>>>8&255,b[2]=l>>>16&255,b[3]=l>>>24&255,r.check=XA(r.check,b,4,0)),l=0,u=0,r.mode=ox;case ox:for(;u<16;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&r.wrap&4&&(b[0]=l&255,b[1]=l>>>8&255,r.check=XA(r.check,b,2,0)),l=0,u=0,r.mode=ax;case ax:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&r.wrap&4&&(b[0]=l&255,b[1]=l>>>8&255,r.check=XA(r.check,b,2,0)),l=0,u=0}else r.head&&(r.head.extra=null);r.mode=lx;case lx:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(Q=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),Q)),r.flags&512&&r.wrap&4&&(r.check=XA(r.check,n,f,s)),o-=f,s+=f,r.length-=f),r.length))break e;r.length=0,r.mode=ux;case ux:if(r.flags&2048){if(o===0)break e;f=0;do Q=n[s+f++],r.head&&Q&&r.length<65536&&(r.head.name+=String.fromCharCode(Q));while(Q&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=XA(r.check,n,f,s)),o-=f,s+=f,Q)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=cx;case cx:if(r.flags&4096){if(o===0)break e;f=0;do Q=n[s+f++],r.head&&Q&&r.length<65536&&(r.head.comment+=String.fromCharCode(Q));while(Q&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=XA(r.check,n,f,s)),o-=f,s+=f,Q)break e}else r.head&&(r.head.comment=null);r.mode=hx;case hx:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}if(r.wrap&4&&l!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Vr;break}l=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Uo;break;case dx:for(;u<32;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}t.adler=r.check=Ix(l),l=0,u=0,r.mode=I0;case I0:if(r.havedict===0)return t.next_out=A,t.avail_out=a,t.next_in=s,t.avail_in=o,r.hold=l,r.bits=u,d$;t.adler=r.check=1,r.mode=Uo;case Uo:if(e===c$||e===kg)break e;case iv:if(r.last){l>>>=u&7,u-=u&7,r.mode=Av;break}for(;u<3;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}switch(r.last=l&1,l>>>=1,u-=1,l&3){case 0:r.mode=fx;break;case 1:if(B$(r),r.mode=Dg,e===kg){l>>>=2,u-=2;break e}break;case 2:r.mode=gx;break;case 3:t.msg="invalid block type",r.mode=Vr}l>>>=2,u-=2;break;case fx:for(l>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Vr;break}if(r.length=l&65535,l=0,u=0,r.mode=sv,e===kg)break e;case sv:r.mode=px;case px:if(f=r.length,f){if(f>o&&(f=o),f>a&&(f=a),f===0)break e;i.set(n.subarray(s,s+f),A),o-=f,s+=f,a-=f,A+=f,r.length-=f;break}r.mode=Uo;break;case gx:for(;u<14;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}if(r.nlen=(l&31)+257,l>>>=5,u-=5,r.ndist=(l&31)+1,l>>>=5,u-=5,r.ncode=(l&15)+4,l>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Vr;break}r.have=0,r.mode=mx;case mx:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}r.lens[U[r.have++]]=l&7,l>>>=3,u-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},I=sf(u$,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,I){t.msg="invalid code lengths set",r.mode=Vr;break}r.have=0,r.mode=wx;case wx:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[l&(1<<r.lenbits)-1],v=x>>>24,E=x>>>16&255,F=x&65535,!(v<=u);){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}if(F<16)l>>>=v,u-=v,r.lens[r.have++]=F;else{if(F===16){for(S=v+2;u<S;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}if(l>>>=v,u-=v,r.have===0){t.msg="invalid bit length repeat",r.mode=Vr;break}Q=r.lens[r.have-1],f=3+(l&3),l>>>=2,u-=2}else if(F===17){for(S=v+3;u<S;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}l>>>=v,u-=v,Q=0,f=3+(l&7),l>>>=3,u-=3}else{for(S=v+7;u<S;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}l>>>=v,u-=v,Q=0,f=11+(l&127),l>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Vr;break}for(;f--;)r.lens[r.have++]=Q}}if(r.mode===Vr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Vr;break}if(r.lenbits=9,R={bits:r.lenbits},I=sf(YQ,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,I){t.msg="invalid literal/lengths set",r.mode=Vr;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},I=sf(JQ,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,I){t.msg="invalid distances set",r.mode=Vr;break}if(r.mode=Dg,e===kg)break e;case Dg:r.mode=Og;case Og:if(o>=6&&a>=258){t.next_out=A,t.avail_out=a,t.next_in=s,t.avail_in=o,r.hold=l,r.bits=u,i$(t,g),A=t.next_out,i=t.output,a=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,l=r.hold,u=r.bits,r.mode===Uo&&(r.back=-1);break}for(r.back=0;x=r.lencode[l&(1<<r.lenbits)-1],v=x>>>24,E=x>>>16&255,F=x&65535,!(v<=u);){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}if(E&&!(E&240)){for(P=v,K=E,M=F;x=r.lencode[M+((l&(1<<P+K)-1)>>P)],v=x>>>24,E=x>>>16&255,F=x&65535,!(P+v<=u);){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}l>>>=P,u-=P,r.back+=P}if(l>>>=v,u-=v,r.back+=v,r.length=F,E===0){r.mode=Cx;break}if(E&32){r.back=-1,r.mode=Uo;break}if(E&64){t.msg="invalid literal/length code",r.mode=Vr;break}r.extra=E&15,r.mode=vx;case vx:if(r.extra){for(S=r.extra;u<S;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=yx;case yx:for(;x=r.distcode[l&(1<<r.distbits)-1],v=x>>>24,E=x>>>16&255,F=x&65535,!(v<=u);){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}if(!(E&240)){for(P=v,K=E,M=F;x=r.distcode[M+((l&(1<<P+K)-1)>>P)],v=x>>>24,E=x>>>16&255,F=x&65535,!(P+v<=u);){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}l>>>=P,u-=P,r.back+=P}if(l>>>=v,u-=v,r.back+=v,E&64){t.msg="invalid distance code",r.mode=Vr;break}r.offset=F,r.extra=E&15,r.mode=Bx;case Bx:if(r.extra){for(S=r.extra;u<S;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Vr;break}r.mode=_x;case _x:if(a===0)break e;if(f=g-a,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Vr;break}f>r.wnext?(f-=r.wnext,_=r.wsize-f):_=r.wnext-f,f>r.length&&(f=r.length),C=r.window}else C=i,_=A-r.offset,f=r.length;f>a&&(f=a),a-=f,r.length-=f;do i[A++]=C[_++];while(--f);r.length===0&&(r.mode=Og);break;case Cx:if(a===0)break e;i[A++]=r.length,a--,r.mode=Og;break;case Av:if(r.wrap){for(;u<32;){if(o===0)break e;o--,l|=n[s++]<<u,u+=8}if(g-=a,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?XA(r.check,i,g,A-g):_2(r.check,i,g,A-g)),g=a,r.wrap&4&&(r.flags?l:Ix(l))!==r.check){t.msg="incorrect data check",r.mode=Vr;break}l=0,u=0}r.mode=Ex;case Ex:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,l+=n[s++]<<u,u+=8}if(r.wrap&4&&l!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Vr;break}l=0,u=0}r.mode=bx;case bx:I=h$;break e;case Vr:I=ZQ;break e;case t3:return e3;case r3:default:return tA}return t.next_out=A,t.avail_out=a,t.next_in=s,t.avail_in=o,r.hold=l,r.bits=u,(r.wsize||g!==t.avail_out&&r.mode<Vr&&(r.mode<Av||e!==nx))&&o3(t,t.output,t.next_out,g-t.avail_out),d-=t.avail_in,g-=t.avail_out,t.total_in+=d,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?XA(r.check,i,g,t.next_out-g):_2(r.check,i,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Uo?128:0)+(r.mode===Dg||r.mode===sv?256:0),(d===0&&g===0||e===nx)&&I===ku&&(I=f$),I},C$=t=>{if(Ku(t))return tA;let e=t.state;return e.window&&(e.window=null),t.state=null,ku},E$=(t,e)=>{if(Ku(t))return tA;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,ku):tA},b$=(t,e)=>{const r=e.length;let n,i,s;return Ku(t)||(n=t.state,n.wrap!==0&&n.mode!==I0)?tA:n.mode===I0&&(i=1,i=_2(i,e,r,0),i!==n.check)?ZQ:(s=o3(t,e,r,r),s?(n.mode=t3,e3):(n.havedict=1,ku))};var I$=i3,x$=s3,F$=n3,S$=y$,T$=A3,U$=_$,N$=C$,Q$=E$,L$=b$,P$="pako inflate (from Nodeca project)",Ro={inflateReset:I$,inflateReset2:x$,inflateResetKeep:F$,inflateInit:S$,inflateInit2:T$,inflate:U$,inflateEnd:N$,inflateGetHeader:Q$,inflateSetDictionary:L$,inflateInfo:P$};function R$(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var k$=R$;const a3=Object.prototype.toString,{Z_NO_FLUSH:D$,Z_FINISH:O$,Z_OK:$f,Z_STREAM_END:lv,Z_NEED_DICT:uv,Z_STREAM_ERROR:M$,Z_DATA_ERROR:Fx,Z_MEM_ERROR:H$}=WQ;function bp(t){this.options=$Q.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r$,this.strm.avail_out=0;let r=Ro.inflateInit2(this.strm,e.windowBits);if(r!==$f)throw new Error(C2[r]);if(this.header=new k$,Ro.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=E2.string2buf(e.dictionary):a3.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Ro.inflateSetDictionary(this.strm,e.dictionary),r!==$f)))throw new Error(C2[r])}bp.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,A,o;if(this.ended)return!1;for(e===~~e?A=e:A=e===!0?O$:D$,a3.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Ro.inflate(r,A),s===uv&&i&&(s=Ro.inflateSetDictionary(r,i),s===$f?s=Ro.inflate(r,A):s===Fx&&(s=uv));r.avail_in>0&&s===lv&&r.state.wrap>0&&t[r.next_in]!==0;)Ro.inflateReset(r),s=Ro.inflate(r,A);switch(s){case M$:case Fx:case uv:case H$:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===lv))if(this.options.to==="string"){let a=E2.utf8border(r.output,r.next_out),l=r.next_out-a,u=E2.buf2string(r.output,a);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(a,a+l),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===$f&&o===0)){if(s===lv)return s=Ro.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};bp.prototype.onData=function(t){this.chunks.push(t)};bp.prototype.onEnd=function(t){t===$f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$Q.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function V$(t,e){const r=new bp(e);if(r.push(t),r.err)throw r.msg||C2[r.err];return r.result}var j$=bp,K$=V$,G$={Inflate:j$,inflate:K$};const{Inflate:q$,inflate:z$}=G$;var Sx=q$,W$=z$;const l3=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;l3[t]=e}const Tx=4294967295;function $$(t,e,r){let n=t;for(let i=0;i<r;i++)n=l3[(n^e[i])&255]^n>>>8;return n}function X$(t,e){return($$(Tx,t,e)^Tx)>>>0}function Ux(t,e,r){const n=t.readUint32(),i=X$(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function u3(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function c3(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function h3(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function d3(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function f3(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+Y$(e[s-i],r[s],r[s-i])&255}}function Y$(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),A=Math.abs(n-r);return i<=s&&i<=A?t:s<=A?e:r}function J$(t,e,r,n,i,s){switch(t){case 0:u3(e,r,i);break;case 1:c3(e,r,i,s);break;case 2:h3(e,r,n,i);break;case 3:d3(e,r,n,i,s);break;case 4:f3(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Z$=new Uint16Array([255]),eX=new Uint8Array(Z$.buffer),tX=eX[0]===255;function rX(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,A=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,a=new Uint8Array(n*r*o);let l=0;for(let u=0;u<7;u++){const d=A[u],g=Math.ceil((r-d.x)/d.xStep),f=Math.ceil((n-d.y)/d.yStep);if(g<=0||f<=0)continue;const _=g*o,C=new Uint8Array(_);for(let x=0;x<f;x++){const v=e[l++],E=e.subarray(l,l+_);l+=_;const F=new Uint8Array(_);J$(v,E,F,C,_,o),C.set(F);for(let P=0;P<g;P++){const K=d.x+P*d.xStep,M=d.y+x*d.yStep;if(!(K>=r||M>=n))for(let Q=0;Q<o;Q++)a[(M*r+K)*o+Q]=F[P*o+Q]}}}if(s===16){const u=new Uint16Array(a.buffer);if(tX)for(let d=0;d<u.length;d++)u[d]=nX(u[d]);return u}else return a}function nX(t){return(t&255)<<8|t>>8&255}const iX=new Uint16Array([255]),sX=new Uint8Array(iX.buffer),AX=sX[0]===255,oX=new Uint8Array(0);function Nx(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,A=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),a=new Uint8Array(n*o);let l=oX,u=0,d,g;for(let f=0;f<n;f++){switch(d=e.subarray(u+1,u+1+o),g=a.subarray(f*o,(f+1)*o),e[u]){case 0:u3(d,g,o);break;case 1:c3(d,g,o,A);break;case 2:h3(d,g,l,o);break;case 3:d3(d,g,l,o,A);break;case 4:f3(d,g,l,o,A);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}l=g,u+=o+1}if(s===16){const f=new Uint16Array(a.buffer);if(AX)for(let _=0;_<f.length;_++)f[_]=aX(f[_]);return f}else return a}function aX(t){return(t&255)<<8|t>>8&255}const _m=Uint8Array.of(137,80,78,71,13,10,26,10);function Qx(t){if(!lX(t.readBytes(_m.length)))throw new Error("wrong PNG signature")}function lX(t){if(t.length<_m.length)return!1;for(let e=0;e<_m.length;e++)if(t[e]!==_m[e])return!1;return!0}const uX="tEXt",cX=0,p3=new TextDecoder("latin1");function hX(t){if(fX(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const dX=/^[\u0000-\u00FF]*$/;function fX(t){if(!dX.test(t))throw new Error("invalid latin1 text")}function pX(t,e,r){const n=g3(e);t[n]=gX(e,r-n.length-1)}function g3(t){for(t.mark();t.readByte()!==cX;);const e=t.offset;t.reset();const r=p3.decode(t.readBytes(e-t.offset-1));return t.skip(1),hX(r),r}function gX(t,e){return p3.decode(t.readBytes(e))}const ws={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},cv={UNKNOWN:-1,DEFLATE:0},Lx={UNKNOWN:-1,ADAPTIVE:0},hv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Mg={NONE:0,BACKGROUND:1,PREVIOUS:2},dv={SOURCE:0,OVER:1};class mX extends $_{constructor(r,n={}){super(r);cr(this,"_checkCrc");cr(this,"_inflator");cr(this,"_png");cr(this,"_apng");cr(this,"_end");cr(this,"_hasPalette");cr(this,"_palette");cr(this,"_hasTransparency");cr(this,"_transparency");cr(this,"_compressionMethod");cr(this,"_filterMethod");cr(this,"_interlaceMethod");cr(this,"_colorType");cr(this,"_isAnimated");cr(this,"_numberOfFrames");cr(this,"_numberOfPlays");cr(this,"_frames");cr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Sx,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=cv.UNKNOWN,this._filterMethod=Lx.UNKNOWN,this._interlaceMethod=hv.UNKNOWN,this._colorType=ws.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Qx(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Qx(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case uX:pX(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Ux(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Ux(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=wX(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case ws.GREYSCALE:i=1;break;case ws.TRUECOLOUR:i=3;break;case ws.INDEXED_COLOUR:i=1;break;case ws.GREYSCALE_ALPHA:i=2;break;case ws.TRUECOLOUR_ALPHA:i=4;break;case ws.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==cv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ws.GREYSCALE:case ws.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ws.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ws.UNKNOWN:case ws.GREYSCALE_ALPHA:case ws.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=g3(this),i=this.readUint8();if(i!==cv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:W$(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=Nx({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Mg.NONE:break;case Mg.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let A=0;A<this._png.width;A++){const o=(s*r.width+A)*this._png.channels;for(let a=0;a<this._png.channels;a++)i.data[o+a]=0}break;case Mg.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(A,o)=>{const a=((A+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,l=(A*n.width+o)*this._png.channels;return{index:a,frameIndex:l}};switch(n.blendOp){case dv.SOURCE:for(let A=0;A<n.height;A++)for(let o=0;o<n.width;o++){const{index:a,frameIndex:l}=s(A,o);for(let u=0;u<this._png.channels;u++)r.data[a+u]=n.data[l+u]}break;case dv.OVER:for(let A=0;A<n.height;A++)for(let o=0;o<n.width;o++){const{index:a,frameIndex:l}=s(A,o);for(let u=0;u<this._png.channels;u++){const d=n.data[l+this._png.channels-1]/i,g=u%(this._png.channels-1)===0?1:n.data[l+u],f=Math.floor(d*g+(1-d)*r.data[a+u]);r.data[a+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Lx.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===hv.NO_INTERLACE)this._png.data=Nx({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===hv.ADAM7)this._png.data=rX({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Mg.NONE,blendOp:dv.SOURCE,data:r}),this._inflator=new Sx,this._writingDataChunks=!1}}function wX(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Px;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Px||(Px={}));function vX(t,e){return new mX(t,e).decode()}var Ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function fv(){Ct.console&&typeof Ct.console.log=="function"&&Ct.console.log.apply(Ct.console,arguments)}var Cr={log:fv,warn:function(t){Ct.console&&(typeof Ct.console.warn=="function"?Ct.console.warn.apply(Ct.console,arguments):fv.call(null,arguments))},error:function(t){Ct.console&&(typeof Ct.console.error=="function"?Ct.console.error.apply(Ct.console,arguments):fv(t))}};function pv(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Zl(n.response,e,r)},n.onerror=function(){Cr.error("could not download file")},n.send()}function Rx(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Hg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Zl=Ct.saveAs||((typeof window>"u"?"undefined":dr(window))!=="object"||window!==Ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ct.URL||Ct.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Rx(i.href)?pv(t,e,r):Hg(i,i.target="_blank"):Hg(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Hg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Rx(t))pv(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Hg(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:dr(s)!=="object"&&(Cr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return pv(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Ct.HTMLElement)||Ct.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||i&&s)&&(typeof FileReader>"u"?"undefined":dr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=A?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var a=Ct.URL||Ct.webkitURL,l=a.createObjectURL(t);n?n.location=l:location.href=l,n=null,setTimeout(function(){a.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function m3(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,A=i.exec(t);A&&(e=s(A),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),a=this.g.toString(16),l=this.b.toString(16);return o.length==1&&(o="0"+o),a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),"#"+o+a+l}}var Cm=Ct.atob.bind(Ct),kx=Ct.btoa.bind(Ct);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function gv(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=gi(r,n,i,s,e[0],7,-680876936),s=gi(s,r,n,i,e[1],12,-389564586),i=gi(i,s,r,n,e[2],17,606105819),n=gi(n,i,s,r,e[3],22,-1044525330),r=gi(r,n,i,s,e[4],7,-176418897),s=gi(s,r,n,i,e[5],12,1200080426),i=gi(i,s,r,n,e[6],17,-1473231341),n=gi(n,i,s,r,e[7],22,-45705983),r=gi(r,n,i,s,e[8],7,1770035416),s=gi(s,r,n,i,e[9],12,-1958414417),i=gi(i,s,r,n,e[10],17,-42063),n=gi(n,i,s,r,e[11],22,-1990404162),r=gi(r,n,i,s,e[12],7,1804603682),s=gi(s,r,n,i,e[13],12,-40341101),i=gi(i,s,r,n,e[14],17,-1502002290),r=mi(r,n=gi(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=mi(s,r,n,i,e[6],9,-1069501632),i=mi(i,s,r,n,e[11],14,643717713),n=mi(n,i,s,r,e[0],20,-373897302),r=mi(r,n,i,s,e[5],5,-701558691),s=mi(s,r,n,i,e[10],9,38016083),i=mi(i,s,r,n,e[15],14,-660478335),n=mi(n,i,s,r,e[4],20,-405537848),r=mi(r,n,i,s,e[9],5,568446438),s=mi(s,r,n,i,e[14],9,-1019803690),i=mi(i,s,r,n,e[3],14,-187363961),n=mi(n,i,s,r,e[8],20,1163531501),r=mi(r,n,i,s,e[13],5,-1444681467),s=mi(s,r,n,i,e[2],9,-51403784),i=mi(i,s,r,n,e[7],14,1735328473),r=wi(r,n=mi(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=wi(s,r,n,i,e[8],11,-2022574463),i=wi(i,s,r,n,e[11],16,1839030562),n=wi(n,i,s,r,e[14],23,-35309556),r=wi(r,n,i,s,e[1],4,-1530992060),s=wi(s,r,n,i,e[4],11,1272893353),i=wi(i,s,r,n,e[7],16,-155497632),n=wi(n,i,s,r,e[10],23,-1094730640),r=wi(r,n,i,s,e[13],4,681279174),s=wi(s,r,n,i,e[0],11,-358537222),i=wi(i,s,r,n,e[3],16,-722521979),n=wi(n,i,s,r,e[6],23,76029189),r=wi(r,n,i,s,e[9],4,-640364487),s=wi(s,r,n,i,e[12],11,-421815835),i=wi(i,s,r,n,e[15],16,530742520),r=vi(r,n=wi(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=vi(s,r,n,i,e[7],10,1126891415),i=vi(i,s,r,n,e[14],15,-1416354905),n=vi(n,i,s,r,e[5],21,-57434055),r=vi(r,n,i,s,e[12],6,1700485571),s=vi(s,r,n,i,e[3],10,-1894986606),i=vi(i,s,r,n,e[10],15,-1051523),n=vi(n,i,s,r,e[1],21,-2054922799),r=vi(r,n,i,s,e[8],6,1873313359),s=vi(s,r,n,i,e[15],10,-30611744),i=vi(i,s,r,n,e[6],15,-1560198380),n=vi(n,i,s,r,e[13],21,1309151649),r=vi(r,n,i,s,e[4],6,-145523070),s=vi(s,r,n,i,e[11],10,-1120210379),i=vi(i,s,r,n,e[2],15,718787259),n=vi(n,i,s,r,e[9],21,-343485551),t[0]=Ja(r,t[0]),t[1]=Ja(n,t[1]),t[2]=Ja(i,t[2]),t[3]=Ja(s,t[3])}function Tw(t,e,r,n,i,s){return e=Ja(Ja(e,t),Ja(n,s)),Ja(e<<i|e>>>32-i,r)}function gi(t,e,r,n,i,s,A){return Tw(e&r|~e&n,t,e,i,s,A)}function mi(t,e,r,n,i,s,A){return Tw(e&n|r&~n,t,e,i,s,A)}function wi(t,e,r,n,i,s,A){return Tw(e^r^n,t,e,i,s,A)}function vi(t,e,r,n,i,s,A){return Tw(r^(e|~n),t,e,i,s,A)}function w3(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)gv(n,yX(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(gv(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,gv(n,i),n}function yX(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Dx="0123456789abcdef".split("");function BX(t){for(var e="",r=0;r<4;r++)e+=Dx[t>>8*r+4&15]+Dx[t>>8*r&15];return e}function _X(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function b2(t){return w3(t).map(_X).join("")}var CX=function(t){for(var e=0;e<t.length;e++)t[e]=BX(t[e]);return t.join("")}(w3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ja(t,e){if(CX){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function I2(t,e){var r,n,i,s;if(t!==r){for(var A=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],a=0;a<256;a++)o[a]=a;var l=0;for(a=0;a<256;a++){var u=o[a];l=(l+u+A.charCodeAt(a))%256,o[a]=o[l],o[l]=u}r=t,n=o}else o=n;var d=e.length,g=0,f=0,_="";for(a=0;a<d;a++)f=(f+(u=o[g=(g+1)%256]))%256,o[g]=o[f],o[f]=u,A=o[(o[g]+o[f])%256],_+=String.fromCharCode(e.charCodeAt(a)^A);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ox={print:4,modify:8,copy:16,"annot-forms":32};function Cc(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Ox.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Ox[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),A=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,A),this.P=-(1+(255^i)),this.encryptionKey=b2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=I2(this.encryptionKey,this.padding)}function Ec(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function Mx(t){if(dr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var A=e[r][s];try{A[0].apply(t,n)}catch(o){Ct.console&&Cr.error("jsPDF PubSub Error",o.message,o)}A[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Xf(t){if(!(this instanceof Xf))return new Xf(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function v3(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ga(t,e,r,n,i){if(!(this instanceof Ga))return new Ga(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,v3.call(this,n,i)}function lu(t,e,r,n,i){if(!(this instanceof lu))return new lu(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,v3.call(this,n,i)}function at(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],A=[],o=1,a=16,l="S",u=null;dr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(a=t.floatPrecision),l=t.defaultPathOperation||"S"),A=t.filters||(s===!0?["FlateEncode"]:A),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},f={internal:{},__private__:{}};f.__private__.PubSub=Mx;var _="1.3",C=f.__private__.getPdfVersion=function(){return _};f.__private__.setPdfVersion=function(w){_=w};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var v=f.__private__.getPageFormat=function(w){return x[w]};i=i||"a4";var E="compat",F="advanced",P=E;function K(){this.saveGraphicsState(),ee(new ft(gt,0,0,-gt,0,Fi()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),l="n",P=F}function M(){this.restoreGraphicsState(),l="S",P=E}var Q=f.__private__.combineFontStyleAndFontWeight=function(w,k){if(w=="bold"&&k=="normal"||w=="bold"&&k==400||w=="normal"&&k=="italic"||w=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(w=k==400||k==="normal"?w==="italic"?"italic":"normal":k!=700&&k!=="bold"||w!=="normal"?(k==700?"bold":k)+""+w:"bold"),w};f.advancedAPI=function(w){var k=P===E;return k&&K.call(this),typeof w!="function"||(w(this),k&&M.call(this)),this},f.compatAPI=function(w){var k=P===F;return k&&M.call(this),typeof w!="function"||(w(this),k&&K.call(this)),this},f.isAdvancedAPI=function(){return P===F};var I,b=function(w){if(P!==F)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=f.roundToPrecision=f.__private__.roundToPrecision=function(w,k){var Y=e||k;if(isNaN(w)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(Y).replace(/0+$/,"")};I=f.hpf=f.__private__.hpf=typeof a=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return R(w,a)}:a==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return R(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return R(w,16)};var S=f.f2=f.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return R(w,2)},U=f.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return R(w,3)},N=f.scale=f.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return P===E?w*gt:P===F?w:void 0},X=function(w){return N(function(k){return P===E?Fi()-k:P===F?k:void 0}(w))};f.__private__.setPrecision=f.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var ue,le="00000000000000000000000000000000",se=f.__private__.getFileId=function(){return le},z=f.__private__.setFileId=function(w){return le=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(or=new Cc(u.userPermissions,u.userPassword,u.ownerPassword,le)),le};f.setFileId=function(w){return z(w),this},f.getFileId=function(){return se()};var ne=f.__private__.convertDateToPDFDate=function(w){var k=w.getTimezoneOffset(),Y=k<0?"+":"-",ie=Math.floor(Math.abs(k/60)),de=Math.abs(k%60),Te=[Y,$(ie),"'",$(de),"'"].join("");return["D:",w.getFullYear(),$(w.getMonth()+1),$(w.getDate()),$(w.getHours()),$(w.getMinutes()),$(w.getSeconds()),Te].join("")},fe=f.__private__.convertPDFDateToDate=function(w){var k=parseInt(w.substr(2,4),10),Y=parseInt(w.substr(6,2),10)-1,ie=parseInt(w.substr(8,2),10),de=parseInt(w.substr(10,2),10),Te=parseInt(w.substr(12,2),10),Qe=parseInt(w.substr(14,2),10);return new Date(k,Y,ie,de,Te,Qe,0)},me=f.__private__.setCreationDate=function(w){var k;if(w===void 0&&(w=new Date),w instanceof Date)k=ne(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=w}return ue=k},O=f.__private__.getCreationDate=function(w){var k=ue;return w==="jsDate"&&(k=fe(ue)),k};f.setCreationDate=function(w){return me(w),this},f.getCreationDate=function(w){return O(w)};var V,$=f.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},re=f.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},Ae=0,ce=[],Be=[],he=0,Ce=[],Pe=[],Ge=!1,qe=Be;f.__private__.setCustomOutputDestination=function(w){Ge=!0,qe=w};var Ee=function(w){Ge||(qe=w)};f.__private__.resetCustomOutputDestination=function(){Ge=!1,qe=Be};var ee=f.__private__.out=function(w){return w=w.toString(),he+=w.length+1,qe.push(w),qe},Nt=f.__private__.write=function(w){return ee(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Ie=f.__private__.getArrayBuffer=function(w){for(var k=w.length,Y=new ArrayBuffer(k),ie=new Uint8Array(Y);k--;)ie[k]=w.charCodeAt(k);return Y},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Oe};var be=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(w){return be=P===F?w/gt:w,this};var He,Ne=f.__private__.getFontSize=f.getFontSize=function(){return P===E?be:be*gt},Ye=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(w){return Ye=w,this},f.__private__.getR2L=f.getR2L=function(){return Ye};var je,Gt=f.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))He=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');He=w}else He=parseInt(w,10)};f.__private__.getZoomMode=function(){return He};var bt,ot=f.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');je=w};f.__private__.getPageMode=function(){return je};var Ft=f.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');bt=w};f.__private__.getLayoutMode=function(){return bt},f.__private__.setDisplayMode=f.setDisplayMode=function(w,k,Y){return Gt(w),Ft(k),ot(Y),this};var Bt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(w){if(Object.keys(Bt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Bt[w]},f.__private__.getDocumentProperties=function(){return Bt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(w){for(var k in Bt)Bt.hasOwnProperty(k)&&w[k]&&(Bt[k]=w[k]);return this},f.__private__.setDocumentProperty=function(w,k){if(Object.keys(Bt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Bt[w]=k};var lt,gt,ct,Zt,Wt,nt={},_t={},Ar=[],pt={},Pt={},It={},kr={},Tr=null,rr=0,wt=[],kt=new Mx(f),SA=t.hotfixes||[],on={},Ts={},ai=[],ft=function w(k,Y,ie,de,Te,Qe){if(!(this instanceof w))return new w(k,Y,ie,de,Te,Qe);isNaN(k)&&(k=1),isNaN(Y)&&(Y=0),isNaN(ie)&&(ie=0),isNaN(de)&&(de=1),isNaN(Te)&&(Te=0),isNaN(Qe)&&(Qe=0),this._matrix=[k,Y,ie,de,Te,Qe]};Object.defineProperty(ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ft.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(w)},ft.prototype.multiply=function(w){var k=w.sx*this.sx+w.shy*this.shx,Y=w.sx*this.shy+w.shy*this.sy,ie=w.shx*this.sx+w.sy*this.shx,de=w.shx*this.shy+w.sy*this.sy,Te=w.tx*this.sx+w.ty*this.shx+this.tx,Qe=w.tx*this.shy+w.ty*this.sy+this.ty;return new ft(k,Y,ie,de,Te,Qe)},ft.prototype.decompose=function(){var w=this.sx,k=this.shy,Y=this.shx,ie=this.sy,de=this.tx,Te=this.ty,Qe=Math.sqrt(w*w+k*k),$e=(w/=Qe)*Y+(k/=Qe)*ie;Y-=w*$e,ie-=k*$e;var rt=Math.sqrt(Y*Y+ie*ie);return $e/=rt,w*(ie/=rt)<k*(Y/=rt)&&(w=-w,k=-k,$e=-$e,Qe=-Qe),{scale:new ft(Qe,0,0,rt,0,0),translate:new ft(1,0,0,1,de,Te),rotate:new ft(w,k,-k,w,0,0),skew:new ft(1,0,$e,1,0,0)}},ft.prototype.toString=function(w){return this.join(" ")},ft.prototype.inversed=function(){var w=this.sx,k=this.shy,Y=this.shx,ie=this.sy,de=this.tx,Te=this.ty,Qe=1/(w*ie-k*Y),$e=ie*Qe,rt=-k*Qe,mt=-Y*Qe,xt=w*Qe;return new ft($e,rt,mt,xt,-$e*de-mt*Te,-rt*de-xt*Te)},ft.prototype.applyToPoint=function(w){var k=w.x*this.sx+w.y*this.shx+this.tx,Y=w.x*this.shy+w.y*this.sy+this.ty;return new OA(k,Y)},ft.prototype.applyToRectangle=function(w){var k=this.applyToPoint(w),Y=this.applyToPoint(new OA(w.x+w.w,w.y+w.h));return new fa(k.x,k.y,Y.x-k.x,Y.y-k.y)},ft.prototype.clone=function(){var w=this.sx,k=this.shy,Y=this.shx,ie=this.sy,de=this.tx,Te=this.ty;return new ft(w,k,Y,ie,de,Te)},f.Matrix=ft;var Ur=f.matrixMult=function(w,k){return k.multiply(w)},Us=new ft(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Us;var kn=function(w,k){if(!Pt[w]){var Y=(k instanceof Ga?"Sh":"P")+(Object.keys(pt).length+1).toString(10);k.id=Y,Pt[w]=Y,pt[Y]=k,kt.publish("addPattern",k)}};f.ShadingPattern=Ga,f.TilingPattern=lu,f.addShadingPattern=function(w,k){return b("addShadingPattern()"),kn(w,k),this},f.beginTilingPattern=function(w){b("beginTilingPattern()"),MA(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},f.endTilingPattern=function(w,k){b("endTilingPattern()"),k.stream=Pe[V].join(`
`),kn(w,k),kt.publish("endTilingPattern",k),ai.pop().restore()};var Dn,Dr=f.__private__.newObject=function(){var w=_n();return Or(w,!0),w},_n=f.__private__.newObjectDeferred=function(){return Ae++,ce[Ae]=function(){return he},Ae},Or=function(w,k){return k=typeof k=="boolean"&&k,ce[w]=he,k&&ee(w+" 0 obj"),w},ho=f.__private__.newAdditionalObject=function(){var w={objId:_n(),content:""};return Ce.push(w),w},TA=_n(),li=_n(),ss=f.__private__.decodeColorString=function(w){var k=w.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length!==5||k[4]!=="k"&&k[4]!=="K"||(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var Y=parseFloat(k[0]);k=[Y,Y,Y,"r"]}for(var ie="#",de=0;de<3;de++)ie+=("0"+Math.floor(255*parseFloat(k[de])).toString(16)).slice(-2);return ie},bi=f.__private__.encodeColorString=function(w){var k;typeof w=="string"&&(w={ch1:w});var Y=w.ch1,ie=w.ch2,de=w.ch3,Te=w.ch4,Qe=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var $e=new m3(Y);if($e.ok)Y=$e.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var rt=parseInt(Y.substr(1),16);Y=rt>>16&255,ie=rt>>8&255,de=255&rt}if(ie===void 0||Te===void 0&&Y===ie&&ie===de)k=typeof Y=="string"?Y+" "+Qe[0]:w.precision===2?S(Y/255)+" "+Qe[0]:U(Y/255)+" "+Qe[0];else if(Te===void 0||dr(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return["1.","1.","1.",Qe[1]].join(" ");k=typeof Y=="string"?[Y,ie,de,Qe[1]].join(" "):w.precision===2?[S(Y/255),S(ie/255),S(de/255),Qe[1]].join(" "):[U(Y/255),U(ie/255),U(de/255),Qe[1]].join(" ")}else k=typeof Y=="string"?[Y,ie,de,Te,Qe[2]].join(" "):w.precision===2?[S(Y),S(ie),S(de),S(Te),Qe[2]].join(" "):[U(Y),U(ie),U(de),U(Te),Qe[2]].join(" ");return k},ui=f.__private__.getFilters=function(){return A},an=f.__private__.putStream=function(w){var k=(w=w||{}).data||"",Y=w.filters||ui(),ie=w.alreadyAppliedFilters||[],de=w.addLength1||!1,Te=k.length,Qe=w.objectId,$e=function(en){return en};if(u!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&($e=or.encryptor(Qe,0));var rt={};Y===!0&&(Y=["FlateEncode"]);var mt=w.additionalKeyValues||[],xt=(rt=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(k,Y):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());if(rt.data.length!==0&&(mt.push({key:"Length",value:rt.data.length}),de===!0&&mt.push({key:"Length1",value:Te})),xt.length!=0)if(xt.split("/").length-1==1)mt.push({key:"Filter",value:xt});else{mt.push({key:"Filter",value:"["+xt+"]"});for(var qt=0;qt<mt.length;qt+=1)if(mt[qt].key==="DecodeParms"){for(var Er=[],Nr=0;Nr<rt.reverseChain.split("/").length-1;Nr+=1)Er.push("null");Er.push(mt[qt].value),mt[qt].value="["+Er.join(" ")+"]"}}ee("<<");for(var nr=0;nr<mt.length;nr++)ee("/"+mt[nr].key+" "+mt[nr].value);ee(">>"),rt.data.length!==0&&(ee("stream"),ee($e(rt.data)),ee("endstream"))},UA=f.__private__.putPage=function(w){var k=w.number,Y=w.data,ie=w.objId,de=w.contentsObjId;Or(ie,!0),ee("<</Type /Page"),ee("/Parent "+w.rootDictionaryObjId+" 0 R"),ee("/Resources "+w.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(I(w.mediaBox.bottomLeftX))+" "+parseFloat(I(w.mediaBox.bottomLeftY))+" "+I(w.mediaBox.topRightX)+" "+I(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&ee("/CropBox ["+I(w.cropBox.bottomLeftX)+" "+I(w.cropBox.bottomLeftY)+" "+I(w.cropBox.topRightX)+" "+I(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&ee("/BleedBox ["+I(w.bleedBox.bottomLeftX)+" "+I(w.bleedBox.bottomLeftY)+" "+I(w.bleedBox.topRightX)+" "+I(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&ee("/TrimBox ["+I(w.trimBox.bottomLeftX)+" "+I(w.trimBox.bottomLeftY)+" "+I(w.trimBox.topRightX)+" "+I(w.trimBox.topRightY)+"]"),w.artBox!==null&&ee("/ArtBox ["+I(w.artBox.bottomLeftX)+" "+I(w.artBox.bottomLeftY)+" "+I(w.artBox.topRightX)+" "+I(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&ee("/UserUnit "+w.userUnit),kt.publish("putPage",{objId:ie,pageContext:wt[k],pageNumber:k,page:Y}),ee("/Contents "+de+" 0 R"),ee(">>"),ee("endobj");var Te=Y.join(`
`);return P===F&&(Te+=`
Q`),Or(de,!0),an({data:Te,filters:ui(),objectId:de}),ee("endobj"),ie},As=f.__private__.putPages=function(){var w,k,Y=[];for(w=1;w<=rr;w++)wt[w].objId=_n(),wt[w].contentsObjId=_n();for(w=1;w<=rr;w++)Y.push(UA({number:w,data:Pe[w],objId:wt[w].objId,contentsObjId:wt[w].contentsObjId,mediaBox:wt[w].mediaBox,cropBox:wt[w].cropBox,bleedBox:wt[w].bleedBox,trimBox:wt[w].trimBox,artBox:wt[w].artBox,userUnit:wt[w].userUnit,rootDictionaryObjId:TA,resourceDictionaryObjId:li}));Or(TA,!0),ee("<</Type /Pages");var ie="/Kids [";for(k=0;k<rr;k++)ie+=Y[k]+" 0 R ";ee(ie+"]"),ee("/Count "+rr),ee(">>"),ee("endobj"),kt.publish("postPutPages")},rA=function(w){kt.publish("putFont",{font:w,out:ee,newObject:Dr,putStream:an}),w.isAlreadyPutted!==!0&&(w.objectNumber=Dr(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Ec(w.postScriptName)),ee("/Subtype /Type1"),typeof w.encoding=="string"&&ee("/Encoding /"+w.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},NA=function(w){w.objectNumber=Dr();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[I(w.x),I(w.y),I(w.x+w.width),I(w.y+w.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var Y=w.pages[1].join(`
`);an({data:Y,additionalKeyValues:k,objectId:w.objectNumber}),ee("endobj")},fo=function(w,k){k||(k=21);var Y=Dr(),ie=function(Qe,$e){var rt,mt=[],xt=1/($e-1);for(rt=0;rt<1;rt+=xt)mt.push(rt);if(mt.push(1),Qe[0].offset!=0){var qt={offset:0,color:Qe[0].color};Qe.unshift(qt)}if(Qe[Qe.length-1].offset!=1){var Er={offset:1,color:Qe[Qe.length-1].color};Qe.push(Er)}for(var Nr="",nr=0,en=0;en<mt.length;en++){for(rt=mt[en];rt>Qe[nr+1].offset;)nr++;var mr=Qe[nr].offset,Cn=(rt-mr)/(Qe[nr+1].offset-mr),Ls=Qe[nr].color,AA=Qe[nr+1].color;Nr+=re(Math.round((1-Cn)*Ls[0]+Cn*AA[0]).toString(16))+re(Math.round((1-Cn)*Ls[1]+Cn*AA[1]).toString(16))+re(Math.round((1-Cn)*Ls[2]+Cn*AA[2]).toString(16))}return Nr.trim()}(w.colors,k),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+k+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),an({data:ie,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),ee("endobj"),w.objectNumber=Dr(),ee("<< /ShadingType "+w.type),ee("/ColorSpace /DeviceRGB");var Te="/Coords ["+I(parseFloat(w.coords[0]))+" "+I(parseFloat(w.coords[1]))+" ";w.type===2?Te+=I(parseFloat(w.coords[2]))+" "+I(parseFloat(w.coords[3])):Te+=I(parseFloat(w.coords[2]))+" "+I(parseFloat(w.coords[3]))+" "+I(parseFloat(w.coords[4]))+" "+I(parseFloat(w.coords[5])),ee(Te+="]"),w.matrix&&ee("/Matrix ["+w.matrix.toString()+"]"),ee("/Function "+Y+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},po=function(w,k){var Y=_n(),ie=Dr();k.push({resourcesOid:Y,objectOid:ie}),w.objectNumber=ie;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+w.boundingBox.map(I).join(" ")+"]"}),de.push({key:"XStep",value:I(w.xStep)}),de.push({key:"YStep",value:I(w.yStep)}),de.push({key:"Resources",value:Y+" 0 R"}),w.matrix&&de.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),an({data:w.stream,additionalKeyValues:de,objectId:w.objectNumber}),ee("endobj")},Qh=function(w){for(var k in w.objectNumber=Dr(),ee("<<"),w)switch(k){case"opacity":ee("/ca "+S(w[k]));break;case"stroke-opacity":ee("/CA "+S(w[k]))}ee(">>"),ee("endobj")},QA=function(w){Or(w.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var k in ee("/Font <<"),nt)nt.hasOwnProperty(k)&&(d===!1||d===!0&&g.hasOwnProperty(k))&&ee("/"+k+" "+nt[k].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(pt).length>0){for(var k in ee("/Shading <<"),pt)pt.hasOwnProperty(k)&&pt[k]instanceof Ga&&pt[k].objectNumber>=0&&ee("/"+k+" "+pt[k].objectNumber+" 0 R");kt.publish("putShadingPatternDict"),ee(">>")}}(),function(k){if(Object.keys(pt).length>0){for(var Y in ee("/Pattern <<"),pt)pt.hasOwnProperty(Y)&&pt[Y]instanceof f.TilingPattern&&pt[Y].objectNumber>=0&&pt[Y].objectNumber<k&&ee("/"+Y+" "+pt[Y].objectNumber+" 0 R");kt.publish("putTilingPatternDict"),ee(">>")}}(w.objectOid),function(){if(Object.keys(It).length>0){var k;for(k in ee("/ExtGState <<"),It)It.hasOwnProperty(k)&&It[k].objectNumber>=0&&ee("/"+k+" "+It[k].objectNumber+" 0 R");kt.publish("putGStateDict"),ee(">>")}}(),function(){for(var k in ee("/XObject <<"),on)on.hasOwnProperty(k)&&on[k].objectNumber>=0&&ee("/"+k+" "+on[k].objectNumber+" 0 R");kt.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},Ul=function(w){_t[w.fontName]=_t[w.fontName]||{},_t[w.fontName][w.fontStyle]=w.id},oa=function(w,k,Y,ie,de){var Te={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:w,fontName:k,fontStyle:Y,encoding:ie,isStandardFont:de||!1,metadata:{}};return kt.publish("addFont",{font:Te,instance:this}),nt[Te.id]=Te,Ul(Te),Te.id},On=f.__private__.pdfEscape=f.pdfEscape=function(w,k){return function(Y,ie){var de,Te,Qe,$e,rt,mt,xt,qt,Er;if(Qe=(ie=ie||{}).sourceEncoding||"Unicode",rt=ie.outputEncoding,(ie.autoencode||rt)&&nt[lt].metadata&&nt[lt].metadata[Qe]&&nt[lt].metadata[Qe].encoding&&($e=nt[lt].metadata[Qe].encoding,!rt&&nt[lt].encoding&&(rt=nt[lt].encoding),!rt&&$e.codePages&&(rt=$e.codePages[0]),typeof rt=="string"&&(rt=$e[rt]),rt)){for(xt=!1,mt=[],de=0,Te=Y.length;de<Te;de++)(qt=rt[Y.charCodeAt(de)])?mt.push(String.fromCharCode(qt)):mt.push(Y[de]),mt[de].charCodeAt(0)>>8&&(xt=!0);Y=mt.join("")}for(de=Y.length;xt===void 0&&de!==0;)Y.charCodeAt(de-1)>>8&&(xt=!0),de--;if(!xt)return Y;for(mt=ie.noBOM?[]:[254,255],de=0,Te=Y.length;de<Te;de++){if((Er=(qt=Y.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+Y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(Er),mt.push(qt-(Er<<8))}return String.fromCharCode.apply(void 0,mt)}(w,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},os=f.__private__.beginPage=function(w){Pe[++rr]=[],wt[rr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},Ql(rr),Ee(Pe[V])},aa=function(w,k){var Y,ie,de;switch(r=k||r,typeof w=="string"&&(Y=v(w.toLowerCase()),Array.isArray(Y)&&(ie=Y[0],de=Y[1])),Array.isArray(w)&&(ie=w[0]*gt,de=w[1]*gt),isNaN(ie)&&(ie=i[0],de=i[1]),(ie>14400||de>14400)&&(Cr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ie=Math.min(14400,ie),de=Math.min(14400,de)),i=[ie,de],r.substr(0,1)){case"l":de>ie&&(i=[de,ie]);break;case"p":ie>de&&(i=[de,ie])}os(i),DA(ca),ee(sA),gr!==0&&ee(gr+" J"),Hl!==0&&ee(Hl+" j"),kt.publish("addPage",{pageNumber:rr})},Nl=function(w){w>0&&w<=rr&&(Pe.splice(w,1),wt.splice(w,1),rr--,V>rr&&(V=rr),this.setPage(V))},Ql=function(w){w>0&&w<=rr&&(V=w)},Ll=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Pe.length-1},Pl=function(w,k,Y){var ie,de=void 0;return Y=Y||{},w=w!==void 0?w:nt[lt].fontName,k=k!==void 0?k:nt[lt].fontStyle,ie=w.toLowerCase(),_t[ie]!==void 0&&_t[ie][k]!==void 0?de=_t[ie][k]:_t[w]!==void 0&&_t[w][k]!==void 0?de=_t[w][k]:Y.disableWarning===!1&&Cr.warn("Unable to look up font label for font '"+w+"', '"+k+"'. Refer to getFontList() for available fonts."),de||Y.noFallback||(de=_t.times[k])==null&&(de=_t.times.normal),de},LA=f.__private__.putInfo=function(){var w=Dr(),k=function(ie){return ie};for(var Y in u!==null&&(k=or.encryptor(w,0)),ee("<<"),ee("/Producer ("+On(k("jsPDF "+at.version))+")"),Bt)Bt.hasOwnProperty(Y)&&Bt[Y]&&ee("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+On(k(Bt[Y]))+")");ee("/CreationDate ("+On(k(ue))+")"),ee(">>"),ee("endobj")},Rl=f.__private__.putCatalog=function(w){var k=(w=w||{}).rootDictionaryObjId||TA;switch(Dr(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+k+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+He;Y.substr(Y.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+S(He)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}je&&ee("/PageMode /"+je),kt.publish("putCatalog"),ee(">>"),ee("endobj")},$r=f.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(Ae+1)),ee("/Root "+Ae+" 0 R"),ee("/Info "+(Ae-1)+" 0 R"),u!==null&&ee("/Encrypt "+or.oid+" 0 R"),ee("/ID [ <"+le+"> <"+le+"> ]"),ee(">>")},kl=f.__private__.putHeader=function(){ee("%PDF-"+_),ee("%ºß¬à")},qu=f.__private__.putXRef=function(){var w="0000000000";ee("xref"),ee("0 "+(Ae+1)),ee("0000000000 65535 f ");for(var k=1;k<=Ae;k++)typeof ce[k]=="function"?ee((w+ce[k]()).slice(-10)+" 00000 n "):ce[k]!==void 0?ee((w+ce[k]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},nA=f.__private__.buildDocument=function(){var w;Ae=0,he=0,Be=[],ce=[],Ce=[],TA=_n(),li=_n(),Ee(Be),kt.publish("buildDocument"),kl(),As(),function(){kt.publish("putAdditionalObjects");for(var Y=0;Y<Ce.length;Y++){var ie=Ce[Y];Or(ie.objId,!0),ee(ie.content),ee("endobj")}kt.publish("postPutAdditionalObjects")}(),w=[],function(){for(var Y in nt)nt.hasOwnProperty(Y)&&(d===!1||d===!0&&g.hasOwnProperty(Y))&&rA(nt[Y])}(),function(){var Y;for(Y in It)It.hasOwnProperty(Y)&&Qh(It[Y])}(),function(){for(var Y in on)on.hasOwnProperty(Y)&&NA(on[Y])}(),function(Y){var ie;for(ie in pt)pt.hasOwnProperty(ie)&&(pt[ie]instanceof Ga?fo(pt[ie]):pt[ie]instanceof lu&&po(pt[ie],Y))}(w),kt.publish("putResources"),w.forEach(QA),QA({resourcesOid:li,objectOid:Number.MAX_SAFE_INTEGER}),kt.publish("postPutResources"),u!==null&&(or.oid=Dr(),ee("<<"),ee("/Filter /Standard"),ee("/V "+or.v),ee("/R "+or.r),ee("/U <"+or.toHexString(or.U)+">"),ee("/O <"+or.toHexString(or.O)+">"),ee("/P "+or.P),ee(">>"),ee("endobj")),LA(),Rl();var k=he;return qu(),$r(),ee("startxref"),ee(""+k),ee("%%EOF"),Ee(Pe[V]),Be.join(`
`)},PA=f.__private__.getBlob=function(w){return new Blob([Ie(w)],{type:"application/pdf"})},Hi=f.output=f.__private__.output=(Dn=function(w,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",w){case void 0:return nA();case"save":f.save(k.filename);break;case"arraybuffer":return Ie(nA());case"blob":return PA(nA());case"bloburi":case"bloburl":if(Ct.URL!==void 0&&typeof Ct.URL.createObjectURL=="function")return Ct.URL&&Ct.URL.createObjectURL(PA(nA()))||void 0;Cr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",ie=nA();try{Y=kx(ie)}catch{Y=kx(unescape(encodeURIComponent(ie)))}return"data:application/pdf;filename="+k.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ct)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(de=k.pdfObjectUrl,Te="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",$e=Ct.open();return $e!==null&&$e.document.write(Qe),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ct)==="[object Window]"){var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',mt=Ct.open();if(mt!==null){mt.document.write(rt);var xt=this;mt.document.documentElement.querySelector("#pdfViewer").onload=function(){mt.document.title=k.filename,mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xt.output("bloburl"))}}return mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',Er=Ct.open();if(Er!==null&&(Er.document.write(qt),Er.document.title=k.filename),Er||typeof safari>"u")return Er;break;case"datauri":case"dataurl":return Ct.document.location.href=this.output("datauristring",k);default:return null}},Dn.foo=function(){try{return Dn.apply(this,arguments)}catch(Y){var w=Y.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var k="Error in function "+w.split(`
`)[0].split("<")[0]+": "+Y.message;if(!Ct.console)throw new Error(k);Ct.console.error(k,Y),Ct.alert&&alert(k)}},Dn.foo.bar=Dn,Dn.foo),go=function(w){return Array.isArray(SA)===!0&&SA.indexOf(w)>-1};switch(n){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=go("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);gt=n}var or=null;me(),z();var Ii=f.__private__.getPageInfo=f.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[w].objId,pageNumber:w,pageContext:wt[w]}},la=f.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in wt)if(wt[k].objId===w)break;return Ii(k)},ua=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:wt[V].objId,pageNumber:V,pageContext:wt[V]}};f.addPage=function(){return aa.apply(this,arguments),this},f.setPage=function(){return Ql.apply(this,arguments),Ee.call(this,Pe[V]),this},f.insertPage=function(w){return this.addPage(),this.movePage(V,w),this},f.movePage=function(w,k){var Y,ie;if(w>k){Y=Pe[w],ie=wt[w];for(var de=w;de>k;de--)Pe[de]=Pe[de-1],wt[de]=wt[de-1];Pe[k]=Y,wt[k]=ie,this.setPage(k)}else if(w<k){Y=Pe[w],ie=wt[w];for(var Te=w;Te<k;Te++)Pe[Te]=Pe[Te+1],wt[Te]=wt[Te+1];Pe[k]=Y,wt[k]=ie,this.setPage(k)}return this},f.deletePage=function(){return Nl.apply(this,arguments),this},f.__private__.text=f.text=function(w,k,Y,ie,de){var Te,Qe,$e,rt,mt,xt,qt,Er,Nr,nr=(ie=ie||{}).scope||this;if(typeof w=="number"&&typeof k=="number"&&(typeof Y=="string"||Array.isArray(Y))){var en=Y;Y=k,k=w,w=en}if(arguments[3]instanceof ft==0?($e=arguments[4],rt=arguments[5],dr(qt=arguments[3])==="object"&&qt!==null||(typeof $e=="string"&&(rt=$e,$e=null),typeof qt=="string"&&(rt=qt,qt=null),typeof qt=="number"&&($e=qt,qt=null),ie={flags:qt,angle:$e,align:rt})):(b("The transform parameter of text() with a Matrix value"),Nr=de),isNaN(k)||isNaN(Y)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return nr;var mr,Cn="",Ls=typeof ie.lineHeightFactor=="number"?ie.lineHeightFactor:kA,AA=nr.internal.scaleFactor;function $u(br){return br=br.split("	").join(Array(ie.TabLen||9).join(" ")),On(br,qt)}function _o(br){for(var Ir,cn=br.concat(),hn=[],Eo=cn.length;Eo--;)typeof(Ir=cn.shift())=="string"?hn.push(Ir):Array.isArray(br)&&(Ir.length===1||Ir[1]===void 0&&Ir[2]===void 0)?hn.push(Ir[0]):hn.push([Ir[0],Ir[1],Ir[2]]);return hn}function ln(br,Ir){var cn;if(typeof br=="string")cn=Ir(br)[0];else if(Array.isArray(br)){for(var hn,Eo,Zu=br.concat(),zA=[],jh=Zu.length;jh--;)typeof(hn=Zu.shift())=="string"?zA.push(Ir(hn)[0]):Array.isArray(hn)&&typeof hn[0]=="string"&&(Eo=Ir(hn[0],hn[1],hn[2]),zA.push([Eo[0],Eo[1],Eo[2]]));cn=zA}return cn}var Ki=!1,ga=!0;if(typeof w=="string")Ki=!0;else if(Array.isArray(w)){var ls=w.concat();Qe=[];for(var h,B=ls.length;B--;)(typeof(h=ls.shift())!="string"||Array.isArray(h)&&typeof h[0]!="string")&&(ga=!1);Ki=ga}if(Ki===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var L=be/nr.internal.scaleFactor,q=L*(Ls-1);switch(ie.baseline){case"bottom":Y-=q;break;case"top":Y+=L-q;break;case"hanging":Y+=L-2*q;break;case"middle":Y+=L/2-q}if((xt=ie.maxWidth||0)>0&&(typeof w=="string"?w=nr.splitTextToSize(w,xt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(br,Ir){return br.concat(nr.splitTextToSize(Ir,xt))},[]))),Te={text:w,x:k,y:Y,options:ie,mutex:{pdfEscape:On,activeFontKey:lt,fonts:nt,activeFontSize:be}},kt.publish("preProcessText",Te),w=Te.text,$e=(ie=Te.options).angle,Nr instanceof ft==0&&$e&&typeof $e=="number"){$e*=Math.PI/180,ie.rotationDirection===0&&($e=-$e),P===F&&($e=-$e);var pe=Math.cos($e),_e=Math.sin($e);Nr=new ft(pe,_e,-_e,pe,0,0)}else $e&&$e instanceof ft&&(Nr=$e);P!==F||Nr||(Nr=Us),(mt=ie.charSpace||vo)!==void 0&&(Cn+=I(N(mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Er=ie.horizontalScale)!==void 0&&(Cn+=I(100*Er)+` Tz
`),ie.lang;var Re=-1,er=ie.renderingMode!==void 0?ie.renderingMode:ie.stroke,Mr=nr.internal.getCurrentPageInfo().pageContext;switch(er){case 0:case!1:case"fill":Re=0;break;case 1:case!0:case"stroke":Re=1;break;case 2:case"fillThenStroke":Re=2;break;case 3:case"invisible":Re=3;break;case 4:case"fillAndAddForClipping":Re=4;break;case 5:case"strokeAndAddPathForClipping":Re=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Re=6;break;case 7:case"addToPathForClipping":Re=7}var Dt=Mr.usedRenderingMode!==void 0?Mr.usedRenderingMode:-1;Re!==-1?Cn+=Re+` Tr
`:Dt!==-1&&(Cn+=`0 Tr
`),Re!==-1&&(Mr.usedRenderingMode=Re),rt=ie.align||"left";var Ht,ar=be*Ls,Ps=nr.internal.pageSize.getWidth(),qn=nt[lt];mt=ie.charSpace||vo,xt=ie.maxWidth||0,qt=Object.assign({autoencode:!0,noBOM:!0},ie.flags);var us=[],VA=function(br){return nr.getStringUnitWidth(br,{font:qn,charSpace:mt,fontSize:be,doKerning:!1})*be/AA};if(Object.prototype.toString.call(w)==="[object Array]"){var Gi;Qe=_o(w),rt!=="left"&&(Ht=Qe.map(VA));var qi,Vl=0;if(rt==="right"){k-=Ht[0],w=[],B=Qe.length;for(var jA=0;jA<B;jA++)jA===0?(qi=Mn(k),Gi=iA(Y)):(qi=N(Vl-Ht[jA]),Gi=-ar),w.push([Qe[jA],qi,Gi]),Vl=Ht[jA]}else if(rt==="center"){k-=Ht[0]/2,w=[],B=Qe.length;for(var ma=0;ma<B;ma++)ma===0?(qi=Mn(k),Gi=iA(Y)):(qi=N((Vl-Ht[ma])/2),Gi=-ar),w.push([Qe[ma],qi,Gi]),Vl=Ht[ma]}else if(rt==="left"){w=[],B=Qe.length;for(var Mh=0;Mh<B;Mh++)w.push(Qe[Mh])}else if(rt==="justify"&&qn.encoding==="Identity-H"){w=[],B=Qe.length,xt=xt!==0?xt:Ps;for(var wa=0,un=0;un<B;un++)if(Gi=un===0?iA(Y):-ar,qi=un===0?Mn(k):wa,un<B-1){var Uw=N((xt-Ht[un])/(Qe[un].split(" ").length-1)),KA=Qe[un].split(" ");w.push([KA[0]+" ",qi,Gi]),wa=0;for(var GA=1;GA<KA.length;GA++){var Xu=(VA(KA[GA-1]+" "+KA[GA])-VA(KA[GA]))*AA+Uw;GA==KA.length-1?w.push([KA[GA],Xu,0]):w.push([KA[GA]+" ",Xu,0]),wa-=Xu}}else w.push([Qe[un],qi,Gi]);w.push(["",wa,0])}else{if(rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],B=Qe.length,xt=xt!==0?xt:Ps,un=0;un<B;un++)Gi=un===0?iA(Y):-ar,qi=un===0?Mn(k):0,un<B-1?us.push(I(N((xt-Ht[un])/(Qe[un].split(" ").length-1)))):us.push(0),w.push([Qe[un],qi,Gi])}}(typeof ie.R2L=="boolean"?ie.R2L:Ye)===!0&&(w=ln(w,function(br,Ir,cn){return[br.split("").reverse().join(""),Ir,cn]})),Te={text:w,x:k,y:Y,options:ie,mutex:{pdfEscape:On,activeFontKey:lt,fonts:nt,activeFontSize:be}},kt.publish("postProcessText",Te),w=Te.text,mr=Te.mutex.isHex||!1;var Hh=nt[lt].encoding;Hh!=="WinAnsiEncoding"&&Hh!=="StandardEncoding"||(w=ln(w,function(br,Ir,cn){return[$u(br),Ir,cn]})),Qe=_o(w),w=[];for(var Yu,Ju,jl,Kl=Array.isArray(Qe[0])?1:0,Co="",Vh=function(br,Ir,cn){var hn="";return cn instanceof ft?(cn=typeof ie.angle=="number"?Ur(cn,new ft(1,0,0,1,br,Ir)):Ur(new ft(1,0,0,1,br,Ir),cn),P===F&&(cn=Ur(new ft(1,0,0,-1,0,0),cn)),hn=cn.join(" ")+` Tm
`):hn=I(br)+" "+I(Ir)+` Td
`,hn},cs=0;cs<Qe.length;cs++){switch(Co="",Kl){case 1:jl=(mr?"<":"(")+Qe[cs][0]+(mr?">":")"),Yu=parseFloat(Qe[cs][1]),Ju=parseFloat(Qe[cs][2]);break;case 0:jl=(mr?"<":"(")+Qe[cs]+(mr?">":")"),Yu=Mn(k),Ju=iA(Y)}us!==void 0&&us[cs]!==void 0&&(Co=us[cs]+` Tw
`),cs===0?w.push(Co+Vh(Yu,Ju,Nr)+jl):Kl===0?w.push(Co+jl):Kl===1&&w.push(Co+Vh(Yu,Ju,Nr)+jl)}w=Kl===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var qA=`BT
/`;return qA+=lt+" "+be+` Tf
`,qA+=I(be*Ls)+` TL
`,qA+=as+`
`,qA+=Cn,qA+=w,ee(qA+="ET"),g[lt]=!0,nr};var zu=f.__private__.clip=f.clip=function(w){return ee(w==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return zu("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ee("n"),this};var Mt=f.__private__.isValidStyle=function(w){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(k=!0),k};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(w){return Mt(w)&&(l=w),this};var mo=f.__private__.getStyle=f.getStyle=function(w){var k=l;switch(w){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=w}return k},RA=f.close=function(){return ee("h"),this};f.stroke=function(){return ee("S"),this},f.fill=function(w){return Vi("f",w),this},f.fillEvenOdd=function(w){return Vi("f*",w),this},f.fillStroke=function(w){return Vi("B",w),this},f.fillStrokeEvenOdd=function(w){return Vi("B*",w),this};var Vi=function(w,k){dr(k)==="object"?Lh(k,w):ee(w)},Dl=function(w){w===null||P===F&&w===void 0||(w=mo(w),ee(w))};function Wu(w,k,Y,ie,de){var Te=new lu(k||this.boundingBox,Y||this.xStep,ie||this.yStep,this.gState,de||this.matrix);Te.stream=this.stream;var Qe=w+"$$"+this.cloneIndex+++"$$";return kn(Qe,Te),Te}var Lh=function(w,k){var Y=Pt[w.key],ie=pt[Y];if(ie instanceof Ga)ee("q"),ee(Ph(k)),ie.gState&&f.setGState(ie.gState),ee(w.matrix.toString()+" cm"),ee("/"+Y+" sh"),ee("Q");else if(ie instanceof lu){var de=new ft(1,0,0,-1,0,Fi());w.matrix&&(de=de.multiply(w.matrix||Us),Y=Wu.call(ie,w.key,w.boundingBox,w.xStep,w.yStep,de).id),ee("q"),ee("/Pattern cs"),ee("/"+Y+" scn"),ie.gState&&f.setGState(ie.gState),ee(k),ee("Q")}},Ph=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ol=f.moveTo=function(w,k){return ee(I(N(w))+" "+I(X(k))+" m"),this},wo=f.lineTo=function(w,k){return ee(I(N(w))+" "+I(X(k))+" l"),this},ji=f.curveTo=function(w,k,Y,ie,de,Te){return ee([I(N(w)),I(X(k)),I(N(Y)),I(X(ie)),I(N(de)),I(X(Te)),"c"].join(" ")),this};f.__private__.line=f.line=function(w,k,Y,ie,de){if(isNaN(w)||isNaN(k)||isNaN(Y)||isNaN(ie)||!Mt(de))throw new Error("Invalid arguments passed to jsPDF.line");return P===E?this.lines([[Y-w,ie-k]],w,k,[1,1],de||"S"):this.lines([[Y-w,ie-k]],w,k,[1,1]).stroke()},f.__private__.lines=f.lines=function(w,k,Y,ie,de,Te){var Qe,$e,rt,mt,xt,qt,Er,Nr,nr,en,mr,Cn;if(typeof w=="number"&&(Cn=Y,Y=k,k=w,w=Cn),ie=ie||[1,1],Te=Te||!1,isNaN(k)||isNaN(Y)||!Array.isArray(w)||!Array.isArray(ie)||!Mt(de)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ol(k,Y),Qe=ie[0],$e=ie[1],mt=w.length,en=k,mr=Y,rt=0;rt<mt;rt++)(xt=w[rt]).length===2?(en=xt[0]*Qe+en,mr=xt[1]*$e+mr,wo(en,mr)):(qt=xt[0]*Qe+en,Er=xt[1]*$e+mr,Nr=xt[2]*Qe+en,nr=xt[3]*$e+mr,en=xt[4]*Qe+en,mr=xt[5]*$e+mr,ji(qt,Er,Nr,nr,en,mr));return Te&&RA(),Dl(de),this},f.path=function(w){for(var k=0;k<w.length;k++){var Y=w[k],ie=Y.c;switch(Y.op){case"m":Ol(ie[0],ie[1]);break;case"l":wo(ie[0],ie[1]);break;case"c":ji.apply(this,ie);break;case"h":RA()}}return this},f.__private__.rect=f.rect=function(w,k,Y,ie,de){if(isNaN(w)||isNaN(k)||isNaN(Y)||isNaN(ie)||!Mt(de))throw new Error("Invalid arguments passed to jsPDF.rect");return P===E&&(ie=-ie),ee([I(N(w)),I(X(k)),I(N(Y)),I(N(ie)),"re"].join(" ")),Dl(de),this},f.__private__.triangle=f.triangle=function(w,k,Y,ie,de,Te,Qe){if(isNaN(w)||isNaN(k)||isNaN(Y)||isNaN(ie)||isNaN(de)||isNaN(Te)||!Mt(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-w,ie-k],[de-Y,Te-ie],[w-de,k-Te]],w,k,[1,1],Qe,!0),this},f.__private__.roundedRect=f.roundedRect=function(w,k,Y,ie,de,Te,Qe){if(isNaN(w)||isNaN(k)||isNaN(Y)||isNaN(ie)||isNaN(de)||isNaN(Te)||!Mt(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*Y),Te=Math.min(Te,.5*ie),this.lines([[Y-2*de,0],[de*$e,0,de,Te-Te*$e,de,Te],[0,ie-2*Te],[0,Te*$e,-de*$e,Te,-de,Te],[2*de-Y,0],[-de*$e,0,-de,-Te*$e,-de,-Te],[0,2*Te-ie],[0,-Te*$e,de*$e,-Te,de,-Te]],w+de,k,[1,1],Qe,!0),this},f.__private__.ellipse=f.ellipse=function(w,k,Y,ie,de){if(isNaN(w)||isNaN(k)||isNaN(Y)||isNaN(ie)||!Mt(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*Y,Qe=4/3*(Math.SQRT2-1)*ie;return Ol(w+Y,k),ji(w+Y,k-Qe,w+Te,k-ie,w,k-ie),ji(w-Te,k-ie,w-Y,k-Qe,w-Y,k),ji(w-Y,k+Qe,w-Te,k+ie,w,k+ie),ji(w+Te,k+ie,w+Y,k+Qe,w+Y,k),Dl(de),this},f.__private__.circle=f.circle=function(w,k,Y,ie){if(isNaN(w)||isNaN(k)||isNaN(Y)||!Mt(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,k,Y,Y,ie)},f.setFont=function(w,k,Y){return Y&&(k=Q(k,Y)),lt=Pl(w,k,{disableWarning:!1}),this};var Ns=f.__private__.getFont=f.getFont=function(){return nt[Pl.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var w,k,Y={};for(w in _t)if(_t.hasOwnProperty(w))for(k in Y[w]=[],_t[w])_t[w].hasOwnProperty(k)&&Y[w].push(k);return Y},f.addFont=function(w,k,Y,ie,de){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(Y=Q(Y,ie)),oa.call(this,w,k,Y,de=de||"Identity-H")};var kA,ca=t.lineWidth||.200025,vt=f.__private__.getLineWidth=f.getLineWidth=function(){return ca},DA=f.__private__.setLineWidth=f.setLineWidth=function(w){return ca=w,ee(I(N(w))+" w"),this};f.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(w,k){if(w=w||[],k=k||0,isNaN(k)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(Y){return I(N(Y))}).join(" "),k=I(N(k)),ee("["+w+"] "+k+" d"),this};var Rh=f.__private__.getLineHeight=f.getLineHeight=function(){return be*kA};f.__private__.getLineHeight=f.getLineHeight=function(){return be*kA};var kh=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(kA=w),this},Dh=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return kA};kh(t.lineHeight);var Mn=f.__private__.getHorizontalCoordinate=function(w){return N(w)},iA=f.__private__.getVerticalCoordinate=function(w){return P===F?w:wt[V].mediaBox.topRightY-wt[V].mediaBox.bottomLeftY-N(w)},Oh=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(w){return I(Mn(w))},ha=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(w){return I(iA(w))},sA=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ss(sA)},f.__private__.setStrokeColor=f.setDrawColor=function(w,k,Y,ie){return sA=bi({ch1:w,ch2:k,ch3:Y,ch4:ie,pdfColorType:"draw",precision:2}),ee(sA),this};var da=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ss(da)},f.__private__.setFillColor=f.setFillColor=function(w,k,Y,ie){return da=bi({ch1:w,ch2:k,ch3:Y,ch4:ie,pdfColorType:"fill",precision:2}),ee(da),this};var as=t.textColor||"0 g",Qs=f.__private__.getTextColor=f.getTextColor=function(){return ss(as)};f.__private__.setTextColor=f.setTextColor=function(w,k,Y,ie){return as=bi({ch1:w,ch2:k,ch3:Y,ch4:ie,pdfColorType:"text",precision:3}),this};var vo=t.charSpace,Ml=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(vo||0)};f.__private__.setCharSpace=f.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vo=w,this};var gr=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(w){var k=f.CapJoinStyles[w];if(k===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gr=k,ee(k+" J"),this};var Hl=0;f.__private__.setLineJoin=f.setLineJoin=function(w){var k=f.CapJoinStyles[w];if(k===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hl=k,ee(k+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(I(N(w))+" M"),this},f.GState=Xf,f.setGState=function(w){(w=typeof w=="string"?It[kr[w]]:yo(null,w)).equals(Tr)||(ee("/"+w.id+" gs"),Tr=w)};var yo=function(w,k){if(!w||!kr[w]){var Y=!1;for(var ie in It)if(It.hasOwnProperty(ie)&&It[ie].equals(k)){Y=!0;break}if(Y)k=It[ie];else{var de="GS"+(Object.keys(It).length+1).toString(10);It[de]=k,k.id=de}return w&&(kr[w]=k.id),kt.publish("addGState",k),k}};f.addGState=function(w,k){return yo(w,k),this},f.saveGraphicsState=function(){return ee("q"),Ar.push({key:lt,size:be,color:as}),this},f.restoreGraphicsState=function(){ee("Q");var w=Ar.pop();return lt=w.key,be=w.size,as=w.color,Tr=null,this},f.setCurrentTransformationMatrix=function(w){return ee(w.toString()+" cm"),this},f.comment=function(w){return ee("#"+w),this};var OA=function(w,k){var Y=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(Te){isNaN(Te)||(Y=parseFloat(Te))}});var ie=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ie},set:function(Te){isNaN(Te)||(ie=parseFloat(Te))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(Te){de=Te.toString()}}),this},fa=function(w,k,Y,ie){OA.call(this,w,k),this.type="rect";var de=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Qe){isNaN(Qe)||(de=parseFloat(Qe))}});var Te=ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Qe){isNaN(Qe)||(Te=parseFloat(Qe))}}),this},Bo=function(){this.page=rr,this.currentPage=V,this.pages=Pe.slice(0),this.pagesContext=wt.slice(0),this.x=ct,this.y=Zt,this.matrix=Wt,this.width=xi(V),this.height=Fi(V),this.outputDestination=qe,this.id="",this.objectNumber=-1};Bo.prototype.restore=function(){rr=this.page,V=this.currentPage,wt=this.pagesContext,Pe=this.pages,ct=this.x,Zt=this.y,Wt=this.matrix,pa(V,this.width),ci(V,this.height),qe=this.outputDestination};var MA=function(w,k,Y,ie,de){ai.push(new Bo),rr=V=0,Pe=[],ct=w,Zt=k,Wt=de,os([Y,ie])};for(var HA in f.beginFormObject=function(w,k,Y,ie,de){return MA(w,k,Y,ie,de),this},f.endFormObject=function(w){return function(k){if(Ts[k])ai.pop().restore();else{var Y=new Bo,ie="Xo"+(Object.keys(on).length+1).toString(10);Y.id=ie,Ts[k]=ie,on[ie]=Y,kt.publish("addFormObject",Y),ai.pop().restore()}}(w),this},f.doFormObject=function(w,k){var Y=on[Ts[w]];return ee("q"),ee(k.toString()+" cm"),ee("/"+Y.id+" Do"),ee("Q"),this},f.getFormObject=function(w){var k=on[Ts[w]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},f.save=function(w,k){return w=w||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(Zl(PA(nA()),w),typeof Zl.unload=="function"&&Ct.setTimeout&&setTimeout(Zl.unload,911),this):new Promise(function(Y,ie){try{var de=Zl(PA(nA()),w);typeof Zl.unload=="function"&&Ct.setTimeout&&setTimeout(Zl.unload,911),Y(de)}catch(Te){ie(Te.message)}})},at.API)at.API.hasOwnProperty(HA)&&(HA==="events"&&at.API.events.length?function(w,k){var Y,ie,de;for(de=k.length-1;de!==-1;de--)Y=k[de][0],ie=k[de][1],w.subscribe.apply(w,[Y].concat(typeof ie=="function"?[ie]:ie))}(kt,at.API.events):f[HA]=at.API[HA]);var xi=f.getPageWidth=function(w){return(wt[w=w||V].mediaBox.topRightX-wt[w].mediaBox.bottomLeftX)/gt},pa=f.setPageWidth=function(w,k){wt[w].mediaBox.topRightX=k*gt+wt[w].mediaBox.bottomLeftX},Fi=f.getPageHeight=function(w){return(wt[w=w||V].mediaBox.topRightY-wt[w].mediaBox.bottomLeftY)/gt},ci=f.setPageHeight=function(w,k){wt[w].mediaBox.topRightY=k*gt+wt[w].mediaBox.bottomLeftY};return f.internal={pdfEscape:On,getStyle:mo,getFont:Ns,getFontSize:Ne,getCharSpace:Ml,getTextColor:Qs,getLineHeight:Rh,getLineHeightFactor:Dh,getLineWidth:vt,write:Nt,getHorizontalCoordinate:Mn,getVerticalCoordinate:iA,getCoordinateString:Oh,getVerticalCoordinateString:ha,collections:{},newObject:Dr,newAdditionalObject:ho,newObjectDeferred:_n,newObjectDeferredBegin:Or,getFilters:ui,putStream:an,events:kt,scaleFactor:gt,pageSize:{getWidth:function(){return xi(V)},setWidth:function(w){pa(V,w)},getHeight:function(){return Fi(V)},setHeight:function(w){ci(V,w)}},encryptionOptions:u,encryption:or,getEncryptor:function(w){return u!==null?or.encryptor(w,0):function(k){return k}},output:Hi,getNumberOfPages:Ll,pages:Pe,out:ee,f2:S,f3:U,getPageInfo:Ii,getPageInfoByObjId:la,getCurrentPageInfo:ua,getPDFVersion:C,Point:OA,Rectangle:fa,Matrix:ft,hasHotfix:go},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return xi(V)},set:function(w){pa(V,w)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Fi(V)},set:function(w){ci(V,w)},enumerable:!0,configurable:!0}),(function(w){for(var k=0,Y=Oe.length;k<Y;k++){var ie=oa.call(this,w[k][0],w[k][1],w[k][2],Oe[k][3],!0);d===!1&&(g[ie]=!0);var de=w[k][0].split("-");Ul({id:ie,fontName:de[0],fontStyle:de[1]||""})}kt.publish("addFonts",{fonts:nt,dictionary:_t})}).call(f,Oe),lt="F1",aa(i,r),kt.publish("initialized"),f}Cc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Cc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Cc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Cc.prototype.processOwnerPassword=function(t,e){return I2(b2(e).substr(0,5),t)},Cc.prototype.encryptor=function(t,e){var r=b2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return I2(r,n)}},Xf.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||dr(t)!==dr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},at.API={events:[]},at.version="3.0.2";var nn=at.API,X_=1,Gu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(t){return t.toFixed(2)},Ua=function(t){return t.toFixed(5)};nn.__acroform__={};var is=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Hx=function(t){return t*X_},YA=function(t){var e=new B3,r=et.internal.getHeight(t)||0,n=et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(St(n)),Number(St(r))],e},EX=nn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},bX=nn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},IX=nn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},wn=nn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return IX(t,e-1)},vn=nn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return EX(t,e-1)},yn=nn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bX(t,e-1)},xX=nn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],A=t[2],o=t[3],a={};return a.lowerLeft_X=r(i)||0,a.lowerLeft_Y=n(s+o)||0,a.upperRight_X=r(i+A)||0,a.upperRight_Y=n(s)||0,[Number(St(a.lowerLeft_X)),Number(St(a.lowerLeft_Y)),Number(St(a.upperRight_X)),Number(St(a.upperRight_Y))]},FX=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=x2(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+St(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=YA(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},x2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var s=r,A=et.internal.getHeight(t)||0;A=A<0?-A:A;var o=et.internal.getWidth(t)||0;o=o<0?-o:o;var a=function(S,U,N){if(S+1<i.length){var X=U+" "+i[S+1][0];return Vg(X,t,N).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var l,u,d=Vg("3",t,s).height,g=t.multiline?A-s:(A-d)/2,f=g+=2,_=0,C=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Vg(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var v="",E=0,F=0;F<i.length;F++)if(i.hasOwnProperty(F)){var P=!1;if(i[F].length!==1&&x!==i[F].length-1){if((d+2)*(E+2)+2>A)continue e;v+=i[F][x],P=!0,C=F,F--}else{v=(v+=i[F][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var K=parseInt(F),M=a(K,v,s),Q=F>=i.length-1;if(M&&!Q){v+=" ",x=0;continue}if(M||Q){if(Q)C=K;else if(t.multiline&&(d+2)*(E+2)+2>A)continue e}else{if(!t.multiline||(d+2)*(E+2)+2>A)continue e;C=K}}for(var I="",b=_;b<=C;b++){var R=i[b];if(t.multiline){if(b===C){I+=R[x]+" ",x=(x+1)%R.length;continue}if(b===_){I+=R[R.length-1]+" ";continue}}I+=R[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,u=Vg(I,t,s).width,t.textAlign){case"right":l=o-u-2;break;case"center":l=(o-u)/2;break;default:l=2}e+=St(l)+" "+St(f)+` Td
`,e+="("+Gu(I)+`) Tj
`,e+=-St(l)+` 0 Td
`,f=-(s+2),u=0,_=P?C:C+1,E++,v=""}break}return n.text=e,n.fontSize=s,n},Vg=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},SX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TX=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},UX=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xA.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(SX)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");X_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new _3,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&TX(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var A in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var o=n[A],a=[],l=o.Rect;if(o.Rect&&(o.Rect=xX(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=et.createDefaultAppearanceStream(o),dr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(a=o.getKeyValueListForStream()),o.Rect=l,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=FX(o);a.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var f=o.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var A in f)if(f.hasOwnProperty(A)){var _=f[A];typeof _=="function"&&(_=_.call(i,o)),d+="/"+A+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=f)=="function"&&(_=_.call(i,o)),d+="/"+A+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);d+=">>"}a.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:a,objectId:o.objId}),i.internal.out("endobj")}s&&function(C,x){for(var v in C)if(C.hasOwnProperty(v)){var E=v,F=C[v];x.internal.newObjectDeferredBegin(F.objId,!0),dr(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete C[E]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},y3=nn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(A){return A};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),dr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Gu(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mv=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Gu(n(t))+")"},no=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};no.prototype.toString=function(){return this.objId+" 0 R"},no.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},no.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:y3(i,this.objId,this.scope)}):i instanceof no?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var B3=function(){no.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};is(B3,no);var _3=function(){no.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Gu(r(t))+")"}},set:function(r){t=r}})};is(_3,no);var xA=function t(){no.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wn(e,3)},set:function(v){v?this.F=vn(e,3):this.F=yn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof x0)return;s="FieldObject"+t.FieldNum++}var v=function(E){return E};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Gu(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(v){A=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/X_:l},set:function(v){l=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof x0||this instanceof pl))return mv(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Nn==0?mv(g,this.objId,this.scope):g},set:function(v){v=v.toString(),g=this instanceof Nn==0?v.substr(0,1)==="("?fc(v.substr(1,v.length-2)):fc(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nn==1?fc(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof Nn==1?"/"+v:v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Nn==0?mv(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof Nn==0?v.substr(0,1)==="("?fc(v.substr(1,v.length-2)):fc(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nn==1?fc(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Nn==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(v){v=!!v,C=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(v){_=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,1)},set:function(v){v?this.Ff=vn(this.Ff,1):this.Ff=yn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,2)},set:function(v){v?this.Ff=vn(this.Ff,2):this.Ff=yn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,3)},set:function(v){v?this.Ff=vn(this.Ff,3):this.Ff=yn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};is(xA,no);var pu=function(){xA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return y3(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,A,o){o||(o=1);for(var a,l=[];a=A.exec(s);)l.push(a[o]);return l}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,18)},set:function(r){r?this.Ff=vn(this.Ff,18):this.Ff=yn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=vn(this.Ff,19):this.Ff=yn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,20)},set:function(r){r?(this.Ff=vn(this.Ff,20),e.sort()):this.Ff=yn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,22)},set:function(r){r?this.Ff=vn(this.Ff,22):this.Ff=yn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(r){r?this.Ff=vn(this.Ff,23):this.Ff=yn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,27)},set:function(r){r?this.Ff=vn(this.Ff,27):this.Ff=yn(this.Ff,27)}}),this.hasAppearanceStream=!1};is(pu,xA);var gu=function(){pu.call(this),this.fontName="helvetica",this.combo=!1};is(gu,pu);var mu=function(){gu.call(this),this.combo=!0};is(mu,gu);var Af=function(){mu.call(this),this.edit=!0};is(Af,mu);var Nn=function(){xA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,15)},set:function(r){r?this.Ff=vn(this.Ff,15):this.Ff=yn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,16)},set:function(r){r?this.Ff=vn(this.Ff,16):this.Ff=yn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,17)},set:function(r){r?this.Ff=vn(this.Ff,17):this.Ff=yn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(r){r?this.Ff=vn(this.Ff,26):this.Ff=yn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Gu(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){dr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};is(Nn,xA);var of=function(){Nn.call(this),this.pushButton=!0};is(of,Nn);var wu=function(){Nn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};is(wu,Nn);var x0=function(){var t,e;xA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,A=[];for(s in A.push("<<"),n)A.push("/"+s+" ("+Gu(i(n[s]))+")");return A.push(">>"),A.join(`
`)},set:function(i){dr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};is(x0,xA),wu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},wu.prototype.createOption=function(t){var e=new x0;return e.Parent=this,e.optionName=t,this.Kids.push(e),NX.call(this.scope,e),e};var af=function(){Nn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};is(af,Nn);var pl=function(){xA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,13)},set:function(e){e?this.Ff=vn(this.Ff,13):this.Ff=yn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,21)},set:function(e){e?this.Ff=vn(this.Ff,21):this.Ff=yn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(e){e?this.Ff=vn(this.Ff,23):this.Ff=yn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,24)},set:function(e){e?this.Ff=vn(this.Ff,24):this.Ff=yn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,25)},set:function(e){e?this.Ff=vn(this.Ff,25):this.Ff=yn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(e){e?this.Ff=vn(this.Ff,26):this.Ff=yn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};is(pl,xA);var lf=function(){pl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,14)},set:function(t){t?this.Ff=vn(this.Ff,14):this.Ff=yn(this.Ff,14)}}),this.password=!0};is(lf,pl);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=YA(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=x2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+St(et.internal.getWidth(t))+" "+St(et.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+St(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=YA(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=et.internal.getHeight(t),A=et.internal.getWidth(t),o=x2(t,t.caption);return i.push("1 g"),i.push("0 0 "+St(A)+" "+St(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(A-1)+" "+St(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+St(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=YA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+St(et.internal.getWidth(t))+" "+St(et.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Circle.YesNormal,e.D[t]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=YA(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=et.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ua(et.internal.getWidth(t)/2)+" "+Ua(et.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=YA(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*et.internal.Bezier_C).toFixed(5)),A=Number((n*et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ua(et.internal.getWidth(t)/2)+" "+Ua(et.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ua(et.internal.getWidth(t)/2)+" "+Ua(et.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=YA(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ua(et.internal.getWidth(t)/2)+" "+Ua(et.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Cross.YesNormal,e.D[t]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=YA(t);e.scope=t.scope;var r=[],n=et.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+St(et.internal.getWidth(t)-2)+" "+St(et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(St(n.x1.x)+" "+St(n.x1.y)+" m"),r.push(St(n.x2.x)+" "+St(n.x2.y)+" l"),r.push(St(n.x4.x)+" "+St(n.x4.y)+" m"),r.push(St(n.x3.x)+" "+St(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=YA(t);e.scope=t.scope;var r=et.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+St(et.internal.getWidth(t))+" "+St(et.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+St(et.internal.getWidth(t)-2)+" "+St(et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),n.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),n.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),n.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=YA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+St(et.internal.getWidth(t))+" "+St(et.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=et.internal.getWidth(t),r=et.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},et.internal.getWidth=function(t){var e=0;return dr(t)==="object"&&(e=Hx(t.Rect[2])),e},et.internal.getHeight=function(t){var e=0;return dr(t)==="object"&&(e=Hx(t.Rect[3])),e};var NX=nn.addField=function(t){if(UX(this,t),!(t instanceof xA))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};nn.AcroFormChoiceField=pu,nn.AcroFormListBox=gu,nn.AcroFormComboBox=mu,nn.AcroFormEditBox=Af,nn.AcroFormButton=Nn,nn.AcroFormPushButton=of,nn.AcroFormRadioButton=wu,nn.AcroFormCheckBox=af,nn.AcroFormTextField=pl,nn.AcroFormPasswordField=lf,nn.AcroFormAppearance=et,nn.AcroForm={ChoiceField:pu,ListBox:gu,ComboBox:mu,EditBox:Af,Button:Nn,PushButton:of,RadioButton:wu,CheckBox:af,TextField:pl,PasswordField:lf,Appearance:et},at.AcroForm={ChoiceField:pu,ListBox:gu,ComboBox:mu,EditBox:Af,Button:Nn,PushButton:of,RadioButton:wu,CheckBox:af,TextField:pl,PasswordField:lf,Appearance:et};var QX=at.AcroForm;function C3(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(S,U){var N,X,ue,le,se,z=r;if((U=U||r)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(M(S))for(se in n)for(ue=n[se],N=0;N<ue.length;N+=1){for(le=!0,X=0;X<ue[N].length;X+=1)if(ue[N][X]!==void 0&&ue[N][X]!==S[X]){le=!1;break}if(le===!0){z=se;break}}else for(se in n)for(ue=n[se],N=0;N<ue.length;N+=1){for(le=!0,X=0;X<ue[N].length;X+=1)if(ue[N][X]!==void 0&&ue[N][X]!==S.charCodeAt(X)){le=!1;break}if(le===!0){z=se;break}}return z===r&&U!==r&&(z=U),z},s=function S(U){for(var N=this.internal.write,X=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:U.width}),le.push({key:"Height",value:U.height}),U.colorSpace===v.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===v.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var se="",z=0,ne=U.transparency.length;z<ne;z++)se+=U.transparency[z]+" "+U.transparency[z]+" ";le.push({key:"Mask",value:"["+se+"]"})}U.sMask!==void 0&&le.push({key:"SMask",value:U.objectId+1+" 0 R"});var fe=U.filter!==void 0?["/"+U.filter]:void 0;if(X({data:U.data,additionalKeyValues:le,alreadyAppliedFilters:fe,objectId:U.objectId}),N("endobj"),"sMask"in U&&U.sMask!==void 0){var me=(U.predictor!=null?"/Predictor "+U.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+U.width,O={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:me,data:U.sMask};"filter"in U&&(O.filter=U.filter),S.call(this,O)}if(U.colorSpace===v.INDEXED){var V=this.internal.newObject();X({data:I(new Uint8Array(U.palette)),objectId:V}),N("endobj")}},A=function(){var S=this.internal.collections[e+"images"];for(var U in S)s.call(this,S[U])},o=function(){var S,U=this.internal.collections[e+"images"],N=this.internal.write;for(var X in U)N("/I"+(S=U[X]).index,S.objectId,"0","R")},a=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",A),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var S=this.internal.collections[e+"images"];return a.call(this),S},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(S){return typeof t["process"+S.toUpperCase()]=="function"},g=function(S){return dr(S)==="object"&&S.nodeType===1},f=function(S,U){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var N=""+S.getAttribute("src");if(N.indexOf("data:image/")===0)return Cm(unescape(N).split("base64,").pop());var X=t.loadFile(N,!0);if(X!==void 0)return X}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var ue;switch(U){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return Cm(S.toDataURL(ue,1).split("base64,").pop())}},_=function(S){var U=this.internal.collections[e+"images"];if(U){for(var N in U)if(S===U[N].alias)return U[N]}},C=function(S,U,N){return S||U||(S=-96,U=-96),S<0&&(S=-1*N.width*72/S/this.internal.scaleFactor),U<0&&(U=-1*N.height*72/U/this.internal.scaleFactor),S===0&&(S=U*N.width/N.height),U===0&&(U=S*N.height/N.width),[S,U]},x=function(S,U,N,X,ue,le){var se=C.call(this,N,X,ue),z=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,fe=l.call(this);if(N=se[0],X=se[1],fe[ue.index]=ue,le){le*=Math.PI/180;var me=Math.cos(le),O=Math.sin(le),V=function(re){return re.toFixed(4)},$=[V(me),V(O),V(-1*O),V(me),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,z(S),ne(U+X),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([z(N),"0","0",z(X),"0","0","cm"].join(" "))):this.internal.write([z(N),"0","0",z(X),z(S),ne(U+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=t.__addimage__.sHashCode=function(S){var U,N,X=0;if(typeof S=="string")for(N=S.length,U=0;U<N;U++)X=(X<<5)-X+S.charCodeAt(U),X|=0;else if(M(S))for(N=S.byteLength/2,U=0;U<N;U++)X=(X<<5)-X+S[U],X|=0;return X},P=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var U=!0;return S.length===0&&(U=!1),S.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(U=!1),U},K=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var U=S.indexOf(",");return U<0?null:S.substring(0,U).trim().endsWith("base64")?S.substring(U+1):null};t.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var M=t.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},Q=t.__addimage__.binaryStringToUint8Array=function(S){for(var U=S.length,N=new Uint8Array(U),X=0;X<U;X++)N[X]=S.charCodeAt(X);return N},I=t.__addimage__.arrayBufferToBinaryString=function(S){for(var U="",N=M(S)?S:new Uint8Array(S),X=0;X<N.length;X+=8192)U+=String.fromCharCode.apply(null,N.subarray(X,X+8192));return U};t.addImage=function(){var S,U,N,X,ue,le,se,z,ne;if(typeof arguments[1]=="number"?(U=r,N=arguments[1],X=arguments[2],ue=arguments[3],le=arguments[4],se=arguments[5],z=arguments[6],ne=arguments[7]):(U=arguments[1],N=arguments[2],X=arguments[3],ue=arguments[4],le=arguments[5],se=arguments[6],z=arguments[7],ne=arguments[8]),dr(S=arguments[0])==="object"&&!g(S)&&"imageData"in S){var fe=S;S=fe.imageData,U=fe.format||U||r,N=fe.x||N||0,X=fe.y||X||0,ue=fe.w||fe.width||ue,le=fe.h||fe.height||le,se=fe.alias||se,z=fe.compression||z,ne=fe.rotation||fe.angle||ne}var me=this.internal.getFilters();if(z===void 0&&me.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(N)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var O=b.call(this,S,U,se,z);return x.call(this,N,X,ue,le,O,ne),this};var b=function(S,U,N,X){var ue,le,se;if(typeof S=="string"&&i(S)===r){S=unescape(S);var z=R(S,!1);(z!==""||(z=t.loadFile(S,!0))!==void 0)&&(S=z)}if(g(S)&&(S=f(S,U)),U=i(S,U),!d(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((se=N)==null||se.length===0)&&(N=function(ne){return typeof ne=="string"||M(ne)?F(ne):M(ne.data)?F(ne.data):null}(S)),(ue=_.call(this,N))||(S instanceof Uint8Array||U==="RGBA"||(le=S,S=Q(S)),ue=this["process"+U.toUpperCase()](S,u.call(this),N,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in t.image_compression?ne:E.NONE}(X),le)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},R=t.__addimage__.convertBase64ToBinaryString=function(S,U){U=typeof U!="boolean"||U;var N,X="";if(typeof S=="string"){var ue;N=(ue=K(S))!==null&&ue!==void 0?ue:S;try{X=Cm(N)}catch(le){if(U)throw P(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(S){var U,N,X="";if(g(S)&&(S=f(S)),typeof S=="string"&&i(S)===r&&((X=R(S,!1))===""&&(X=t.loadFile(S)||""),S=X),N=i(S),!d(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(S instanceof Uint8Array||(S=Q(S)),!(U=this["process"+N.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=N,U}})(at.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};at.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,A=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(r.objId),l=r.pageContext.annotations,u=!1,d=0;d<l.length&&!u;d++)switch((n=l[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<l.length;g++){n=l[g];var f=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(C.objId),E=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+A(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(v(n.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+a.objId+" 0 R",s+=" /T ("+f(v(E))+") >>",C.content=s;var F=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+A(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(C.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+A(n.bounds.x)+" "+o(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var P=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var K=this.annotations._nameMap[n.options.name];n.options.pageNumber=K.page,n.options.top=K.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var M=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,A){var o=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:a(r),y:l(n),w:a(r+i),h:l(n+s)},options:A,type:"link"})},t.textWithLink=function(r,n,i,s){var A,o,a=this.getTextWidth(r),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(r,o).length;A=Math.ceil(l*u)}else o=a,A=l;return this.text(r,n,i,s),i+=.2*l,s.align==="center"&&(n-=a/2),s.align==="right"&&(n-=a),this.link(n,i-l,o,A,s),a},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},A=t.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},o=t.__arabicParser__.isArabicEndLetter=function(C){return A(C)&&s(C)&&e[C.charCodeAt(0)].length<=2},a=t.__arabicParser__.isArabicAlfLetter=function(C){return A(C)&&i.indexOf(C.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return A(C)&&s(C)&&e[C.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(C){return A(C)&&s(C)&&e[C.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(C){return A(C)&&s(C)&&e[C.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(C){return A(C)&&s(C)&&e[C.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(C){var x=0,v=r,E="",F=0;for(x=0;x<C.length;x+=1)v[C.charCodeAt(x)]!==void 0?(F++,typeof(v=v[C.charCodeAt(x)])=="number"&&(E+=String.fromCharCode(v),v=r,F=0),x===C.length-1&&(v=r,E+=C.charAt(x-(F-1)),x-=F-1,F=0)):(v=r,E+=C.charAt(x-F),x-=F,F=0);return E};t.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&n[C.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(C,x,v){return A(C)?s(C)===!1?-1:!l(C)||!A(x)&&!A(v)||!A(v)&&o(x)||o(C)&&!A(x)||o(C)&&a(x)||o(C)&&o(x)?0:u(C)&&A(x)&&!o(x)&&A(v)&&l(v)?3:o(C)||!A(v)?1:2:-1},f=function(C){var x=0,v=0,E=0,F="",P="",K="",M=(C=C||"").split("\\s+"),Q=[];for(x=0;x<M.length;x+=1){for(Q.push(""),v=0;v<M[x].length;v+=1)F=M[x][v],P=M[x][v-1],K=M[x][v+1],A(F)?(E=g(F,P,K),Q[x]+=E!==-1?String.fromCharCode(e[F.charCodeAt(0)][E]):F):Q[x]+=F;Q[x]=d(Q[x])}return Q.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var C,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var E=0;for(v=[],E=0;E<x.length;E+=1)Array.isArray(x[E])?v.push([f(x[E][0]),x[E][1],x[E][2]]):v.push([f(x[E])]);C=v}else C=f(x);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};t.events.push(["preProcessText",_])}(at.API),at.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(o){A=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var a=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return a},set:function(C){a=C}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(C){l=C}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(C){u=C}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(C){_=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(a){return n.call(this),this.internal.__cell__.headerFunction=typeof a=="function"?a:void 0,this},t.getTextDimensions=function(a,l){n.call(this);var u=(l=l||{}).fontSize||this.getFontSize(),d=l.font||this.getFont(),g=l.scaleFactor||this.internal.scaleFactor,f=0,_=0,C=0,x=this;if(!Array.isArray(a)&&typeof a!="string"){if(typeof a!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");a=String(a)}var v=l.maxWidth;v>0?typeof a=="string"?a=this.splitTextToSize(a,v):Object.prototype.toString.call(a)==="[object Array]"&&(a=a.reduce(function(F,P){return F.concat(x.splitTextToSize(P,v))},[])):a=Array.isArray(a)?a:[a];for(var E=0;E<a.length;E++)f<(C=this.getStringUnitWidth(a[E],{font:d})*u)&&(f=C);return f!==0&&(_=a.length),{w:f/=g,h:Math.max((_*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var a=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(a.left,a.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=t.cell=function(){var a;a=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===a.lineNumber?(a.x=(l.x||0)+(l.width||0),a.y=l.y||0):l.y+l.height+a.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),a.y=d.top,f&&g&&(this.printHeaderRow(a.lineNumber,!0),a.y+=g[0].height)):a.y=l.y+l.height||a.y),a.text[0]!==void 0&&(this.rect(a.x,a.y,a.width,a.height,r===!0?"FD":void 0),a.align==="right"?this.text(a.text,a.x+a.width-u,a.y+u,{align:"right",baseline:"top"}):a.align==="center"?this.text(a.text,a.x+a.width/2,a.y+u,{align:"center",baseline:"top",maxWidth:a.width-u-u}):this.text(a.text,a.x+u,a.y+u,{align:"left",baseline:"top",maxWidth:a.width-u-u})),this.internal.__cell__.lastCell=a,this};t.table=function(a,l,u,d,g){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,_,C,x,v=[],E=[],F=[],P={},K={},M=[],Q=[],I=(g=g||{}).autoSize||!1,b=g.printHeaders!==!1,R=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,S=g.margins||Object.assign({width:this.getPageWidth()},e),U=typeof g.padding=="number"?g.padding:3,N=g.headerBackgroundColor||"#c8c8c8",X=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=b,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=X,this.setFontSize(R),d==null)E=v=Object.keys(u[0]),F=v.map(function(){return"left"});else if(Array.isArray(d)&&dr(d[0])==="object")for(v=d.map(function(fe){return fe.name}),E=d.map(function(fe){return fe.prompt||fe.name||""}),F=d.map(function(fe){return fe.align||"left"}),f=0;f<d.length;f+=1)K[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(E=v=d,F=v.map(function(){return"left"}));if(I||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<v.length;f+=1){for(P[x=v[f]]=u.map(function(fe){return fe[x]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(E[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=P[x],this.setFont(void 0,"normal"),C=0;C<_.length;C+=1)M.push(this.getTextDimensions(_[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[x]=Math.max.apply(null,M)+U+U,M=[]}if(b){var ue={};for(f=0;f<v.length;f+=1)ue[v[f]]={},ue[v[f]].text=E[f],ue[v[f]].align=F[f];var le=o.call(this,ue,K);Q=v.map(function(fe){return new s(a,l,K[fe],le,ue[fe].text,void 0,ue[fe].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var se=d.reduce(function(fe,me){return fe[me.name]=me.align,fe},{});for(f=0;f<u.length;f+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:f,data:u[f]},this);var z=o.call(this,u[f],K);for(C=0;C<v.length;C+=1){var ne=u[f][v[C]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:f,col:C,data:ne},this),A.call(this,new s(a,l,K[v[C]],z,ne,f+2,se[v[C]]))}}return this.internal.__cell__.table_x=a,this.internal.__cell__.table_y=l,this};var o=function(a,l){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(a).map(function(f){var _=a[f];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,l[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/g+u+u},this).reduce(function(f,_){return Math.max(f,_)},0)};t.setTableHeaderRow=function(a){n.call(this),this.internal.__cell__.tableHeaderRow=a},t.printHeaderRow=function(a,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),l&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=a;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,u),this.setTextColor(_)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(at.API);var E3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},b3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],F2=C3(b3),I3=[100,200,300,400,500,600,700,800,900],LX=C3(I3);function wv(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return E3[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof F2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function Vx(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var PX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Kx(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Gx(t){return t.trimLeft()}function RX(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function kX(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jg,qx,zx,pc,Kg,Wx,$x,Xx,vv=["times"];function Yx(t,e,r,n){var i=4,s=Zx;switch(n){case at.API.image_compression.FAST:i=1,s=Jx;break;case at.API.image_compression.MEDIUM:i=6,s=e4;break;case at.API.image_compression.SLOW:i=9,s=t4}t=function(o,a,l,u){for(var d,g=o.length/a,f=new Uint8Array(o.length+g),_=[DX,Jx,Zx,e4,t4],C=0;C<g;C+=1){var x=C*a,v=o.subarray(x,x+a);if(u)f.set(u(v,l,d),x+C);else{for(var E=_.length,F=[],P=0;P<E;P+=1)F[P]=_[P](v,l,d);var K=MX(F.concat());f.set(F[K],x+C)}d=v}return f}(t,e,r,s);var A=B2(t,{level:i});return at.API.__addimage__.arrayBufferToBinaryString(A)}function DX(t){var e=Array.apply([],t);return e.unshift(0),e}function Jx(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function Zx(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var A=r&&r[s]||0;i[s+1]=t[s]-A+256&255}return i}function e4(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var A=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(A+o>>>1)&255}return i}function t4(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var A=OX(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-A+256&255}return i}function OX(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function MX(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function yv(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),A=(1<<r)-1;return x3(t,i)>>s&A}function r4(t,e,r,n){var i=r*n,s=Math.floor(i/8),A=16-(i-8*s+n),o=(1<<n)-1,a=(e&o)<<A;(function(l,u,d){if(u+1<l.byteLength)l.setUint16(u,d,!1);else{var g=d>>8&255;l.setUint8(u,g)}})(t,s,x3(t,s)&~(o<<A)&65535|a)}function x3(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function HX(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,A=1<<1+(7&i);t[e++],t[e++];var o=null,a=null;s&&(o=e,a=A,e+=3*A);var l=!0,u=[],d=0,g=null,f=0,_=null;for(this.width=r,this.height=n;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],1&C||(g=null),f=C>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,P=t[e++],K=P>>6&1,M=1<<1+(7&P),Q=o,I=a,b=!1;P>>7&&(b=!0,Q=e,I=M,e+=3*M);var R=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}u.push({x,y:v,width:E,height:F,has_local_palette:b,palette_offset:Q,palette_size:I,data_offset:R,data_length:e-R,transparent_index:g,interlaced:!!K,delay:d,disposal:f});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return _},this.frameInfo=function(U){if(U<0||U>=u.length)throw new Error("Frame index out of range.");return u[U]},this.decodeAndBlitFrameBGRA=function(U,N){var X=this.frameInfo(U),ue=X.width*X.height,le=new Uint8Array(ue);n4(t,X.data_offset,le,ue);var se=X.palette_offset,z=X.transparent_index;z===null&&(z=256);var ne=X.width,fe=r-ne,me=ne,O=4*(X.y*r+X.x),V=4*((X.y+X.height)*r+X.x),$=O,re=4*fe;X.interlaced===!0&&(re+=4*r*7);for(var Ae=8,ce=0,Be=le.length;ce<Be;++ce){var he=le[ce];if(me===0&&(me=ne,($+=re)>=V&&(re=4*fe+4*r*(Ae-1),$=O+(ne+fe)*(Ae<<1),Ae>>=1)),he===z)$+=4;else{var Ce=t[se+3*he],Pe=t[se+3*he+1],Ge=t[se+3*he+2];N[$++]=Ge,N[$++]=Pe,N[$++]=Ce,N[$++]=255}--me}},this.decodeAndBlitFrameRGBA=function(U,N){var X=this.frameInfo(U),ue=X.width*X.height,le=new Uint8Array(ue);n4(t,X.data_offset,le,ue);var se=X.palette_offset,z=X.transparent_index;z===null&&(z=256);var ne=X.width,fe=r-ne,me=ne,O=4*(X.y*r+X.x),V=4*((X.y+X.height)*r+X.x),$=O,re=4*fe;X.interlaced===!0&&(re+=4*r*7);for(var Ae=8,ce=0,Be=le.length;ce<Be;++ce){var he=le[ce];if(me===0&&(me=ne,($+=re)>=V&&(re=4*fe+4*r*(Ae-1),$=O+(ne+fe)*(Ae<<1),Ae>>=1)),he===z)$+=4;else{var Ce=t[se+3*he],Pe=t[se+3*he+1],Ge=t[se+3*he+2];N[$++]=Ce,N[$++]=Pe,N[$++]=Ge,N[$++]=255}--me}}}function n4(t,e,r,n){for(var i=t[e++],s=1<<i,A=s+1,o=A+1,a=i+1,l=(1<<a)-1,u=0,d=0,g=0,f=t[e++],_=new Int32Array(4096),C=null;;){for(;u<16&&f!==0;)d|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<a)break;var x=d&l;if(d>>=a,u-=a,x!==s){if(x===A)break;for(var v=x<o?x:C,E=0,F=v;F>s;)F=_[F]>>8,++E;var P=F;if(g+E+(v!==x?1:0)>n)return void Cr.log("Warning, gif stream longer than expected.");r[g++]=P;var K=g+=E;for(v!==x&&(r[g++]=P),F=v;E--;)F=_[F],r[--K]=255&F,F>>=8;C!==null&&o<4096&&(_[o++]=C<<8|P,o>=l+1&&a<12&&(++a,l=l<<1|1)),C=x}else o=A+1,l=(1<<(a=i+1))-1,C=null}return g!==n&&Cr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bv(t){var e,r,n,i,s,A=Math.floor,o=new Array(64),a=new Array(64),l=new Array(64),u=new Array(64),d=new Array(65535),g=new Array(65535),f=new Array(64),_=new Array(64),C=[],x=0,v=7,E=new Array(64),F=new Array(64),P=new Array(64),K=new Array(256),M=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],b=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(O,V){for(var $=0,re=0,Ae=new Array,ce=1;ce<=16;ce++){for(var Be=1;Be<=O[ce];Be++)Ae[V[re]]=[],Ae[V[re]][0]=$,Ae[V[re]][1]=ce,re++,$++;$*=2}return Ae}function se(O){for(var V=O[0],$=O[1]-1;$>=0;)V&1<<$&&(x|=1<<v),$--,--v<0&&(x==255?(z(255),z(0)):z(x),v=7,x=0)}function z(O){C.push(O)}function ne(O){z(O>>8&255),z(255&O)}function fe(O,V,$,re,Ae){for(var ce,Be=Ae[0],he=Ae[240],Ce=function(be,He){var Ne,Ye,je,Gt,bt,ot,Ft,Bt,lt,gt,ct=0;for(lt=0;lt<8;++lt){Ne=be[ct],Ye=be[ct+1],je=be[ct+2],Gt=be[ct+3],bt=be[ct+4],ot=be[ct+5],Ft=be[ct+6];var Zt=Ne+(Bt=be[ct+7]),Wt=Ne-Bt,nt=Ye+Ft,_t=Ye-Ft,Ar=je+ot,pt=je-ot,Pt=Gt+bt,It=Gt-bt,kr=Zt+Pt,Tr=Zt-Pt,rr=nt+Ar,wt=nt-Ar;be[ct]=kr+rr,be[ct+4]=kr-rr;var kt=.707106781*(wt+Tr);be[ct+2]=Tr+kt,be[ct+6]=Tr-kt;var SA=.382683433*((kr=It+pt)-(wt=_t+Wt)),on=.5411961*kr+SA,Ts=1.306562965*wt+SA,ai=.707106781*(rr=pt+_t),ft=Wt+ai,Ur=Wt-ai;be[ct+5]=Ur+on,be[ct+3]=Ur-on,be[ct+1]=ft+Ts,be[ct+7]=ft-Ts,ct+=8}for(ct=0,lt=0;lt<8;++lt){Ne=be[ct],Ye=be[ct+8],je=be[ct+16],Gt=be[ct+24],bt=be[ct+32],ot=be[ct+40],Ft=be[ct+48];var Us=Ne+(Bt=be[ct+56]),kn=Ne-Bt,Dn=Ye+Ft,Dr=Ye-Ft,_n=je+ot,Or=je-ot,ho=Gt+bt,TA=Gt-bt,li=Us+ho,ss=Us-ho,bi=Dn+_n,ui=Dn-_n;be[ct]=li+bi,be[ct+32]=li-bi;var an=.707106781*(ui+ss);be[ct+16]=ss+an,be[ct+48]=ss-an;var UA=.382683433*((li=TA+Or)-(ui=Dr+kn)),As=.5411961*li+UA,rA=1.306562965*ui+UA,NA=.707106781*(bi=Or+Dr),fo=kn+NA,po=kn-NA;be[ct+40]=po+As,be[ct+24]=po-As,be[ct+8]=fo+rA,be[ct+56]=fo-rA,ct++}for(lt=0;lt<64;++lt)gt=be[lt]*He[lt],f[lt]=gt>0?gt+.5|0:gt-.5|0;return f}(O,V),Pe=0;Pe<64;++Pe)_[Q[Pe]]=Ce[Pe];var Ge=_[0]-$;$=_[0],Ge==0?se(re[0]):(se(re[g[ce=32767+Ge]]),se(d[ce]));for(var qe=63;qe>0&&_[qe]==0;)qe--;if(qe==0)return se(Be),$;for(var Ee,ee=1;ee<=qe;){for(var Nt=ee;_[ee]==0&&ee<=qe;)++ee;var Ie=ee-Nt;if(Ie>=16){Ee=Ie>>4;for(var Oe=1;Oe<=Ee;++Oe)se(he);Ie&=15}ce=32767+_[ee],se(Ae[(Ie<<4)+g[ce]]),se(d[ce]),ee++}return qe!=63&&se(Be),$}function me(O){O=Math.min(Math.max(O,1),100),s!=O&&(function(V){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var Ae=A(($[re]*V+50)/100);Ae=Math.min(Math.max(Ae,1),255),o[Q[re]]=Ae}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Be=0;Be<64;Be++){var he=A((ce[Be]*V+50)/100);he=Math.min(Math.max(he,1),255),a[Q[Be]]=he}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Ge=0;Ge<8;Ge++)for(var qe=0;qe<8;qe++)l[Pe]=1/(o[Q[Pe]]*Ce[Ge]*Ce[qe]*8),u[Pe]=1/(a[Q[Pe]]*Ce[Ge]*Ce[qe]*8),Pe++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,V){V&&me(V),C=new Array,x=0,v=7,ne(65496),ne(65504),ne(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),ne(1),ne(1),z(0),z(0),function(){ne(65499),ne(132),z(0);for(var Ye=0;Ye<64;Ye++)z(o[Ye]);z(1);for(var je=0;je<64;je++)z(a[je])}(),function(Ye,je){ne(65472),ne(17),z(8),ne(je),ne(Ye),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(O.width,O.height),function(){ne(65476),ne(418),z(0);for(var Ye=0;Ye<16;Ye++)z(I[Ye+1]);for(var je=0;je<=11;je++)z(b[je]);z(16);for(var Gt=0;Gt<16;Gt++)z(R[Gt+1]);for(var bt=0;bt<=161;bt++)z(S[bt]);z(1);for(var ot=0;ot<16;ot++)z(U[ot+1]);for(var Ft=0;Ft<=11;Ft++)z(N[Ft]);z(17);for(var Bt=0;Bt<16;Bt++)z(X[Bt+1]);for(var lt=0;lt<=161;lt++)z(ue[lt])}(),ne(65498),ne(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var $=0,re=0,Ae=0;x=0,v=7,this.encode.displayName="_encode_";for(var ce,Be,he,Ce,Pe,Ge,qe,Ee,ee,Nt=O.data,Ie=O.width,Oe=O.height,be=4*Ie,He=0;He<Oe;){for(ce=0;ce<be;){for(Pe=be*He+ce,qe=-1,Ee=0,ee=0;ee<64;ee++)Ge=Pe+(Ee=ee>>3)*be+(qe=4*(7&ee)),He+Ee>=Oe&&(Ge-=be*(He+1+Ee-Oe)),ce+qe>=be&&(Ge-=ce+qe-be+4),Be=Nt[Ge++],he=Nt[Ge++],Ce=Nt[Ge++],E[ee]=(M[Be]+M[he+256|0]+M[Ce+512|0]>>16)-128,F[ee]=(M[Be+768|0]+M[he+1024|0]+M[Ce+1280|0]>>16)-128,P[ee]=(M[Be+1280|0]+M[he+1536|0]+M[Ce+1792|0]>>16)-128;$=fe(E,l,$,e,n),re=fe(F,u,re,r,i),Ae=fe(P,u,Ae,r,i),ce+=32}He+=8}if(v>=0){var Ne=[];Ne[1]=v+1,Ne[0]=(1<<v+1)-1,se(Ne)}return ne(65497),new Uint8Array(C)},t=t||50,function(){for(var O=String.fromCharCode,V=0;V<256;V++)K[V]=O(V)}(),e=le(I,b),r=le(U,N),n=le(R,S),i=le(X,ue),function(){for(var O=1,V=2,$=1;$<=15;$++){for(var re=O;re<V;re++)g[32767+re]=$,d[32767+re]=[],d[32767+re][1]=$,d[32767+re][0]=re;for(var Ae=-(V-1);Ae<=-O;Ae++)g[32767+Ae]=$,d[32767+Ae]=[],d[32767+Ae][1]=$,d[32767+Ae][0]=V-1+Ae;O<<=1,V<<=1}}(),function(){for(var O=0;O<256;O++)M[O]=19595*O,M[O+256|0]=38470*O,M[O+512|0]=7471*O+32768,M[O+768|0]=-11059*O,M[O+1024|0]=-21709*O,M[O+1280|0]=32768*O+8421375,M[O+1536|0]=-27439*O,M[O+1792|0]=-5329*O}(),me(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function cA(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function i4(t){function e(b){if(!b)throw Error("assert :P")}function r(b,R,S){for(var U=0;4>U;U++)if(b[R+U]!=S.charCodeAt(U))return!0;return!1}function n(b,R,S,U,N){for(var X=0;X<N;X++)b[R+X]=S[U+X]}function i(b,R,S,U){for(var N=0;N<U;N++)b[R+N]=S}function s(b){return new Int32Array(b)}function A(b,R){for(var S=[],U=0;U<b;U++)S.push(new R);return S}function o(b,R){var S=[];return function U(N,X,ue){for(var le=ue[X],se=0;se<le&&(N.push(ue.length>X+1?[]:new R),!(ue.length<X+1));se++)U(N[se],X+1,ue)}(S,0,b),S}var a=function(){var b=this;function R(c,p){for(var y=1<<p-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function S(c,p,y,T,D){e(!(T%y));do c[p+(T-=y)]=D;while(0<T)}function U(c,p,y,T,D){if(e(2328>=D),512>=D)var H=s(512);else if((H=s(D))==null)return 0;return function(j,G,W,J,oe,ve){var Z,ae,ge=G,xe=1<<W,we=s(16),Se=s(16);for(e(oe!=0),e(J!=null),e(j!=null),e(0<W),ae=0;ae<oe;++ae){if(15<J[ae])return 0;++we[J[ae]]}if(we[0]==oe)return 0;for(Se[1]=0,Z=1;15>Z;++Z){if(we[Z]>1<<Z)return 0;Se[Z+1]=Se[Z]+we[Z]}for(ae=0;ae<oe;++ae)Z=J[ae],0<J[ae]&&(ve[Se[Z]++]=ae);if(Se[15]==1)return(J=new N).g=0,J.value=ve[0],S(j,ge,1,xe,J),xe;var Ue,ke=-1,Le=xe-1,ut=0,Ze=1,Qt=1,it=1<<W;for(ae=0,Z=1,oe=2;Z<=W;++Z,oe<<=1){if(Ze+=Qt<<=1,0>(Qt-=we[Z]))return 0;for(;0<we[Z];--we[Z])(J=new N).g=Z,J.value=ve[ae++],S(j,ge+ut,oe,it,J),ut=R(ut,Z)}for(Z=W+1,oe=2;15>=Z;++Z,oe<<=1){if(Ze+=Qt<<=1,0>(Qt-=we[Z]))return 0;for(;0<we[Z];--we[Z]){if(J=new N,(ut&Le)!=ke){for(ge+=it,Ue=1<<(ke=Z)-W;15>ke&&!(0>=(Ue-=we[ke]));)++ke,Ue<<=1;xe+=it=1<<(Ue=ke-W),j[G+(ke=ut&Le)].g=Ue+W,j[G+ke].value=ge-G-ke}J.g=Z-W,J.value=ve[ae++],S(j,ge+(ut>>W),oe,it,J),ut=R(ut,Z)}}return Ze!=2*Se[15]-1?0:xe}(c,p,y,T,D,H)}function N(){this.value=this.g=0}function X(){this.value=this.g=0}function ue(){this.G=A(5,N),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(jA,X)}function le(c,p,y,T){e(c!=null),e(p!=null),e(2147483648>T),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=p,c.pa=y,c.Jd=p,c.Yc=y+T,c.Zc=4<=T?y+T-4+1:y,Be(c)}function se(c,p){for(var y=0;0<p--;)y|=Ce(c,128)<<p;return y}function z(c,p){var y=se(c,p);return he(c)?-y:y}function ne(c,p,y,T){var D,H=0;for(e(c!=null),e(p!=null),e(4294967288>T),c.Sb=T,c.Ra=0,c.u=0,c.h=0,4<T&&(T=4),D=0;D<T;++D)H+=p[y+D]<<8*D;c.Ra=H,c.bb=T,c.oa=p,c.pa=y}function fe(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<wa-8>>>0,++c.bb,c.u-=8;re(c)&&(c.h=1,c.u=0)}function me(c,p){if(e(0<=p),!c.h&&p<=Mh){var y=$(c)&ma[p];return c.u+=p,fe(c),y}return c.h=1,c.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(c){return c.Ra>>>(c.u&wa-1)>>>0}function re(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>wa}function Ae(c,p){c.u=p,c.h=re(c)}function ce(c){c.u>=un&&(e(c.u>=un),fe(c))}function Be(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function he(c){return se(c,1)}function Ce(c,p){var y=c.Ca;0>c.b&&Be(c);var T=c.b,D=y*p>>>8,H=(c.I>>>T>D)+0;for(H?(y-=D,c.I-=D+1<<T>>>0):y=D+1,T=y,D=0;256<=T;)D+=8,T>>=8;return T=7^D+Uw[T],c.b-=T,c.Ca=(y<<T)-1,H}function Pe(c,p,y){c[p+0]=y>>24&255,c[p+1]=y>>16&255,c[p+2]=y>>8&255,c[p+3]=255&y}function Ge(c,p){return c[p+0]|c[p+1]<<8}function qe(c,p){return Ge(c,p)|c[p+2]<<16}function Ee(c,p){return Ge(c,p)|Ge(c,p+2)<<16}function ee(c,p){var y=1<<p;return e(c!=null),e(0<p),c.X=s(y),c.X==null?0:(c.Mb=32-p,c.Xa=p,1)}function Nt(c,p){e(c!=null),e(p!=null),e(c.Xa==p.Xa),n(p.X,0,c.X,0,1<<p.Xa)}function Ie(){this.X=[],this.Xa=this.Mb=0}function Oe(c,p,y,T){e(y!=null),e(T!=null);var D=y[0],H=T[0];return D==0&&(D=(c*H+p/2)/p),H==0&&(H=(p*D+c/2)/c),0>=D||0>=H?0:(y[0]=D,T[0]=H,1)}function be(c,p){return c+(1<<p)-1>>>p}function He(c,p){return((4278255360&c)+(4278255360&p)>>>0&4278255360)+((16711935&c)+(16711935&p)>>>0&16711935)>>>0}function Ne(c,p){b[p]=function(y,T,D,H,j,G,W){var J;for(J=0;J<j;++J){var oe=b[c](G[W+J-1],D,H+J);G[W+J]=He(y[T+J],oe)}}}function Ye(){this.ud=this.hd=this.jd=0}function je(c,p){return((4278124286&(c^p))>>>1)+(c&p)>>>0}function Gt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function bt(c,p){return Gt(c+(c-p+.5>>1))}function ot(c,p,y){return Math.abs(p-y)-Math.abs(c-y)}function Ft(c,p,y,T,D,H,j){for(T=H[j-1],y=0;y<D;++y)H[j+y]=T=He(c[p+y],T)}function Bt(c,p,y,T,D){var H;for(H=0;H<y;++H){var j=c[p+H],G=j>>8&255,W=16711935&(W=(W=16711935&j)+((G<<16)+G));T[D+H]=(4278255360&j)+W>>>0}}function lt(c,p){p.jd=255&c,p.hd=c>>8&255,p.ud=c>>16&255}function gt(c,p,y,T,D,H){var j;for(j=0;j<T;++j){var G=p[y+j],W=G>>>8,J=G,oe=255&(oe=(oe=G>>>16)+((c.jd<<24>>24)*(W<<24>>24)>>>5));J=255&(J=(J+=(c.hd<<24>>24)*(W<<24>>24)>>>5)+((c.ud<<24>>24)*(oe<<24>>24)>>>5)),D[H+j]=(4278255360&G)+(oe<<16)+J}}function ct(c,p,y,T,D){b[p]=function(H,j,G,W,J,oe,ve,Z,ae){for(W=ve;W<Z;++W)for(ve=0;ve<ae;++ve)J[oe++]=D(G[T(H[j++])])},b[c]=function(H,j,G,W,J,oe,ve){var Z=8>>H.b,ae=H.Ea,ge=H.K[0],xe=H.w;if(8>Z)for(H=(1<<H.b)-1,xe=(1<<Z)-1;j<G;++j){var we,Se=0;for(we=0;we<ae;++we)we&H||(Se=T(W[J++])),oe[ve++]=D(ge[Se&xe]),Se>>=Z}else b["VP8LMapColor"+y](W,J,ge,xe,oe,ve,j,G,ae)}}function Zt(c,p,y,T,D){for(y=p+y;p<y;){var H=c[p++];T[D++]=H>>16&255,T[D++]=H>>8&255,T[D++]=255&H}}function Wt(c,p,y,T,D){for(y=p+y;p<y;){var H=c[p++];T[D++]=H>>16&255,T[D++]=H>>8&255,T[D++]=255&H,T[D++]=H>>24&255}}function nt(c,p,y,T,D){for(y=p+y;p<y;){var H=(j=c[p++])>>16&240|j>>12&15,j=240&j|j>>28&15;T[D++]=H,T[D++]=j}}function _t(c,p,y,T,D){for(y=p+y;p<y;){var H=(j=c[p++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;T[D++]=H,T[D++]=j}}function Ar(c,p,y,T,D){for(y=p+y;p<y;){var H=c[p++];T[D++]=255&H,T[D++]=H>>8&255,T[D++]=H>>16&255}}function pt(c,p,y,T,D,H){if(H==0)for(y=p+y;p<y;)Pe(T,((H=c[p++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),D+=32;else n(T,D,c,p,y)}function Pt(c,p){b[p][0]=b[c+"0"],b[p][1]=b[c+"1"],b[p][2]=b[c+"2"],b[p][3]=b[c+"3"],b[p][4]=b[c+"4"],b[p][5]=b[c+"5"],b[p][6]=b[c+"6"],b[p][7]=b[c+"7"],b[p][8]=b[c+"8"],b[p][9]=b[c+"9"],b[p][10]=b[c+"10"],b[p][11]=b[c+"11"],b[p][12]=b[c+"12"],b[p][13]=b[c+"13"],b[p][14]=b[c+"0"],b[p][15]=b[c+"0"]}function It(c){return c==Lw||c==Pw||c==Up||c==Rw}function kr(){this.eb=[],this.size=this.A=this.fb=0}function Tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kr,this.f.kb=new Tr,this.sd=null}function wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function SA(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function on(c,p){var y=c.T,T=p.ba.f.RGBA,D=T.eb,H=T.fb+c.ka*T.A,j=ks[p.ba.S],G=c.y,W=c.O,J=c.f,oe=c.N,ve=c.ea,Z=c.W,ae=p.cc,ge=p.dc,xe=p.Mc,we=p.Nc,Se=c.ka,Ue=c.ka+c.T,ke=c.U,Le=ke+1>>1;for(Se==0?j(G,W,null,null,J,oe,ve,Z,J,oe,ve,Z,D,H,null,null,ke):(j(p.ec,p.fc,G,W,ae,ge,xe,we,J,oe,ve,Z,D,H-T.A,D,H,ke),++y);Se+2<Ue;Se+=2)ae=J,ge=oe,xe=ve,we=Z,oe+=c.Rc,Z+=c.Rc,H+=2*T.A,j(G,(W+=2*c.fa)-c.fa,G,W,ae,ge,xe,we,J,oe,ve,Z,D,H-T.A,D,H,ke);return W+=c.fa,c.j+Ue<c.o?(n(p.ec,p.fc,G,W,ke),n(p.cc,p.dc,J,oe,Le),n(p.Mc,p.Nc,ve,Z,Le),y--):1&Ue||j(G,W,null,null,J,oe,ve,Z,J,oe,ve,Z,D,H+T.A,null,null,ke),y}function Ts(c,p,y){var T=c.F,D=[c.J];if(T!=null){var H=c.U,j=p.ba.S,G=j==Tp||j==Up;p=p.ba.f.RGBA;var W=[0],J=c.ka;W[0]=c.T,c.Kb&&(J==0?--W[0]:(--J,D[0]-=c.width),c.j+c.ka+c.T==c.o&&(W[0]=c.o-c.j-J));var oe=p.eb;J=p.fb+J*p.A,c=u5(T,D[0],c.width,H,W,oe,J+(G?0:3),p.A),e(y==W),c&&It(j)&&Kh(oe,J,G,H,W,p.A)}return 0}function ai(c){var p=c.ma,y=p.ba.S,T=11>y,D=y==Fp||y==Sp||y==Tp||y==Qw||y==12||It(y);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!Gi(p.Oa,c,D?11:12))return 0;if(D&&It(y)&&ga(),c.da)alert("todo:use_scaling");else{if(T){if(p.Ib=SA,c.Kb){if(y=c.U+1>>1,p.memory=s(c.U+2*y),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+c.U,p.Mc=p.cc,p.Nc=p.dc+y,p.Ib=on,ga()}}else alert("todo:EmitYUV");D&&(p.Jb=Ts,T&&ln())}if(T&&!I5){for(c=0;256>c;++c)X3[c]=89858*(c-128)+Qp>>Np,Z3[c]=-22014*(c-128)+Qp,J3[c]=-45773*(c-128),Y3[c]=113618*(c-128)+Qp>>Np;for(c=qh;c<Ow;++c)p=76283*(c-16)+Qp>>Np,eL[c-qh]=Ht(p,255),tL[c-qh]=Ht(p+8>>4,15);I5=1}return 1}function ft(c){var p=c.ma,y=c.U,T=c.T;return e(!(1&c.ka)),0>=y||0>=T?0:(y=p.Ib(c,p),p.Jb!=null&&p.Jb(c,p,y),p.Dc+=y,1)}function Ur(c){c.ma.memory=null}function Us(c,p,y,T){return me(c,8)!=47?0:(p[0]=me(c,14)+1,y[0]=me(c,14)+1,T[0]=me(c,1),me(c,3)!=0?0:!c.h)}function kn(c,p){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+me(p,y)+1}function Dn(c,p){return 120<p?p-120:1<=(y=((y=R3[p-1])>>4)*c+(8-(15&y)))?y:1;var y}function Dr(c,p,y){var T=$(y),D=c[p+=255&T].g-8;return 0<D&&(Ae(y,y.u+8),T=$(y),p+=c[p].value,p+=T&(1<<D)-1),Ae(y,y.u+c[p].g),c[p].value}function _n(c,p,y){return y.g+=c.g,y.value+=c.value<<p>>>0,e(8>=y.g),c.g}function Or(c,p,y){var T=c.xc;return e((p=T==0?0:c.vc[c.md*(y>>T)+(p>>T)])<c.Wb),c.Ya[p]}function ho(c,p,y,T){var D=c.ab,H=c.c*p,j=c.C;p=j+p;var G=y,W=T;for(T=c.Ta,y=c.Ua;0<D--;){var J=c.gc[D],oe=j,ve=p,Z=G,ae=W,ge=(W=T,G=y,J.Ea);switch(e(oe<ve),e(ve<=J.nc),J.hc){case 2:Xu(Z,ae,(ve-oe)*ge,W,G);break;case 0:var xe=oe,we=ve,Se=W,Ue=G,ke=(it=J).Ea;xe==0&&(KA(Z,ae,null,null,1,Se,Ue),Ft(Z,ae+1,0,0,ke-1,Se,Ue+1),ae+=ke,Ue+=ke,++xe);for(var Le=1<<it.b,ut=Le-1,Ze=be(ke,it.b),Qt=it.K,it=it.w+(xe>>it.b)*Ze;xe<we;){var zt=Qt,Fn=it,Lt=1;for(GA(Z,ae,Se,Ue-ke,1,Se,Ue);Lt<ke;){var st=(Lt&~ut)+Le;st>ke&&(st=ke),(0,Kl[zt[Fn++]>>8&15])(Z,ae+ +Lt,Se,Ue+Lt-ke,st-Lt,Se,Ue+Lt),Lt=st}ae+=ke,Ue+=ke,++xe&ut||(it+=Ze)}ve!=J.nc&&n(W,G-ge,W,G+(ve-oe-1)*ge,ge);break;case 1:for(ge=Z,we=ae,ke=(Z=J.Ea)-(Ue=Z&~(Se=(ae=1<<J.b)-1)),xe=be(Z,J.b),Le=J.K,J=J.w+(oe>>J.b)*xe;oe<ve;){for(ut=Le,Ze=J,Qt=new Ye,it=we+Ue,zt=we+Z;we<it;)lt(ut[Ze++],Qt),Co(Qt,ge,we,ae,W,G),we+=ae,G+=ae;we<zt&&(lt(ut[Ze++],Qt),Co(Qt,ge,we,ke,W,G),we+=ke,G+=ke),++oe&Se||(J+=xe)}break;case 3:if(Z==W&&ae==G&&0<J.b){for(we=W,Z=ge=G+(ve-oe)*ge-(Ue=(ve-oe)*be(J.Ea,J.b)),ae=W,Se=G,xe=[],Ue=(ke=Ue)-1;0<=Ue;--Ue)xe[Ue]=ae[Se+Ue];for(Ue=ke-1;0<=Ue;--Ue)we[Z+Ue]=xe[Ue];Hh(J,oe,ve,W,ge,W,G)}else Hh(J,oe,ve,Z,ae,W,G)}G=T,W=y}W!=y&&n(T,y,G,W,H)}function TA(c,p){var y=c.V,T=c.Ba+c.c*c.C,D=p-c.C;if(e(p<=c.l.o),e(16>=D),0<D){var H=c.l,j=c.Ta,G=c.Ua,W=H.width;if(ho(c,D,y,T),D=G=[G],e((y=c.C)<(T=p)),e(H.v<H.va),T>H.o&&(T=H.o),y<H.j){var J=H.j-y;y=H.j,D[0]+=J*W}if(y>=T?y=0:(D[0]+=4*H.v,H.ka=y-H.j,H.U=H.va-H.v,H.T=T-y,y=1),y){if(G=G[0],11>(y=c.ca).S){var oe=y.f.RGBA,ve=(T=y.S,D=H.U,H=H.T,J=oe.eb,oe.A),Z=H;for(oe=oe.fb+c.Ma*oe.A;0<Z--;){var ae=j,ge=G,xe=D,we=J,Se=oe;switch(T){case xp:Vh(ae,ge,xe,we,Se);break;case Fp:cs(ae,ge,xe,we,Se);break;case Lw:cs(ae,ge,xe,we,Se),Kh(we,Se,0,xe,1,0);break;case m5:Ir(ae,ge,xe,we,Se);break;case Sp:pt(ae,ge,xe,we,Se,1);break;case Pw:pt(ae,ge,xe,we,Se,1),Kh(we,Se,0,xe,1,0);break;case Tp:pt(ae,ge,xe,we,Se,0);break;case Up:pt(ae,ge,xe,we,Se,0),Kh(we,Se,1,xe,1,0);break;case Qw:qA(ae,ge,xe,we,Se);break;case Rw:qA(ae,ge,xe,we,Se),l5(we,Se,xe,1,0);break;case w5:br(ae,ge,xe,we,Se);break;default:e(0)}G+=W,oe+=ve}c.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=p,e(c.C<=c.i)}function li(c){var p;if(0<c.ua)return 0;for(p=0;p<c.Wb;++p){var y=c.Ya[p].G,T=c.Ya[p].H;if(0<y[1][T[1]+0].g||0<y[2][T[2]+0].g||0<y[3][T[3]+0].g)return 0}return 1}function ss(c,p,y,T,D,H){if(c.Z!=0){var j=c.qd,G=c.rd;for(e(ya[c.Z]!=null);p<y;++p)ya[c.Z](j,G,T,D,T,D,H),j=T,G=D,D+=H;c.qd=j,c.rd=G}}function bi(c,p){var y=c.l.ma,T=y.Z==0||y.Z==1?c.l.j:c.C;if(T=c.C<T?T:c.C,e(p<=c.l.o),p>T){var D=c.l.width,H=y.ca,j=y.tb+D*T,G=c.V,W=c.Ba+c.c*T,J=c.gc;e(c.ab==1),e(J[0].hc==3),Ju(J[0],T,p,G,W,H,j),ss(y,T,p,H,j,D)}c.C=c.Ma=p}function ui(c,p,y,T,D,H,j){var G=c.$/T,W=c.$%T,J=c.m,oe=c.s,ve=y+c.$,Z=ve;D=y+T*D;var ae=y+T*H,ge=280+oe.ua,xe=c.Pb?G:16777216,we=0<oe.ua?oe.Wa:null,Se=oe.wc,Ue=ve<ae?Or(oe,W,G):null;e(c.C<H),e(ae<=D);var ke=!1;e:for(;;){for(;ke||ve<ae;){var Le=0;if(G>=xe){var ut=ve-y;e((xe=c).Pb),xe.wd=xe.m,xe.xd=ut,0<xe.s.ua&&Nt(xe.s.Wa,xe.s.vb),xe=G+D3}if(W&Se||(Ue=Or(oe,W,G)),e(Ue!=null),Ue.Qb&&(p[ve]=Ue.qb,ke=!0),!ke)if(ce(J),Ue.jc){Le=J,ut=p;var Ze=ve,Qt=Ue.pd[$(Le)&jA-1];e(Ue.jc),256>Qt.g?(Ae(Le,Le.u+Qt.g),ut[Ze]=Qt.value,Le=0):(Ae(Le,Le.u+Qt.g-256),e(256<=Qt.value),Le=Qt.value),Le==0&&(ke=!0)}else Le=Dr(Ue.G[0],Ue.H[0],J);if(J.h)break;if(ke||256>Le){if(!ke)if(Ue.nd)p[ve]=(Ue.qb|Le<<8)>>>0;else{if(ce(J),ke=Dr(Ue.G[1],Ue.H[1],J),ce(J),ut=Dr(Ue.G[2],Ue.H[2],J),Ze=Dr(Ue.G[3],Ue.H[3],J),J.h)break;p[ve]=(Ze<<24|ke<<16|Le<<8|ut)>>>0}if(ke=!1,++ve,++W>=T&&(W=0,++G,j!=null&&G<=H&&!(G%16)&&j(c,G),we!=null))for(;Z<ve;)Le=p[Z++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le}else if(280>Le){if(Le=kn(Le-256,J),ut=Dr(Ue.G[4],Ue.H[4],J),ce(J),ut=Dn(T,ut=kn(ut,J)),J.h)break;if(ve-y<ut||D-ve<Le)break e;for(Ze=0;Ze<Le;++Ze)p[ve+Ze]=p[ve+Ze-ut];for(ve+=Le,W+=Le;W>=T;)W-=T,++G,j!=null&&G<=H&&!(G%16)&&j(c,G);if(e(ve<=D),W&Se&&(Ue=Or(oe,W,G)),we!=null)for(;Z<ve;)Le=p[Z++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le}else{if(!(Le<ge))break e;for(ke=Le-280,e(we!=null);Z<ve;)Le=p[Z++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le;Le=ve,e(!(ke>>>(ut=we).Xa)),p[Le]=ut.X[ke],ke=!0}ke||e(J.h==re(J))}if(c.Pb&&J.h&&ve<D)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Nt(c.s.vb,c.s.Wa);else{if(J.h)break e;j!=null&&j(c,G>H?H:G),c.a=0,c.$=ve-y}return 1}return c.a=3,0}function an(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var p=c.Wa;p!=null&&(p.X=null),c.vb=null,e(c!=null)}function UA(){var c=new Er;return c==null?null:(c.a=0,c.xb=B5,Pt("Predictor","VP8LPredictors"),Pt("Predictor","VP8LPredictors_C"),Pt("PredictorAdd","VP8LPredictorsAdd"),Pt("PredictorAdd","VP8LPredictorsAdd_C"),Xu=Bt,Co=gt,Vh=Zt,cs=Wt,qA=nt,br=_t,Ir=Ar,b.VP8LMapColor32b=Yu,b.VP8LMapColor8b=jl,c)}function As(c,p,y,T,D){var H=1,j=[c],G=[p],W=T.m,J=T.s,oe=null,ve=0;e:for(;;){if(y)for(;H&&me(W,1);){var Z=j,ae=G,ge=T,xe=1,we=ge.m,Se=ge.gc[ge.ab],Ue=me(we,2);if(ge.Oc&1<<Ue)H=0;else{switch(ge.Oc|=1<<Ue,Se.hc=Ue,Se.Ea=Z[0],Se.nc=ae[0],Se.K=[null],++ge.ab,e(4>=ge.ab),Ue){case 0:case 1:Se.b=me(we,3)+2,xe=As(be(Se.Ea,Se.b),be(Se.nc,Se.b),0,ge,Se.K),Se.K=Se.K[0];break;case 3:var ke,Le=me(we,8)+1,ut=16<Le?0:4<Le?1:2<Le?2:3;if(Z[0]=be(Se.Ea,ut),Se.b=ut,ke=xe=As(Le,1,0,ge,Se.K)){var Ze,Qt=Le,it=Se,zt=1<<(8>>it.b),Fn=s(zt);if(Fn==null)ke=0;else{var Lt=it.K[0],st=it.w;for(Fn[0]=it.K[0][0],Ze=1;Ze<1*Qt;++Ze)Fn[Ze]=He(Lt[st+Ze],Fn[Ze-1]);for(;Ze<4*zt;++Ze)Fn[Ze]=0;it.K[0]=null,it.K[0]=Fn,ke=1}}xe=ke;break;case 2:break;default:e(0)}H=xe}}if(j=j[0],G=G[0],H&&me(W,1)&&!(H=1<=(ve=me(W,4))&&11>=ve)){T.a=3;break e}var Ke;if(Ke=H)t:{var dn,Tt,$t,Qr=T,zn=j,Si=G,tn=ve,hi=y,Ti=Qr.m,Sn=Qr.s,Yt=[null],lr=1,rn=0,ur=k3[tn];r:for(;;){if(hi&&me(Ti,1)){var Wn=me(Ti,3)+2,aA=be(zn,Wn),fn=be(Si,Wn),zi=aA*fn;if(!As(aA,fn,0,Qr,Yt))break r;for(Yt=Yt[0],Sn.xc=Wn,dn=0;dn<zi;++dn){var _r=Yt[dn]>>8&65535;Yt[dn]=_r,_r>=lr&&(lr=_r+1)}}if(Ti.h)break r;for(Tt=0;5>Tt;++Tt){var Tn=v5[Tt];!Tt&&0<tn&&(Tn+=1<<tn),rn<Tn&&(rn=Tn)}var ds=A(lr*ur,N),Ui=lr,fs=A(Ui,ue);if(fs==null)var ps=null;else e(65536>=Ui),ps=fs;var Wi=s(rn);if(ps==null||Wi==null||ds==null){Qr.a=1;break r}var gs=ds;for(dn=$t=0;dn<lr;++dn){var xr=ps[dn],ms=xr.G,lA=xr.H,Gl=0,Io=1,$n=0;for(Tt=0;5>Tt;++Tt){Tn=v5[Tt],ms[Tt]=gs,lA[Tt]=$t,!Tt&&0<tn&&(Tn+=1<<tn);i:{var Pp,Mw=Tn,Rp=Qr,zh=Wi,iL=gs,sL=$t,Hw=0,Ba=Rp.m,AL=me(Ba,1);if(i(zh,0,0,Mw),AL){var oL=me(Ba,1)+1,aL=me(Ba,1),S5=me(Ba,aL==0?1:8);zh[S5]=1,oL==2&&(zh[S5=me(Ba,8)]=1);var kp=1}else{var T5=s(19),U5=me(Ba,4)+4;if(19<U5){Rp.a=3;var Dp=0;break i}for(Pp=0;Pp<U5;++Pp)T5[P3[Pp]]=me(Ba,3);var Vw=void 0,Wh=void 0,N5=Rp,lL=T5,Op=Mw,Q5=zh,jw=0,_a=N5.m,L5=8,P5=A(128,N);n:for(;U(P5,0,7,lL,19);){if(me(_a,1)){var uL=2+2*me(_a,3);if((Vw=2+me(_a,uL))>Op)break n}else Vw=Op;for(Wh=0;Wh<Op&&Vw--;){ce(_a);var R5=P5[0+(127&$(_a))];Ae(_a,_a.u+R5.g);var ec=R5.value;if(16>ec)Q5[Wh++]=ec,ec!=0&&(L5=ec);else{var cL=ec==16,k5=ec-16,hL=Q3[k5],D5=me(_a,N3[k5])+hL;if(Wh+D5>Op)break n;for(var dL=cL?L5:0;0<D5--;)Q5[Wh++]=dL}}jw=1;break n}jw||(N5.a=3),kp=jw}(kp=kp&&!Ba.h)&&(Hw=U(iL,sL,8,zh,Mw)),kp&&Hw!=0?Dp=Hw:(Rp.a=3,Dp=0)}if(Dp==0)break r;if(Io&&L3[Tt]==1&&(Io=gs[$t].g==0),Gl+=gs[$t].g,$t+=Dp,3>=Tt){var $h,Kw=Wi[0];for($h=1;$h<Tn;++$h)Wi[$h]>Kw&&(Kw=Wi[$h]);$n+=Kw}}if(xr.nd=Io,xr.Qb=0,Io&&(xr.qb=(ms[3][lA[3]+0].value<<24|ms[1][lA[1]+0].value<<16|ms[2][lA[2]+0].value)>>>0,Gl==0&&256>ms[0][lA[0]+0].value&&(xr.Qb=1,xr.qb+=ms[0][lA[0]+0].value<<8)),xr.jc=!xr.Qb&&6>$n,xr.jc){var Mp,xo=xr;for(Mp=0;Mp<jA;++Mp){var Ca=Mp,Ea=xo.pd[Ca],Hp=xo.G[0][xo.H[0]+Ca];256<=Hp.value?(Ea.g=Hp.g+256,Ea.value=Hp.value):(Ea.g=0,Ea.value=0,Ca>>=_n(Hp,8,Ea),Ca>>=_n(xo.G[1][xo.H[1]+Ca],16,Ea),Ca>>=_n(xo.G[2][xo.H[2]+Ca],0,Ea),_n(xo.G[3][xo.H[3]+Ca],24,Ea))}}}Sn.vc=Yt,Sn.Wb=lr,Sn.Ya=ps,Sn.yc=ds,Ke=1;break t}Ke=0}if(!(H=Ke)){T.a=3;break e}if(0<ve){if(J.ua=1<<ve,!ee(J.Wa,ve)){T.a=1,H=0;break e}}else J.ua=0;var Gw=T,O5=j,fL=G,qw=Gw.s,zw=qw.xc;if(Gw.c=O5,Gw.i=fL,qw.md=be(O5,zw),qw.wc=zw==0?-1:(1<<zw)-1,y){T.xb=G3;break e}if((oe=s(j*G))==null){T.a=1,H=0;break e}H=(H=ui(T,oe,0,j,G,G,null))&&!W.h;break e}return H?(D!=null?D[0]=oe:(e(oe==null),e(y)),T.$=0,y||an(J)):an(J),H}function rA(c,p){var y=c.c*c.i,T=y+p+16*p;return e(c.c<=p),c.V=s(T),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+p,1)}function NA(c,p){var y=c.C,T=p-y,D=c.V,H=c.Ba+c.c*y;for(e(p<=c.l.o);0<T;){var j=16<T?16:T,G=c.l.ma,W=c.l.width,J=W*j,oe=G.ca,ve=G.tb+W*y,Z=c.Ta,ae=c.Ua;ho(c,j,D,H),c5(Z,ae,oe,ve,J),ss(G,y,y+j,oe,ve,W),T-=j,D+=j*c.c,y+=j}e(y==p),c.C=c.Ma=p}function fo(){this.ub=this.yd=this.td=this.Rb=0}function po(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qh(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function QA(){this.Yb=function(){var c=[];return function p(y,T,D){for(var H=D[T],j=0;j<H&&(y.push(D.length>T+1?[]:0),!(D.length<T+1));j++)p(y[j],T+1,D)}(c,0,[3,11]),c}()}function Ul(){this.jb=s(3),this.Wc=o([4,8],QA),this.Xc=o([4,17],QA)}function oa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function On(){this.ld=this.La=this.dd=this.tc=0}function os(){this.Na=this.la=0}function aa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Nl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ql(){this.uc=this.M=this.Nb=0,this.wa=Array(new On),this.Y=0,this.ya=Array(new Nl),this.aa=0,this.l=new LA}function Ll(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Pl(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new fo,this.Kc=new po,this.ed=new oa,this.Qa=new Qh,this.Ic=this.$c=this.Aa=0,this.D=new Ql,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,O),this.ia=0,this.pb=A(4,aa),this.Pa=new Ul,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ll),this.Hd=0,this.rb=Array(new os),this.sb=0,this.wa=Array(new On),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Nl),this.L=this.aa=0,this.gd=o([4,2],On),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function LA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rl(){var c=new Pl;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Gh||(Gh=nA)),c}function $r(c,p,y){return c.a==0&&(c.a=p,c.sc=y,c.cb=0),0}function kl(c,p,y){return 3<=y&&c[p+0]==157&&c[p+1]==1&&c[p+2]==42}function qu(c,p){if(c==null)return 0;if(c.a=0,c.sc="OK",p==null)return $r(c,2,"null VP8Io passed to VP8GetHeaders()");var y=p.data,T=p.w,D=p.ha;if(4>D)return $r(c,7,"Truncated header.");var H=y[T+0]|y[T+1]<<8|y[T+2]<<16,j=c.Od;if(j.Rb=!(1&H),j.td=H>>1&7,j.yd=H>>4&1,j.ub=H>>5,3<j.td)return $r(c,3,"Incorrect keyframe parameters.");if(!j.yd)return $r(c,4,"Frame not displayable.");T+=3,D-=3;var G=c.Kc;if(j.Rb){if(7>D)return $r(c,7,"cannot parse picture header");if(!kl(y,T,D))return $r(c,3,"Bad code word");G.c=16383&(y[T+4]<<8|y[T+3]),G.Td=y[T+4]>>6,G.i=16383&(y[T+6]<<8|y[T+5]),G.Ud=y[T+6]>>6,T+=7,D-=7,c.za=G.c+15>>4,c.Ub=G.i+15>>4,p.width=G.c,p.height=G.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((H=c.Pa).jb,0,255,H.jb.length),e((H=c.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(j.ub>D)return $r(c,7,"bad partition length");le(H=c.m,y,T,j.ub),T+=j.ub,D-=j.ub,j.Rb&&(G.Ld=he(H),G.Kd=he(H)),G=c.Qa;var W,J=c.Pa;if(e(H!=null),e(G!=null),G.Cb=he(H),G.Cb){if(G.Bb=he(H),he(H)){for(G.Fb=he(H),W=0;4>W;++W)G.Zb[W]=he(H)?z(H,7):0;for(W=0;4>W;++W)G.Lb[W]=he(H)?z(H,6):0}if(G.Bb)for(W=0;3>W;++W)J.jb[W]=he(H)?se(H,8):255}else G.Bb=0;if(H.Ka)return $r(c,3,"cannot parse segment header");if((G=c.ed).zd=he(H),G.Tb=se(H,6),G.wb=se(H,3),G.Pc=he(H),G.Pc&&he(H)){for(J=0;4>J;++J)he(H)&&(G.vd[J]=z(H,6));for(J=0;4>J;++J)he(H)&&(G.od[J]=z(H,6))}if(c.L=G.Tb==0?0:G.zd?1:2,H.Ka)return $r(c,3,"cannot parse filter header");var oe=D;if(D=W=T,T=W+oe,G=oe,c.Xb=(1<<se(c.m,2))-1,oe<3*(J=c.Xb))y=7;else{for(W+=3*J,G-=3*J,oe=0;oe<J;++oe){var ve=y[D+0]|y[D+1]<<8|y[D+2]<<16;ve>G&&(ve=G),le(c.Jc[+oe],y,W,ve),W+=ve,G-=ve,D+=3}le(c.Jc[+J],y,W,G),y=W<T?0:5}if(y!=0)return $r(c,y,"cannot parse partitions");for(y=se(W=c.m,7),D=he(W)?z(W,4):0,T=he(W)?z(W,4):0,G=he(W)?z(W,4):0,J=he(W)?z(W,4):0,W=he(W)?z(W,4):0,oe=c.Qa,ve=0;4>ve;++ve){if(oe.Cb){var Z=oe.Zb[ve];oe.Fb||(Z+=y)}else{if(0<ve){c.pb[ve]=c.pb[0];continue}Z=y}var ae=c.pb[ve];ae.Sc[0]=kw[Ht(Z+D,127)],ae.Sc[1]=Dw[Ht(Z+0,127)],ae.Eb[0]=2*kw[Ht(Z+T,127)],ae.Eb[1]=101581*Dw[Ht(Z+G,127)]>>16,8>ae.Eb[1]&&(ae.Eb[1]=8),ae.Qc[0]=kw[Ht(Z+J,117)],ae.Qc[1]=Dw[Ht(Z+W,127)],ae.lc=Z+W}if(!j.Rb)return $r(c,4,"Not a key frame.");for(he(H),j=c.Pa,y=0;4>y;++y){for(D=0;8>D;++D)for(T=0;3>T;++T)for(G=0;11>G;++G)J=Ce(H,j3[y][D][T][G])?se(H,8):H3[y][D][T][G],j.Wc[y][D].Yb[T][G]=J;for(D=0;17>D;++D)j.Xc[y][D]=j.Wc[y][K3[D]]}return c.kc=he(H),c.kc&&(c.Bd=se(H,8)),c.cb=1}function nA(c,p,y,T,D,H,j){var G=p[D].Yb[y];for(y=0;16>D;++D){if(!Ce(c,G[y+0]))return D;for(;!Ce(c,G[y+1]);)if(G=p[++D].Yb[0],y=0,D==16)return 16;var W=p[D+1].Yb;if(Ce(c,G[y+2])){var J=c,oe=0;if(Ce(J,(Z=G)[(ve=y)+3]))if(Ce(J,Z[ve+6])){for(G=0,ve=2*(oe=Ce(J,Z[ve+8]))+(Z=Ce(J,Z[ve+9+oe])),oe=0,Z=O3[ve];Z[G];++G)oe+=oe+Ce(J,Z[G]);oe+=3+(8<<ve)}else Ce(J,Z[ve+7])?(oe=7+2*Ce(J,165),oe+=Ce(J,145)):oe=5+Ce(J,159);else oe=Ce(J,Z[ve+4])?3+Ce(J,Z[ve+5]):2;G=W[2]}else oe=1,G=W[1];W=j+M3[D],0>(J=c).b&&Be(J);var ve,Z=J.b,ae=(ve=J.Ca>>1)-(J.I>>Z)>>31;--J.b,J.Ca+=ae,J.Ca|=1,J.I-=(ve+1&ae)<<Z,H[W]=((oe^ae)-ae)*T[(0<D)+0]}return 16}function PA(c){var p=c.rb[c.sb-1];p.la=0,p.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Hi(c,p,y,T,D){D=c[p+y+32*T]+(D>>3),c[p+y+32*T]=-256&D?0>D?0:255:D}function go(c,p,y,T,D,H){Hi(c,p,0,y,T+D),Hi(c,p,1,y,T+H),Hi(c,p,2,y,T-H),Hi(c,p,3,y,T-D)}function or(c){return(20091*c>>16)+c}function Ii(c,p,y,T){var D,H=0,j=s(16);for(D=0;4>D;++D){var G=c[p+0]+c[p+8],W=c[p+0]-c[p+8],J=(35468*c[p+4]>>16)-or(c[p+12]),oe=or(c[p+4])+(35468*c[p+12]>>16);j[H+0]=G+oe,j[H+1]=W+J,j[H+2]=W-J,j[H+3]=G-oe,H+=4,p++}for(D=H=0;4>D;++D)G=(c=j[H+0]+4)+j[H+8],W=c-j[H+8],J=(35468*j[H+4]>>16)-or(j[H+12]),Hi(y,T,0,0,G+(oe=or(j[H+4])+(35468*j[H+12]>>16))),Hi(y,T,1,0,W+J),Hi(y,T,2,0,W-J),Hi(y,T,3,0,G-oe),H++,T+=32}function la(c,p,y,T){var D=c[p+0]+4,H=35468*c[p+4]>>16,j=or(c[p+4]),G=35468*c[p+1]>>16;go(y,T,0,D+j,c=or(c[p+1]),G),go(y,T,1,D+H,c,G),go(y,T,2,D-H,c,G),go(y,T,3,D-j,c,G)}function ua(c,p,y,T,D){Ii(c,p,y,T),D&&Ii(c,p+16,y,T+4)}function zu(c,p,y,T){hn(c,p+0,y,T,1),hn(c,p+32,y,T+128,1)}function Mt(c,p,y,T){var D;for(c=c[p+0]+4,D=0;4>D;++D)for(p=0;4>p;++p)Hi(y,T,p,D,c)}function mo(c,p,y,T){c[p+0]&&zA(c,p+0,y,T),c[p+16]&&zA(c,p+16,y,T+4),c[p+32]&&zA(c,p+32,y,T+128),c[p+48]&&zA(c,p+48,y,T+128+4)}function RA(c,p,y,T){var D,H=s(16);for(D=0;4>D;++D){var j=c[p+0+D]+c[p+12+D],G=c[p+4+D]+c[p+8+D],W=c[p+4+D]-c[p+8+D],J=c[p+0+D]-c[p+12+D];H[0+D]=j+G,H[8+D]=j-G,H[4+D]=J+W,H[12+D]=J-W}for(D=0;4>D;++D)j=(c=H[0+4*D]+3)+H[3+4*D],G=H[1+4*D]+H[2+4*D],W=H[1+4*D]-H[2+4*D],J=c-H[3+4*D],y[T+0]=j+G>>3,y[T+16]=J+W>>3,y[T+32]=j-G>>3,y[T+48]=J-W>>3,T+=64}function Vi(c,p,y){var T,D=p-32,H=hs,j=255-c[D-1];for(T=0;T<y;++T){var G,W=H,J=j+c[p-1];for(G=0;G<y;++G)c[p+G]=W[J+c[D+G]];p+=32}}function Dl(c,p){Vi(c,p,4)}function Wu(c,p){Vi(c,p,8)}function Lh(c,p){Vi(c,p,16)}function Ph(c,p){var y;for(y=0;16>y;++y)n(c,p+32*y,c,p-32,16)}function Ol(c,p){var y;for(y=16;0<y;--y)i(c,p,c[p-1],16),p+=32}function wo(c,p,y){var T;for(T=0;16>T;++T)i(p,y+32*T,c,16)}function ji(c,p){var y,T=16;for(y=0;16>y;++y)T+=c[p-1+32*y]+c[p+y-32];wo(T>>5,c,p)}function Ns(c,p){var y,T=8;for(y=0;16>y;++y)T+=c[p-1+32*y];wo(T>>4,c,p)}function kA(c,p){var y,T=8;for(y=0;16>y;++y)T+=c[p+y-32];wo(T>>4,c,p)}function ca(c,p){wo(128,c,p)}function vt(c,p,y){return c+2*p+y+2>>2}function DA(c,p){var y,T=p-32;for(T=new Uint8Array([vt(c[T-1],c[T+0],c[T+1]),vt(c[T+0],c[T+1],c[T+2]),vt(c[T+1],c[T+2],c[T+3]),vt(c[T+2],c[T+3],c[T+4])]),y=0;4>y;++y)n(c,p+32*y,T,0,T.length)}function Rh(c,p){var y=c[p-1],T=c[p-1+32],D=c[p-1+64],H=c[p-1+96];Pe(c,p+0,16843009*vt(c[p-1-32],y,T)),Pe(c,p+32,16843009*vt(y,T,D)),Pe(c,p+64,16843009*vt(T,D,H)),Pe(c,p+96,16843009*vt(D,H,H))}function kh(c,p){var y,T=4;for(y=0;4>y;++y)T+=c[p+y-32]+c[p-1+32*y];for(T>>=3,y=0;4>y;++y)i(c,p+32*y,T,4)}function Dh(c,p){var y=c[p-1+0],T=c[p-1+32],D=c[p-1+64],H=c[p-1-32],j=c[p+0-32],G=c[p+1-32],W=c[p+2-32],J=c[p+3-32];c[p+0+96]=vt(T,D,c[p-1+96]),c[p+1+96]=c[p+0+64]=vt(y,T,D),c[p+2+96]=c[p+1+64]=c[p+0+32]=vt(H,y,T),c[p+3+96]=c[p+2+64]=c[p+1+32]=c[p+0+0]=vt(j,H,y),c[p+3+64]=c[p+2+32]=c[p+1+0]=vt(G,j,H),c[p+3+32]=c[p+2+0]=vt(W,G,j),c[p+3+0]=vt(J,W,G)}function Mn(c,p){var y=c[p+1-32],T=c[p+2-32],D=c[p+3-32],H=c[p+4-32],j=c[p+5-32],G=c[p+6-32],W=c[p+7-32];c[p+0+0]=vt(c[p+0-32],y,T),c[p+1+0]=c[p+0+32]=vt(y,T,D),c[p+2+0]=c[p+1+32]=c[p+0+64]=vt(T,D,H),c[p+3+0]=c[p+2+32]=c[p+1+64]=c[p+0+96]=vt(D,H,j),c[p+3+32]=c[p+2+64]=c[p+1+96]=vt(H,j,G),c[p+3+64]=c[p+2+96]=vt(j,G,W),c[p+3+96]=vt(G,W,W)}function iA(c,p){var y=c[p-1+0],T=c[p-1+32],D=c[p-1+64],H=c[p-1-32],j=c[p+0-32],G=c[p+1-32],W=c[p+2-32],J=c[p+3-32];c[p+0+0]=c[p+1+64]=H+j+1>>1,c[p+1+0]=c[p+2+64]=j+G+1>>1,c[p+2+0]=c[p+3+64]=G+W+1>>1,c[p+3+0]=W+J+1>>1,c[p+0+96]=vt(D,T,y),c[p+0+64]=vt(T,y,H),c[p+0+32]=c[p+1+96]=vt(y,H,j),c[p+1+32]=c[p+2+96]=vt(H,j,G),c[p+2+32]=c[p+3+96]=vt(j,G,W),c[p+3+32]=vt(G,W,J)}function Oh(c,p){var y=c[p+0-32],T=c[p+1-32],D=c[p+2-32],H=c[p+3-32],j=c[p+4-32],G=c[p+5-32],W=c[p+6-32],J=c[p+7-32];c[p+0+0]=y+T+1>>1,c[p+1+0]=c[p+0+64]=T+D+1>>1,c[p+2+0]=c[p+1+64]=D+H+1>>1,c[p+3+0]=c[p+2+64]=H+j+1>>1,c[p+0+32]=vt(y,T,D),c[p+1+32]=c[p+0+96]=vt(T,D,H),c[p+2+32]=c[p+1+96]=vt(D,H,j),c[p+3+32]=c[p+2+96]=vt(H,j,G),c[p+3+64]=vt(j,G,W),c[p+3+96]=vt(G,W,J)}function ha(c,p){var y=c[p-1+0],T=c[p-1+32],D=c[p-1+64],H=c[p-1+96];c[p+0+0]=y+T+1>>1,c[p+2+0]=c[p+0+32]=T+D+1>>1,c[p+2+32]=c[p+0+64]=D+H+1>>1,c[p+1+0]=vt(y,T,D),c[p+3+0]=c[p+1+32]=vt(T,D,H),c[p+3+32]=c[p+1+64]=vt(D,H,H),c[p+3+64]=c[p+2+64]=c[p+0+96]=c[p+1+96]=c[p+2+96]=c[p+3+96]=H}function sA(c,p){var y=c[p-1+0],T=c[p-1+32],D=c[p-1+64],H=c[p-1+96],j=c[p-1-32],G=c[p+0-32],W=c[p+1-32],J=c[p+2-32];c[p+0+0]=c[p+2+32]=y+j+1>>1,c[p+0+32]=c[p+2+64]=T+y+1>>1,c[p+0+64]=c[p+2+96]=D+T+1>>1,c[p+0+96]=H+D+1>>1,c[p+3+0]=vt(G,W,J),c[p+2+0]=vt(j,G,W),c[p+1+0]=c[p+3+32]=vt(y,j,G),c[p+1+32]=c[p+3+64]=vt(T,y,j),c[p+1+64]=c[p+3+96]=vt(D,T,y),c[p+1+96]=vt(H,D,T)}function da(c,p){var y;for(y=0;8>y;++y)n(c,p+32*y,c,p-32,8)}function as(c,p){var y;for(y=0;8>y;++y)i(c,p,c[p-1],8),p+=32}function Qs(c,p,y){var T;for(T=0;8>T;++T)i(p,y+32*T,c,8)}function vo(c,p){var y,T=8;for(y=0;8>y;++y)T+=c[p+y-32]+c[p-1+32*y];Qs(T>>4,c,p)}function Ml(c,p){var y,T=4;for(y=0;8>y;++y)T+=c[p+y-32];Qs(T>>3,c,p)}function gr(c,p){var y,T=4;for(y=0;8>y;++y)T+=c[p-1+32*y];Qs(T>>3,c,p)}function Hl(c,p){Qs(128,c,p)}function yo(c,p,y){var T=c[p-y],D=c[p+0],H=3*(D-T)+Nw[1020+c[p-2*y]-c[p+y]],j=Ip[112+(H+4>>3)];c[p-y]=hs[255+T+Ip[112+(H+3>>3)]],c[p+0]=hs[255+D-j]}function OA(c,p,y,T){var D=c[p+0],H=c[p+y];return Rs[255+c[p-2*y]-c[p-y]]>T||Rs[255+H-D]>T}function fa(c,p,y,T){return 4*Rs[255+c[p-y]-c[p+0]]+Rs[255+c[p-2*y]-c[p+y]]<=T}function Bo(c,p,y,T,D){var H=c[p-3*y],j=c[p-2*y],G=c[p-y],W=c[p+0],J=c[p+y],oe=c[p+2*y],ve=c[p+3*y];return 4*Rs[255+G-W]+Rs[255+j-J]>T?0:Rs[255+c[p-4*y]-H]<=D&&Rs[255+H-j]<=D&&Rs[255+j-G]<=D&&Rs[255+ve-oe]<=D&&Rs[255+oe-J]<=D&&Rs[255+J-W]<=D}function MA(c,p,y,T){var D=2*T+1;for(T=0;16>T;++T)fa(c,p+T,y,D)&&yo(c,p+T,y)}function HA(c,p,y,T){var D=2*T+1;for(T=0;16>T;++T)fa(c,p+T*y,1,D)&&yo(c,p+T*y,1)}function xi(c,p,y,T){var D;for(D=3;0<D;--D)MA(c,p+=4*y,y,T)}function pa(c,p,y,T){var D;for(D=3;0<D;--D)HA(c,p+=4,y,T)}function Fi(c,p,y,T,D,H,j,G){for(H=2*H+1;0<D--;){if(Bo(c,p,y,H,j))if(OA(c,p,y,G))yo(c,p,y);else{var W=c,J=p,oe=y,ve=W[J-2*oe],Z=W[J-oe],ae=W[J+0],ge=W[J+oe],xe=W[J+2*oe],we=27*(Ue=Nw[1020+3*(ae-Z)+Nw[1020+ve-ge]])+63>>7,Se=18*Ue+63>>7,Ue=9*Ue+63>>7;W[J-3*oe]=hs[255+W[J-3*oe]+Ue],W[J-2*oe]=hs[255+ve+Se],W[J-oe]=hs[255+Z+we],W[J+0]=hs[255+ae-we],W[J+oe]=hs[255+ge-Se],W[J+2*oe]=hs[255+xe-Ue]}p+=T}}function ci(c,p,y,T,D,H,j,G){for(H=2*H+1;0<D--;){if(Bo(c,p,y,H,j))if(OA(c,p,y,G))yo(c,p,y);else{var W=c,J=p,oe=y,ve=W[J-oe],Z=W[J+0],ae=W[J+oe],ge=Ip[112+(4+(xe=3*(Z-ve))>>3)],xe=Ip[112+(xe+3>>3)],we=ge+1>>1;W[J-2*oe]=hs[255+W[J-2*oe]+we],W[J-oe]=hs[255+ve+xe],W[J+0]=hs[255+Z-ge],W[J+oe]=hs[255+ae-we]}p+=T}}function w(c,p,y,T,D,H){Fi(c,p,y,1,16,T,D,H)}function k(c,p,y,T,D,H){Fi(c,p,1,y,16,T,D,H)}function Y(c,p,y,T,D,H){var j;for(j=3;0<j;--j)ci(c,p+=4*y,y,1,16,T,D,H)}function ie(c,p,y,T,D,H){var j;for(j=3;0<j;--j)ci(c,p+=4,1,y,16,T,D,H)}function de(c,p,y,T,D,H,j,G){Fi(c,p,D,1,8,H,j,G),Fi(y,T,D,1,8,H,j,G)}function Te(c,p,y,T,D,H,j,G){Fi(c,p,1,D,8,H,j,G),Fi(y,T,1,D,8,H,j,G)}function Qe(c,p,y,T,D,H,j,G){ci(c,p+4*D,D,1,8,H,j,G),ci(y,T+4*D,D,1,8,H,j,G)}function $e(c,p,y,T,D,H,j,G){ci(c,p+4,1,D,8,H,j,G),ci(y,T+4,1,D,8,H,j,G)}function rt(){this.ba=new rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function qt(){this.ua=0,this.Wa=new Ie,this.vb=new Ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new N}function Er(){this.xb=this.a=0,this.l=new LA,this.ca=new rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new qt,this.ab=0,this.gc=A(4,xt),this.Oc=0}function Nr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new LA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nr(c,p,y,T,D,H,j){for(c=c==null?0:c[p+0],p=0;p<j;++p)D[H+p]=c+y[T+p]&255,c=D[H+p]}function en(c,p,y,T,D,H,j){var G;if(c==null)nr(null,null,y,T,D,H,j);else for(G=0;G<j;++G)D[H+G]=c[p+G]+y[T+G]&255}function mr(c,p,y,T,D,H,j){if(c==null)nr(null,null,y,T,D,H,j);else{var G,W=c[p+0],J=W,oe=W;for(G=0;G<j;++G)J=oe+(W=c[p+G])-J,oe=y[T+G]+(-256&J?0>J?0:255:J)&255,J=W,D[H+G]=oe}}function Cn(c,p,y,T){var D=p.width,H=p.o;if(e(c!=null&&p!=null),0>y||0>=T||y+T>H)return null;if(!c.Cc){if(c.ga==null){var j;if(c.ga=new Nr,(j=c.ga==null)||(j=p.width*p.o,e(c.Gb.length==0),c.Gb=s(j),c.Uc=0,c.Gb==null?j=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,j=1),j=!j),!j){j=c.ga;var G=c.Fa,W=c.P,J=c.qc,oe=c.mb,ve=c.nb,Z=W+1,ae=J-1,ge=j.l;if(e(G!=null&&oe!=null&&p!=null),ya[0]=null,ya[1]=nr,ya[2]=en,ya[3]=mr,j.ca=oe,j.tb=ve,j.c=p.width,j.i=p.height,e(0<j.c&&0<j.i),1>=J)p=0;else if(j.$a=3&G[W+0],j.Z=G[W+0]>>2&3,j.Lc=G[W+0]>>4&3,W=G[W+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||W)p=0;else if(ge.put=ft,ge.ac=ai,ge.bc=Ur,ge.ma=j,ge.width=p.width,ge.height=p.height,ge.Da=p.Da,ge.v=p.v,ge.va=p.va,ge.j=p.j,ge.o=p.o,j.$a)e:{e(j.$a==1),p=UA();t:for(;;){if(p==null){p=0;break e}if(e(j!=null),j.mc=p,p.c=j.c,p.i=j.i,p.l=j.l,p.l.ma=j,p.l.width=j.c,p.l.height=j.i,p.a=0,ne(p.m,G,Z,ae),!As(j.c,j.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&li(p.s)?(j.ic=1,G=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(G),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(j.ic=0,p=rA(p,j.c)),!p))break t;p=1;break e}j.mc=null,p=0}else p=ae>=j.c*j.i;j=!p}if(j)return null;c.ga.Lc!=1?c.Ga=0:T=H-y}e(c.ga!=null),e(y+T<=H);e:{if(p=(G=c.ga).c,H=G.l.o,G.$a==0){if(Z=c.rc,ae=c.Vc,ge=c.Fa,W=c.P+1+y*p,J=c.mb,oe=c.nb+y*p,e(W<=c.P+c.qc),G.Z!=0)for(e(ya[G.Z]!=null),j=0;j<T;++j)ya[G.Z](Z,ae,ge,W,J,oe,p),Z=J,ae=oe,oe+=p,W+=p;else for(j=0;j<T;++j)n(J,oe,ge,W,p),Z=J,ae=oe,oe+=p,W+=p;c.rc=Z,c.Vc=ae}else{if(e(G.mc!=null),p=y+T,e((j=G.mc)!=null),e(p<=j.i),j.C>=p)p=1;else if(G.ic||ln(),G.ic){G=j.V,Z=j.Ba,ae=j.c;var xe=j.i,we=(ge=1,W=j.$/ae,J=j.$%ae,oe=j.m,ve=j.s,j.$),Se=ae*xe,Ue=ae*p,ke=ve.wc,Le=we<Ue?Or(ve,J,W):null;e(we<=Se),e(p<=xe),e(li(ve));t:for(;;){for(;!oe.h&&we<Ue;){if(J&ke||(Le=Or(ve,J,W)),e(Le!=null),ce(oe),256>(xe=Dr(Le.G[0],Le.H[0],oe)))G[Z+we]=xe,++we,++J>=ae&&(J=0,++W<=p&&!(W%16)&&bi(j,W));else{if(!(280>xe)){ge=0;break t}xe=kn(xe-256,oe);var ut,Ze=Dr(Le.G[4],Le.H[4],oe);if(ce(oe),!(we>=(Ze=Dn(ae,Ze=kn(Ze,oe)))&&Se-we>=xe)){ge=0;break t}for(ut=0;ut<xe;++ut)G[Z+we+ut]=G[Z+we+ut-Ze];for(we+=xe,J+=xe;J>=ae;)J-=ae,++W<=p&&!(W%16)&&bi(j,W);we<Ue&&J&ke&&(Le=Or(ve,J,W))}e(oe.h==re(oe))}bi(j,W>p?p:W);break t}!ge||oe.h&&we<Se?(ge=0,j.a=oe.h?5:3):j.$=we,p=ge}else p=ui(j,j.V,j.Ba,j.c,j.i,p,NA);if(!p){T=0;break e}}y+T>=H&&(c.Cc=1),T=1}if(!T)return null;if(c.Cc&&((T=c.ga)!=null&&(T.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*D}function Ls(c,p,y,T,D,H){for(;0<D--;){var j,G=c,W=p+(y?1:0),J=c,oe=p+(y?0:3);for(j=0;j<T;++j){var ve=J[oe+4*j];ve!=255&&(ve*=32897,G[W+4*j+0]=G[W+4*j+0]*ve>>23,G[W+4*j+1]=G[W+4*j+1]*ve>>23,G[W+4*j+2]=G[W+4*j+2]*ve>>23)}p+=H}}function AA(c,p,y,T,D){for(;0<T--;){var H;for(H=0;H<y;++H){var j=c[p+2*H+0],G=15&(J=c[p+2*H+1]),W=4369*G,J=(240&J|J>>4)*W>>16;c[p+2*H+0]=(240&j|j>>4)*W>>16&240|(15&j|j<<4)*W>>16>>4&15,c[p+2*H+1]=240&J|G}p+=D}}function $u(c,p,y,T,D,H,j,G){var W,J,oe=255;for(J=0;J<D;++J){for(W=0;W<T;++W){var ve=c[p+W];H[j+4*W]=ve,oe&=ve}p+=y,j+=G}return oe!=255}function _o(c,p,y,T,D){var H;for(H=0;H<D;++H)y[T+H]=c[p+H]>>8}function ln(){Kh=Ls,l5=AA,u5=$u,c5=_o}function Ki(c,p,y){b[c]=function(T,D,H,j,G,W,J,oe,ve,Z,ae,ge,xe,we,Se,Ue,ke){var Le,ut=ke-1>>1,Ze=G[W+0]|J[oe+0]<<16,Qt=ve[Z+0]|ae[ge+0]<<16;e(T!=null);var it=3*Ze+Qt+131074>>2;for(p(T[D+0],255&it,it>>16,xe,we),H!=null&&(it=3*Qt+Ze+131074>>2,p(H[j+0],255&it,it>>16,Se,Ue)),Le=1;Le<=ut;++Le){var zt=G[W+Le]|J[oe+Le]<<16,Fn=ve[Z+Le]|ae[ge+Le]<<16,Lt=Ze+zt+Qt+Fn+524296,st=Lt+2*(zt+Qt)>>3;it=st+Ze>>1,Ze=(Lt=Lt+2*(Ze+Fn)>>3)+zt>>1,p(T[D+2*Le-1],255&it,it>>16,xe,we+(2*Le-1)*y),p(T[D+2*Le-0],255&Ze,Ze>>16,xe,we+(2*Le-0)*y),H!=null&&(it=Lt+Qt>>1,Ze=st+Fn>>1,p(H[j+2*Le-1],255&it,it>>16,Se,Ue+(2*Le-1)*y),p(H[j+2*Le+0],255&Ze,Ze>>16,Se,Ue+(2*Le+0)*y)),Ze=zt,Qt=Fn}1&ke||(it=3*Ze+Qt+131074>>2,p(T[D+ke-1],255&it,it>>16,xe,we+(ke-1)*y),H!=null&&(it=3*Qt+Ze+131074>>2,p(H[j+ke-1],255&it,it>>16,Se,Ue+(ke-1)*y)))}}function ga(){ks[xp]=q3,ks[Fp]=_5,ks[m5]=z3,ks[Sp]=C5,ks[Tp]=E5,ks[Qw]=b5,ks[w5]=W3,ks[Lw]=_5,ks[Pw]=C5,ks[Up]=E5,ks[Rw]=b5}function ls(c){return c&-16384?0>c?0:255:c>>$3}function h(c,p){return ls((19077*c>>8)+(26149*p>>8)-14234)}function B(c,p,y){return ls((19077*c>>8)-(6419*p>>8)-(13320*y>>8)+8708)}function L(c,p){return ls((19077*c>>8)+(33050*p>>8)-17685)}function q(c,p,y,T,D){T[D+0]=h(c,y),T[D+1]=B(c,p,y),T[D+2]=L(c,p)}function pe(c,p,y,T,D){T[D+0]=L(c,p),T[D+1]=B(c,p,y),T[D+2]=h(c,y)}function _e(c,p,y,T,D){var H=B(c,p,y);p=H<<3&224|L(c,p)>>3,T[D+0]=248&h(c,y)|H>>5,T[D+1]=p}function Re(c,p,y,T,D){var H=240&L(c,p)|15;T[D+0]=240&h(c,y)|B(c,p,y)>>4,T[D+1]=H}function er(c,p,y,T,D){T[D+0]=255,q(c,p,y,T,D+1)}function Mr(c,p,y,T,D){pe(c,p,y,T,D),T[D+3]=255}function Dt(c,p,y,T,D){q(c,p,y,T,D),T[D+3]=255}function Ht(c,p){return 0>c?0:c>p?p:c}function ar(c,p,y){b[c]=function(T,D,H,j,G,W,J,oe,ve){for(var Z=oe+(-2&ve)*y;oe!=Z;)p(T[D+0],H[j+0],G[W+0],J,oe),p(T[D+1],H[j+0],G[W+0],J,oe+y),D+=2,++j,++W,oe+=2*y;1&ve&&p(T[D+0],H[j+0],G[W+0],J,oe)}}function Ps(c,p,y){return y==0?c==0?p==0?6:5:p==0?4:0:y}function qn(c,p,y,T,D){switch(c>>>30){case 3:hn(p,y,T,D,0);break;case 2:Eo(p,y,T,D);break;case 1:zA(p,y,T,D)}}function us(c,p){var y,T,D=p.M,H=p.Nb,j=c.oc,G=c.pc+40,W=c.oc,J=c.pc+584,oe=c.oc,ve=c.pc+600;for(y=0;16>y;++y)j[G+32*y-1]=129;for(y=0;8>y;++y)W[J+32*y-1]=129,oe[ve+32*y-1]=129;for(0<D?j[G-1-32]=W[J-1-32]=oe[ve-1-32]=129:(i(j,G-32-1,127,21),i(W,J-32-1,127,9),i(oe,ve-32-1,127,9)),T=0;T<c.za;++T){var Z=p.ya[p.aa+T];if(0<T){for(y=-1;16>y;++y)n(j,G+32*y-4,j,G+32*y+12,4);for(y=-1;8>y;++y)n(W,J+32*y-4,W,J+32*y+4,4),n(oe,ve+32*y-4,oe,ve+32*y+4,4)}var ae=c.Gd,ge=c.Hd+T,xe=Z.ad,we=Z.Hc;if(0<D&&(n(j,G-32,ae[ge].y,0,16),n(W,J-32,ae[ge].f,0,8),n(oe,ve-32,ae[ge].ea,0,8)),Z.Za){var Se=j,Ue=G-32+16;for(0<D&&(T>=c.za-1?i(Se,Ue,ae[ge].y[15],4):n(Se,Ue,ae[ge+1].y,0,4)),y=0;4>y;y++)Se[Ue+128+y]=Se[Ue+256+y]=Se[Ue+384+y]=Se[Ue+0+y];for(y=0;16>y;++y,we<<=2)Se=j,Ue=G+x5[y],oA[Z.Ob[y]](Se,Ue),qn(we,xe,16*+y,Se,Ue)}else if(Se=Ps(T,D,Z.Ob[0]),va[Se](j,G),we!=0)for(y=0;16>y;++y,we<<=2)qn(we,xe,16*+y,j,G+x5[y]);for(y=Z.Gc,Se=Ps(T,D,Z.Dd),bo[Se](W,J),bo[Se](oe,ve),we=xe,Se=W,Ue=J,255&(Z=0|y)&&(170&Z?Zu(we,256,Se,Ue):jh(we,256,Se,Ue)),Z=oe,we=ve,255&(y>>=8)&&(170&y?Zu(xe,320,Z,we):jh(xe,320,Z,we)),D<c.Ub-1&&(n(ae[ge].y,0,j,G+480,16),n(ae[ge].f,0,W,J+224,8),n(ae[ge].ea,0,oe,ve+224,8)),y=8*H*c.B,ae=c.sa,ge=c.ta+16*T+16*H*c.R,xe=c.qa,Z=c.ra+8*T+y,we=c.Ha,Se=c.Ia+8*T+y,y=0;16>y;++y)n(ae,ge+y*c.R,j,G+32*y,16);for(y=0;8>y;++y)n(xe,Z+y*c.B,W,J+32*y,8),n(we,Se+y*c.B,oe,ve+32*y,8)}}function VA(c,p,y,T,D,H,j,G,W){var J=[0],oe=[0],ve=0,Z=W!=null?W.kd:0,ae=W??new mt;if(c==null||12>y)return 7;ae.data=c,ae.w=p,ae.ha=y,p=[p],y=[y],ae.gb=[ae.gb];e:{var ge=p,xe=y,we=ae.gb;if(e(c!=null),e(xe!=null),e(we!=null),we[0]=0,12<=xe[0]&&!r(c,ge[0],"RIFF")){if(r(c,ge[0]+8,"WEBP")){we=3;break e}var Se=Ee(c,ge[0]+4);if(12>Se||4294967286<Se){we=3;break e}if(Z&&Se>xe[0]-8){we=7;break e}we[0]=Se,ge[0]+=12,xe[0]-=12}we=0}if(we!=0)return we;for(Se=0<ae.gb[0],y=y[0];;){e:{var Ue=c;xe=p,we=y;var ke=J,Le=oe,ut=ge=[0];if((it=ve=[ve])[0]=0,8>we[0])we=7;else{if(!r(Ue,xe[0],"VP8X")){if(Ee(Ue,xe[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Ze=Ee(Ue,xe[0]+8),Qt=1+qe(Ue,xe[0]+12);if(2147483648<=Qt*(Ue=1+qe(Ue,xe[0]+15))){we=3;break e}ut!=null&&(ut[0]=Ze),ke!=null&&(ke[0]=Qt),Le!=null&&(Le[0]=Ue),xe[0]+=18,we[0]-=18,it[0]=1}we=0}}if(ve=ve[0],ge=ge[0],we!=0)return we;if(xe=!!(2&ge),!Se&&ve)return 3;if(H!=null&&(H[0]=!!(16&ge)),j!=null&&(j[0]=xe),G!=null&&(G[0]=0),j=J[0],ge=oe[0],ve&&xe&&W==null){we=0;break}if(4>y){we=7;break}if(Se&&ve||!Se&&!ve&&!r(c,p[0],"ALPH")){y=[y],ae.na=[ae.na],ae.P=[ae.P],ae.Sa=[ae.Sa];e:{Ze=c,we=p,Se=y;var it=ae.gb;ke=ae.na,Le=ae.P,ut=ae.Sa,Qt=22,e(Ze!=null),e(Se!=null),Ue=we[0];var zt=Se[0];for(e(ke!=null),e(ut!=null),ke[0]=null,Le[0]=null,ut[0]=0;;){if(we[0]=Ue,Se[0]=zt,8>zt){we=7;break e}var Fn=Ee(Ze,Ue+4);if(4294967286<Fn){we=3;break e}var Lt=8+Fn+1&-2;if(Qt+=Lt,0<it&&Qt>it){we=3;break e}if(!r(Ze,Ue,"VP8 ")||!r(Ze,Ue,"VP8L")){we=0;break e}if(zt[0]<Lt){we=7;break e}r(Ze,Ue,"ALPH")||(ke[0]=Ze,Le[0]=Ue+8,ut[0]=Fn),Ue+=Lt,zt-=Lt}}if(y=y[0],ae.na=ae.na[0],ae.P=ae.P[0],ae.Sa=ae.Sa[0],we!=0)break}y=[y],ae.Ja=[ae.Ja],ae.xa=[ae.xa];e:if(it=c,we=p,Se=y,ke=ae.gb[0],Le=ae.Ja,ut=ae.xa,Ze=we[0],Ue=!r(it,Ze,"VP8 "),Qt=!r(it,Ze,"VP8L"),e(it!=null),e(Se!=null),e(Le!=null),e(ut!=null),8>Se[0])we=7;else{if(Ue||Qt){if(it=Ee(it,Ze+4),12<=ke&&it>ke-12){we=3;break e}if(Z&&it>Se[0]-8){we=7;break e}Le[0]=it,we[0]+=8,Se[0]-=8,ut[0]=Qt}else ut[0]=5<=Se[0]&&it[Ze+0]==47&&!(it[Ze+4]>>5),Le[0]=Se[0];we=0}if(y=y[0],ae.Ja=ae.Ja[0],ae.xa=ae.xa[0],p=p[0],we!=0)break;if(4294967286<ae.Ja)return 3;if(G==null||xe||(G[0]=ae.xa?2:1),j=[j],ge=[ge],ae.xa){if(5>y){we=7;break}G=j,Z=ge,xe=H,c==null||5>y?c=0:5<=y&&c[p+0]==47&&!(c[p+4]>>5)?(Se=[0],it=[0],ke=[0],ne(Le=new V,c,p,y),Us(Le,Se,it,ke)?(G!=null&&(G[0]=Se[0]),Z!=null&&(Z[0]=it[0]),xe!=null&&(xe[0]=ke[0]),c=1):c=0):c=0}else{if(10>y){we=7;break}G=ge,c==null||10>y||!kl(c,p+3,y-3)?c=0:(Z=c[p+0]|c[p+1]<<8|c[p+2]<<16,xe=16383&(c[p+7]<<8|c[p+6]),c=16383&(c[p+9]<<8|c[p+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ae.Ja||!xe||!c?c=0:(j&&(j[0]=xe),G&&(G[0]=c),c=1))}if(!c||(j=j[0],ge=ge[0],ve&&(J[0]!=j||oe[0]!=ge)))return 3;W!=null&&(W[0]=ae,W.offset=p-W.w,e(4294967286>p-W.w),e(W.offset==W.ha-y));break}return we==0||we==7&&ve&&W==null?(H!=null&&(H[0]|=ae.na!=null&&0<ae.na.length),T!=null&&(T[0]=j),D!=null&&(D[0]=ge),0):we}function Gi(c,p,y){var T=p.width,D=p.height,H=0,j=0,G=T,W=D;if(p.Da=c!=null&&0<c.Da,p.Da&&(G=c.cd,W=c.bd,H=c.v,j=c.j,11>y||(H&=-2,j&=-2),0>H||0>j||0>=G||0>=W||H+G>T||j+W>D))return 0;if(p.v=H,p.j=j,p.va=H+G,p.o=j+W,p.U=G,p.T=W,p.da=c!=null&&0<c.da,p.da){if(!Oe(G,W,y=[c.ib],H=[c.hb]))return 0;p.ib=y[0],p.hb=H[0]}return p.ob=c!=null&&c.ob,p.Kb=c==null||!c.Sd,p.da&&(p.ob=p.ib<3*T/4&&p.hb<3*D/4,p.Kb=0),1}function qi(c){if(c==null)return 2;if(11>c.S){var p=c.f.RGBA;p.fb+=(c.height-1)*p.A,p.A=-p.A}else p=c.f.kb,c=c.height,p.O+=(c-1)*p.fa,p.fa=-p.fa,p.N+=(c-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(c-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(c-1)*p.lb,p.lb=-p.lb);return 0}function Vl(c,p,y,T){if(T==null||0>=c||0>=p)return 2;if(y!=null){if(y.Da){var D=y.cd,H=y.bd,j=-2&y.v,G=-2&y.j;if(0>j||0>G||0>=D||0>=H||j+D>c||G+H>p)return 2;c=D,p=H}if(y.da){if(!Oe(c,p,D=[y.ib],H=[y.hb]))return 2;c=D[0],p=H[0]}}T.width=c,T.height=p;e:{var W=T.width,J=T.height;if(c=T.S,0>=W||0>=J||!(c>=xp&&13>c))c=2;else{if(0>=T.Rd&&T.sd==null){j=H=D=p=0;var oe=(G=W*F5[c])*J;if(11>c||(H=(J+1)/2*(p=(W+1)/2),c==12&&(j=(D=W)*J)),(J=s(oe+2*H+j))==null){c=1;break e}T.sd=J,11>c?((W=T.f.RGBA).eb=J,W.fb=0,W.A=G,W.size=oe):((W=T.f.kb).y=J,W.O=0,W.fa=G,W.Fd=oe,W.f=J,W.N=0+oe,W.Ab=p,W.Cd=H,W.ea=J,W.W=0+oe+H,W.Db=p,W.Ed=H,c==12&&(W.F=J,W.J=0+oe+2*H),W.Tc=j,W.lb=D)}if(p=1,D=T.S,H=T.width,j=T.height,D>=xp&&13>D)if(11>D)c=T.f.RGBA,p&=(G=Math.abs(c.A))*(j-1)+H<=c.size,p&=G>=H*F5[D],p&=c.eb!=null;else{c=T.f.kb,G=(H+1)/2,oe=(j+1)/2,W=Math.abs(c.fa),J=Math.abs(c.Ab);var ve=Math.abs(c.Db),Z=Math.abs(c.lb),ae=Z*(j-1)+H;p&=W*(j-1)+H<=c.Fd,p&=J*(oe-1)+G<=c.Cd,p=(p&=ve*(oe-1)+G<=c.Ed)&W>=H&J>=G&ve>=G,p&=c.y!=null,p&=c.f!=null,p&=c.ea!=null,D==12&&(p&=Z>=H,p&=ae<=c.Tc,p&=c.F!=null)}else p=0;c=p?0:2}}return c!=0||y!=null&&y.fd&&(c=qi(T)),c}var jA=64,ma=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mh=24,wa=32,un=8,Uw=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(c){return c},b.Predictor2=function(c,p,y){return p[y+0]},b.Predictor3=function(c,p,y){return p[y+1]},b.Predictor4=function(c,p,y){return p[y-1]},b.Predictor5=function(c,p,y){return je(je(c,p[y+1]),p[y+0])},b.Predictor6=function(c,p,y){return je(c,p[y-1])},b.Predictor7=function(c,p,y){return je(c,p[y+0])},b.Predictor8=function(c,p,y){return je(p[y-1],p[y+0])},b.Predictor9=function(c,p,y){return je(p[y+0],p[y+1])},b.Predictor10=function(c,p,y){return je(je(c,p[y-1]),je(p[y+0],p[y+1]))},b.Predictor11=function(c,p,y){var T=p[y+0];return 0>=ot(T>>24&255,c>>24&255,(p=p[y-1])>>24&255)+ot(T>>16&255,c>>16&255,p>>16&255)+ot(T>>8&255,c>>8&255,p>>8&255)+ot(255&T,255&c,255&p)?T:c},b.Predictor12=function(c,p,y){var T=p[y+0];return(Gt((c>>24&255)+(T>>24&255)-((p=p[y-1])>>24&255))<<24|Gt((c>>16&255)+(T>>16&255)-(p>>16&255))<<16|Gt((c>>8&255)+(T>>8&255)-(p>>8&255))<<8|Gt((255&c)+(255&T)-(255&p)))>>>0},b.Predictor13=function(c,p,y){var T=p[y-1];return(bt((c=je(c,p[y+0]))>>24&255,T>>24&255)<<24|bt(c>>16&255,T>>16&255)<<16|bt(c>>8&255,T>>8&255)<<8|bt(255&c,255&T))>>>0};var KA=b.PredictorAdd0;b.PredictorAdd1=Ft,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var GA=b.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Xu,Hh=b.ColorIndexInverseTransform,Yu=b.MapARGB,Ju=b.VP8LColorIndexInverseTransformAlpha,jl=b.MapAlpha,Kl=b.VP8LPredictorsAdd=[];Kl.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var Co,Vh,cs,qA,br,Ir,cn,hn,Eo,Zu,zA,jh,Y_,J_,Z_,e5,t5,r5,n5,i5,s5,A5,o5,a5,Kh,l5,u5,c5,h5=s(511),d5=s(2041),f5=s(225),p5=s(767),g5=0,Nw=d5,Ip=f5,hs=p5,Rs=h5,xp=0,Fp=1,m5=2,Sp=3,Tp=4,Qw=5,w5=6,Lw=7,Pw=8,Up=9,Rw=10,N3=[2,3,7],Q3=[3,3,11],v5=[280,256,256,256,40],L3=[0,1,1,1,0],P3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],R3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],k3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],D3=8,kw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Dw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Gh=null,O3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],M3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],y5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],H3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],V3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],j3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],K3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],va=[],oA=[],bo=[],G3=1,B5=2,ya=[],ks=[];Ki("UpsampleRgbLinePair",q,3),Ki("UpsampleBgrLinePair",pe,3),Ki("UpsampleRgbaLinePair",Dt,4),Ki("UpsampleBgraLinePair",Mr,4),Ki("UpsampleArgbLinePair",er,4),Ki("UpsampleRgba4444LinePair",Re,2),Ki("UpsampleRgb565LinePair",_e,2);var q3=b.UpsampleRgbLinePair,z3=b.UpsampleBgrLinePair,_5=b.UpsampleRgbaLinePair,C5=b.UpsampleBgraLinePair,E5=b.UpsampleArgbLinePair,b5=b.UpsampleRgba4444LinePair,W3=b.UpsampleRgb565LinePair,Np=16,Qp=1<<Np-1,qh=-227,Ow=482,$3=6,I5=0,X3=s(256),Y3=s(256),J3=s(256),Z3=s(256),eL=s(Ow-qh),tL=s(Ow-qh);ar("YuvToRgbRow",q,3),ar("YuvToBgrRow",pe,3),ar("YuvToRgbaRow",Dt,4),ar("YuvToBgraRow",Mr,4),ar("YuvToArgbRow",er,4),ar("YuvToRgba4444Row",Re,2),ar("YuvToRgb565Row",_e,2);var x5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lp=[0,2,8],rL=[8,7,6,4,4,2,2,2,1,1,1,1],nL=1;this.WebPDecodeRGBA=function(c,p,y,T,D){var H=Fp,j=new rt,G=new rr;j.ba=G,G.S=H,G.width=[G.width],G.height=[G.height];var W=G.width,J=G.height,oe=new wt;if(oe==null||c==null)var ve=2;else e(oe!=null),ve=VA(c,p,y,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(ve!=0?W=0:(W!=null&&(W[0]=oe.width[0]),J!=null&&(J[0]=oe.height[0]),W=1),W){G.width=G.width[0],G.height=G.height[0],T!=null&&(T[0]=G.width),D!=null&&(D[0]=G.height);e:{if(T=new LA,(D=new mt).data=c,D.w=p,D.ha=y,D.kd=1,p=[0],e(D!=null),((c=VA(D.data,D.w,D.ha,null,null,null,p,null,D))==0||c==7)&&p[0]&&(c=4),(p=c)==0){if(e(j!=null),T.data=D.data,T.w=D.w+D.offset,T.ha=D.ha-D.offset,T.put=ft,T.ac=ai,T.bc=Ur,T.ma=j,D.xa){if((c=UA())==null){j=1;break e}if(function(Z,ae){var ge=[0],xe=[0],we=[0];t:for(;;){if(Z==null)return 0;if(ae==null)return Z.a=2,0;if(Z.l=ae,Z.a=0,ne(Z.m,ae.data,ae.w,ae.ha),!Us(Z.m,ge,xe,we)){Z.a=3;break t}if(Z.xb=B5,ae.width=ge[0],ae.height=xe[0],!As(ge[0],xe[0],1,Z,null))break t;return 1}return e(Z.a!=0),0}(c,T)){if(T=(p=Vl(T.width,T.height,j.Oa,j.ba))==0){t:{T=c;r:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((y=T.l)!=null),e((D=y.ma)!=null),T.xb!=0){if(T.ca=D.ba,T.tb=D.tb,e(T.ca!=null),!Gi(D.Oa,y,Sp)){T.a=2;break r}if(!rA(T,y.width)||y.da)break r;if((y.da||It(T.ca.S))&&ln(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&ln()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!ee(T.s.vb,T.s.Wa.Xa)){T.a=1;break r}T.xb=0}if(!ui(T,T.V,T.Ba,T.c,T.i,y.o,TA))break r;D.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(p=c.a)}else p=c.a}else{if((c=new Rl)==null){j=1;break e}if(c.Fa=D.na,c.P=D.P,c.qc=D.Sa,qu(c,T)){if((p=Vl(T.width,T.height,j.Oa,j.ba))==0){if(c.Aa=0,y=j.Oa,e((D=c)!=null),y!=null){if(0<(W=0>(W=y.Md)?0:100<W?255:255*W/100)){for(J=oe=0;4>J;++J)12>(ve=D.pb[J]).lc&&(ve.ia=W*rL[0>ve.lc?0:ve.lc]>>3),oe|=ve.ia;oe&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=y.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(Z,ae){if(Z==null)return 0;if(ae==null)return $r(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!qu(Z,ae))return 0;if(e(Z.cb),ae.ac==null||ae.ac(ae)){ae.ob&&(Z.L=0);var ge=Lp[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ae.v-ge>>4,Z.zb=ae.j-ge>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ae.o+15+ge>>4,Z.Hb=ae.va+15+ge>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var xe=Z.ed;for(ge=0;4>ge;++ge){var we;if(Z.Qa.Cb){var Se=Z.Qa.Lb[ge];Z.Qa.Fb||(Se+=xe.Tb)}else Se=xe.Tb;for(we=0;1>=we;++we){var Ue=Z.gd[ge][we],ke=Se;if(xe.Pc&&(ke+=xe.vd[0],we&&(ke+=xe.od[0])),0<(ke=0>ke?0:63<ke?63:ke)){var Le=ke;0<xe.wb&&(Le=4<xe.wb?Le>>2:Le>>1)>9-xe.wb&&(Le=9-xe.wb),1>Le&&(Le=1),Ue.dd=Le,Ue.tc=2*ke+Le,Ue.ld=40<=ke?2:15<=ke?1:0}else Ue.tc=0;Ue.La=we}}}ge=0}else $r(Z,6,"Frame setup failed"),ge=Z.a;if(ge=ge==0){if(ge){Z.$c=0,0<Z.Aa||(Z.Ic=nL);t:{ge=Z.Ic,xe=4*(Le=Z.za);var ut=32*Le,Ze=Le+1,Qt=0<Z.L?Le*(0<Z.Aa?2:1):0,it=(Z.Aa==2?2:1)*Le;if((Ue=xe+832+(we=3*(16*ge+Lp[Z.L])/2*ut)+(Se=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Ue)ge=0;else{if(Ue>Z.Vb){if(Z.Vb=0,Z.Ec=s(Ue),Z.Fc=0,Z.Ec==null){ge=$r(Z,1,"no memory during frame initialization.");break t}Z.Vb=Ue}Ue=Z.Ec,ke=Z.Fc,Z.Ac=Ue,Z.Bc=ke,ke+=xe,Z.Gd=A(ut,Ll),Z.Hd=0,Z.rb=A(Ze+1,os),Z.sb=1,Z.wa=Qt?A(Qt,On):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Le),e(!0),Z.oc=Ue,Z.pc=ke,ke+=832,Z.ya=A(it,Nl),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=Le),Z.R=16*Le,Z.B=8*Le,Le=(ut=Lp[Z.L])*Z.R,ut=ut/2*Z.B,Z.sa=Ue,Z.ta=ke+Le,Z.qa=Z.sa,Z.ra=Z.ta+16*ge*Z.R+ut,Z.Ha=Z.qa,Z.Ia=Z.ra+8*ge*Z.B+ut,Z.$c=0,ke+=we,Z.mb=Se?Ue:null,Z.nb=Se?ke:null,e(ke+Se<=Z.Fc+Z.Vb),PA(Z),i(Z.Ac,Z.Bc,0,xe),ge=1}}if(ge){if(ae.ka=0,ae.y=Z.sa,ae.O=Z.ta,ae.f=Z.qa,ae.N=Z.ra,ae.ea=Z.Ha,ae.Vd=Z.Ia,ae.fa=Z.R,ae.Rc=Z.B,ae.F=null,ae.J=0,!g5){for(ge=-255;255>=ge;++ge)h5[255+ge]=0>ge?-ge:ge;for(ge=-1020;1020>=ge;++ge)d5[1020+ge]=-128>ge?-128:127<ge?127:ge;for(ge=-112;112>=ge;++ge)f5[112+ge]=-16>ge?-16:15<ge?15:ge;for(ge=-255;510>=ge;++ge)p5[255+ge]=0>ge?0:255<ge?255:ge;g5=1}cn=RA,hn=ua,Zu=zu,zA=Mt,jh=mo,Eo=la,Y_=w,J_=k,Z_=de,e5=Te,t5=Y,r5=ie,n5=Qe,i5=$e,s5=MA,A5=HA,o5=xi,a5=pa,oA[0]=kh,oA[1]=Dl,oA[2]=DA,oA[3]=Rh,oA[4]=Dh,oA[5]=iA,oA[6]=Mn,oA[7]=Oh,oA[8]=sA,oA[9]=ha,va[0]=ji,va[1]=Lh,va[2]=Ph,va[3]=Ol,va[4]=Ns,va[5]=kA,va[6]=ca,bo[0]=vo,bo[1]=Wu,bo[2]=da,bo[3]=as,bo[4]=gr,bo[5]=Ml,bo[6]=Hl,ge=1}else ge=0}ge&&(ge=function(zt,Fn){for(zt.M=0;zt.M<zt.Va;++zt.M){var Lt,st=zt.Jc[zt.M&zt.Xb],Ke=zt.m,dn=zt;for(Lt=0;Lt<dn.za;++Lt){var Tt=Ke,$t=dn,Qr=$t.Ac,zn=$t.Bc+4*Lt,Si=$t.zc,tn=$t.ya[$t.aa+Lt];if($t.Qa.Bb?tn.$b=Ce(Tt,$t.Pa.jb[0])?2+Ce(Tt,$t.Pa.jb[2]):Ce(Tt,$t.Pa.jb[1]):tn.$b=0,$t.kc&&(tn.Ad=Ce(Tt,$t.Bd)),tn.Za=!Ce(Tt,145)+0,tn.Za){var hi=tn.Ob,Ti=0;for($t=0;4>$t;++$t){var Sn,Yt=Si[0+$t];for(Sn=0;4>Sn;++Sn){Yt=V3[Qr[zn+Sn]][Yt];for(var lr=y5[Ce(Tt,Yt[0])];0<lr;)lr=y5[2*lr+Ce(Tt,Yt[lr])];Yt=-lr,Qr[zn+Sn]=Yt}n(hi,Ti,Qr,zn,4),Ti+=4,Si[0+$t]=Yt}}else Yt=Ce(Tt,156)?Ce(Tt,128)?1:3:Ce(Tt,163)?2:0,tn.Ob[0]=Yt,i(Qr,zn,Yt,4),i(Si,0,Yt,4);tn.Dd=Ce(Tt,142)?Ce(Tt,114)?Ce(Tt,183)?1:3:2:0}if(dn.m.Ka)return $r(zt,7,"Premature end-of-partition0 encountered.");for(;zt.ja<zt.za;++zt.ja){if(dn=st,Tt=(Ke=zt).rb[Ke.sb-1],Qr=Ke.rb[Ke.sb+Ke.ja],Lt=Ke.ya[Ke.aa+Ke.ja],zn=Ke.kc?Lt.Ad:0)Tt.la=Qr.la=0,Lt.Za||(Tt.Na=Qr.Na=0),Lt.Hc=0,Lt.Gc=0,Lt.ia=0;else{var rn,ur;if(Tt=Qr,Qr=dn,zn=Ke.Pa.Xc,Si=Ke.ya[Ke.aa+Ke.ja],tn=Ke.pb[Si.$b],$t=Si.ad,hi=0,Ti=Ke.rb[Ke.sb-1],Yt=Sn=0,i($t,hi,0,384),Si.Za)var Wn=0,aA=zn[3];else{lr=s(16);var fn=Tt.Na+Ti.Na;if(fn=Gh(Qr,zn[1],fn,tn.Eb,0,lr,0),Tt.Na=Ti.Na=(0<fn)+0,1<fn)cn(lr,0,$t,hi);else{var zi=lr[0]+3>>3;for(lr=0;256>lr;lr+=16)$t[hi+lr]=zi}Wn=1,aA=zn[0]}var _r=15&Tt.la,Tn=15&Ti.la;for(lr=0;4>lr;++lr){var ds=1&Tn;for(zi=ur=0;4>zi;++zi)_r=_r>>1|(ds=(fn=Gh(Qr,aA,fn=ds+(1&_r),tn.Sc,Wn,$t,hi))>Wn)<<7,ur=ur<<2|(3<fn?3:1<fn?2:$t[hi+0]!=0),hi+=16;_r>>=4,Tn=Tn>>1|ds<<7,Sn=(Sn<<8|ur)>>>0}for(aA=_r,Wn=Tn>>4,rn=0;4>rn;rn+=2){for(ur=0,_r=Tt.la>>4+rn,Tn=Ti.la>>4+rn,lr=0;2>lr;++lr){for(ds=1&Tn,zi=0;2>zi;++zi)fn=ds+(1&_r),_r=_r>>1|(ds=0<(fn=Gh(Qr,zn[2],fn,tn.Qc,0,$t,hi)))<<3,ur=ur<<2|(3<fn?3:1<fn?2:$t[hi+0]!=0),hi+=16;_r>>=2,Tn=Tn>>1|ds<<5}Yt|=ur<<4*rn,aA|=_r<<4<<rn,Wn|=(240&Tn)<<rn}Tt.la=aA,Ti.la=Wn,Si.Hc=Sn,Si.Gc=Yt,Si.ia=43690&Yt?0:tn.ia,zn=!(Sn|Yt)}if(0<Ke.L&&(Ke.wa[Ke.Y+Ke.ja]=Ke.gd[Lt.$b][Lt.Za],Ke.wa[Ke.Y+Ke.ja].La|=!zn),dn.Ka)return $r(zt,7,"Premature end-of-file encountered.")}if(PA(zt),Ke=Fn,dn=1,Lt=(st=zt).D,Tt=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(Lt.M=st.M,Lt.uc=Tt,us(st,Lt),dn=1,Lt=(ur=st.D).Nb,Tt=(Yt=Lp[st.L])*st.R,Qr=Yt/2*st.B,lr=16*Lt*st.R,zi=8*Lt*st.B,zn=st.sa,Si=st.ta-Tt+lr,tn=st.qa,$t=st.ra-Qr+zi,hi=st.Ha,Ti=st.Ia-Qr+zi,Tn=(_r=ur.M)==0,Sn=_r>=st.Va-1,st.Aa==2&&us(st,ur),ur.uc)for(ds=(fn=st).D.M,e(fn.D.uc),ur=fn.yb;ur<fn.Hb;++ur){Wn=ur,aA=ds;var Ui=(fs=($n=fn).D).Nb;rn=$n.R;var fs=fs.wa[fs.Y+Wn],ps=$n.sa,Wi=$n.ta+16*Ui*rn+16*Wn,gs=fs.dd,xr=fs.tc;if(xr!=0)if(e(3<=xr),$n.L==1)0<Wn&&A5(ps,Wi,rn,xr+4),fs.La&&a5(ps,Wi,rn,xr),0<aA&&s5(ps,Wi,rn,xr+4),fs.La&&o5(ps,Wi,rn,xr);else{var ms=$n.B,lA=$n.qa,Gl=$n.ra+8*Ui*ms+8*Wn,Io=$n.Ha,$n=$n.Ia+8*Ui*ms+8*Wn;Ui=fs.ld,0<Wn&&(J_(ps,Wi,rn,xr+4,gs,Ui),e5(lA,Gl,Io,$n,ms,xr+4,gs,Ui)),fs.La&&(r5(ps,Wi,rn,xr,gs,Ui),i5(lA,Gl,Io,$n,ms,xr,gs,Ui)),0<aA&&(Y_(ps,Wi,rn,xr+4,gs,Ui),Z_(lA,Gl,Io,$n,ms,xr+4,gs,Ui)),fs.La&&(t5(ps,Wi,rn,xr,gs,Ui),n5(lA,Gl,Io,$n,ms,xr,gs,Ui))}}if(st.ia&&alert("todo:DitherRow"),Ke.put!=null){if(ur=16*_r,_r=16*(_r+1),Tn?(Ke.y=st.sa,Ke.O=st.ta+lr,Ke.f=st.qa,Ke.N=st.ra+zi,Ke.ea=st.Ha,Ke.W=st.Ia+zi):(ur-=Yt,Ke.y=zn,Ke.O=Si,Ke.f=tn,Ke.N=$t,Ke.ea=hi,Ke.W=Ti),Sn||(_r-=Yt),_r>Ke.o&&(_r=Ke.o),Ke.F=null,Ke.J=null,st.Fa!=null&&0<st.Fa.length&&ur<_r&&(Ke.J=Cn(st,Ke,ur,_r-ur),Ke.F=st.mb,Ke.F==null&&Ke.F.length==0)){dn=$r(st,3,"Could not decode alpha data.");break t}ur<Ke.j&&(Yt=Ke.j-ur,ur=Ke.j,e(!(1&Yt)),Ke.O+=st.R*Yt,Ke.N+=st.B*(Yt>>1),Ke.W+=st.B*(Yt>>1),Ke.F!=null&&(Ke.J+=Ke.width*Yt)),ur<_r&&(Ke.O+=Ke.v,Ke.N+=Ke.v>>1,Ke.W+=Ke.v>>1,Ke.F!=null&&(Ke.J+=Ke.v),Ke.ka=ur-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=_r-ur,dn=Ke.put(Ke))}Lt+1!=st.Ic||Sn||(n(st.sa,st.ta-Tt,zn,Si+16*st.R,Tt),n(st.qa,st.ra-Qr,tn,$t+8*st.B,Qr),n(st.Ha,st.Ia-Qr,hi,Ti+8*st.B,Qr))}if(!dn)return $r(zt,6,"Output aborted.")}return 1}(Z,ae)),ae.bc!=null&&ae.bc(ae),ge&=1}return ge?(Z.cb=0,ge):0})(c,T)||(p=c.a)}}else p=c.a}p==0&&j.Oa!=null&&j.Oa.fd&&(p=qi(j.ba))}j=p}H=j!=0?null:11>H?G.f.RGBA.eb:G.f.kb.y}else H=null;return H};var F5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(b,R){for(var S="",U=0;U<4;U++)S+=String.fromCharCode(b[R++]);return S}function u(b,R){return b[R+0]|b[R+1]<<8}function d(b,R){return(b[R+0]|b[R+1]<<8|b[R+2]<<16)>>>0}function g(b,R){return(b[R+0]|b[R+1]<<8|b[R+2]<<16|b[R+3]<<24)>>>0}new a;var f=[0],_=[0],C=[],x=new a,v=t,E=function(b,R){var S={},U=0,N=!1,X=0,ue=0;if(S.frames=[],!function(O,V){for(var $=0;$<4;$++)if(O[V+$]!="RIFF".charCodeAt($))return!0;return!1}(b,R)){for(g(b,R+=4),R+=8;R<b.length;){var le=l(b,R),se=g(b,R+=4);R+=4;var z=se+(1&se);switch(le){case"VP8 ":case"VP8L":S.frames[U]===void 0&&(S.frames[U]={}),(me=S.frames[U]).src_off=N?ue:R-8,me.src_size=X+se+8,U++,N&&(N=!1,X=0,ue=0);break;case"VP8X":(me=S.header={}).feature_flags=b[R];var ne=R+4;me.canvas_width=1+d(b,ne),ne+=3,me.canvas_height=1+d(b,ne),ne+=3;break;case"ALPH":N=!0,X=z+8,ue=R-8;break;case"ANIM":(me=S.header).bgcolor=g(b,R),ne=R+4,me.loop_count=u(b,ne),ne+=2;break;case"ANMF":var fe,me;(me=S.frames[U]={}).offset_x=2*d(b,R),R+=3,me.offset_y=2*d(b,R),R+=3,me.width=1+d(b,R),R+=3,me.height=1+d(b,R),R+=3,me.duration=d(b,R),R+=3,fe=b[R++],me.dispose=1&fe,me.blend=fe>>1&1}le!="ANMF"&&(R+=z)}return S}}(v,0);E.response=v,E.rgbaoutput=!0,E.dataurl=!1;var F=E.header?E.header:null,P=E.frames?E.frames:null;if(F){F.loop_counter=F.loop_count,f=[F.canvas_height],_=[F.canvas_width];for(var K=0;K<P.length&&P[K].blend!=0;K++);}var M=P[0],Q=x.WebPDecodeRGBA(v,M.src_off,M.src_size,_,f);M.rgba=Q,M.imgwidth=_[0],M.imgheight=f[0];for(var I=0;I<_[0]*f[0]*4;I++)C[I]=Q[I];return this.width=_,this.height=f,this.data=C,this}(function(t){var e,r,n,i,s,A,o,a,l,u=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new a,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new A,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new A,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,A=this.internal.Point,o=this.internal.Rectangle,a=this.internal.Matrix,l=new u}]);var d=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=O;Object.defineProperty(this,"pdf",{get:function(){return V}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(Ee){$=!!Ee}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Ee){re=!!Ee}});var Ae=0;Object.defineProperty(this,"posX",{get:function(){return Ae},set:function(Ee){isNaN(Ee)||(Ae=Ee)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(Ee){isNaN(Ee)||(ce=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(Ee){var ee;typeof Ee=="number"?ee=[Ee,Ee,Ee,Ee]:((ee=new Array(4))[0]=Ee[0],ee[1]=Ee.length>=2?Ee[1]:ee[0],ee[2]=Ee.length>=3?Ee[2]:ee[0],ee[3]=Ee.length>=4?Ee[3]:ee[1]),l.margin=ee}});var Be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Be},set:function(Ee){Be=Ee}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(Ee){he=Ee}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Ee){Ce=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(Ee){Ee instanceof u&&(l=Ee)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(Ee){l.path=Ee}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(Ee){Pe=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var ee;ee=g(Ee),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var ee=g(Ee);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Ge=null,qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(Ee){Ge=null,qe=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var ee;if(this.ctx.font=Ee,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var Nt=ee[1];ee[2];var Ie=ee[3],Oe=ee[4];ee[5];var be=ee[6],He=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(He==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:He==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var Ne=function(gt){var ct,Zt,Wt=[],nt=gt.trim();if(nt==="")return vv;if(nt in jx)return[jx[nt]];for(;nt!=="";){switch(Zt=null,ct=(nt=Gx(nt)).charAt(0)){case'"':case"'":Zt=RX(nt.substring(1),ct);break;default:Zt=kX(nt)}if(Zt===null||(Wt.push(Zt[0]),(nt=Gx(Zt[1]))!==""&&nt.charAt(0)!==","))return vv;nt=nt.replace(/^,/,"")}return Wt}(be);if(this.fontFaces){var Ye=function(gt,ct){if(Ge===null){var Zt=function(Wt){var nt=[];return Object.keys(Wt).forEach(function(_t){Wt[_t].forEach(function(Ar){var pt=null;switch(Ar){case"bold":pt={family:_t,weight:"bold"};break;case"italic":pt={family:_t,style:"italic"};break;case"bolditalic":pt={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":pt={family:_t}}pt!==null&&(pt.ref={name:_t,style:Ar},nt.push(pt))})}),nt}(gt.getFontList());Ge=function(Wt){for(var nt={},_t=0;_t<Wt.length;++_t){var Ar=wv(Wt[_t]),pt=Ar.family,Pt=Ar.stretch,It=Ar.style,kr=Ar.weight;nt[pt]=nt[pt]||{},nt[pt][Pt]=nt[pt][Pt]||{},nt[pt][Pt][It]=nt[pt][Pt][It]||{},nt[pt][Pt][It][kr]=Ar}return nt}(Zt.concat(ct))}return Ge}(this.pdf,this.fontFaces),je=Ne.map(function(gt){return{family:gt,stretch:"normal",weight:Ie,style:Nt}}),Gt=function(gt,ct,Zt){for(var Wt=(Zt=Zt||{}).defaultFontFamily||"times",nt=Object.assign({},PX,Zt.genericFontFamilies||{}),_t=null,Ar=null,pt=0;pt<ct.length;++pt)if(nt[(_t=wv(ct[pt])).family]&&(_t.family=nt[_t.family]),gt.hasOwnProperty(_t.family)){Ar=gt[_t.family];break}if(!(Ar=Ar||gt[Wt]))throw new Error("Could not find a font-family for the rule '"+Kx(_t)+"' and default family '"+Wt+"'.");if(Ar=function(Pt,It){if(It[Pt])return It[Pt];var kr=F2[Pt],Tr=kr<=F2.normal?-1:1,rr=Vx(It,b3,kr,Tr);if(!rr)throw new Error("Could not find a matching font-stretch value for "+Pt);return rr}(_t.stretch,Ar),Ar=function(Pt,It){if(It[Pt])return It[Pt];for(var kr=E3[Pt],Tr=0;Tr<kr.length;++Tr)if(It[kr[Tr]])return It[kr[Tr]];throw new Error("Could not find a matching font-style for "+Pt)}(_t.style,Ar),!(Ar=function(Pt,It){if(It[Pt])return It[Pt];if(Pt===400&&It[500])return It[500];if(Pt===500&&It[400])return It[400];var kr=LX[Pt],Tr=Vx(It,I3,kr,Pt<400?-1:1);if(!Tr)throw new Error("Could not find a matching font-weight for value "+Pt);return Tr}(_t.weight,Ar)))throw new Error("Failed to resolve a font for the rule '"+Kx(_t)+"'.");return Ar}(Ye,je);this.pdf.setFont(Gt.ref.name,Gt.ref.style)}else{var bt="";(Ie==="bold"||parseInt(Ie,10)>=700||Nt==="bold")&&(bt="bold"),Nt==="italic"&&(bt+="italic"),bt.length===0&&(bt="normal");for(var ot="",Ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bt=0;Bt<Ne.length;Bt++){if(this.pdf.internal.getFont(Ne[Bt],bt,{noFallback:!0,disableWarning:!0})!==void 0){ot=Ne[Bt];break}if(bt==="bolditalic"&&this.pdf.internal.getFont(Ne[Bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=Ne[Bt],bt="bold";else if(this.pdf.internal.getFont(Ne[Bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=Ne[Bt],bt="normal";break}}if(ot===""){for(var lt=0;lt<Ne.length;lt++)if(Ft[Ne[lt]]){ot=Ft[Ne[lt]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};d.prototype.setLineDash=function(O){this.lineDash=O},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){P.call(this,"fill",!1)},d.prototype.stroke=function(){P.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(O,V){if(isNaN(O)||isNaN(V))throw Cr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new A(O,V));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new A(O,V)},d.prototype.closePath=function(){var O=new A(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&dr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){O=new A(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(O.x,O.y)},d.prototype.lineTo=function(O,V){if(isNaN(O)||isNaN(V))throw Cr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new A(O,V));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new A($.x,$.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},d.prototype.quadraticCurveTo=function(O,V,$,re){if(isNaN($)||isNaN(re)||isNaN(O)||isNaN(V))throw Cr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ae=this.ctx.transform.applyToPoint(new A($,re)),ce=this.ctx.transform.applyToPoint(new A(O,V));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new A(Ae.x,Ae.y)},d.prototype.bezierCurveTo=function(O,V,$,re,Ae,ce){if(isNaN(Ae)||isNaN(ce)||isNaN(O)||isNaN(V)||isNaN($)||isNaN(re))throw Cr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Be=this.ctx.transform.applyToPoint(new A(Ae,ce)),he=this.ctx.transform.applyToPoint(new A(O,V)),Ce=this.ctx.transform.applyToPoint(new A($,re));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Ce.x,y2:Ce.y,x:Be.x,y:Be.y}),this.ctx.lastPoint=new A(Be.x,Be.y)},d.prototype.arc=function(O,V,$,re,Ae,ce){if(isNaN(O)||isNaN(V)||isNaN($)||isNaN(re)||isNaN(Ae))throw Cr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var Be=this.ctx.transform.applyToPoint(new A(O,V));O=Be.x,V=Be.y;var he=this.ctx.transform.applyToPoint(new A(0,$)),Ce=this.ctx.transform.applyToPoint(new A(0,0));$=Math.sqrt(Math.pow(he.x-Ce.x,2)+Math.pow(he.y-Ce.y,2))}Math.abs(Ae-re)>=2*Math.PI&&(re=0,Ae=2*Math.PI),this.path.push({type:"arc",x:O,y:V,radius:$,startAngle:re,endAngle:Ae,counterclockwise:ce})},d.prototype.arcTo=function(O,V,$,re,Ae){throw new Error("arcTo not implemented.")},d.prototype.rect=function(O,V,$,re){if(isNaN(O)||isNaN(V)||isNaN($)||isNaN(re))throw Cr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,V),this.lineTo(O+$,V),this.lineTo(O+$,V+re),this.lineTo(O,V+re),this.lineTo(O,V),this.lineTo(O+$,V),this.lineTo(O,V)},d.prototype.fillRect=function(O,V,$,re){if(isNaN(O)||isNaN(V)||isNaN($)||isNaN(re))throw Cr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Ae={};this.lineCap!=="butt"&&(Ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,V,$,re),this.fill(),Ae.hasOwnProperty("lineCap")&&(this.lineCap=Ae.lineCap),Ae.hasOwnProperty("lineJoin")&&(this.lineJoin=Ae.lineJoin)}},d.prototype.strokeRect=function(O,V,$,re){if(isNaN(O)||isNaN(V)||isNaN($)||isNaN(re))throw Cr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(O,V,$,re),this.stroke())},d.prototype.clearRect=function(O,V,$,re){if(isNaN(O)||isNaN(V)||isNaN($)||isNaN(re))throw Cr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,V,$,re))},d.prototype.save=function(O){O=typeof O!="boolean"||O;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},d.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(V),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(O){var V,$,re,Ae;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))V=0,$=0,re=0,Ae=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ce!==null)V=parseInt(ce[1]),$=parseInt(ce[2]),re=parseInt(ce[3]),Ae=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)V=parseInt(ce[1]),$=parseInt(ce[2]),re=parseInt(ce[3]),Ae=parseFloat(ce[4]);else{if(Ae=1,typeof O=="string"&&O.charAt(0)!=="#"){var Be=new m3(O);O=Be.ok?Be.toHex():"#000000"}O.length===4?(V=O.substring(1,2),V+=V,$=O.substring(2,3),$+=$,re=O.substring(3,4),re+=re):(V=O.substring(1,3),$=O.substring(3,5),re=O.substring(5,7)),V=parseInt(V,16),$=parseInt($,16),re=parseInt(re,16)}}return{r:V,g:$,b:re,a:Ae,style:O}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(O,V,$,re){if(isNaN(V)||isNaN($)||typeof O!="string")throw Cr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!f.call(this)){var Ae=z(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;U.call(this,{text:O,x:V,y:$,scale:ce,angle:Ae,align:this.textAlign,maxWidth:re})}},d.prototype.strokeText=function(O,V,$,re){if(isNaN(V)||isNaN($)||typeof O!="string")throw Cr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){re=isNaN(re)?void 0:re;var Ae=z(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;U.call(this,{text:O,x:V,y:$,scale:ce,renderingMode:"stroke",angle:Ae,align:this.textAlign,maxWidth:re})}},d.prototype.measureText=function(O){if(typeof O!="string")throw Cr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,$=this.pdf.internal.scaleFactor,re=V.internal.getFontSize(),Ae=V.getStringUnitWidth(O)*re/V.internal.scaleFactor;return new function(ce){var Be=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Be}}),this}({width:Ae*=Math.round(96*$/72*1e4)/1e4})},d.prototype.scale=function(O,V){if(isNaN(O)||isNaN(V))throw Cr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new a(O,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.rotate=function(O){if(isNaN(O))throw Cr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new a(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},d.prototype.translate=function(O,V){if(isNaN(O)||isNaN(V))throw Cr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new a(1,0,0,1,O,V);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.transform=function(O,V,$,re,Ae,ce){if(isNaN(O)||isNaN(V)||isNaN($)||isNaN(re)||isNaN(Ae)||isNaN(ce))throw Cr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Be=new a(O,V,$,re,Ae,ce);this.ctx.transform=this.ctx.transform.multiply(Be)},d.prototype.setTransform=function(O,V,$,re,Ae,ce){O=isNaN(O)?1:O,V=isNaN(V)?0:V,$=isNaN($)?0:$,re=isNaN(re)?1:re,Ae=isNaN(Ae)?0:Ae,ce=isNaN(ce)?0:ce,this.ctx.transform=new a(O,V,$,re,Ae,ce)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(O,V,$,re,Ae,ce,Be,he,Ce){var Pe=this.pdf.getImageProperties(O),Ge=1,qe=1,Ee=1,ee=1;re!==void 0&&he!==void 0&&(Ee=he/re,ee=Ce/Ae,Ge=Pe.width/re*he/re,qe=Pe.height/Ae*Ce/Ae),ce===void 0&&(ce=V,Be=$,V=0,$=0),re!==void 0&&he===void 0&&(he=re,Ce=Ae),re===void 0&&he===void 0&&(he=Pe.width,Ce=Pe.height);for(var Nt,Ie=this.ctx.transform.decompose(),Oe=z(Ie.rotate.shx),be=new a,He=(be=(be=(be=be.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new o(ce-V*Ee,Be-$*ee,re*Ge,Ae*qe)),Ne=x.call(this,He),Ye=[],je=0;je<Ne.length;je+=1)Ye.indexOf(Ne[je])===-1&&Ye.push(Ne[je]);if(F(Ye),this.autoPaging)for(var Gt=Ye[0],bt=Ye[Ye.length-1],ot=Gt;ot<bt+1;ot++){this.pdf.setPage(ot);var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=ot===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=ot===1?0:lt+(ot-2)*gt;if(this.ctx.clip_path.length!==0){var Zt=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Nt,this.posX+this.margin[3],-ct+Bt+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=Zt}var Wt=JSON.parse(JSON.stringify(He));Wt=E([Wt],this.posX+this.margin[3],-ct+Bt+this.ctx.prevPageLastElemOffset)[0];var nt=(ot>Gt||ot<bt)&&C.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,gt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,Oe),nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",He.x,He.y,He.w,He.h,null,null,Oe)};var x=function(O,V,$){var re=[];V=V||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ae=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":re.push(Math.floor((O.y+Ae)/$)+1);break;case"arc":re.push(Math.floor((O.y+Ae-O.radius)/$)+1),re.push(Math.floor((O.y+Ae+O.radius)/$)+1);break;case"qct":var ce=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);re.push(Math.floor((ce.y+Ae)/$)+1),re.push(Math.floor((ce.y+ce.h+Ae)/$)+1);break;case"bct":var Be=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);re.push(Math.floor((Be.y+Ae)/$)+1),re.push(Math.floor((Be.y+Be.h+Ae)/$)+1);break;case"rect":re.push(Math.floor((O.y+Ae)/$)+1),re.push(Math.floor((O.y+O.h+Ae)/$)+1)}for(var he=0;he<re.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<re[he];)v.call(this);return re},v=function(){var O=this.fillStyle,V=this.strokeStyle,$=this.font,re=this.lineCap,Ae=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=V,this.font=$,this.lineCap=re,this.lineWidth=Ae,this.lineJoin=ce},E=function(O,V,$){for(var re=0;re<O.length;re++)switch(O[re].type){case"bct":O[re].x2+=V,O[re].y2+=$;case"qct":O[re].x1+=V,O[re].y1+=$;default:O[re].x+=V,O[re].y+=$}return O},F=function(O){return O.sort(function(V,$){return V-$})},P=function(O,V){for(var $,re,Ae=this.fillStyle,ce=this.strokeStyle,Be=this.lineCap,he=this.lineWidth,Ce=Math.abs(he*this.ctx.transform.scaleX),Pe=this.lineJoin,Ge=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),Ee=[],ee=0;ee<qe.length;ee++)if(qe[ee].x!==void 0)for(var Nt=x.call(this,qe[ee]),Ie=0;Ie<Nt.length;Ie+=1)Ee.indexOf(Nt[Ie])===-1&&Ee.push(Nt[Ie]);for(var Oe=0;Oe<Ee.length;Oe++)for(;this.pdf.internal.getNumberOfPages()<Ee[Oe];)v.call(this);if(F(Ee),this.autoPaging)for(var be=Ee[0],He=Ee[Ee.length-1],Ne=be;Ne<He+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=Ae,this.strokeStyle=ce,this.lineCap=Be,this.lineWidth=Ce,this.lineJoin=Pe;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=Ne===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ne===1?0:Gt+(Ne-2)*bt;if(this.ctx.clip_path.length!==0){var Ft=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E($,this.posX+this.margin[3],-ot+je+this.ctx.prevPageLastElemOffset),K.call(this,O,!0),this.path=Ft}if(re=JSON.parse(JSON.stringify(Ge)),this.path=E(re,this.posX+this.margin[3],-ot+je+this.ctx.prevPageLastElemOffset),V===!1||Ne===0){var Bt=(Ne>be||Ne<He)&&C.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,bt,null).clip().discardPath()),K.call(this,O,V),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=Ce,K.call(this,O,V),this.lineWidth=he;this.path=Ge},K=function(O,V){if((O!=="stroke"||V||!_.call(this))&&(O==="stroke"||V||!f.call(this))){for(var $,re,Ae=[],ce=this.path,Be=0;Be<ce.length;Be++){var he=ce[Be];switch(he.type){case"begin":Ae.push({begin:!0});break;case"close":Ae.push({close:!0});break;case"mt":Ae.push({start:he,deltas:[],abs:[]});break;case"lt":var Ce=Ae.length;if(ce[Be-1]&&!isNaN(ce[Be-1].x)&&($=[he.x-ce[Be-1].x,he.y-ce[Be-1].y],Ce>0)){for(;Ce>=0;Ce--)if(Ae[Ce-1].close!==!0&&Ae[Ce-1].begin!==!0){Ae[Ce-1].deltas.push($),Ae[Ce-1].abs.push(he);break}}break;case"bct":$=[he.x1-ce[Be-1].x,he.y1-ce[Be-1].y,he.x2-ce[Be-1].x,he.y2-ce[Be-1].y,he.x-ce[Be-1].x,he.y-ce[Be-1].y],Ae[Ae.length-1].deltas.push($);break;case"qct":var Pe=ce[Be-1].x+2/3*(he.x1-ce[Be-1].x),Ge=ce[Be-1].y+2/3*(he.y1-ce[Be-1].y),qe=he.x+2/3*(he.x1-he.x),Ee=he.y+2/3*(he.y1-he.y),ee=he.x,Nt=he.y;$=[Pe-ce[Be-1].x,Ge-ce[Be-1].y,qe-ce[Be-1].x,Ee-ce[Be-1].y,ee-ce[Be-1].x,Nt-ce[Be-1].y],Ae[Ae.length-1].deltas.push($);break;case"arc":Ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ae[Ae.length-1].abs)&&Ae[Ae.length-1].abs.push(he)}}re=V?null:O==="stroke"?"stroke":"fill";for(var Ie=!1,Oe=0;Oe<Ae.length;Oe++)if(Ae[Oe].arc)for(var be=Ae[Oe].abs,He=0;He<be.length;He++){var Ne=be[He];Ne.type==="arc"?I.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,V,!Ie):N.call(this,Ne.x,Ne.y),Ie=!0}else if(Ae[Oe].close===!0)this.pdf.internal.out("h"),Ie=!1;else if(Ae[Oe].begin!==!0){var Ye=Ae[Oe].start.x,je=Ae[Oe].start.y;X.call(this,Ae[Oe].deltas,Ye,je),Ie=!0}re&&b.call(this,re),V&&R.call(this)}},M=function(O){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-$;case"top":return O+V-$;case"hanging":return O+V-2*$;case"middle":return O+V/2-$;default:return O}},Q=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(V,$){this.colorStops.push([V,$])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(O,V,$,re,Ae,ce,Be,he,Ce){for(var Pe=le.call(this,$,re,Ae,ce),Ge=0;Ge<Pe.length;Ge++){var qe=Pe[Ge];Ge===0&&(Ce?S.call(this,qe.x1+O,qe.y1+V):N.call(this,qe.x1+O,qe.y1+V)),ue.call(this,O,V,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}he?R.call(this):b.call(this,Be)},b=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(O,V){this.pdf.internal.out(r(O)+" "+n(V)+" m")},U=function(O){var V;switch(O.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var $=this.pdf.getTextDimensions(O.text),re=M.call(this,O.y),Ae=Q.call(this,re)-$.h,ce=this.ctx.transform.applyToPoint(new A(O.x,re)),Be=this.ctx.transform.decompose(),he=new a;he=(he=(he=he.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var Ce,Pe,Ge,qe=this.ctx.transform.applyToRectangle(new o(O.x,re,$.w,$.h)),Ee=he.applyToRectangle(new o(O.x,Ae,$.w,$.h)),ee=x.call(this,Ee),Nt=[],Ie=0;Ie<ee.length;Ie+=1)Nt.indexOf(ee[Ie])===-1&&Nt.push(ee[Ie]);if(F(Nt),this.autoPaging)for(var Oe=Nt[0],be=Nt[Nt.length-1],He=Oe;He<be+1;He++){this.pdf.setPage(He);var Ne=He===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],Gt=je-this.margin[0],bt=this.pdf.internal.pageSize.width-this.margin[1],ot=bt-this.margin[3],Ft=He===1?0:Ye+(He-2)*Gt;if(this.ctx.clip_path.length!==0){var Bt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ce,this.posX+this.margin[3],-1*Ft+Ne),K.call(this,"fill",!0),this.path=Bt}var lt=E([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Ft+Ne+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*O.scale),Ge=this.lineWidth,this.lineWidth=Ge*O.scale);var gt=this.autoPaging!=="text";if(gt||lt.y+lt.h<=je){if(gt||lt.y>=Ne&&lt.x<=bt){var ct=gt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||bt-lt.x)[0],Zt=E([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Ft+Ne+this.ctx.prevPageLastElemOffset)[0],Wt=gt&&(He>Oe||He<be)&&C.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Gt,null).clip().discardPath()),this.pdf.text(ct,Zt.x,Zt.y,{angle:O.angle,align:V,renderingMode:O.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else lt.y<je&&(this.ctx.prevPageLastElemOffset+=je-lt.y);O.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Ge)}else O.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*O.scale),Ge=this.lineWidth,this.lineWidth=Ge*O.scale),this.pdf.text(O.text,ce.x+this.posX,ce.y+this.posY,{angle:O.angle,align:V,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Ge)},N=function(O,V,$,re){$=$||0,re=re||0,this.pdf.internal.out(r(O+$)+" "+n(V+re)+" l")},X=function(O,V,$){return this.pdf.lines(O,V,$,null,null)},ue=function(O,V,$,re,Ae,ce,Be,he){this.pdf.internal.out([e(i($+O)),e(s(re+V)),e(i(Ae+O)),e(s(ce+V)),e(i(Be+O)),e(s(he+V)),"c"].join(" "))},le=function(O,V,$,re){for(var Ae=2*Math.PI,ce=Math.PI/2;V>$;)V-=Ae;var Be=Math.abs($-V);Be<Ae&&re&&(Be=Ae-Be);for(var he=[],Ce=re?-1:1,Pe=V;Be>1e-5;){var Ge=Pe+Ce*Math.min(Be,ce);he.push(se.call(this,O,Pe,Ge)),Be-=Math.abs(Ge-Pe),Pe=Ge}return he},se=function(O,V,$){var re=($-V)/2,Ae=O*Math.cos(re),ce=O*Math.sin(re),Be=Ae,he=-ce,Ce=Be*Be+he*he,Pe=Ce+Be*Ae+he*ce,Ge=4/3*(Math.sqrt(2*Ce*Pe)-Pe)/(Be*ce-he*Ae),qe=Be-Ge*he,Ee=he+Ge*Be,ee=qe,Nt=-Ee,Ie=re+V,Oe=Math.cos(Ie),be=Math.sin(Ie);return{x1:O*Math.cos(V),y1:O*Math.sin(V),x2:qe*Oe-Ee*be,y2:qe*be+Ee*Oe,x3:ee*Oe-Nt*be,y3:ee*be+Nt*Oe,x4:O*Math.cos($),y4:O*Math.sin($)}},z=function(O){return 180*O/Math.PI},ne=function(O,V,$,re,Ae,ce){var Be=O+.5*($-O),he=V+.5*(re-V),Ce=Ae+.5*($-Ae),Pe=ce+.5*(re-ce),Ge=Math.min(O,Ae,Be,Ce),qe=Math.max(O,Ae,Be,Ce),Ee=Math.min(V,ce,he,Pe),ee=Math.max(V,ce,he,Pe);return new o(Ge,Ee,qe-Ge,ee-Ee)},fe=function(O,V,$,re,Ae,ce,Be,he){var Ce,Pe,Ge,qe,Ee,ee,Nt,Ie,Oe,be,He,Ne,Ye,je,Gt=$-O,bt=re-V,ot=Ae-$,Ft=ce-re,Bt=Be-Ae,lt=he-ce;for(Pe=0;Pe<41;Pe++)Oe=(Nt=(Ge=O+(Ce=Pe/40)*Gt)+Ce*((Ee=$+Ce*ot)-Ge))+Ce*(Ee+Ce*(Ae+Ce*Bt-Ee)-Nt),be=(Ie=(qe=V+Ce*bt)+Ce*((ee=re+Ce*Ft)-qe))+Ce*(ee+Ce*(ce+Ce*lt-ee)-Ie),Pe==0?(He=Oe,Ne=be,Ye=Oe,je=be):(He=Math.min(He,Oe),Ne=Math.min(Ne,be),Ye=Math.max(Ye,Oe),je=Math.max(je,be));return new o(Math.round(He),Math.round(Ne),Math.round(Ye-He),Math.round(je-Ne))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,V,$=(O=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:V}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(at.API),function(t){var e=function(A){var o,a,l,u,d,g,f,_,C,x;for(a=[],l=0,u=(A+=o="\0\0\0\0".slice(A.length%4||4)).length;u>l;l+=4)(d=(A.charCodeAt(l)<<24)+(A.charCodeAt(l+1)<<16)+(A.charCodeAt(l+2)<<8)+A.charCodeAt(l+3))!==0?(g=(d=((d=((d=((d=(d-(x=d%85))/85)-(C=d%85))/85)-(_=d%85))/85)-(f=d%85))/85)%85,a.push(g+33,f+33,_+33,C+33,x+33)):a.push(122);return function(v,E){for(var F=E;F>0;F--)v.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},r=function(A){var o,a,l,u,d,g=String,f="length",_=255,C="charCodeAt",x="slice",v="replace";for(A[x](-2),A=A[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],u=0,d=(A+=o="uuuuu"[x](A[f]%5||5))[f];d>u;u+=5)a=52200625*(A[C](u)-33)+614125*(A[C](u+1)-33)+7225*(A[C](u+2)-33)+85*(A[C](u+3)-33)+(A[C](u+4)-33),l.push(_&a>>24,_&a>>16,_&a>>8,_&a);return function(E,F){for(var P=F;P>0;P--)E.pop()}(l,o[f]),g.fromCharCode.apply(g,l)},n=function(A){return A.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(A){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((A=A.replace(/\s/g,"")).indexOf(">")!==-1&&(A=A.substr(0,A.indexOf(">"))),A.length%2&&(A+="0"),o.test(A)===!1)return"";for(var a="",l=0;l<A.length;l+=2)a+=String.fromCharCode("0x"+(A[l]+A[l+1]));return a},s=function(A){for(var o=new Uint8Array(A.length),a=A.length;a--;)o[a]=A.charCodeAt(a);return(o=B2(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(A,o){var a=0,l=A||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=n(l),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,r,n){return function(i,s,A){s=s!==!1,A=typeof A=="function"?A:function(){};var o=void 0;try{o=function(a,l,u){var d=new XMLHttpRequest,g=0,f=function(_){var C=_.length,x=[],v=String.fromCharCode;for(g=0;g<C;g+=1)x.push(v(255&_.charCodeAt(g)));return x.join("")};if(d.open("GET",a,!l),d.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),l&&d.status===200)return f(d.responseText)}(i,s,A)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(Ct.html2canvas?Promise.resolve(Ct.html2canvas):fl(()=>Promise.resolve().then(()=>G_),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Ct.DOMPurify?Promise.resolve(Ct.DOMPurify):fl(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var a=dr(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var u in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[u]=a.style[u];return l},s=function o(a,l){for(var u=a.nodeType===3?document.createTextNode(a.nodeValue):a.cloneNode(!1),d=a.firstChild;d;d=d.nextSibling)l!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(o(d,l));return a.nodeType===1&&(a.nodeName==="CANVAS"?(u.width=a.width,u.height=a.height,u.getContext("2d").drawImage(a,0,0)):a.nodeName!=="TEXTAREA"&&a.nodeName!=="SELECT"||(u.value=a.value),u.addEventListener("load",function(){u.scrollTop=a.scrollTop,u.scrollLeft=a.scrollLeft},!0)),u},A=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return(u=u.setProgress(1,o,1,[o])).set(a)};(A.prototype=Object.create(Promise.prototype)).constructor=A,A.convert=function(o,a){return o.__proto__=a||A.prototype,o},A.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},A.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),a){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},A.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},A.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},A.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},A.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var _=u[f],C=_.src.find(function(x){return x.format==="truetype"});C&&l.addFont(C.url,_.ref.name,_.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,l.context2d.save(!0),a(this.prop.container,g)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},A.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},A.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},A.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},A.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},A.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},A.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},A.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},A.prototype.set=function(o){if(n(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in A.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},A.prototype.get=function(o,a){return this.then(function(){var l=o in A.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},A.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},A.prototype.setPageSize=function(o){function a(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},A.prototype.setProgress=function(o,a,l,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},A.prototype.updateProgress=function(o,a,l,u){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},A.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(g){return l.updateProgress(null,u),g}).then(u,d).then(function(g){return l.updateProgress(1),g})})},A.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),a&&(a=a.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:A.convert(Object.assign({},u),Promise.prototype),g=l.call(d,o,a);return A.convert(g,u.__proto__)},A.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},A.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},A.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return A.convert(a,this)},A.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},A.prototype.error=function(o){return this.then(function(){throw new Error(o)})},A.prototype.using=A.prototype.set,A.prototype.saveAs=A.prototype.save,A.prototype.export=A.prototype.output,A.prototype.run=A.prototype.then,at.getPageSize=function(o,a,l){if(dr(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,l=u.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,g=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var _,C=0,x=0;if(f.hasOwnProperty(g))C=f[g][1]/d,x=f[g][0]/d;else try{C=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",x>C&&(_=x,x=C,C=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",C>x&&(_=x,x=C,C=_)}return{width:x,height:C,unit:a,k:d,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(wv):null;var l=new A(a);return a.worker?l:l.from(o).doCallback()}}(at.API),at.API.addJS=function(t){return zx=t,this.internal.events.subscribe("postPutResources",function(){jg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zx+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jg!==void 0&&qx!==void 0&&this.internal.out("/Names <</JavaScript "+jg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var A=i[s],o=n.exec(A);if(o!=null){var a=o[1];r.internal.newObjectDeferredBegin(a,!1)}r.internal.write(A)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,u=[];for(s=0;s<l;s++){var d=r.internal.newObject();u.push(d);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var A={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(A),A},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var A=n.children[s];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var o=this.count=this.count_r({count:0},A);if(o>0&&this.line("/Count "+o),A.options&&A.options.pageNumber){var a=r.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,A,o){var a,l=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=A||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,a=function(d){for(var g,f=256*d.charCodeAt(4)+d.charCodeAt(5),_=d.length,C={width:0,height:0,numcomponents:1},x=4;x<_;x+=2){if(x+=f,e.indexOf(d.charCodeAt(x+1))!==-1){g=256*d.charCodeAt(x+5)+d.charCodeAt(x+6),C={width:256*d.charCodeAt(x+7)+d.charCodeAt(x+8),height:g,numcomponents:d.charCodeAt(x+9)};break}f=256*d.charCodeAt(x+2)+d.charCodeAt(x+3)}return C}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),a.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:a.width,height:a.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:i}}return u}}(at.API),at.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=vX(t,{checkCrc:!0}),A=s.width,o=s.height,a=s.channels,l=s.palette,u=s.depth;i=l&&a===1?function(Q){for(var I=Q.width,b=Q.height,R=Q.data,S=Q.palette,U=Q.depth,N=!1,X=[],ue=[],le=void 0,se=!1,z=0,ne=0;ne<S.length;ne++){var fe=YI(S[ne],4),me=fe[0],O=fe[1],V=fe[2],$=fe[3];X.push(me,O,V),$!=null&&($===0?(z++,ue.length<1&&ue.push(ne)):$<255&&(se=!0))}if(se||z>1){N=!0,ue=void 0;var re=I*b;le=new Uint8Array(re);for(var Ae=new DataView(R.buffer),ce=0;ce<re;ce++){var Be=yv(Ae,ce,U),he=YI(S[Be],4)[3];le[ce]=he}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:R,alphaBytes:le,needSMask:N,palette:X,mask:ue}}(s):a===2||a===4?function(Q){for(var I=Q.data,b=Q.width,R=Q.height,S=Q.channels,U=Q.depth,N=S===2?"DeviceGray":"DeviceRGB",X=S-1,ue=b*R,le=X,se=ue*le,z=1*ue,ne=Math.ceil(se*U/8),fe=Math.ceil(z*U/8),me=new Uint8Array(ne),O=new Uint8Array(fe),V=new DataView(I.buffer),$=new DataView(me.buffer),re=new DataView(O.buffer),Ae=!1,ce=0;ce<ue;ce++){for(var Be=ce*S,he=0;he<le;he++)r4($,yv(V,Be+he,U),ce*le+he,U);var Ce=yv(V,Be+le,U);Ce<(1<<U)-1&&(Ae=!0),r4(re,Ce,1*ce,U)}return{colorSpace:N,colorsPerPixel:X,colorBytes:me,alphaBytes:O,needSMask:Ae}}(s):function(Q){var I=Q.data,b=Q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:b,colorsPerPixel:b==="DeviceGray"?1:3,colorBytes:I instanceof Uint8Array?I:new Uint8Array(I.buffer),needSMask:!1}}(s);var d,g,f,_=i,C=_.colorSpace,x=_.colorsPerPixel,v=_.colorBytes,E=_.alphaBytes,F=_.needSMask,P=_.palette,K=_.mask,M=null;return n!==at.API.image_compression.NONE&&typeof B2=="function"?(M=function(Q){var I;switch(Q){case at.API.image_compression.FAST:I=11;break;case at.API.image_compression.MEDIUM:I=13;break;case at.API.image_compression.SLOW:I=14;break;default:I=12}return I}(n),d=this.decode.FLATE_DECODE,g="/Predictor ".concat(M," "),t=Yx(v,A*x,x,n),F&&(f=Yx(E,A,1,n))):(d=void 0,g="",t=v,F&&(f=E)),g+="/Colors ".concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(A),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:d,decodeParameters:g,transparency:K,palette:P,sMask:f,predictor:M,width:A,height:o,bitsPerComponent:u,colorSpace:C}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new HX(e),A=s.width,o=s.height,a=[];s.decodeAndBlitFrameRGBA(0,a);var l={data:a,width:A,height:o},u=new Bv(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(at.API),cA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cA.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Cr.log("bit decode error:"+r)}},cA.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var a=this.palette[s>>7-o&1];this.data[A+4*o]=a.blue,this.data[A+4*o+1]=a.green,this.data[A+4*o+2]=a.red,this.data[A+4*o+3]=255}r!==0&&(this.pos+=4-r)}},cA.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*i*4,o=s>>4,a=15&s,l=this.palette[o];if(this.data[A]=l.blue,this.data[A+1]=l.green,this.data[A+2]=l.red,this.data[A+3]=255,2*i+1>=this.width)break;l=this.palette[a],this.data[A+4]=l.blue,this.data[A+4+1]=l.green,this.data[A+4+2]=l.red,this.data[A+4+3]=255}e!==0&&(this.pos+=4-e)}},cA.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var A=this.palette[i];this.data[s]=A.red,this.data[s+1]=A.green,this.data[s+2]=A.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},cA.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,a=(s>>10&e)/e*255|0,l=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=a,this.data[u+1]=o,this.data[u+2]=A,this.data[u+3]=l}this.pos+=t}},cA.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(A&e)/e*255|0,a=(A>>5&r)/r*255|0,l=(A>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},cA.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=s,this.data[A+1]=i,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},cA.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=A}},cA.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new cA(e,!1),A=s.width,o=s.height,a={data:s.getData(),width:A,height:o},l=new Bv(100).encode(a,100);return t.processJPEG.call(this,l,r,n,i)}}(at.API),i4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new i4(e),A=s.width,o=s.height,a={data:s.getData(),width:A,height:o},l=new Bv(100).encode(a,100);return t.processJPEG.call(this,l,r,n,i)}}(at.API),at.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),A=new Uint8Array(i/4),o=0,a=0,l=0;l<i;l+=4){var u=n[l],d=n[l+1],g=n[l+2],f=n[l+3];s[o++]=u,s[o++]=d,s[o++]=g,A[a++]=f}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:_,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pc=at.API,Kg=pc.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),A=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,a=o.fof?o.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=l.fof?l.fof:1,d=e.doKerning!==!1,g=0,f=t.length,_=0,C=o[0]||a,x=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+A*(1e3/s)||0)/1e3):(g=d&&dr(l[n])==="object"&&!isNaN(parseInt(l[n][_],10))?l[n][_]/u:0,x.push((o[n]||C)/a+g)),_=n;return x},Wx=pc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return pc.processArabic&&(t=pc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Kg.apply(this,arguments).reduce(function(s,A){return s+A},0)},$x=function(t,e,r,n){for(var i=[],s=0,A=t.length,o=0;s!==A&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var a=s;for(o=0;s!==A;)o+e[s]>n&&(i.push(t.slice(a,s)),o=0,a=s),o+=e[s],s++;return a!==s&&i.push(t.slice(a,s)),i},Xx=function(t,e,r){r||(r={});var n,i,s,A,o,a,l,u=[],d=[u],g=r.textIndent||0,f=0,_=0,C=t.split(" "),x=Kg.apply(this,[" ",r])[0];if(a=r.lineIndent===-1?C[0].length+2:r.lineIndent||0){var v=Array(a).join(" "),E=[];C.map(function(P){(P=P.split(/\s*\n/)).length>1?E=E.concat(P.map(function(K,M){return(M&&K.length?`
`:"")+K})):E.push(P[0])}),C=E,a=Wx.apply(this,[v,r])}for(s=0,A=C.length;s<A;s++){var F=0;if(n=C[s],a&&n[0]==`
`&&(n=n.substr(1),F=1),g+f+(_=(i=Kg.apply(this,[n,r])).reduce(function(P,K){return P+K},0))>e||F){if(_>e){for(o=$x.apply(this,[n,i,e-(g+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);_=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(P,K){return P+K},0)}else u=[n];d.push(u),g=_+a,f=x}else u.push(n),g+=f+_,f=x}return l=a?function(P,K){return(K?v:"")+P.join(" ")}:function(P){return P.join(" ")},d.map(l)},pc.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),g="Unicode";return d.metadata[g]?{widths:d.metadata[g].widths||{0:1},kerning:d.metadata[g].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var A=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,a,l=[];for(o=0,a=n.length;o<a;o++)l=l.concat(Xx.apply(this,[n[o],A,s]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var A=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var f,_,C,x,v=["{"];for(var E in g){if(f=g[E],isNaN(parseInt(E,10))?_="'"+E+"'":(E=parseInt(E,10),_=(_=A(E).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof f=="number")f<0?(C=A(f).slice(3),x="-"):(C=A(f).slice(2),x=""),C=x+C.slice(0,-1)+i[C.slice(-1)];else{if(dr(f)!=="object")throw new Error("Don't know what to do with value type "+dr(f)+".");C=o(f)}v.push(_+C)}return v.push("}"),v.join("")},a=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,_,C,x,v={},E=1,F=v,P=[],K="",M="",Q=g.length-1,I=1;I<Q;I+=1)(x=g[I])=="'"?f?(C=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(P.push([F,C]),F={},C=void 0):x=="}"?((_=P.pop())[0][_[1]]=F,C=void 0,F=_[0]):x=="-"?E=-1:C===void 0?n.hasOwnProperty(x)?(K+=n[x],C=parseInt(K,16)*E,E=1,K=""):K+=x:n.hasOwnProperty(x)?(M+=n[x],F[C]=parseInt(M,16)*E,E=1,C=void 0,M=""):M+=x;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var f=g.font,_=d.Unicode[f.postScriptName];_&&(f.metadata.Unicode={},f.metadata.Unicode.widths=_.widths,f.metadata.Unicode.kerning=_.kerning);var C=u.Unicode[f.postScriptName];C&&(f.metadata.Unicode.encoding=C,f.encoding=C.codePages[0])}])}(at.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(A,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Cm(o)),A.metadata=t.API.TTFFont.open(o),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(i,n)}}])}(at),at.API.addSvgAsImage=function(t,e,r,n,i,s,A,o){if(isNaN(e)||isNaN(r))throw Cr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Cr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var a=document.createElement("canvas");a.width=n,a.height=i;var l=a.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,a.width,a.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Ct.canvg?Promise.resolve(Ct.canvg):fl(()=>import("./index.es-BS1-3H2U.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(l,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(u)}).then(function(){d.addImage(a.toDataURL("image/jpeg",1),e,r,n,i,A,o)})},at.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},at.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(A),a=[],l=0,u=0,d=0;function g(_,C){var x,v=!1;for(x=0;x<_.length;x+=1)_[x]===C&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(d=0;d<f;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(dr(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&g(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(l=0;l<s.length;l+=1)if(n=!0,s[l].length===1&&typeof s[l][0]=="number")a.push(String(s[l]-1));else if(s[l].length>1){for(u=0;u<s[l].length;u+=1)typeof s[l][u]!="number"&&(n=!1);n===!0&&a.push([s[l][0]-1,s[l][1]-1].join(" "))}r[i].value="["+a.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,C=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?C.push("/"+_+" /"+r[_].value):C.push("/"+_+" "+r[_].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),l=s.length+A.length+o.length+i.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+s+A+o+a),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(at.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,A){for(var o,a=A.metadata.Unicode.widths,l=["","0","00","000","0000"],u=[""],d=0,g=s.length;d<g;++d){if(o=A.metadata.characterToGlyph(s.charCodeAt(d)),A.metadata.glyIdsUsed.push(o),A.metadata.toUnicode[o]=s.charCodeAt(d),a.indexOf(o)==-1&&(a.push(o),a.push([parseInt(A.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(l[4-o.length],o)}return u.join("")},n=function(s){var A,o,a,l,u,d,g;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,a=[],d=0,g=(o=Object.keys(s).sort(function(f,_){return f-_})).length;d<g;d++)A=o[d],a.length>=100&&(u+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar`,a=[]),s[A]!==void 0&&s[A]!==null&&typeof s[A].toString=="function"&&(l=("0000"+s[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),a.push("<"+A+"><"+l+">"));return a.length&&(u+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(A){var o=A.font,a=A.out,l=A.newObject,u=A.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",_=0;_<g.length;_++)f+=String.fromCharCode(g[_]);var C=l();u({data:f,addLength1:!0,objectId:C}),a("endobj");var x=l();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),a("endobj");var v=l();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Ec(o.fontName)),a("/FontFile2 "+C+" 0 R"),a("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),a("/Flags "+o.metadata.flags),a("/StemV "+o.metadata.stemV),a("/ItalicAngle "+o.metadata.italicAngle),a("/Ascent "+o.metadata.ascender),a("/Descent "+o.metadata.decender),a("/CapHeight "+o.metadata.capHeight),a(">>"),a("endobj");var E=l();a("<<"),a("/Type /Font"),a("/BaseFont /"+Ec(o.fontName)),a("/FontDescriptor "+v+" 0 R"),a("/W "+t.API.PDFObject.convert(d)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+o.encoding+")"),a(">>"),a(">>"),a("endobj"),o.objectNumber=l(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+x+" 0 R"),a("/BaseFont /"+Ec(o.fontName)),a("/Encoding /"+o.encoding),a("/DescendantFonts ["+E+" 0 R]"),a(">>"),a("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(A){var o=A.font,a=A.out,l=A.newObject,u=A.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,g="",f=0;f<d.length;f++)g+=String.fromCharCode(d[f]);var _=l();u({data:g,addLength1:!0,objectId:_}),a("endobj");var C=l();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:C}),a("endobj");var x=l();a("<<"),a("/Descent "+o.metadata.decender),a("/CapHeight "+o.metadata.capHeight),a("/StemV "+o.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+_+" 0 R"),a("/Flags 96"),a("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),a("/FontName /"+Ec(o.fontName)),a("/ItalicAngle "+o.metadata.italicAngle),a("/Ascent "+o.metadata.ascender),a(">>"),a("endobj"),o.objectNumber=l();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Ec(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),a("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var A,o=s.text||"",a=s.x,l=s.y,u=s.options||{},d=s.mutex||{},g=d.pdfEscape,f=d.activeFontKey,_=d.fonts,C=f,x="",v=0,E="",F=_[C].encoding;if(_[C].encoding!=="Identity-H")return{text:o,x:a,y:l,options:u,mutex:d};for(E=o,C=f,Array.isArray(o)&&(E=o[0]),v=0;v<E.length;v+=1)_[C].metadata.hasOwnProperty("cmap")&&(A=_[C].metadata.cmap.unicode.codeMap[E[v].charCodeAt(0)]),A||E[v].charCodeAt(0)<256&&_[C].metadata.hasOwnProperty("Unicode")?x+=E[v]:x+="";var P="";return parseInt(C.slice(1))<14||F==="WinAnsiEncoding"?P=g(x,C).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(P=r(x,_[C])),d.isHex=!0,{text:P,x:a,y:l,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var A=s.text||"",o=[],a={text:A,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(A)){var l=0;for(l=0;l<A.length;l+=1)Array.isArray(A[l])&&A[l].length===3?o.push([i(Object.assign({},a,{text:A[l][0]})).text,A[l][1],A[l][2]]):o.push(i(Object.assign({},a,{text:A[l]})).text);s.text=o}else s.text=i(Object.assign({},a,{text:A})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,A,o,a,l,u,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,F=0;this.__bidiEngine__={};var P=function(S){var U=S.charCodeAt(),N=U>>8,X=C[N];return X!==void 0?d[256*X+(255&U)]:N===252||N===253?"AL":v.test(N)?"L":N===8?"R":"N"},K=function(S){for(var U,N=0;N<S.length;N++){if((U=P(S.charAt(N)))==="L")return!1;if(U==="R")return!0}return!1},M=function(S,U,N,X){var ue,le,se,z,ne=U[X];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(ne="AN");break;case"AL":E=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":X<1||X+1>=U.length||(ue=N[X-1])!=="EN"&&ue!=="AN"||(le=U[X+1])!=="EN"&&le!=="AN"?ne="N":E&&(le="AN"),ne=le===ue?le:"N";break;case"ES":ne=(ue=X>0?N[X-1]:"B")==="EN"&&X+1<U.length&&U[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&N[X-1]==="EN"){ne="EN";break}if(E){ne="N";break}for(se=X+1,z=U.length;se<z&&U[se]==="ET";)se++;ne=se<z&&U[se]==="EN"?"EN":"N";break;case"NSM":if(A&&!o){for(z=U.length,se=X+1;se<z&&U[se]==="NSM";)se++;if(se<z){var fe=S[X],me=fe>=1425&&fe<=2303||fe===64286;if(ue=U[se],me&&(ue==="R"||ue==="AL")){ne="R";break}}}ne=X<1||(ue=U[X-1])==="B"?"N":N[X-1];break;case"B":E=!1,i=!0,ne=F;break;case"S":s=!0,ne="N"}return ne},Q=function(S,U,N){var X=S.split("");return N&&I(X,N,{hiLevel:F}),X.reverse(),U&&U.reverse(),X.join("")},I=function(S,U,N){var X,ue,le,se,z,ne=-1,fe=S.length,me=0,O=[],V=F?f:g,$=[];for(E=!1,i=!1,s=!1,ue=0;ue<fe;ue++)$[ue]=P(S[ue]);for(le=0;le<fe;le++){if(z=me,O[le]=M(S,$,O,le),X=240&(me=V[z][_[O[le]]]),me&=15,U[le]=se=V[me][5],X>0)if(X===16){for(ue=ne;ue<le;ue++)U[ue]=1;ne=-1}else ne=-1;if(V[me][6])ne===-1&&(ne=le);else if(ne>-1){for(ue=ne;ue<le;ue++)U[ue]=se;ne=-1}$[le]==="B"&&(U[le]=0),N.hiLevel|=se}s&&function(re,Ae,ce){for(var Be=0;Be<ce;Be++)if(re[Be]==="S"){Ae[Be]=F;for(var he=Be-1;he>=0&&re[he]==="WS";he--)Ae[he]=F}}($,U,fe)},b=function(S,U,N,X,ue){if(!(ue.hiLevel<S)){if(S===1&&F===1&&!i)return U.reverse(),void(N&&N.reverse());for(var le,se,z,ne,fe=U.length,me=0;me<fe;){if(X[me]>=S){for(z=me+1;z<fe&&X[z]>=S;)z++;for(ne=me,se=z-1;ne<se;ne++,se--)le=U[ne],U[ne]=U[se],U[se]=le,N&&(le=N[ne],N[ne]=N[se],N[se]=le);me=z}me++}}},R=function(S,U,N){var X=S.split(""),ue={hiLevel:F};return N||(N=[]),I(X,N,ue),function(le,se,z){if(z.hiLevel!==0&&u)for(var ne,fe=0;fe<le.length;fe++)se[fe]===1&&(ne=x.indexOf(le[fe]))>=0&&(le[fe]=x[ne+1])}(X,N,ue),b(2,X,U,N,ue),b(1,X,U,N,ue),X.join("")};return this.__bidiEngine__.doBidiReorder=function(S,U,N){if(function(ue,le){if(le)for(var se=0;se<ue.length;se++)le[se]=se;o===void 0&&(o=K(ue)),l===void 0&&(l=K(ue))}(S,U),A||!a||l)if(A&&a&&o^l)F=o?1:0,S=Q(S,U,N);else if(!A&&a&&l)F=o?1:0,S=R(S,U,N),S=Q(S,U);else if(!A||o||a||l){if(A&&!a&&o^l)S=Q(S,U),o?(F=0,S=R(S,U,N)):(F=1,S=R(S,U,N),S=Q(S,U));else if(A&&o&&!a&&l)F=1,S=R(S,U,N),S=Q(S,U);else if(!A&&!a&&o^l){var X=u;o?(F=1,S=R(S,U,N),F=0,u=!1,S=R(S,U,N),u=X):(F=0,S=R(S,U,N),S=Q(S,U),F=1,u=!1,S=R(S,U,N),u=X,S=Q(S,U))}}else F=0,S=R(S,U,N);else F=o?1:0,S=R(S,U,N);return S},this.__bidiEngine__.setOptions=function(S){S&&(A=S.isInputVisual,a=S.isOutputVisual,o=S.isInputRtl,l=S.isOutputRtl,u=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var A=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(A=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?A.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):A.push([r.doBidiReorder(i[o])]);n.text=A}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new _l(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new rY(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new VX(this.contents),this.head=new KX(this),this.name=new $X(this),this.cmap=new F3(this),this.toUnicode={},this.hhea=new GX(this),this.maxp=new XX(this),this.hmtx=new YX(this),this.post=new zX(this),this.os2=new qX(this),this.loca=new tY(this),this.glyf=new JX(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,o,a,l;for(l=[],A=0,o=(a=this.bbox).length;A<o;A++)e=a[A],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,A,o;for(A=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),A+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return A*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var FA,_l=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,A,o,a;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),A=this.readByte(),o=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^A)+256*(255^o)+(255^a)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*A+256*o+a},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),VX=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,A,o,a,l,u,d,g,f,_,C;for(C in f=Object.keys(r).length,a=Math.log(2),d=16*Math.floor(Math.log(f)/a),A=Math.floor(d/a),u=16*f-d,(i=new _l).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(A),i.writeShort(u),s=16*f,l=i.pos+s,o=null,_=[],r)for(g=r[C],i.writeString(C),i.writeInt(t(g)),i.writeInt(l),i.writeInt(g.length),_=_.concat(g),C==="head"&&(o=l),l+=g.length;l%4;)_.push(0),l++;return i.write(_),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,A;for(r=S3.call(r);r.length%4;)r.push(0);for(s=new _l(r),i=0,n=0,A=r.length;n<A;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),jX={}.hasOwnProperty,co=function(t,e){for(var r in e)jX.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};FA=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var KX=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,FA),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new _l).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),s4=function(){function t(e,r){var n,i,s,A,o,a,l,u,d,g,f,_,C,x,v,E,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(f=e.readUInt16(),g=f/2,e.pos+=6,s=function(){var P,K;for(K=[],a=P=0;0<=g?P<g:P>g;a=0<=g?++P:--P)K.push(e.readUInt16());return K}(),e.pos+=2,C=function(){var P,K;for(K=[],a=P=0;0<=g?P<g:P>g;a=0<=g?++P:--P)K.push(e.readUInt16());return K}(),l=function(){var P,K;for(K=[],a=P=0;0<=g?P<g:P>g;a=0<=g?++P:--P)K.push(e.readUInt16());return K}(),u=function(){var P,K;for(K=[],a=P=0;0<=g?P<g:P>g;a=0<=g?++P:--P)K.push(e.readUInt16());return K}(),i=(this.length-e.pos+this.offset)/2,o=function(){var P,K;for(K=[],a=P=0;0<=i?P<i:P>i;a=0<=i?++P:--P)K.push(e.readUInt16());return K}(),a=v=0,F=s.length;v<F;a=++v)for(x=s[a],n=E=_=C[a];_<=x?E<=x:E>=x;n=_<=x?++E:--E)u[a]===0?A=n+l[a]:(A=o[u[a]/2+(n-_)-(g-a)]||0)!==0&&(A+=l[a]),this.codeMap[n]=65535&A}e.pos=d}return t.encode=function(e,r){var n,i,s,A,o,a,l,u,d,g,f,_,C,x,v,E,F,P,K,M,Q,I,b,R,S,U,N,X,ue,le,se,z,ne,fe,me,O,V,$,re,Ae,ce,Be,he,Ce,Pe,Ge;switch(X=new _l,A=Object.keys(e).sort(function(qe,Ee){return qe-Ee}),r){case"macroman":for(C=0,x=function(){var qe=[];for(_=0;_<256;++_)qe.push(0);return qe}(),E={0:0},s={},ue=0,ne=A.length;ue<ne;ue++)E[he=e[i=A[ue]]]==null&&(E[he]=++C),s[i]={old:e[i],new:E[e[i]]},x[i]=E[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(x),{charMap:s,subtable:X.data,maxGlyphID:C+1};case"unicode":for(U=[],d=[],F=0,E={},n={},v=l=null,le=0,fe=A.length;le<fe;le++)E[K=e[i=A[le]]]==null&&(E[K]=++F),n[i]={old:K,new:E[K]},o=E[K]-i,v!=null&&o===l||(v&&d.push(v),U.push(i),l=o),v=i;for(v&&d.push(v),d.push(65535),U.push(65535),R=2*(b=U.length),I=2*Math.pow(Math.log(b)/Math.LN2,2),g=Math.log(I/2)/Math.LN2,Q=2*b-I,a=[],M=[],f=[],_=se=0,me=U.length;se<me;_=++se){if(S=U[_],u=d[_],S===65535){a.push(0),M.push(0);break}if(S-(N=n[S].new)>=32768)for(a.push(0),M.push(2*(f.length+b-_)),i=z=S;S<=u?z<=u:z>=u;i=S<=u?++z:--z)f.push(n[i].new);else a.push(N-S),M.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*b+2*f.length),X.writeUInt16(0),X.writeUInt16(R),X.writeUInt16(I),X.writeUInt16(g),X.writeUInt16(Q),ce=0,O=d.length;ce<O;ce++)i=d[ce],X.writeUInt16(i);for(X.writeUInt16(0),Be=0,V=U.length;Be<V;Be++)i=U[Be],X.writeUInt16(i);for(Ce=0,$=a.length;Ce<$;Ce++)o=a[Ce],X.writeUInt16(o);for(Pe=0,re=M.length;Pe<re;Pe++)P=M[Pe],X.writeUInt16(P);for(Ge=0,Ae=f.length;Ge<Ae;Ge++)C=f[Ge],X.writeUInt16(C);return{charMap:n,subtable:X.data,maxGlyphID:F+1}}},t}(),F3=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,FA),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new s4(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=s4.encode(e,r),(i=new _l).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),GX=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,FA),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),qX=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,FA),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),zX=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,FA),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var A,o,a;for(a=[],s=A=0,o=this.file.maxp.numGlyphs;0<=o?A<o:A>o;s=0<=o?++A:--A)a.push(e.readUInt32());return a}).call(this)}},t}(),WX=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$X=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,FA),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,A,o,a,l,u,d,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(a={},s=u=0,d=n.length;u<d;s=++u)i=n[s],e.pos=i.offset,l=e.readString(i.length),A=new WX(l,i),a[g=i.nameID]==null&&(a[g]=[]),a[i.nameID].push(A);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},t}(),XX=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,FA),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),YX=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,FA),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,A,o,a;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,u;for(u=[],r=l=0;0<=i?l<i:l>i;r=0<=i?++l:--l)u.push(e.readInt16());return u}(),this.widths=(function(){var l,u,d,g;for(g=[],l=0,u=(d=this.metrics).length;l<u;l++)s=d[l],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],a=[],r=A=0;0<=i?A<i:A>i;r=0<=i?++A:--A)a.push(this.widths.push(n));return a},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),S3=[].slice,JX=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,FA),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,A,o,a,l,u,d;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,A=(o=new _l(r.read(i))).readShort(),l=o.readShort(),d=o.readShort(),a=o.readShort(),u=o.readShort(),this.cache[e]=A===-1?new eY(o,l,d,a,u):new ZX(o,A,l,d,a,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,A,o,a;for(A=[],s=[],o=0,a=r.length;o<a;o++)i=e[r[o]],s.push(A.length),i&&(A=A.concat(i.encode(n)));return s.push(A.length),{table:A,offsets:s}},t}(),ZX=function(){function t(e,r,n,i,s,A){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=A,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),eY=function(){function t(e,r,n,i,s){var A,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;o=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&o;)A.pos+=1&o?4:2,128&o?A.pos+=8:64&o?A.pos+=4:8&o&&(A.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new _l(S3.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),tY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,FA),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,A=0;A<n.length;++A)if(n[A]=i,s<r.length&&r[s]==A){++s,n[A]=i;var o=this.offsets[A],a=this.offsets[A+1]-o;a>0&&(i+=a)}for(var l=new Array(4*n.length),u=0;u<n.length;++u)l[4*u+3]=255&n[u],l[4*u+2]=(65280&n[u])>>8,l[4*u+1]=(16711680&n[u])>>16,l[4*u]=(4278190080&n[u])>>24;return l},t}(),rY=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,A,o,a;for(i={},A=0,o=e.length;A<o;A++)i[s=e[A]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in a=this.glyphsFor(r))n=a[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,A,o,a,l,u,d,g,f,_,C,x,v;for(i in n=F3.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(e),f={0:0},v=n.charMap)f[(a=v[i]).old]=a.new;for(_ in g=n.maxGlyphID,A)_ in f||(f[_]=g++);return u=function(E){var F,P;for(F in P={},E)P[E[F]]=F;return P}(f),d=Object.keys(u).sort(function(E,F){return E-F}),C=function(){var E,F,P;for(P=[],E=0,F=d.length;E<F;E++)o=d[E],P.push(u[o]);return P}(),s=this.font.glyf.encode(A,C,f),l=this.font.loca.encode(s.offsets,C),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,A;if(Array.isArray(r))return"["+function(){var o,a,l;for(l=[],o=0,a=r.length;o<a;o++)n=r[o],l.push(e.convert(n));return l}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)A=r[i],s.push("/"+i+" "+e.convert(A));return s.push(">>"),s.join(`
`)}return""+r},e}();const S2=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:QX,AcroFormAppearance:et,AcroFormButton:Nn,AcroFormCheckBox:af,AcroFormChoiceField:pu,AcroFormComboBox:mu,AcroFormEditBox:Af,AcroFormListBox:gu,AcroFormPasswordField:lf,AcroFormPushButton:of,AcroFormRadioButton:wu,AcroFormTextField:pl,GState:Xf,ShadingPattern:Ga,TilingPattern:lu,default:at,jsPDF:at},Symbol.toStringTag,{value:"Module"}));async function nY(t){const e={...t,remaining:t.quantity,status:"PENDIENTE",createdAt:ir.now()};return Bp(wr(dt,"inventory_batches"),e)}async function T3(t,e){await eA(Br(dt,"inventory_batches",t),{status:"PAGADO",paidAmount:null,paidAt:ir.now()})}async function iY(t,e){const r=Zs(wr(dt,"batch_allocations"),es("saleDate",">=",t),es("saleDate","<=",e)),n=await Bn(r),i={};return n.forEach(s=>{const A=s.data(),o=A.batchId;i[o]||(i[o]={batchId:A.batchId,batchDate:A.batchDate,productName:A.productName,quantity:0,amountCharged:0}),i[o].quantity+=Number(A.quantity||0),i[o].amountCharged+=Number(A.amountCharged||0)}),Object.values(i)}async function sY(t){const e=Br(dt,"salesV2",t),r=await vp(e);if(!r.exists())throw new Error("La venta no existe.");const n=r.data(),i=Array.isArray(n.allocations)?n.allocations:[];return await IN(dt,async s=>{if(i.length>0)for(const A of i){if(!(A!=null&&A.batchId)||!(A!=null&&A.qty))continue;const o=Br(dt,"inventory_batches",A.batchId),a=await s.get(o);if(!a.exists())continue;const l=Number(a.data().remaining??0),u=Number((l+Number(A.qty||0)).toFixed(2));s.update(o,{remaining:u})}s.delete(e)}),{restored:i.reduce((s,A)=>s+(Number(A.qty)||0),0)}}const wd=t=>Number(t??0).toFixed(2),AY=(t,e)=>{var n;const r=t.date??((n=t.timestamp)!=null&&n.toDate?ki(t.timestamp.toDate(),"yyyy-MM-dd"):void 0);return r?{id:e,productName:t.productName??"(sin nombre)",quantity:Number(t.quantity??0),amount:Number(t.amount??t.amountCharged??0),amountSuggested:Number(t.amountSuggested??0),date:r,userEmail:t.userEmail??t.vendor??"(sin usuario)",clientName:t.clientName??"",amountReceived:Number(t.amountReceived??0),change:String(t.change??"0"),status:t.status??"FLOTANTE",allocations:t.allocations,avgUnitCost:t.avgUnitCost,cogsAmount:t.cogsAmount}:null};function oY({role:t}){const[e,r]=te.useState([]),[n,i]=te.useState(null),[s,A]=te.useState(!0),[o,a]=te.useState(""),[l,u]=te.useState("ALL"),[d,g]=te.useState(null),[f,_]=te.useState(0),[C,x]=te.useState(0),[v,E]=te.useState(""),[F,P]=te.useState(0),[K,M]=te.useState("0"),Q=ki(new Date,"yyyy-MM-dd"),I=te.useRef(null);te.useEffect(()=>{const V=Zs(wr(dt,"salesV2"),es("date","==",Q)),$=b7(V,re=>{const Ae=[];re.forEach(ce=>{const Be=AY(ce.data(),ce.id);Be&&Ae.push(Be)}),r(Ae),A(!1)});return()=>$()},[Q]),te.useEffect(()=>{(async()=>{const $=Zs(wr(dt,"daily_closures"),es("date","==",Q)),re=await Bn($);if(re.empty)i(null);else{const Ae=re.docs[0];i({id:Ae.id,...Ae.data()})}})()},[Q]);const b=l==="ALL"?e:e.filter(V=>V.status===l);b.reduce((V,$)=>V+($.amountSuggested||0),0);const R=b.reduce((V,$)=>V+($.amount||0),0),S=b.reduce((V,$)=>V+($.quantity||0),0),U=b.reduce((V,$)=>V+Number($.cogsAmount??0),0),N=R-U,X={};e.forEach(V=>{const $=V.productName||"(sin nombre)";X[$]||(X[$]={totalQuantity:0,totalAmount:0}),X[$].totalQuantity+=V.quantity||0,X[$].totalAmount+=V.amount||0});const ue=Object.entries(X).map(([V,$])=>({productName:V,totalQuantity:$.totalQuantity,totalAmount:$.totalAmount})),le=async()=>{try{const V=e.filter(he=>he.status!=="PROCESADA");if(V.length===0){a("No hay ventas FLOTANTE para procesar.");return}const $={totalCharged:V.reduce((he,Ce)=>he+(Ce.amount||0),0),totalSuggested:V.reduce((he,Ce)=>he+(Ce.amountSuggested||0),0),totalUnits:V.reduce((he,Ce)=>he+(Ce.quantity||0),0),totalCOGS:V.reduce((he,Ce)=>he+Number(Ce.cogsAmount??0),0)},re=$.totalCharged-$.totalSuggested,Ae=$.totalCharged-$.totalCOGS,ce=await Bp(wr(dt,"daily_closures"),{date:Q,createdAt:ir.now(),totalCharged:$.totalCharged,totalSuggested:$.totalSuggested,totalDifference:re,totalUnits:$.totalUnits,totalCOGS:$.totalCOGS,grossProfit:Ae,products:V.map(he=>({productName:he.productName,quantity:he.quantity,amount:he.amount})),salesV2:V.map(he=>({id:he.id,productName:he.productName,quantity:he.quantity,amount:he.amount,amountSuggested:he.amountSuggested,userEmail:he.userEmail,clientName:he.clientName,amountReceived:he.amountReceived,change:he.change,status:he.status,cogsAmount:he.cogsAmount??0,avgUnitCost:he.avgUnitCost??null,allocations:he.allocations??[]})),productSummary:ue}),Be=xN(dt);V.forEach(he=>{Be.update(Br(dt,"salesV2",he.id),{status:"PROCESADA",closureId:ce.id,closureDate:Q})}),await Be.commit(),a("✅ Cierre guardado y ventas marcadas como PROCESADA.")}catch(V){console.error(V),a("❌ Error al guardar el cierre.")}},se=async V=>{if(window.confirm("¿Revertir esta venta? Esta acción no se puede deshacer."))try{await eA(Br(dt,"salesV2",V),{status:"FLOTANTE",closureId:null,closureDate:null}),a("↩️ Venta revertida a FLOTANTE.")}catch($){console.error($),a("❌ No se pudo revertir la venta.")}},z=V=>{g(V),_(V.quantity),x(V.amount),E(V.clientName),P(V.amountReceived),M(V.change)},ne=async()=>{if(d)try{await eA(Br(dt,"salesV2",d.id),{quantity:f,amount:C,amountCharged:C,clientName:v,amountReceived:F,change:K}),g(null),a("✅ Venta actualizada.")}catch(V){console.error(V),a("❌ No se pudo actualizar la venta.")}},fe=async V=>{if(window.confirm("¿Eliminar esta venta? Se restaurará el stock en los lotes asignados."))try{const{restored:$}=await sY(V);a(`🗑️ Venta eliminada. Stock restaurado: ${Number($).toFixed(2)}.`)}catch($){console.error($),a("❌ No se pudo eliminar la venta.")}},me=async()=>{if(I.current){I.current.classList.add("force-pdf-colors");try{const $=(await DQ(I.current,{backgroundColor:"#ffffff",onclone:Ae=>{const ce=Ae.defaultView;Ae.body.querySelectorAll("*").forEach(he=>{const Ce=ce.getComputedStyle(he);Ce.color&&(he.style.color=Ce.color),Ce.backgroundColor&&Ce.backgroundColor!=="rgba(0, 0, 0, 0)"&&(he.style.backgroundColor=Ce.backgroundColor),Ce.borderColor&&(he.style.borderColor=Ce.borderColor)})}})).toDataURL("image/png"),re=new at;re.addImage($,"PNG",10,10,190,0),re.save(`cierre_${Q}.pdf`)}finally{I.current.classList.remove("force-pdf-colors")}}},O=!t||t==="admin";return m.jsxs("div",{className:"max-w-7xl mx-auto bg-white p-6 rounded shadow",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Cierre de Ventas - ",Q]}),m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx("label",{className:"text-sm",children:"Filtrar:"}),m.jsxs("select",{className:"border rounded px-2 py-1",value:l,onChange:V=>u(V.target.value),children:[m.jsx("option",{value:"ALL",children:"Todas"}),m.jsx("option",{value:"FLOTANTE",children:"Venta Flotante"}),m.jsx("option",{value:"PROCESADA",children:"Venta Procesada"})]})]}),s?m.jsx("p",{children:"Cargando ventas..."}):m.jsxs("div",{ref:I,children:[m.jsxs("table",{className:"min-w-full border text-sm mb-4",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border p-2",children:"Estado"}),m.jsx("th",{className:"border p-2",children:"Producto"}),m.jsx("th",{className:"border p-2",children:"Libras - Unidad"}),m.jsx("th",{className:"border p-2",children:"Monto"}),m.jsx("th",{className:"border p-2",children:"Vendedor"}),m.jsx("th",{className:"border p-2",children:"Acciones"})]})}),m.jsxs("tbody",{children:[b.map(V=>m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"border p-1",children:m.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${V.status==="PROCESADA"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:V.status})}),m.jsx("td",{className:"border p-1",children:V.productName}),m.jsx("td",{className:"border p-1",children:V.quantity}),m.jsxs("td",{className:"border p-1",children:["C$",wd(V.amount)]}),m.jsx("td",{className:"border p-1",children:V.userEmail}),m.jsx("td",{className:"border p-1",children:V.status==="FLOTANTE"?m.jsxs("div",{className:"flex gap-2 justify-center",children:[O&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>z(V),className:"text-xs bg-indigo-600 text-white px-2 py-1 rounded hover:bg-indigo-700",children:"Editar"}),m.jsx("button",{onClick:()=>fe(V.id),className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",children:"Eliminar"})]}),!O&&m.jsx("span",{className:"text-gray-400 text-xs",children:"—"})]}):V.status==="PROCESADA"?m.jsx("div",{className:"flex gap-2 justify-center",children:O?m.jsx("button",{onClick:()=>se(V.id),className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",children:"Revertir"}):m.jsx("span",{className:"text-gray-400 text-xs",children:"—"})}):m.jsx("span",{className:"text-gray-400 text-xs",children:"No options"})})]},V.id)),b.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:9,className:"p-3 text-center text-gray-500",children:"Sin ventas para mostrar."})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mb-2",children:[m.jsxs("div",{children:["Total unidades: ",m.jsx("strong",{children:S})]}),m.jsxs("div",{children:["Total cobrado: ",m.jsxs("strong",{children:["C$",wd(R)]})]})]}),(U>0||N!==R)&&m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm mb-6",children:[m.jsxs("div",{children:["Calculo a Precio compra:"," ",m.jsxs("strong",{children:["C$",wd(U)]})]}),m.jsxs("div",{children:["Ganancia antes de gasto:"," ",m.jsxs("strong",{children:["C$",wd(N)]})]})]}),m.jsx("h3",{className:"font-semibold mb-2",children:"Consolidado por producto (día)"}),m.jsxs("table",{className:"min-w-full border text-sm mb-2",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border p-2",children:"Producto"}),m.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),m.jsx("th",{className:"border p-2",children:"Total dinero"})]})}),m.jsxs("tbody",{children:[ue.map(V=>m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"border p-1",children:V.productName}),m.jsx("td",{className:"border p-1",children:V.totalQuantity}),m.jsxs("td",{className:"border p-1",children:["C$",wd(V.totalAmount)]})]},V.productName)),ue.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"p-3 text-center text-gray-500",children:"Sin datos para consolidar."})})]})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:le,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Cerrar ventas del día"}),m.jsx("button",{onClick:me,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Descargar PDF"})]}),o&&m.jsx("p",{className:"mt-2 text-sm",children:o}),d&&m.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-4 space-y-3",children:[m.jsx("h4",{className:"font-semibold text-lg",children:"Editar venta"}),m.jsxs("div",{className:"text-sm text-gray-500",children:[d.productName," • ",d.userEmail]}),m.jsx("label",{className:"text-sm",children:"Cantidad"}),m.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded px-2 py-1",value:f,onChange:V=>_(parseFloat(V.target.value||"0"))}),m.jsx("label",{className:"text-sm",children:"Monto cobrado"}),m.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded px-2 py-1",value:C,onChange:V=>x(parseFloat(V.target.value||"0"))}),m.jsx("label",{className:"text-sm",children:"Cliente"}),m.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1",value:v,onChange:V=>E(V.target.value)}),m.jsx("label",{className:"text-sm",children:"Paga con"}),m.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded px-2 py-1",value:F,onChange:V=>P(parseFloat(V.target.value||"0"))}),m.jsx("label",{className:"text-sm",children:"Vuelto"}),m.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1",value:K,onChange:V=>M(V.target.value)}),m.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[m.jsx("button",{onClick:()=>g(null),className:"px-3 py-1 border rounded",children:"Cancelar"}),m.jsx("button",{onClick:ne,className:"px-3 py-1 rounded text-white bg-indigo-600 hover:bg-indigo-700",children:"Guardar cambios"})]})]})})]})}const Os=t=>Number(t??0).toFixed(2);function aY(){var E,F,P,K;const t=async M=>{if(!window.confirm(`¿Eliminar el cierre del ${M.date}?`))return;const Q=window.confirm("¿También quieres reabrir (revertir a FLOTANTE) las ventas vinculadas a este cierre?");try{if(Q){const I=await Bn(Zs(wr(dt,"salesV2"),es("closureId","==",M.id)));if(!I.empty){const b=xN(dt);I.forEach(R=>{b.update(Br(dt,"salesV2",R.id),{status:"FLOTANTE",closureId:null,closureDate:null})}),await b.commit()}}await yp(Br(dt,"daily_closures",M.id)),(l==null?void 0:l.id)===M.id&&u(null),await _(),g(`🗑️ Cierre eliminado${Q?" y ventas reabiertas.":"."}`)}catch(I){console.error(I),g("❌ No se pudo eliminar el cierre.")}},[e,r]=te.useState(ki(Mj(new Date),"yyyy-MM-dd")),[n,i]=te.useState(ki(new Date,"yyyy-MM-dd")),[s,A]=te.useState(!0),[o,a]=te.useState([]),[l,u]=te.useState(null),[d,g]=te.useState(""),f=te.useRef(null),_=async()=>{try{A(!0);const M=Zs(wr(dt,"daily_closures"),es("date",">=",e),es("date","<=",n)),Q=await Bn(M),I=[];Q.forEach(b=>I.push({id:b.id,...b.data()})),I.sort((b,R)=>b.date<R.date?1:b.date>R.date?-1:0),a(I)}catch(M){console.error(M),g("❌ Error cargando el historial.")}finally{A(!1)}};te.useEffect(()=>{_()},[]);const C=async M=>{M.preventDefault(),_()},x=te.useMemo(()=>{if(!l)return{units:0,sug:0,chg:0,diff:0,cogs:0,profit:0};const M=Number(l.totalUnits??0),Q=Number(l.totalSuggested??0),I=Number(l.totalCharged??0),b=Number(l.totalDifference??(isFinite(I-Q)?I-Q:0)),R=Number(l.totalCOGS??0),S=Number(l.grossProfit??(isFinite(I-R)?I-R:0));return{units:M,sug:Q,chg:I,diff:b,cogs:R,profit:S}},[l]),v=async()=>{if(!f.current||!l)return;const M=f.current;M.classList.add("force-pdf-colors");try{const[{default:Q},{jsPDF:I}]=await Promise.all([fl(()=>Promise.resolve().then(()=>G_),void 0),fl(()=>Promise.resolve().then(()=>S2),void 0)]),R=(await Q(M,{backgroundColor:"#ffffff",onclone:N=>{const X=N.defaultView;N.body.querySelectorAll("*").forEach(le=>{const se=X.getComputedStyle(le);se.color&&(le.style.color=se.color),se.backgroundColor&&se.backgroundColor!=="rgba(0, 0, 0, 0)"&&(le.style.backgroundColor=se.backgroundColor),se.borderColor&&(le.style.borderColor=se.borderColor)})}})).toDataURL("image/png"),{jsPDF:S}=await fl(async()=>{const{jsPDF:N}=await Promise.resolve().then(()=>S2);return{jsPDF:N}},void 0),U=new S;U.addImage(R,"PNG",10,10,190,0),U.save(`cierre_${l.date}.pdf`)}finally{M.classList.remove("force-pdf-colors")}};return m.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-white rounded shadow",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Histórico de cierres"}),m.jsxs("form",{onSubmit:C,className:"flex flex-wrap items-end gap-3 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm",children:"Desde"}),m.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:e,onChange:M=>r(M.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm",children:"Hasta"}),m.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:n,onChange:M=>i(M.target.value)})]}),m.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Aplicar"})]}),s?m.jsx("p",{children:"Cargando..."}):o.length===0?m.jsx("p",{className:"text-sm text-gray-500",children:"Sin cierres en el rango seleccionado."}):m.jsxs("table",{className:"min-w-full border text-sm mb-6",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border p-2",children:"Fecha"}),m.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),m.jsx("th",{className:"border p-2",children:"Monto de venta"}),m.jsx("th",{className:"border p-2",children:"Monto al costo"}),m.jsx("th",{className:"border p-2",children:"Ganancia sin gastos"}),m.jsx("th",{className:"border p-2",children:"Acciones"})]})}),m.jsx("tbody",{children:o.map(M=>m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"border p-1",children:M.date}),m.jsx("td",{className:"border p-1",children:M.totalUnits??0}),m.jsxs("td",{className:"border p-1",children:["C$",Os(M.totalCharged)]}),m.jsxs("td",{className:"border p-1",children:["C$",Os(M.totalCOGS)]}),m.jsxs("td",{className:"border p-1",children:["C$",Os(M.grossProfit??Number(M.totalCharged??0)-Number(M.totalCOGS??0))]}),m.jsx("td",{className:"border p-1",children:m.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[m.jsx("button",{className:"text-xs bg-gray-800 text-white px-2 py-1 rounded hover:bg-black",onClick:()=>u(M),children:"Ver detalle"}),m.jsx("button",{className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",onClick:()=>t(M),children:"Eliminar"})]})})]},M.id))})]}),l&&m.jsxs("div",{className:"mt-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsxs("h2",{className:"text-xl font-semibold",children:["Detalle ",l.date]}),m.jsx("button",{onClick:()=>u(null),className:"text-sm px-2 py-1 border rounded",children:"Cerrar"}),m.jsx("button",{onClick:v,className:"ml-auto bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 text-sm",children:"Descargar PDF"})]}),m.jsxs("div",{ref:f,className:"space-y-4",children:[m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:m.jsxs("div",{children:["Total unidades: ",m.jsx("strong",{children:x.units})]})}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:[m.jsxs("div",{children:["Monto al costo:"," ",m.jsxs("strong",{children:["C$",Os(x.cogs)]})]}),m.jsxs("div",{children:["Ganancia sin gastos:"," ",m.jsxs("strong",{children:["C$",Os(x.profit)]})]})]}),(E=l.salesV2)!=null&&E.length?m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"font-semibold",children:"Ventas incluidas en el cierre"}),m.jsxs("table",{className:"min-w-full border text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border p-2",children:"Producto"}),m.jsx("th",{className:"border p-2",children:"Cantidad"}),m.jsx("th",{className:"border p-2",children:"Monto de ventas"}),m.jsx("th",{className:"border p-2",children:"Monto al costo"}),m.jsx("th",{className:"border p-2",children:"Vendedor"})]})}),m.jsx("tbody",{children:l.salesV2.map((M,Q)=>m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"border p-1",children:M.productName??"(sin nombre)"}),m.jsx("td",{className:"border p-1",children:M.quantity??0}),m.jsxs("td",{className:"border p-1",children:["C$",Os(M.amount)]}),m.jsxs("td",{className:"border p-1",children:["C$",Os(M.cogsAmount)]}),m.jsx("td",{className:"border p-1",children:M.userEmail??""})]},Q))})]})]}):(F=l.sales)!=null&&F.length?m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"font-semibold",children:"Ventas incluidas en el cierre"}),m.jsxs("table",{className:"min-w-full border text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border p-2",children:"Producto"}),m.jsx("th",{className:"border p-2",children:"Cantidad"}),m.jsx("th",{className:"border p-2",children:"Monto"}),m.jsx("th",{className:"border p-2",children:"Vendedor"}),m.jsx("th",{className:"border p-2",children:"Cliente"}),m.jsx("th",{className:"border p-2",children:"Paga con"}),m.jsx("th",{className:"border p-2",children:"Vuelto"})]})}),m.jsx("tbody",{children:l.sales.map((M,Q)=>m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"border p-1",children:M.productName??"(sin nombre)"}),m.jsx("td",{className:"border p-1",children:M.quantity??0}),m.jsxs("td",{className:"border p-1",children:["C$",Os(M.amount)]}),m.jsx("td",{className:"border p-1",children:M.userEmail??""}),m.jsx("td",{className:"border p-1",children:M.clientName??""}),m.jsxs("td",{className:"border p-1",children:["C$",Os(M.amountReceived)]}),m.jsx("td",{className:"border p-1",children:typeof M.change=="number"?Os(M.change):M.change??"0"})]},Q))})]})]}):(P=l.products)!=null&&P.length?m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"font-semibold",children:"Productos en el cierre"}),m.jsxs("table",{className:"min-w-full border text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border p-2",children:"Producto"}),m.jsx("th",{className:"border p-2",children:"Cantidad"}),m.jsx("th",{className:"border p-2",children:"Monto"})]})}),m.jsx("tbody",{children:l.products.map((M,Q)=>m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"border p-1",children:M.productName}),m.jsx("td",{className:"border p-1",children:M.quantity}),m.jsxs("td",{className:"border p-1",children:["C$",Os(M.amount)]})]},Q))})]})]}):m.jsx("p",{className:"text-sm text-gray-500",children:"Sin detalle de ventas en este cierre."}),(K=l.productSummary)!=null&&K.length?m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"font-semibold",children:"Consolidado por producto"}),m.jsxs("table",{className:"min-w-full border text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border p-2",children:"Producto"}),m.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),m.jsx("th",{className:"border p-2",children:"Total dinero"})]})}),m.jsx("tbody",{children:l.productSummary.map((M,Q)=>m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"border p-1",children:M.productName}),m.jsx("td",{className:"border p-1",children:M.totalQuantity}),m.jsxs("td",{className:"border p-1",children:["C$",Os(M.totalAmount)]})]},Q))})]})]}):null]})]}),d&&m.jsx("p",{className:"mt-3 text-sm",children:d})]})}function lY(){const[t,e]=te.useState(""),[r,n]=te.useState(""),[i,s]=te.useState("vendedor"),[A,o]=te.useState(""),[a,l]=te.useState([]),[u,d]=te.useState(!0),[g,f]=te.useState(null),[_,C]=te.useState("vendedor"),x=async()=>{d(!0);const M=await Bn(wr(dt,"users")),Q=[];M.forEach(I=>{const b=I.data();Q.push({id:I.id,email:b.email??"",role:b.role??"vendedor"})}),l(Q),d(!1)};te.useEffect(()=>{x()},[]);const v=async M=>{M.preventDefault(),o("");try{const Q=PB(),I=LB(Q.options,"Secondary"),b=ST(I),R=await HO(b,t,r);await E7(Br(wr(dt,"users"),R.user.uid),{email:t,role:i}),await wT(b),await R6(I),l(S=>[{id:R.user.uid,email:t,role:i},...S]),o("✅ Usuario creado correctamente."),e(""),n(""),s("vendedor")}catch(Q){console.error(Q),o("❌ Error al crear el usuario: "+Q.message)}},E=M=>{f(M.id),C(M.role||"vendedor")},F=()=>{f(null),C("vendedor")},P=async()=>{if(!g)return;const M=Br(dt,"users",g);await eA(M,{role:_}),l(Q=>Q.map(I=>I.id===g?{...I,role:_}:I)),F()},K=async M=>{confirm("¿Eliminar este usuario del listado?")&&(await yp(Br(dt,"users",M)),l(I=>I.filter(b=>b.id!==M)))};return m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("form",{onSubmit:v,className:"max-w-md mx-auto bg-white p-8 shadow-lg rounded-lg space-y-6 border border-gray-200",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-4 text-purple-700 flex items-center gap-2",children:[m.jsx("span",{className:"inline-block bg-purple-100 text-purple-700 rounded-full p-2",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),"Registrar nuevo usuario"]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Correo electrónico"}),m.jsx("input",{type:"email",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-purple-400",value:t,onChange:M=>e(M.target.value)})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Contraseña"}),m.jsx("input",{type:"password",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-purple-400",value:r,onChange:M=>n(M.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm",children:"Rol"}),m.jsxs("select",{className:"w-full border p-2 rounded",value:i,onChange:M=>s(M.target.value),children:[m.jsx("option",{value:"vendedor",children:"Vendedor"}),m.jsx("option",{value:"admin",children:"Admin"})]})]}),m.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full",children:"Crear usuario"}),A&&m.jsx("p",{className:"text-sm mt-2",children:A})]}),m.jsxs("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto mt-6",children:[m.jsx("h3",{className:"text-lg font-semibold p-2",children:"Usuarios"}),m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2 border",children:"Email"}),m.jsx("th",{className:"p-2 border",children:"Rol"}),m.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),m.jsx("tbody",{children:u?m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"p-4 text-center",children:"Cargando…"})}):a.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"p-4 text-center",children:"Sin usuarios"})}):a.map(M=>{const Q=g===M.id;return m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"p-2 border",children:M.email}),m.jsx("td",{className:"p-2 border",children:Q?m.jsxs("select",{className:"w-full border p-1 rounded",value:_,onChange:I=>C(I.target.value),children:[m.jsx("option",{value:"vendedor",children:"Vendedor"}),m.jsx("option",{value:"admin",children:"Admin"})]}):m.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${M.role==="admin"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:M.role})}),m.jsx("td",{className:"p-2 border space-x-2",children:Q?m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"px-2 py-1 rounded text-white bg-blue-600 hover:bg-blue-700",onClick:P,children:"Guardar"}),m.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:F,children:"Cancelar"})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"px-2 py-1 rounded text-white bg-yellow-600 hover:bg-yellow-700",onClick:()=>E(M),children:"Editar"}),m.jsx("button",{className:"px-2 py-1 rounded text-white bg-red-600 hover:bg-red-700",onClick:()=>K(M.id),children:"Eliminar"})]})})]},M.id)})})]})]})]})}const uY=t=>`C$${(Number(t)||0).toFixed(2)}`;function cY(){const[t,e]=te.useState(""),[r,n]=te.useState(0),[i,s]=te.useState(""),[A,o]=te.useState(""),[a,l]=te.useState(""),[u,d]=te.useState([]),[g,f]=te.useState(!0),[_,C]=te.useState(!1),[x,v]=te.useState(null),[E,F]=te.useState(""),[P,K]=te.useState(""),[M,Q]=te.useState(""),[I,b]=te.useState(0),R=async()=>{f(!0);const z=await Bn(wr(dt,"products")),ne=[];z.forEach(fe=>{const me=fe.data();ne.push({id:fe.id,name:me.name??"",price:Number(me.price??0),category:me.category??"",measurement:me.measurement??"",active:me.active!==!1})}),d(ne),f(!1)};te.useEffect(()=>{R()},[]);const S=async z=>{if(z.preventDefault(),s(""),!t||r<=0||!a){s("❌ Completa nombre, precio válido y unidad de medida");return}try{const ne={name:t,price:parseFloat(r.toFixed(2)),category:A,measurement:a,active:!0},fe=await Bp(wr(dt,"products"),ne);d(me=>[{id:fe.id,...ne},...me]),s("✅ Producto registrado con exito."),e(""),n(0),l(""),o("")}catch(ne){s("❌ Error: "+ne.message)}},U=z=>{v(z.id),F(z.name),K(z.category),Q(z.measurement),b(z.price)},N=()=>{v(null),F(""),K(""),Q(""),b(0)},X=async()=>{if(!x)return;const z=Br(dt,"products",x);await eA(z,{name:E,category:P,measurement:M,price:parseFloat((I||0).toFixed(2))}),d(ne=>ne.map(fe=>fe.id===x?{...fe,name:E,category:P,measurement:M,price:parseFloat((I||0).toFixed(2))}:fe)),N()},ue=async z=>{const ne=Br(dt,"products",z.id),fe=z.active===!1;await eA(ne,{active:fe}),d(me=>me.map(O=>O.id===z.id?{...O,active:fe}:O))},le=async z=>{const ne=Zs(wr(dt,"inventory_batches"),es("productId","==",z),B7(1));if(!(await Bn(ne)).empty){alert(`No se puede eliminar: hay lotes asociados a este producto.
Sugerencia: desactívalo para ocultarlo.`);return}confirm("¿Eliminar este producto definitivamente?")&&(await yp(Br(dt,"products",z)),d(O=>O.filter(V=>V.id!==z)))},se=_?u:u.filter(z=>z.active!==!1);return m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("form",{onSubmit:S,className:"max-w-md mx-auto bg-white p-8 shadow-lg rounded-lg space-y-6 border border-gray-200",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-4 text-green-700 flex items-center gap-2",children:[m.jsx("span",{className:"inline-block bg-green-100 text-green-700 rounded-full p-2",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),"Registrar producto"]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Categoría"}),m.jsxs("select",{value:A,onChange:z=>o(z.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-green-400",children:[m.jsx("option",{value:"",children:"Selecciona"}),m.jsx("option",{value:"pollo",children:"Pollo"}),m.jsx("option",{value:"cerdo",children:"Cerdo"}),m.jsx("option",{value:"huevo",children:"Huevos"}),m.jsx("option",{value:"ropa",children:"Ropa"}),m.jsx("option",{value:"otros",children:"Otros"})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Nombre del producto"}),m.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:t,onChange:z=>e(z.target.value)})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Tipo de unidad de medida"}),m.jsxs("select",{value:a,onChange:z=>l(z.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-green-400",children:[m.jsx("option",{value:"",children:"Selecciona"}),m.jsx("option",{value:"lb",children:"Libra"}),m.jsx("option",{value:"kg",children:"Kilogramo"}),m.jsx("option",{value:"unidad",children:"Unidad"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm",children:"Precio por unidad (ej: 55.50)"}),m.jsx("input",{type:"number",step:"0.01",className:"w-full border p-2 rounded",value:Number.isNaN(r)?"":r,onChange:z=>n(parseFloat(z.target.value)),onFocus:z=>z.target.value==="0"?n(NaN):null})]}),m.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full",children:"Agregar producto"}),i&&m.jsx("p",{className:"text-sm mt-2",children:i})]}),m.jsxs("div",{className:"flex items-center justify-between mt-6 mb-2",children:[m.jsx("h3",{className:"text-lg font-semibold p-2",children:"Productos"}),m.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[m.jsx("input",{type:"checkbox",checked:_,onChange:z=>C(z.target.checked)}),"Mostrar inactivos"]})]}),m.jsx("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2 border",children:"Nombre"}),m.jsx("th",{className:"p-2 border",children:"Categoría"}),m.jsx("th",{className:"p-2 border",children:"Unidad"}),m.jsx("th",{className:"p-2 border",children:"Precio"}),m.jsx("th",{className:"p-2 border",children:"Estado"}),m.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),m.jsx("tbody",{children:g?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"p-4 text-center",children:"Cargando…"})}):se.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"p-4 text-center",children:"Sin productos"})}):se.map(z=>{const ne=x===z.id,fe=z.active!==!1;return m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"p-2 border",children:ne?m.jsx("input",{className:"w-full border p-1 rounded",value:E,onChange:me=>F(me.target.value)}):z.name}),m.jsx("td",{className:"p-2 border",children:ne?m.jsxs("select",{className:"w-full border p-1 rounded",value:P,onChange:me=>K(me.target.value),children:[m.jsx("option",{value:"",children:"Selecciona"}),m.jsx("option",{value:"pollo",children:"Pollo"}),m.jsx("option",{value:"cerdo",children:"Cerdo"}),m.jsx("option",{value:"huevo",children:"Huevos"}),m.jsx("option",{value:"ropa",children:"Ropa"}),m.jsx("option",{value:"otros",children:"Otros"})]}):z.category}),m.jsx("td",{className:"p-2 border",children:ne?m.jsxs("select",{className:"w-full border p-1 rounded",value:M,onChange:me=>Q(me.target.value),children:[m.jsx("option",{value:"",children:"Selecciona"}),m.jsx("option",{value:"lb",children:"Libra"}),m.jsx("option",{value:"kg",children:"Kilogramo"}),m.jsx("option",{value:"unidad",children:"Unidad"})]}):z.measurement}),m.jsx("td",{className:"p-2 border",children:ne?m.jsx("input",{type:"number",step:"0.01",className:"w-full border p-1 rounded text-right",value:Number.isNaN(I)?"":I,onChange:me=>b(parseFloat(me.target.value))}):uY(z.price)}),m.jsx("td",{className:"p-2 border",children:m.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${fe?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:fe?"Activo":"Inactivo"})}),m.jsx("td",{className:"p-2 border space-x-2",children:ne?m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"px-2 py-1 rounded text-white bg-blue-600 hover:bg-blue-700",onClick:X,children:"Guardar"}),m.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:N,children:"Cancelar"})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"px-2 py-1 rounded text-white bg-yellow-600 hover:bg-yellow-700",onClick:()=>U(z),children:"Editar"}),m.jsx("button",{className:`px-2 py-1 rounded ${fe?"bg-gray-600 hover:bg-gray-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,onClick:()=>ue(z),children:fe?"Desactivar":"Activar"}),m.jsx("button",{className:"px-2 py-1 rounded text-white bg-red-600 hover:bg-red-700",onClick:()=>le(z.id),children:"Eliminar"})]})})]},z.id)})})]})})]})}const Yn=[];for(let t=0;t<256;++t)Yn.push((t+256).toString(16).slice(1));function hY(t,e=0){return(Yn[t[e+0]]+Yn[t[e+1]]+Yn[t[e+2]]+Yn[t[e+3]]+"-"+Yn[t[e+4]]+Yn[t[e+5]]+"-"+Yn[t[e+6]]+Yn[t[e+7]]+"-"+Yn[t[e+8]]+Yn[t[e+9]]+"-"+Yn[t[e+10]]+Yn[t[e+11]]+Yn[t[e+12]]+Yn[t[e+13]]+Yn[t[e+14]]+Yn[t[e+15]]).toLowerCase()}let _v;const dY=new Uint8Array(16);function fY(){if(!_v){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_v=crypto.getRandomValues.bind(crypto)}return _v(dY)}const pY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),A4={randomUUID:pY};function gY(t,e,r){var i;if(A4.randomUUID&&!t)return A4.randomUUID();t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??fY();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,hY(n)}async function mY(t,e,r,n=!1){if(r<=0)return{allocations:[],avgUnitCost:0,cogsAmount:0};const i=wr(t,"inventory_batches"),s=Zs(i,es("productName","==",e)),a=(await Bn(s)).docs.map(l=>({id:l.id,data:l.data()})).sort((l,u)=>{var C,x;const d=l.data.date??"",g=u.data.date??"";if(d!==g)return d<g?-1:1;const f=((C=l.data.createdAt)==null?void 0:C.seconds)??0,_=((x=u.data.createdAt)==null?void 0:x.seconds)??0;return f-_}).map(l=>Br(t,"inventory_batches",l.id));return IN(t,async l=>{let u=Number(r);const d=[];for(const C of a){if(u<=0)break;const x=await l.get(C);if(!x.exists())continue;const v=x.data(),E=Number(v.quantity??0),F=Number(v.remaining??E??0),P=Number(v.purchasePrice??0);if(F<=0)continue;const K=Math.min(F,u),M=Number((F-K).toFixed(2));l.update(C,{remaining:M}),d.push({batchId:C.id,qty:K,unitCost:P,lineCost:Number((K*P).toFixed(2))}),u=Number((u-K).toFixed(2))}if(u>0&&!n)throw new Error(`Stock insuficiente para "${e}". Faltan ${u} unidades.`);const g=Number(d.reduce((C,x)=>C+x.lineCost,0).toFixed(2)),f=d.reduce((C,x)=>C+x.qty,0),_=f>0?Number((g/f).toFixed(4)):0;return{allocations:d,avgUnitCost:_,cogsAmount:g}})}async function wY(t,e){const r=await Bn(wr(dt,"inventory_batches")),n=t.trim().toLowerCase();let i=0;for(const s of r.docs){const A=s.data();(A.productName||"").trim().toLowerCase()===n&&A.productId!==e&&(await eA(Br(dt,"inventory_batches",s.id),{productId:e}),i++)}return i}function o4({user:t}){const[e,r]=te.useState([]),[n,i]=te.useState(""),[s,A]=te.useState(0),[o,a]=te.useState(0),[l,u]=te.useState(!1),[d,g]=te.useState(0),[f,_]=te.useState("0"),[C,x]=te.useState(""),[v,E]=te.useState([]),[F,P]=te.useState(""),K=U=>Math.round(U*100)/100,M=e.find(U=>U.id===n),Q=((M==null?void 0:M.measurement)||"").toLowerCase()!=="lb",I=async U=>{if(!U)return 0;const N=Zs(wr(dt,"inventory_batches"),es("productId","==",U)),X=await Bn(N);let ue=0;return X.forEach(le=>{const se=le.data();ue+=Number(se.remaining||0)}),Math.max(0,Math.floor(ue*100)/100)},b=async U=>{if(!U)return 0;const N=await Bn(wr(dt,"inventory_batches"));let X=0;return N.forEach(ue=>{const le=ue.data();(le.productName||"").trim().toLowerCase()===U.trim().toLowerCase()&&(X+=Number(le.remaining||0))}),Math.max(0,Math.floor(X*100)/100)};te.useEffect(()=>{async function U(){const N=await Bn(wr(dt,"products")),X=[];N.forEach(ue=>{const le=ue.data();(le==null?void 0:le.active)!==!1&&X.push({id:ue.id,productName:le.name??le.productName??"(sin nombre)",price:Number(le.price??0),measurement:le.measurement??"(sin unidad)",category:le.category??"(sin categoría)"})}),r(X)}U()},[]),te.useEffect(()=>{async function U(){const N=await Bn(wr(dt,"users")),X=[];N.forEach(ue=>{const le=ue.data();X.push({id:ue.id,email:le.email??"(sin email)",role:le.role??"USER"})}),E(X)}U()},[]),te.useEffect(()=>{u(!1)},[n]),te.useEffect(()=>{const U=e.find(X=>X.id===n);if(!U){a(0);return}const N=Number(s)||0;if(!l){const X=K(U.price*N);a(X)}},[n,s,e,l]),te.useEffect(()=>{const U=Number(d)||0,N=Number(o)||0,X=(U-N).toFixed(2);_(X)},[d,o]);const R=U=>{U.key===","&&(U.preventDefault(),U.target.value+=".")},S=async U=>{var le,se;U.preventDefault(),x("");const N=e.find(z=>z.id===n),X=Number(s)||0,ue=Number(o)||0;if(!N||X<=0){x("Selecciona un producto y una cantidad válida.");return}try{const z=await I(N.id);if(X>z)if(await b(N.productName)>0&&z===0){const V=await wY(N.productName,N.id),$=await I(N.id);if(X>$){const re=Math.max(0,Math.round((X-$)*100)/100);x(`❌ Stock insuficiente tras corregir ${V} lote(s). Faltan ${re} unidades.`);return}else x(`✅ Lotes corregidos (${V}). Continuando con la venta…`)}else{const V=Math.max(0,Math.round((X-z)*100)/100);x(`❌ Stock insuficiente para "${N.productName}". Faltan ${V} unidades.`);return}const{allocations:ne,avgUnitCost:fe,cogsAmount:me}=await mY(dt,N.productName,X,!1);await Bp(wr(dt,"salesV2"),{id:gY(),productId:n,productName:N.productName,price:N.price,quantity:X,amount:ue,amountCharged:ue,amountReceived:Number(d)||0,change:f,clientName:F.trim(),timestamp:ir.now(),date:ki(new Date,"yyyy-MM-dd"),userEmail:((le=v[0])==null?void 0:le.email)??"sin usuario",vendor:((se=v[0])==null?void 0:se.role)??"sin usuario",status:"FLOTANTE",allocations:ne,avgUnitCost:fe,cogsAmount:me}),x("✅ Venta registrada y asignada a inventario (FIFO)."),i(""),A(0),u(!1),a(0),g(0),_("0"),P("")}catch(z){console.error(z),x(`❌ ${(z==null?void 0:z.message)||"Error al registrar la venta."}`)}};return m.jsxs("form",{onSubmit:S,className:`w-full mx-auto bg-white rounded-2xl shadow-2xl
                 p-4 sm:p-6 md:p-8
                 max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl
                 space-y-4`,children:[m.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-4 text-blue-700 flex items-center gap-2",children:[m.jsx("span",{className:"block bg-blue-100 text-blue-700 rounded-full p-2",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})})}),"Registrar venta"]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Producto | Precio por Libra/Unidad"}),m.jsxs("select",{className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-400",value:n,onChange:U=>i(U.target.value),children:[m.jsx("option",{value:"",disabled:!0,children:"Selecciona un producto"}),e.map(U=>m.jsxs("option",{value:U.id,children:[U.productName," - C$ ",U.price]},U.id))]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Libras - Unidad"}),m.jsx("input",{type:"number",lang:"eng",step:Q?1:.01,inputMode:Q?"numeric":"decimal",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-400",value:s===0?"":s,onKeyDown:R,onFocus:U=>{U.target.value==="0"&&(U.target.value="")},onChange:U=>{const N=U.target.value.replace(",","."),X=N===""?0:parseFloat(N);if(Q){const ue=Number.isFinite(X)?Math.max(0,Math.round(X)):0;A(ue)}else A(Number.isFinite(X)?X:0)},disabled:!n,placeholder:n?"":"Selecciona un producto primero",title:n?"":"Selecciona un producto para habilitar"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"💵 Monto total"}),m.jsx("input",{type:"number",step:"0.01",readOnly:!0,inputMode:"decimal",className:"w-full border border-gray-300 p-2 rounded bg-gray-100",value:o===0?"":o.toFixed(2),onKeyDown:R})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-3 sm:py-2 rounded-lg font-semibold shadow hover:bg-blue-700 transition",children:"Guardar venta"}),C&&m.jsx("p",{className:`text-sm mt-2 ${C.startsWith("✅")?"text-green-600":C.startsWith("⚠️")?"text-yellow-600":"text-red-600"}`,children:C})]})}const Xn=t=>`C$${(Number(t)||0).toFixed(2)}`;function vY(){const[t,e]=te.useState([]),[r,n]=te.useState([]),[i,s]=te.useState(!0),[A,o]=te.useState(""),[a,l]=te.useState(ki(NN(new Date),"yyyy-MM-dd")),[u,d]=te.useState(ki(UN(new Date),"yyyy-MM-dd")),[g,f]=te.useState(""),[_,C]=te.useState(0),[x,v]=te.useState(0),[E,F]=te.useState(0),[P,K]=te.useState(ki(new Date,"yyyy-MM-dd")),[M,Q]=te.useState(0),[I,b]=te.useState(0),[R,S]=te.useState(""),[U,N]=te.useState(null),[X,ue]=te.useState(""),[le,se]=te.useState(0),[z,ne]=te.useState(0),[fe,me]=te.useState(0),[O,V]=te.useState(""),[$,re]=te.useState(0),[Ae,ce]=te.useState(0);te.useEffect(()=>{(async()=>{const Ie=await Bn(wr(dt,"products")),Oe=[];Ie.forEach(Ye=>{const je=Ye.data();Oe.push({id:Ye.id,name:je.name??je.productName??"(sin nombre)",category:je.category??"(sin categoría)",measurement:je.measurement??"lb",price:Number(je.price??0)})}),e(Oe);const be=Zs(wr(dt,"inventory_batches"),BN("date","desc")),He=await Bn(be),Ne=[];He.forEach(Ye=>{const je=Ye.data();Ne.push({id:Ye.id,productId:je.productId,productName:je.productName,category:je.category,unit:je.unit,quantity:Number(je.quantity||0),remaining:Number(je.remaining||0),purchasePrice:Number(je.purchasePrice||0),salePrice:Number(je.salePrice||0),invoiceTotal:Number(je.invoiceTotal||0),expectedTotal:Number(je.expectedTotal??(Number(je.quantity||0)*Number(je.salePrice||0)||0)),date:je.date,createdAt:je.createdAt,status:je.status,notes:je.notes,paidAmount:Number(je.paidAmount||0),paidAt:je.paidAt})}),n(Ne),s(!1)})()},[]),te.useEffect(()=>{const Ie=t.find(Oe=>Oe.id===g);Ie&&F(Number(Ie.price||0))},[g,t]),te.useEffect(()=>{Q(Math.floor(_*x*100)/100)},[_,x]),te.useEffect(()=>{b(Math.floor(_*E*100)/100)},[_,E]);const Be=te.useMemo(()=>r.filter(Ie=>!(a&&Ie.date<a||u&&Ie.date>u)),[r,a,u]),he=te.useMemo(()=>{const Ie=Be.reduce((Ne,Ye)=>Ne+Ye.quantity,0),Oe=Be.reduce((Ne,Ye)=>Ne+Ye.remaining,0),be=Be.reduce((Ne,Ye)=>Ne+(Ye.invoiceTotal||0),0),He=Be.reduce((Ne,Ye)=>Ne+(Ye.expectedTotal||0),0);return{qty:Ie,rem:Oe,totalFacturado:be,totalEsperado:He}},[Be]),Ce=async Ie=>{Ie.preventDefault();const Oe=t.find(be=>be.id===g);if(!Oe||_<=0||x<=0){o("Completa producto, cantidad y costo.");return}try{const be=await nY({productId:Oe.id,productName:Oe.name,category:Oe.category,unit:Oe.measurement,quantity:_,purchasePrice:x,salePrice:E,invoiceTotal:M,expectedTotal:I,date:P,notes:R});n(He=>[{id:be.id,productId:Oe.id,productName:Oe.name,category:Oe.category,unit:Oe.measurement,quantity:_,remaining:_,purchasePrice:x,salePrice:E,invoiceTotal:M,expectedTotal:I,date:P,createdAt:ir.now(),status:"PENDIENTE",notes:R},...He]),o("✅ Lote creado"),f(""),C(0),v(0),F(Oe.price||0),Q(0),b(0),S("")}catch(be){console.error(be),o("❌ Error al crear lote")}},Pe=async Ie=>{confirm(`Marcar PAGADO el lote del ${Ie.date} (${Ie.productName})?`)&&(await T3(Ie.id),n(be=>be.map(He=>He.id===Ie.id?{...He,status:"PAGADO"}:He)))},Ge=Ie=>{N(Ie.id),ue(Ie.date),se(Ie.quantity),ne(Ie.purchasePrice),me(Ie.salePrice),V(Ie.notes||""),re(Number((Ie.quantity*Ie.purchasePrice).toFixed(2))),ce(Number((Ie.quantity*Ie.salePrice).toFixed(2)))},qe=()=>{N(null),ue(""),se(0),ne(0),me(0),V(""),re(0),ce(0)};te.useEffect(()=>{U&&re(Math.floor(le*z*100)/100)},[U,le,z]),te.useEffect(()=>{U&&ce(Math.floor(le*fe*100)/100)},[U,le,fe]);const Ee=async()=>{if(!U)return;const Ie=r.find(Ne=>Ne.id===U);if(!Ie)return;const Oe=Ie.quantity-Ie.remaining,be=Math.max(0,le-Oe),He=Br(dt,"inventory_batches",U);await eA(He,{date:X,quantity:le,purchasePrice:z,salePrice:fe,invoiceTotal:$,expectedTotal:Ae,notes:O,remaining:be}),n(Ne=>Ne.map(Ye=>Ye.id===U?{...Ye,date:X,quantity:le,purchasePrice:z,salePrice:fe,invoiceTotal:$,expectedTotal:Ae,notes:O,remaining:be}:Ye)),qe(),o("✅ Lote actualizado")},ee=async Ie=>{confirm(`¿Eliminar el lote del ${Ie.date} (${Ie.productName})?`)&&(await yp(Br(dt,"inventory_batches",Ie.id)),n(be=>be.filter(He=>He.id!==Ie.id)),o("🗑️ Lote eliminado"))},Nt=()=>{const Ie=(a?`Desde ${a}`:"Desde inicio")+" — "+(u?`Hasta ${u}`:"Hasta hoy"),Oe=Be.map(Ne=>`
      <tr>
        <td>${Ne.date}</td>
        <td>${(Ne.category||"").toUpperCase()}</td>
        <td>${Ne.productName}</td>
        <td>${(Ne.unit||"").toUpperCase()}</td>
        <td style="text-align:right">${Ne.quantity.toFixed(3)}</td>
        <td style="text-align:right">${Ne.remaining.toFixed(3)}</td>
        <td style="text-align:right">${Xn(Ne.purchasePrice)}</td>
        <td style="text-align:right">${Xn(Ne.salePrice)}</td>
        <td style="text-align:right">${Xn(Ne.invoiceTotal||0)}</td>
        <td style="text-align:right">${Xn(Ne.expectedTotal||0)}</td>
        <td>${Ne.status}</td>
      </tr>`).join(""),be=`
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Inventario por Lotes</title>
  <style>
    * { font-family: Arial, sans-serif; }
    h1 { margin: 0 0 4px; }
    .muted { color: #555; font-size: 12px; margin-bottom: 12px; }
    table { width: 100%; border-collapse: collapse; font-size: 12px; }
    th, td { border: 1px solid #ddd; padding: 6px; }
    th { background: #f5f5f5; text-align: left; }
    .totals { margin: 10px 0 16px; font-size: 12px; }
    .totals span { margin-right: 16px; }
    @media print {
      @page { size: A4 landscape; margin: 15mm; }
      button { display: none; }
    }
  </style>
</head>
<body>
  <button onclick="window.print()">Imprimir</button>
  <h1>Inventario por Lotes</h1>
  <div class="muted">${Ie}</div>
  <div class="totals">
    <span><strong>Ingresadas:</strong> ${he.qty.toFixed(3)}</span>
    <span><strong>Restantes:</strong> ${he.rem.toFixed(3)}</span>
    <span><strong>Total Esperado:</strong> ${Xn(he.totalEsperado)}</span>
    <span><strong>Total Facturado:</strong> ${Xn(he.totalFacturado)}</span>
  </div>
  <table>
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Tipo</th>
        <th>Producto</th>
        <th>Unidad</th>
        <th>Ingresado</th>
        <th>Restantes</th>
        <th>Precio Compra</th>
        <th>Precio Venta</th>
        <th>Total factura</th>
        <th>Total esperado</th>
        <th>Estado</th>
      </tr>
    </thead>
    <tbody>
      ${Oe||'<tr><td colspan="11" style="text-align:center">Sin lotes</td></tr>'}
    </tbody>
  </table>
</body>
</html>`,He=window.open("","_blank");He&&(He.document.open(),He.document.write(be),He.document.close())};return m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Inventario por Lotes"}),m.jsxs("div",{className:"bg-white p-3 rounded shadow border mb-4 flex flex-wrap items-end gap-3 text-sm",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"font-semibold",children:"Desde"}),m.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:a,onChange:Ie=>l(Ie.target.value)})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"font-semibold",children:"Hasta"}),m.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:u,onChange:Ie=>d(Ie.target.value)})]}),m.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:()=>{l(""),d("")},children:"Quitar filtro"}),m.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:Nt,children:"Imprimir PDF"})]}),m.jsxs("form",{onSubmit:Ce,className:"bg-white p-4 rounded shadow border mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-semibold",children:"Producto"}),m.jsxs("select",{className:"w-full border p-2 rounded",value:g,onChange:Ie=>f(Ie.target.value),children:[m.jsx("option",{value:"",children:"Selecciona un producto"}),t.map(Ie=>m.jsxs("option",{value:Ie.id,children:[Ie.name," — ",Ie.category," — ",Ie.measurement," — Precio:"," ",Xn(Ie.price)]},Ie.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold",children:"Fecha del lote"}),m.jsx("input",{type:"date",className:"w-full border p-2 rounded",value:P,onChange:Ie=>K(Ie.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold",children:"Cantidad (Lo que esta ingresando)"}),m.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-2 rounded",value:_===0?"":_,onChange:Ie=>{const Oe=Ie.target.value.replace(",","."),be=parseFloat(Oe),He=Number.isFinite(be)?parseFloat(be.toFixed(3)):0;C(He)},disabled:!g,placeholder:g?"":"Selecciona un producto primero",title:g?"":"Selecciona un producto para habilitar"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold",children:"Precio de compra (compra)"}),m.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-2 rounded",value:x===0?"":x,onChange:Ie=>{const Oe=Ie.target.value.replace(",","."),be=parseFloat(Oe),He=Number.isFinite(be)?parseFloat(be.toFixed(2)):0;v(He)},disabled:!g,placeholder:g?"":"Selecciona un producto primero",title:g?"":"Selecciona un producto para habilitar"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold",children:"Precio de venta (venta)"}),m.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-2 rounded",value:E===0?"":E,onChange:Ie=>{const Oe=Ie.target.value.replace(",","."),be=parseFloat(Oe),He=Number.isFinite(be)?parseFloat(be.toFixed(2)):0;F(He)},disabled:!g,placeholder:g?"":"Selecciona un producto primero",title:g?"":"Selecciona un producto para habilitar"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold",children:"Total factura (auto)"}),m.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-gray-100",value:Xn(M),readOnly:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold",children:"Total esperado (auto)"}),m.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-gray-100",value:Xn(I),readOnly:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-semibold",children:"Notas"}),m.jsx("input",{className:"w-full border p-2 rounded",value:R,onChange:Ie=>S(Ie.target.value)})]}),m.jsx("div",{className:"md:col-span-2",children:m.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Guardar lote"})})]}),m.jsx("div",{className:"bg-gray-50 p-3 rounded shadow border mb-3 text-sm",children:m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold",children:"Libras/Unidades ingresadas:"})," ",he.qty.toFixed(3)]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold",children:"Restantes (abiertas):"})," ",he.rem.toFixed(3)]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold",children:"Total Esperado ganar:"})," ",he.totalEsperado.toFixed(2)]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold",children:"Total Facturado:"})," ",he.totalFacturado.toFixed(2)]})]})}),m.jsx("div",{className:"bg-white p-2 rounded shadow border w-full",children:m.jsxs("table",{className:"min-w-full w-full text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2 border",children:"Fecha"}),m.jsx("th",{className:"p-2 border",children:"Tipo"}),m.jsx("th",{className:"p-2 border",children:"Producto"}),m.jsx("th",{className:"p-2 border",children:"Unidad"}),m.jsx("th",{className:"p-2 border",children:"Ingresado"}),m.jsx("th",{className:"p-2 border",children:"Restantes"}),m.jsx("th",{className:"p-2 border",children:"Precio Compra"}),m.jsx("th",{className:"p-2 border",children:"Precio Venta"}),m.jsx("th",{className:"p-2 border",children:"Total factura"}),m.jsx("th",{className:"p-2 border",children:"Total esperado"}),m.jsx("th",{className:"p-2 border",children:"Total ganancia"}),m.jsx("th",{className:"p-2 border",children:"Estado"}),m.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),m.jsx("tbody",{children:i?m.jsx("tr",{children:m.jsx("td",{colSpan:12,className:"p-4 text-center",children:"Cargando…"})}):Be.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:12,className:"p-4 text-center",children:"Sin lotes"})}):Be.map(Ie=>{const Oe=U===Ie.id;return m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"p-2 border",children:Oe?m.jsx("input",{type:"date",className:"w-full border p-1 rounded",value:X,onChange:be=>ue(be.target.value)}):Ie.date}),m.jsx("td",{className:"p-2 border",children:Ie.category.toUpperCase()}),m.jsx("td",{className:"p-2 border",children:Ie.productName}),m.jsx("td",{className:"p-2 border",children:Ie.unit.toUpperCase()}),m.jsx("td",{className:"p-2 border",children:Oe?m.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-1 rounded text-right",value:Number.isNaN(le)?"":le,onChange:be=>{const He=be.target.value.replace(",","."),Ne=parseFloat(He),Ye=Number.isFinite(Ne)?parseFloat(Ne.toFixed(3)):0;se(Math.max(0,Ye))}}):Ie.quantity}),m.jsx("td",{className:"p-2 border",children:Ie.remaining}),m.jsx("td",{className:"p-2 border",children:Oe?m.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-1 rounded text-right",value:Number.isNaN(z)?"":z,onChange:be=>{const He=be.target.value.replace(",","."),Ne=parseFloat(He),Ye=Number.isFinite(Ne)?parseFloat(Ne.toFixed(2)):0;ne(Math.max(0,Ye))}}):Xn(Ie.purchasePrice)}),m.jsx("td",{className:"p-2 border",children:Oe?m.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-1 rounded text-right",value:Number.isNaN(fe)?"":fe,onChange:be=>{const He=be.target.value.replace(",","."),Ne=parseFloat(He),Ye=Number.isFinite(Ne)?parseFloat(Ne.toFixed(2)):0;me(Math.max(0,Ye))}}):Xn(Ie.salePrice)}),m.jsx("td",{className:"p-2 border",children:Xn(Oe?$:Ie.invoiceTotal||0)}),m.jsx("td",{className:"p-2 border",children:Xn(Oe?Ae:Ie.expectedTotal||0)}),m.jsx("td",{className:"p-2 border",children:Xn(Oe?Ae-$:(Ie.expectedTotal||0)-(Ie.invoiceTotal||0))}),m.jsx("td",{className:"p-2 border",children:m.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${Ie.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ie.status})}),m.jsx("td",{className:"flex space-x-2 justify-center",children:Oe?m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"px-2 py-1 rounded text-white bg-blue-600 hover:bg-blue-700",onClick:Ee,children:"Guardar"}),m.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:qe,children:"Cancelar"})]}):m.jsxs(m.Fragment,{children:[Ie.status==="PENDIENTE"&&m.jsx("button",{onClick:()=>Pe(Ie),className:"px-2 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Pagar"}),m.jsx("button",{className:"px-2 py-1 rounded text-white bg-yellow-600 hover:bg-yellow-700",onClick:()=>Ge(Ie),children:"Editar"}),m.jsx("button",{className:"px-2 py-1 rounded text-white bg-red-600 hover:bg-red-700",onClick:()=>ee(Ie),children:"Borrar"})]})})]},Ie.id)})})]})}),A&&m.jsx("p",{className:"mt-2 text-sm",children:A})]})}const No=t=>`C$${(Number(t)||0).toFixed(2)}`;function yY(){const t=Hj(new Date),[e,r]=te.useState(ki(t,"yyyy-MM")),[n,i]=te.useState([]),[s,A]=te.useState(!1),[o,a]=te.useState(""),l=te.useRef(null),u=te.useMemo(()=>{const[x,v]=e.split("-").map(P=>parseInt(P,10)),E=ki(NN(new Date(x,v-1,1)),"yyyy-MM-dd"),F=ki(UN(new Date(x,v-1,1)),"yyyy-MM-dd");return{from:E,to:F}},[e]),d=async()=>{A(!0);try{const x=await iY(u.from,u.to),v=[];for(const E of x){const F=Br(dt,"inventory_batches",E.batchId),P=await vp(F);if(!P.exists())continue;const K=P.data();v.push({batchId:E.batchId,batchDate:E.batchDate,productName:E.productName,soldQty:Number(E.quantity||0),soldAmount:Number(E.amountCharged||0),status:K.status??"PENDIENTE",purchasePrice:Number(K.purchasePrice||0),salePrice:Number(K.salePrice||0),supplier:K.supplier})}i(v)}catch(x){console.error(x),a("❌ Error al cargar liquidaciones")}finally{A(!1)}};te.useEffect(()=>{d()},[e]);const g=async x=>{confirm("Marcar este lote como PAGADO?")&&(await T3(x),i(E=>E.map(F=>F.batchId===x?{...F,status:"PAGADO"}:F)))},f=te.useMemo(()=>{const x=n.reduce((P,K)=>P+K.soldQty,0),v=n.reduce((P,K)=>P+K.soldAmount,0),E=n.reduce((P,K)=>P+K.soldQty*K.purchasePrice,0),F=v-E;return{q:x,amt:v,cogs:E,profit:F}},[n]),_=te.useMemo(()=>{const x=new Map;for(const v of n){const E=v.productName||"(sin nombre)";x.has(E)||x.set(E,{productName:E,qty:0,revenue:0,cogs:0,profit:0});const F=x.get(E);F.qty+=v.soldQty,F.revenue+=v.soldAmount;const P=v.soldQty*v.purchasePrice;F.cogs+=P,F.profit=F.revenue-F.cogs}return Array.from(x.values()).sort((v,E)=>v.productName.localeCompare(E.productName))},[n]),C=async()=>{if(!l.current)return;const x=l.current;x.classList.add("force-pdf-colors");try{const[{default:v},{jsPDF:E}]=await Promise.all([fl(()=>Promise.resolve().then(()=>G_),void 0),fl(()=>Promise.resolve().then(()=>S2),void 0)]),P=(await v(x,{backgroundColor:"#ffffff",scale:2})).toDataURL("image/png"),K=new E("p","mm","a4"),M=190,Q=K.getImageProperties(P),I=M,b=Q.height*I/Q.width;K.addImage(P,"PNG",10,10,I,b),K.save(`liquidaciones_${e}.pdf`)}catch(v){console.error(v),alert("No se pudo generar el PDF")}finally{x.classList.remove("force-pdf-colors")}};return m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Liquidaciones por lote"}),m.jsx("button",{onClick:C,className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:"Descargar PDF"})]}),m.jsxs("div",{className:"bg-white p-3 rounded shadow border mb-4 flex flex-wrap items-center gap-3",children:[m.jsx("label",{className:"text-sm font-semibold",children:"Mes:"}),m.jsx("input",{type:"month",className:"border rounded px-2 py-1",value:e,onChange:x=>r(x.target.value)}),m.jsx("button",{onClick:d,className:"bg-gray-800 text-white px-3 py-1 rounded",children:"Aplicar"})]}),m.jsxs("div",{ref:l,children:[m.jsx("div",{className:"bg-white p-3 rounded shadow border mb-3 text-sm",children:m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold",children:"Total vendido (cantidad):"})," ",f.q]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold",children:"Monto vendido:"})," ",No(f.amt)]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold",children:"Costo (COGS):"})," ",No(f.cogs)]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold",children:"Utilidad:"})," ",No(f.profit)]})]})}),m.jsx("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto mb-6",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2 border",children:"Lote (fecha)"}),m.jsx("th",{className:"p-2 border",children:"Producto"}),m.jsx("th",{className:"p-2 border",children:"Proveedor"}),m.jsx("th",{className:"p-2 border",children:"Vendido"}),m.jsx("th",{className:"p-2 border",children:"Monto vendido"}),m.jsx("th",{className:"p-2 border",children:"COGS"}),m.jsx("th",{className:"p-2 border",children:"Utilidad"}),m.jsx("th",{className:"p-2 border",children:"Estado"}),m.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),m.jsx("tbody",{children:s?m.jsx("tr",{children:m.jsx("td",{colSpan:9,className:"p-4 text-center",children:"Cargando…"})}):n.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:9,className:"p-4 text-center",children:"Sin datos"})}):n.map(x=>{const v=x.soldQty*x.purchasePrice,E=x.soldAmount-v;return m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"p-2 border",children:x.batchDate}),m.jsx("td",{className:"p-2 border",children:x.productName}),m.jsx("td",{className:"p-2 border",children:x.supplier||"-"}),m.jsx("td",{className:"p-2 border",children:x.soldQty}),m.jsx("td",{className:"p-2 border",children:No(x.soldAmount)}),m.jsx("td",{className:"p-2 border",children:No(v)}),m.jsx("td",{className:`p-2 border ${E>=0?"text-green-700":"text-red-700"}`,children:No(E)}),m.jsx("td",{className:"p-2 border",children:m.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${x.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:x.status})}),m.jsx("td",{className:"p-2 border",children:x.status==="PENDIENTE"&&m.jsx("button",{onClick:()=>g(x.batchId),className:"px-2 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Marcar pagado"})})]},x.batchId)})})]})}),m.jsx("h3",{className:"font-semibold mb-2",children:"Utilidad por producto"}),m.jsx("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2 border",children:"Producto"}),m.jsx("th",{className:"p-2 border",children:"Cantidad vendida"}),m.jsx("th",{className:"p-2 border",children:"Ingreso"}),m.jsx("th",{className:"p-2 border",children:"COGS"}),m.jsx("th",{className:"p-2 border",children:"Utilidad"})]})}),m.jsx("tbody",{children:_.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"p-4 text-center",children:"Sin datos"})}):_.map(x=>m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"p-2 border",children:x.productName}),m.jsx("td",{className:"p-2 border",children:x.qty}),m.jsx("td",{className:"p-2 border",children:No(x.revenue)}),m.jsx("td",{className:"p-2 border",children:No(x.cogs)}),m.jsx("td",{className:`p-2 border ${x.profit>=0?"text-green-700":"text-red-700"}`,children:No(x.profit)})]},x.productName))})]})})]}),o&&m.jsx("p",{className:"mt-2 text-sm",children:o})]})}const Qo=t=>`C$${Number(t??0).toFixed(2)}`,BY=()=>ki(new Date,"yyyy-MM-dd");function _Y(){const[t,e]=te.useState(()=>{const g=new Date,f=new Date(g.getFullYear(),g.getMonth(),1);return ki(f,"yyyy-MM-dd")}),[r,n]=te.useState(BY()),[i,s]=te.useState(!0),[A,o]=te.useState([]),[a,l]=te.useState([]);te.useEffect(()=>{(async()=>{s(!0);const f=Zs(wr(dt,"salesV2"),es("date",">=",t),es("date","<=",r)),_=await Bn(f),C=[];_.forEach(F=>{const P=F.data();C.push({id:F.id,date:P.date??"",productName:P.productName??"(sin nombre)",quantity:Number(P.quantity??0),amount:Number(P.amount??P.amountCharged??0),allocations:Array.isArray(P.allocations)?P.allocations:[],avgUnitCost:Number(P.avgUnitCost??0)})}),o(C);const x=Zs(wr(dt,"expenses"),es("date",">=",t),es("date","<=",r)),v=await Bn(x),E=[];v.forEach(F=>{const P=F.data();E.push({id:F.id,date:P.date??"",category:P.category??"(sin categoría)",description:P.description??"",amount:Number(P.amount??0),status:P.status??"PAGADO",createdAt:P.createdAt})}),l(E),s(!1)})()},[t,r]);const u=te.useMemo(()=>{const g=A.reduce((v,E)=>v+(E.amount||0),0);let f=0;A.forEach(v=>{if(v.allocations&&v.allocations.length>0){const E=v.allocations.reduce((F,P)=>F+Number(P.lineCost||0),0);f+=E}else v.avgUnitCost&&v.quantity&&(f+=Number(v.avgUnitCost)*Number(v.quantity))});const _=g-f,C=a.reduce((v,E)=>v+(E.amount||0),0),x=_-C;return{revenue:g,cogsReal:f,grossProfit:_,expensesSum:C,netProfit:x}},[A,a]),d=te.useMemo(()=>{var f;const g=new Map;for(const _ of A){const C=_.productName||"(sin nombre)";g.has(C)||g.set(C,{productName:C,units:0,revenue:0,cogs:0,profit:0});const x=g.get(C);x.units+=Number(_.quantity||0),x.revenue+=Number(_.amount||0);let v=0;(f=_.allocations)!=null&&f.length?v=_.allocations.reduce((E,F)=>E+Number(F.lineCost||0),0):_.avgUnitCost&&(v=Number(_.avgUnitCost)*Number(_.quantity||0)),x.cogs+=v,x.profit=x.revenue-x.cogs}return Array.from(g.values()).sort((_,C)=>_.productName.localeCompare(C.productName))},[A]);return m.jsxs("div",{className:"max-w-7xl mx-auto bg-white p-6 rounded shadow ",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Finanzas"}),m.jsxs("div",{className:"flex flex-wrap items-end gap-2 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Desde"}),m.jsx("input",{type:"date",className:"border rounded px-3 py-2",value:t,onChange:g=>e(g.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Hasta"}),m.jsx("input",{type:"date",className:"border rounded px-3 py-2",value:r,onChange:g=>n(g.target.value)})]})]}),i?m.jsx("p",{children:"Cargando…"}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 mb-6 text-3xl font-bold",children:[m.jsx(vd,{title:"Ventas Totales",value:Qo(u.revenue)}),m.jsx(vd,{title:"Costo de Mercaderia",value:Qo(u.cogsReal)}),m.jsx(vd,{title:"Ganancia antes de Gastos",value:Qo(u.grossProfit),positive:!0}),m.jsx(vd,{title:"Gastos del Negocio",value:Qo(u.expensesSum)}),m.jsx(vd,{title:"Ganancia despues de Gastos",value:Qo(u.netProfit),positive:!0})]}),m.jsx("h3",{className:"font-semibold mb-2",children:"Consolidado por producto"}),m.jsxs("table",{className:"min-w-full border text-sm mb-6",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border p-2",children:"Producto"}),m.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),m.jsx("th",{className:"border p-2",children:"Ingreso"}),m.jsx("th",{className:"border p-2",children:"Costo"}),m.jsx("th",{className:"border p-2",children:"Utilidad"})]})}),m.jsxs("tbody",{children:[d.map(g=>m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"border p-1",children:g.productName}),m.jsx("td",{className:"border p-1",children:g.units}),m.jsx("td",{className:"border p-1",children:Qo(g.revenue)}),m.jsx("td",{className:"border p-1",children:Qo(g.cogs)}),m.jsx("td",{className:`border p-1 ${g.profit>=0?"text-green-700":"text-red-700"}`,children:Qo(g.profit)})]},g.productName)),d.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Sin datos en el rango seleccionado."})})]})]}),m.jsx("h3",{className:"font-semibold mb-2",children:"Gastos del periodo"}),m.jsxs("table",{className:"min-w-full border text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border p-2",children:"Fecha"}),m.jsx("th",{className:"border p-2",children:"Categoría"}),m.jsx("th",{className:"border p-2",children:"Descripción"}),m.jsx("th",{className:"border p-2",children:"Monto"}),m.jsx("th",{className:"border p-2",children:"Estado"})]})}),m.jsxs("tbody",{children:[a.map(g=>m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"border p-1",children:g.date}),m.jsx("td",{className:"border p-1",children:g.category}),m.jsx("td",{className:"border p-1",children:g.description}),m.jsx("td",{className:"border p-1",children:Qo(g.amount)}),m.jsx("td",{className:"border p-1",children:m.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${g.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:g.status})})]},g.id)),a.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Sin gastos en el rango seleccionado."})})]})]})]})]})}function vd({title:t,value:e,positive:r}){return m.jsxs("div",{className:"border rounded-lg p-3",children:[m.jsx("div",{className:"text-xs text-gray-500",children:t}),m.jsx("div",{className:`text-xl font-bold ${r?"text-green-700":""}`,children:e})]})}const CY=t=>`C$${Number(t??0).toFixed(2)}`;function EY(){const[t,e]=te.useState([]),[r,n]=te.useState(!0),[i,s]=te.useState(ki(new Date,"yyyy-MM-dd")),[A,o]=te.useState("Varios"),[a,l]=te.useState(""),[u,d]=te.useState(0),[g,f]=te.useState("PENDIENTE"),[_,C]=te.useState(""),[x,v]=te.useState(null),[E,F]=te.useState(""),[P,K]=te.useState(""),[M,Q]=te.useState(""),[I,b]=te.useState(0),R=async()=>{const se=Zs(wr(dt,"expenses"),BN("createdAt","desc")),z=await Bn(se),ne=[];z.forEach(fe=>ne.push({id:fe.id,...fe.data()})),e(ne)};te.useEffect(()=>{(async()=>(n(!0),await R(),n(!1)))()},[]);const S=async()=>{try{await Bp(wr(dt,"expenses"),{date:i,category:A,description:a,amount:Number(u)||0,status:g,createdAt:ir.now()}),C("✅ Gasto registrado."),s(ki(new Date,"yyyy-MM-dd")),o("Varios"),l(""),d(0),f("PENDIENTE"),await R()}catch(se){console.error(se),C("❌ No se pudo registrar el gasto.")}},U=async se=>{confirm("¿Eliminar gasto?")&&(await yp(Br(dt,"expenses",se)),e(z=>z.filter(ne=>ne.id!==se)))},N=async se=>{if(se.status==="PAGADO")return;const z=Br(dt,"expenses",se.id);await eA(z,{status:"PAGADO",paidAt:ir.now()}),e(ne=>ne.map(fe=>fe.id===se.id?{...fe,status:"PAGADO",paidAt:ir.now()}:fe))},X=se=>{v(se.id),F(se.date||""),K(se.category||"Varios"),Q(se.description||""),b(Number(se.amount||0))},ue=()=>{v(null),F(""),K("Varios"),Q(""),b(0)},le=async()=>{if(!x)return;const se=Br(dt,"expenses",x);await eA(se,{date:E,category:P,description:M,amount:Number(I)||0}),e(z=>z.map(ne=>ne.id===x?{...ne,date:E,category:P,description:M,amount:Number(I)||0}:ne)),ue()};return m.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded shadow",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gastos"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Fecha"}),m.jsx("input",{type:"date",className:"border rounded px-3 py-2 w-full",value:i,onChange:se=>s(se.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Categoría"}),m.jsx("input",{className:"border rounded px-3 py-2 w-full",value:A,onChange:se=>o(se.target.value)})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Descripción"}),m.jsx("input",{className:"border rounded px-3 py-2 w-full",value:a,onChange:se=>l(se.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Monto"}),m.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"border rounded px-3 py-2 w-full",onKeyDown:se=>{se.key===","&&(se.preventDefault(),se.target.value+=".")},value:u===0?"":u,onChange:se=>d(parseFloat((se.target.value||"0").replace(",",".")))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Estado"}),m.jsxs("select",{className:"border rounded px-3 py-2 w-full",value:g,onChange:se=>f(se.target.value),children:[m.jsx("option",{value:"PENDIENTE",children:"Pendiente"}),m.jsx("option",{value:"PAGADO",children:"Pagado"})]})]})]}),m.jsx("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Registrar gasto"}),_&&m.jsx("p",{className:"mt-2 text-sm",children:_}),m.jsx("h3",{className:"font-semibold mt-6 mb-2",children:"Listado"}),r?m.jsx("p",{children:"Cargando…"}):m.jsxs("table",{className:"min-w-full border text-sm",children:[m.jsx("thead",{className:"bg-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border p-2",children:"Fecha"}),m.jsx("th",{className:"border p-2",children:"Categoría"}),m.jsx("th",{className:"border p-2",children:"Descripción"}),m.jsx("th",{className:"border p-2",children:"Monto"}),m.jsx("th",{className:"border p-2",children:"Estado"}),m.jsx("th",{className:"border p-2",children:"Acciones"})]})}),m.jsxs("tbody",{children:[t.map(se=>{const z=x===se.id;return m.jsxs("tr",{className:"text-center",children:[m.jsx("td",{className:"border p-1",children:z?m.jsx("input",{type:"date",className:"border rounded px-2 py-1 w-full",value:E,onChange:ne=>F(ne.target.value)}):se.date}),m.jsx("td",{className:"border p-1",children:z?m.jsx("input",{className:"border rounded px-2 py-1 w-full",value:P,onChange:ne=>K(ne.target.value)}):se.category}),m.jsx("td",{className:"border p-1",children:z?m.jsx("input",{className:"border rounded px-2 py-1 w-full",value:M,onChange:ne=>Q(ne.target.value)}):se.description}),m.jsx("td",{className:"border p-1",children:z?m.jsx("input",{type:"number",step:"0.01",className:"border rounded px-2 py-1 w-full text-right",value:Number.isNaN(I)?"":I,onChange:ne=>b(parseFloat(ne.target.value||"0"))}):CY(se.amount)}),m.jsx("td",{className:"border p-1",children:m.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${se.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:se.status})}),m.jsx("td",{className:"border p-1 space-x-1",children:z?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:le,className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",children:"Guardar"}),m.jsx("button",{onClick:ue,className:"text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300",children:"Cancelar"})]}):m.jsxs(m.Fragment,{children:[se.status==="PENDIENTE"&&m.jsx("button",{onClick:()=>N(se),className:"text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700",children:"Pagar"}),m.jsx("button",{onClick:()=>X(se),className:"text-xs bg-yellow-600 text-white px-2 py-1 rounded hover:bg-yellow-700",children:"Editar"}),m.jsx("button",{onClick:()=>U(se.id),className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",children:"Eliminar"})]})})]},se.id)}),t.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"p-3 text-center text-gray-500",children:"Sin gastos aún."})})]})]})]})}function F0(t){return(t||"").trim().toLowerCase()}async function U3(){const t=await Bn(wr(dt,"products")),e=new Map;return t.forEach(r=>{const n=r.data(),i=F0(n.name??n.productName);i&&e.set(i,r.id)}),e}async function bY(t=!1){const e=await U3(),r=await Bn(wr(dt,"inventory_batches")),n={checked:0,fixed:0,alreadyOk:0,missingName:0,withoutMatch:0,details:[]};for(const i of r.docs){n.checked++;const s=i.data(),A=F0(s.productName);if(!A){n.missingName++,n.details.push({batchId:i.id,productName:s.productName??"",oldProductId:s.productId,status:"missingName"});continue}const o=e.get(A);if(!o){n.withoutMatch++,n.details.push({batchId:i.id,productName:s.productName??"",oldProductId:s.productId,status:"withoutMatch"});continue}if(s.productId===o){n.alreadyOk++,n.details.push({batchId:i.id,productName:s.productName??"",oldProductId:s.productId,newProductId:o,status:"alreadyOk"});continue}t||await eA(Br(dt,"inventory_batches",i.id),{productId:o}),n.fixed++,n.details.push({batchId:i.id,productName:s.productName??"",oldProductId:s.productId,newProductId:o,status:"fixed"})}return console.group("[fixAllBatchProductIds] Resultado"),console.log("checked:",n.checked),console.log("fixed:",n.fixed),console.log("alreadyOk:",n.alreadyOk),console.log("missingName:",n.missingName),console.log("withoutMatch:",n.withoutMatch),console.groupEnd(),n}async function IY(t,e=!1){const r=F0(t),i=(await U3()).get(r);if(!i)throw new Error(`No existe un producto activo con nombre "${t}".`);const s=await Bn(wr(dt,"inventory_batches"));let A=0;for(const o of s.docs){const a=o.data();F0(a.productName)===r&&a.productId!==i&&(e||await eA(Br(dt,"inventory_batches",o.id),{productId:i}),A++)}return console.log(`[fixBatchesByProductName] "${t}" fixed: ${A} lote(s)`),A}function xY(){const[t,e]=te.useState(!1),[r,n]=te.useState(""),i=async()=>{try{e(!0),n("");const a=await bY(!1);n(`✅ Hecho. Revisados: ${a.checked}, Corregidos: ${a.fixed}, Ok: ${a.alreadyOk}, Sin nombre: ${a.missingName}, Sin match: ${a.withoutMatch}. (Mira consola para detalles)`)}catch(a){n("❌ Error: "+((a==null?void 0:a.message)||a))}finally{e(!1)}},[s,A]=te.useState(""),o=async()=>{if(!s.trim()){n("⚠️ Escribe el nombre del producto.");return}try{e(!0),n("");const a=await IY(s.trim(),!1);n(`✅ Hecho. Corregidos ${a} lote(s) para "${s}".`)}catch(a){n("❌ Error: "+((a==null?void 0:a.message)||a))}finally{e(!1)}};return m.jsxs("div",{className:"max-w-xl mx-auto bg-white p-6 rounded shadow border space-y-4",children:[m.jsx("h1",{className:"text-xl font-bold",children:"Herramienta de Migración de Lotes"}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Corrige los ",m.jsx("code",{children:"inventory_batches.productId"})," basándose en el nombre del producto. Úsalo una sola vez para limpiar datos viejos. Revisa la consola para un log detallado."]}),m.jsx("div",{className:"space-y-2",children:m.jsx("button",{onClick:i,disabled:t,className:"bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-60",children:t?"Corriendo…":"Corregir TODOS los lotes"})}),m.jsx("hr",{}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium",children:"Corregir por nombre:"}),m.jsx("input",{className:"border p-2 rounded w-full",placeholder:'Ej: "Pierna Entera"',value:s,onChange:a=>A(a.target.value)}),m.jsx("button",{onClick:o,disabled:t,className:"bg-indigo-600 text-white px-4 py-2 rounded disabled:opacity-60",children:t?"Corriendo…":"Corregir lotes de ese producto"})]}),r&&m.jsx("p",{className:"text-sm",children:r})]})}function FY(){const[t,e]=te.useState(null),[r,n]=te.useState(""),[i,s]=te.useState(!0);return te.useEffect(()=>{const A=mT(mw,async o=>{if(s(!0),o){e(o);const a=Br(dt,"users",o.uid),l=await vp(a);n(l.exists()?l.data().role:"")}else e(null),n("");s(!1)});return()=>A()},[]),i?m.jsx("div",{className:"p-6 text-center",children:"Cargando..."}):m.jsx(AD,{children:m.jsxs(kk,{children:[m.jsx(yi,{path:"/",element:m.jsx(T7,{})}),m.jsxs(yi,{path:"/admin",element:m.jsx(Ds,{allowedRoles:["admin","vendedor"],children:m.jsx(U7,{role:r})}),children:[m.jsx(yi,{index:!0,element:m.jsx(my,{to:"bills",replace:!0})}),m.jsx(yi,{path:"bills",element:m.jsx(Ds,{allowedRoles:["vendedor","admin"],children:m.jsx(oY,{})})}),m.jsx(yi,{path:"fix",element:m.jsx(Ds,{allowedRoles:["admin"],children:m.jsx(xY,{})})}),m.jsx(yi,{path:"salesV2",element:m.jsx(Ds,{allowedRoles:["vendedor","admin"],children:m.jsx(o4,{user:t})})}),m.jsx(yi,{path:"billhistoric",element:m.jsx(Ds,{allowedRoles:["admin"],children:m.jsx(aY,{})})}),m.jsx(yi,{path:"users",element:m.jsx(Ds,{allowedRoles:["admin"],children:m.jsx(lY,{})})}),m.jsx(yi,{path:"products",element:m.jsx(Ds,{allowedRoles:["admin"],children:m.jsx(cY,{})})}),m.jsx(yi,{path:"batches",element:m.jsx(Ds,{allowedRoles:["admin"],children:m.jsx(vY,{})})}),m.jsx(yi,{path:"transactionclose",element:m.jsx(Ds,{allowedRoles:["admin"],children:m.jsx(yY,{})})}),m.jsx(yi,{path:"financialDashboard",element:m.jsx(Ds,{allowedRoles:["admin"],children:m.jsx(_Y,{})})}),m.jsx(yi,{path:"expenses",element:m.jsx(Ds,{allowedRoles:["admin"],children:m.jsx(EY,{})})})]}),m.jsx(yi,{path:"/salesV2",element:m.jsx(Ds,{allowedRoles:["vendedor","admin"],children:m.jsx(o4,{user:t})})}),m.jsx(yi,{path:"*",element:m.jsx(my,{to:"/"})})]})})}Cv.createRoot(document.getElementById("root")).render(m.jsx(QL.StrictMode,{children:m.jsx(FY,{})}));export{dr as _,TY as c,mL as g};
