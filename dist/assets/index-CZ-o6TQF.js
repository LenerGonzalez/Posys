(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))n(A);new MutationObserver(A=>{for(const i of A)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(A){const i={};return A.integrity&&(i.integrity=A.integrity),A.referrerPolicy&&(i.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?i.credentials="include":A.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(A){if(A.ep)return;A.ep=!0;const i=r(A);fetch(A.href,i)}})();var Sz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SI={exports:{}},B0={},TI={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=Symbol.for("react.element"),lQ=Symbol.for("react.portal"),uQ=Symbol.for("react.fragment"),cQ=Symbol.for("react.strict_mode"),hQ=Symbol.for("react.profiler"),dQ=Symbol.for("react.provider"),fQ=Symbol.for("react.context"),pQ=Symbol.for("react.forward_ref"),gQ=Symbol.for("react.suspense"),mQ=Symbol.for("react.memo"),wQ=Symbol.for("react.lazy"),Z5=Symbol.iterator;function vQ(t){return t===null||typeof t!="object"?null:(t=Z5&&t[Z5]||t["@@iterator"],typeof t=="function"?t:null)}var UI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NI=Object.assign,QI={};function dh(t,e,r){this.props=t,this.context=e,this.refs=QI,this.updater=r||UI}dh.prototype.isReactComponent={};dh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LI(){}LI.prototype=dh.prototype;function c2(t,e,r){this.props=t,this.context=e,this.refs=QI,this.updater=r||UI}var h2=c2.prototype=new LI;h2.constructor=c2;NI(h2,dh.prototype);h2.isPureReactComponent=!0;var eC=Array.isArray,PI=Object.prototype.hasOwnProperty,d2={current:null},RI={key:!0,ref:!0,__self:!0,__source:!0};function kI(t,e,r){var n,A={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)PI.call(e,n)&&!RI.hasOwnProperty(n)&&(A[n]=e[n]);var o=arguments.length-2;if(o===1)A.children=r;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];A.children=a}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)A[n]===void 0&&(A[n]=o[n]);return{$$typeof:qf,type:t,key:i,ref:s,props:A,_owner:d2.current}}function yQ(t,e){return{$$typeof:qf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function f2(t){return typeof t=="object"&&t!==null&&t.$$typeof===qf}function BQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var tC=/\/+/g;function Vw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BQ(""+t.key):e.toString(36)}function Vg(t,e,r,n,A){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case qf:case lQ:s=!0}}if(s)return s=t,A=A(s),t=n===""?"."+Vw(s,0):n,eC(A)?(r="",t!=null&&(r=t.replace(tC,"$&/")+"/"),Vg(A,e,r,"",function(l){return l})):A!=null&&(f2(A)&&(A=yQ(A,r+(!A.key||s&&s.key===A.key?"":(""+A.key).replace(tC,"$&/")+"/")+t)),e.push(A)),1;if(s=0,n=n===""?".":n+":",eC(t))for(var o=0;o<t.length;o++){i=t[o];var a=n+Vw(i,o);s+=Vg(i,e,r,a,A)}else if(a=vQ(t),typeof a=="function")for(t=a.call(t),o=0;!(i=t.next()).done;)i=i.value,a=n+Vw(i,o++),s+=Vg(i,e,r,a,A);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Kp(t,e,r){if(t==null)return t;var n=[],A=0;return Vg(t,n,"","",function(i){return e.call(r,i,A++)}),n}function CQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cA={current:null},jg={transition:null},_Q={ReactCurrentDispatcher:cA,ReactCurrentBatchConfig:jg,ReactCurrentOwner:d2};function DI(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:Kp,forEach:function(t,e,r){Kp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Kp(t,function(){e++}),e},toArray:function(t){return Kp(t,function(e){return e})||[]},only:function(t){if(!f2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ft.Component=dh;Ft.Fragment=uQ;Ft.Profiler=hQ;Ft.PureComponent=c2;Ft.StrictMode=cQ;Ft.Suspense=gQ;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_Q;Ft.act=DI;Ft.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=NI({},t.props),A=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=d2.current),e.key!==void 0&&(A=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(a in e)PI.call(e,a)&&!RI.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&o!==void 0?o[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){o=Array(a);for(var l=0;l<a;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:qf,type:t.type,key:A,ref:i,props:n,_owner:s}};Ft.createContext=function(t){return t={$$typeof:fQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dQ,_context:t},t.Consumer=t};Ft.createElement=kI;Ft.createFactory=function(t){var e=kI.bind(null,t);return e.type=t,e};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(t){return{$$typeof:pQ,render:t}};Ft.isValidElement=f2;Ft.lazy=function(t){return{$$typeof:wQ,_payload:{_status:-1,_result:t},_init:CQ}};Ft.memo=function(t,e){return{$$typeof:mQ,type:t,compare:e===void 0?null:e}};Ft.startTransition=function(t){var e=jg.transition;jg.transition={};try{t()}finally{jg.transition=e}};Ft.unstable_act=DI;Ft.useCallback=function(t,e){return cA.current.useCallback(t,e)};Ft.useContext=function(t){return cA.current.useContext(t)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(t){return cA.current.useDeferredValue(t)};Ft.useEffect=function(t,e){return cA.current.useEffect(t,e)};Ft.useId=function(){return cA.current.useId()};Ft.useImperativeHandle=function(t,e,r){return cA.current.useImperativeHandle(t,e,r)};Ft.useInsertionEffect=function(t,e){return cA.current.useInsertionEffect(t,e)};Ft.useLayoutEffect=function(t,e){return cA.current.useLayoutEffect(t,e)};Ft.useMemo=function(t,e){return cA.current.useMemo(t,e)};Ft.useReducer=function(t,e,r){return cA.current.useReducer(t,e,r)};Ft.useRef=function(t){return cA.current.useRef(t)};Ft.useState=function(t){return cA.current.useState(t)};Ft.useSyncExternalStore=function(t,e,r){return cA.current.useSyncExternalStore(t,e,r)};Ft.useTransition=function(){return cA.current.useTransition()};Ft.version="18.3.1";TI.exports=Ft;var te=TI.exports;const EQ=aQ(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bQ=te,IQ=Symbol.for("react.element"),xQ=Symbol.for("react.fragment"),FQ=Object.prototype.hasOwnProperty,SQ=bQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TQ={key:!0,ref:!0,__self:!0,__source:!0};function OI(t,e,r){var n,A={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)FQ.call(e,n)&&!TQ.hasOwnProperty(n)&&(A[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)A[n]===void 0&&(A[n]=e[n]);return{$$typeof:IQ,type:t,key:i,ref:s,props:A,_owner:SQ.current}}B0.Fragment=xQ;B0.jsx=OI;B0.jsxs=OI;SI.exports=B0;var B=SI.exports,iv={},MI={exports:{}},JA={},HI={exports:{}},VI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,le){var he=ee.length;ee.push(le);e:for(;0<he;){var Ue=he-1>>>1,k=ee[Ue];if(0<A(k,le))ee[Ue]=le,ee[he]=k,he=Ue;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var le=ee[0],he=ee.pop();if(he!==le){ee[0]=he;e:for(var Ue=0,k=ee.length,W=k>>>1;Ue<W;){var Y=2*(Ue+1)-1,z=ee[Y],re=Y+1,fe=ee[re];if(0>A(z,he))re<k&&0>A(fe,z)?(ee[Ue]=fe,ee[re]=he,Ue=re):(ee[Ue]=z,ee[Y]=he,Ue=Y);else if(re<k&&0>A(fe,he))ee[Ue]=fe,ee[re]=he,Ue=re;else break e}}return le}function A(ee,le){var he=ee.sortIndex-le.sortIndex;return he!==0?he:ee.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var a=[],l=[],h=1,d=null,p=3,g=!1,E=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ee){for(var le=r(l);le!==null;){if(le.callback===null)n(l);else if(le.startTime<=ee)n(l),le.sortIndex=le.expirationTime,e(a,le);else break;le=r(l)}}function V(ee){if(_=!1,T(ee),!E)if(r(a)!==null)E=!0,se(D);else{var le=r(l);le!==null&&ge(V,le.startTime-ee)}}function D(ee,le){E=!1,_&&(_=!1,v(b),b=-1),g=!0;var he=p;try{for(T(le),d=r(a);d!==null&&(!(d.expirationTime>le)||ee&&!x());){var Ue=d.callback;if(typeof Ue=="function"){d.callback=null,p=d.priorityLevel;var k=Ue(d.expirationTime<=le);le=t.unstable_now(),typeof k=="function"?d.callback=k:d===r(a)&&n(a),T(le)}else n(a);d=r(a)}if(d!==null)var W=!0;else{var Y=r(l);Y!==null&&ge(V,Y.startTime-le),W=!1}return W}finally{d=null,p=he,g=!1}}var j=!1,S=null,b=-1,Q=5,O=-1;function x(){return!(t.unstable_now()-O<Q)}function U(){if(S!==null){var ee=t.unstable_now();O=ee;var le=!0;try{le=S(!0,ee)}finally{le?L():(j=!1,S=null)}}else j=!1}var L;if(typeof y=="function")L=function(){y(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,pe=$.port2;$.port1.onmessage=U,L=function(){pe.postMessage(null)}}else L=function(){N(U,0)};function se(ee){S=ee,j||(j=!0,L())}function ge(ee,le){b=N(function(){ee(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,se(D))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(a)},t.unstable_next=function(ee){switch(p){case 1:case 2:case 3:var le=3;break;default:le=p}var he=p;p=le;try{return ee()}finally{p=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var he=p;p=ee;try{return le()}finally{p=he}},t.unstable_scheduleCallback=function(ee,le,he){var Ue=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ue+he:Ue):he=Ue,ee){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=he+k,ee={id:h++,callback:le,priorityLevel:ee,startTime:he,expirationTime:k,sortIndex:-1},he>Ue?(ee.sortIndex=he,e(l,ee),r(a)===null&&ee===r(l)&&(_?(v(b),b=-1):_=!0,ge(V,he-Ue))):(ee.sortIndex=k,e(a,ee),E||g||(E=!0,se(D))),ee},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(ee){var le=p;return function(){var he=p;p=le;try{return ee.apply(this,arguments)}finally{p=he}}}})(VI);HI.exports=VI;var UQ=HI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NQ=te,WA=UQ;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jI=new Set,sf={};function Cu(t,e){$c(t,e),$c(t+"Capture",e)}function $c(t,e){for(sf[t]=e,t=0;t<e.length;t++)jI.add(e[t])}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=Object.prototype.hasOwnProperty,QQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rC={},nC={};function LQ(t){return sv.call(nC,t)?!0:sv.call(rC,t)?!1:QQ.test(t)?nC[t]=!0:(rC[t]=!0,!1)}function PQ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RQ(t,e,r,n){if(e===null||typeof e>"u"||PQ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hA(t,e,r,n,A,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=A,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new hA(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new hA(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new hA(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new hA(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new hA(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new hA(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new hA(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new hA(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new hA(t,5,!1,t.toLowerCase(),null,!1,!1)});var p2=/[\-:]([a-z])/g;function g2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(p2,g2);Rn[e]=new hA(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(p2,g2);Rn[e]=new hA(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(p2,g2);Rn[e]=new hA(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new hA(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new hA("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new hA(t,1,!1,t.toLowerCase(),null,!0,!0)});function m2(t,e,r,n){var A=Rn.hasOwnProperty(e)?Rn[e]:null;(A!==null?A.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RQ(e,r,A,n)&&(r=null),n||A===null?LQ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):A.mustUseProperty?t[A.propertyName]=r===null?A.type===3?!1:"":r:(e=A.attributeName,n=A.attributeNamespace,r===null?t.removeAttribute(e):(A=A.type,r=A===3||A===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Io=NQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gp=Symbol.for("react.element"),Cc=Symbol.for("react.portal"),_c=Symbol.for("react.fragment"),w2=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),KI=Symbol.for("react.provider"),GI=Symbol.for("react.context"),v2=Symbol.for("react.forward_ref"),av=Symbol.for("react.suspense"),lv=Symbol.for("react.suspense_list"),y2=Symbol.for("react.memo"),fa=Symbol.for("react.lazy"),qI=Symbol.for("react.offscreen"),AC=Symbol.iterator;function Wh(t){return t===null||typeof t!="object"?null:(t=AC&&t[AC]||t["@@iterator"],typeof t=="function"?t:null)}var Sr=Object.assign,jw;function md(t){if(jw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);jw=e&&e[1]||""}return`
`+jw+t}var Kw=!1;function Gw(t,e){if(!t||Kw)return"";Kw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var A=l.stack.split(`
`),i=n.stack.split(`
`),s=A.length-1,o=i.length-1;1<=s&&0<=o&&A[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(A[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||A[s]!==i[o]){var a=`
`+A[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=o);break}}}finally{Kw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?md(t):""}function kQ(t){switch(t.tag){case 5:return md(t.type);case 16:return md("Lazy");case 13:return md("Suspense");case 19:return md("SuspenseList");case 0:case 2:case 15:return t=Gw(t.type,!1),t;case 11:return t=Gw(t.type.render,!1),t;case 1:return t=Gw(t.type,!0),t;default:return""}}function uv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _c:return"Fragment";case Cc:return"Portal";case ov:return"Profiler";case w2:return"StrictMode";case av:return"Suspense";case lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GI:return(t.displayName||"Context")+".Consumer";case KI:return(t._context.displayName||"Context")+".Provider";case v2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case y2:return e=t.displayName||null,e!==null?e:uv(t.type)||"Memo";case fa:e=t._payload,t=t._init;try{return uv(t(e))}catch{}}return null}function DQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uv(e);case 8:return e===w2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $a(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OQ(t){var e=zI(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var A=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return A.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qp(t){t._valueTracker||(t._valueTracker=OQ(t))}function WI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=zI(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function vm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cv(t,e){var r=e.checked;return Sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function iC(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=$a(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $I(t,e){e=e.checked,e!=null&&m2(t,"checked",e,!1)}function hv(t,e){$I(t,e);var r=$a(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dv(t,e.type,r):e.hasOwnProperty("defaultValue")&&dv(t,e.type,$a(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sC(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function dv(t,e,r){(e!=="number"||vm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var wd=Array.isArray;function kc(t,e,r,n){if(t=t.options,e){e={};for(var A=0;A<r.length;A++)e["$"+r[A]]=!0;for(r=0;r<t.length;r++)A=e.hasOwnProperty("$"+t[r].value),t[r].selected!==A&&(t[r].selected=A),A&&n&&(t[r].defaultSelected=!0)}else{for(r=""+$a(r),e=null,A=0;A<t.length;A++){if(t[A].value===r){t[A].selected=!0,n&&(t[A].defaultSelected=!0);return}e!==null||t[A].disabled||(e=t[A])}e!==null&&(e.selected=!0)}}function fv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oC(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Oe(92));if(wd(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:$a(r)}}function JI(t,e){var r=$a(e.value),n=$a(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function aC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zp,YI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,A){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,A)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zp=zp||document.createElement("div"),zp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function of(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MQ=["Webkit","ms","Moz","O"];Object.keys(Ld).forEach(function(t){MQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ld[e]=Ld[t]})});function ZI(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ld.hasOwnProperty(t)&&Ld[t]?(""+e).trim():e+"px"}function ex(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,A=ZI(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,A):t[r]=A}}var HQ=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gv(t,e){if(e){if(HQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function mv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wv=null;function B2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vv=null,Dc=null,Oc=null;function lC(t){if(t=$f(t)){if(typeof vv!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=I0(e),vv(t.stateNode,t.type,e))}}function tx(t){Dc?Oc?Oc.push(t):Oc=[t]:Dc=t}function rx(){if(Dc){var t=Dc,e=Oc;if(Oc=Dc=null,lC(t),e)for(t=0;t<e.length;t++)lC(e[t])}}function nx(t,e){return t(e)}function Ax(){}var qw=!1;function ix(t,e,r){if(qw)return t(e,r);qw=!0;try{return nx(t,e,r)}finally{qw=!1,(Dc!==null||Oc!==null)&&(Ax(),rx())}}function af(t,e){var r=t.stateNode;if(r===null)return null;var n=I0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Oe(231,e,typeof r));return r}var yv=!1;if(go)try{var $h={};Object.defineProperty($h,"passive",{get:function(){yv=!0}}),window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{yv=!1}function VQ(t,e,r,n,A,i,s,o,a){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(h){this.onError(h)}}var Pd=!1,ym=null,Bm=!1,Bv=null,jQ={onError:function(t){Pd=!0,ym=t}};function KQ(t,e,r,n,A,i,s,o,a){Pd=!1,ym=null,VQ.apply(jQ,arguments)}function GQ(t,e,r,n,A,i,s,o,a){if(KQ.apply(this,arguments),Pd){if(Pd){var l=ym;Pd=!1,ym=null}else throw Error(Oe(198));Bm||(Bm=!0,Bv=l)}}function _u(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function sx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uC(t){if(_u(t)!==t)throw Error(Oe(188))}function qQ(t){var e=t.alternate;if(!e){if(e=_u(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var r=t,n=e;;){var A=r.return;if(A===null)break;var i=A.alternate;if(i===null){if(n=A.return,n!==null){r=n;continue}break}if(A.child===i.child){for(i=A.child;i;){if(i===r)return uC(A),t;if(i===n)return uC(A),e;i=i.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=A,n=i;else{for(var s=!1,o=A.child;o;){if(o===r){s=!0,r=A,n=i;break}if(o===n){s=!0,n=A,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=A;break}if(o===n){s=!0,n=i,r=A;break}o=o.sibling}if(!s)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?t:e}function ox(t){return t=qQ(t),t!==null?ax(t):null}function ax(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ax(t);if(e!==null)return e;t=t.sibling}return null}var lx=WA.unstable_scheduleCallback,cC=WA.unstable_cancelCallback,zQ=WA.unstable_shouldYield,WQ=WA.unstable_requestPaint,jr=WA.unstable_now,$Q=WA.unstable_getCurrentPriorityLevel,C2=WA.unstable_ImmediatePriority,ux=WA.unstable_UserBlockingPriority,Cm=WA.unstable_NormalPriority,JQ=WA.unstable_LowPriority,cx=WA.unstable_IdlePriority,C0=null,Es=null;function XQ(t){if(Es&&typeof Es.onCommitFiberRoot=="function")try{Es.onCommitFiberRoot(C0,t,void 0,(t.current.flags&128)===128)}catch{}}var Vi=Math.clz32?Math.clz32:e3,YQ=Math.log,ZQ=Math.LN2;function e3(t){return t>>>=0,t===0?32:31-(YQ(t)/ZQ|0)|0}var Wp=64,$p=4194304;function vd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _m(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,A=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~A;o!==0?n=vd(o):(i&=s,i!==0&&(n=vd(i)))}else s=r&~A,s!==0?n=vd(s):i!==0&&(n=vd(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&A)&&(A=n&-n,i=e&-e,A>=i||A===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Vi(e),A=1<<r,n|=t[r],e&=~A;return n}function t3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,A=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Vi(i),o=1<<s,a=A[s];a===-1?(!(o&r)||o&n)&&(A[s]=t3(o,e)):a<=e&&(t.expiredLanes|=o),i&=~o}}function Cv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hx(){var t=Wp;return Wp<<=1,!(Wp&4194240)&&(Wp=64),t}function zw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vi(e),t[e]=r}function n3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var A=31-Vi(r),i=1<<A;e[A]=0,n[A]=-1,t[A]=-1,r&=~i}}function _2(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Vi(r),A=1<<n;A&e|t[n]&e&&(t[n]|=e),r&=~A}}var Zt=0;function dx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fx,E2,px,gx,mx,_v=!1,Jp=[],Qa=null,La=null,Pa=null,lf=new Map,uf=new Map,ma=[],A3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hC(t,e){switch(t){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":lf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uf.delete(e.pointerId)}}function Jh(t,e,r,n,A,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[A]},e!==null&&(e=$f(e),e!==null&&E2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,A!==null&&e.indexOf(A)===-1&&e.push(A),t)}function i3(t,e,r,n,A){switch(e){case"focusin":return Qa=Jh(Qa,t,e,r,n,A),!0;case"dragenter":return La=Jh(La,t,e,r,n,A),!0;case"mouseover":return Pa=Jh(Pa,t,e,r,n,A),!0;case"pointerover":var i=A.pointerId;return lf.set(i,Jh(lf.get(i)||null,t,e,r,n,A)),!0;case"gotpointercapture":return i=A.pointerId,uf.set(i,Jh(uf.get(i)||null,t,e,r,n,A)),!0}return!1}function wx(t){var e=Gl(t.target);if(e!==null){var r=_u(e);if(r!==null){if(e=r.tag,e===13){if(e=sx(r),e!==null){t.blockedOn=e,mx(t.priority,function(){px(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ev(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wv=n,r.target.dispatchEvent(n),wv=null}else return e=$f(r),e!==null&&E2(e),t.blockedOn=r,!1;e.shift()}return!0}function dC(t,e,r){Kg(t)&&r.delete(e)}function s3(){_v=!1,Qa!==null&&Kg(Qa)&&(Qa=null),La!==null&&Kg(La)&&(La=null),Pa!==null&&Kg(Pa)&&(Pa=null),lf.forEach(dC),uf.forEach(dC)}function Xh(t,e){t.blockedOn===e&&(t.blockedOn=null,_v||(_v=!0,WA.unstable_scheduleCallback(WA.unstable_NormalPriority,s3)))}function cf(t){function e(A){return Xh(A,t)}if(0<Jp.length){Xh(Jp[0],t);for(var r=1;r<Jp.length;r++){var n=Jp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Qa!==null&&Xh(Qa,t),La!==null&&Xh(La,t),Pa!==null&&Xh(Pa,t),lf.forEach(e),uf.forEach(e),r=0;r<ma.length;r++)n=ma[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ma.length&&(r=ma[0],r.blockedOn===null);)wx(r),r.blockedOn===null&&ma.shift()}var Mc=Io.ReactCurrentBatchConfig,Em=!0;function o3(t,e,r,n){var A=Zt,i=Mc.transition;Mc.transition=null;try{Zt=1,b2(t,e,r,n)}finally{Zt=A,Mc.transition=i}}function a3(t,e,r,n){var A=Zt,i=Mc.transition;Mc.transition=null;try{Zt=4,b2(t,e,r,n)}finally{Zt=A,Mc.transition=i}}function b2(t,e,r,n){if(Em){var A=Ev(t,e,r,n);if(A===null)n1(t,e,n,bm,r),hC(t,n);else if(i3(A,t,e,r,n))n.stopPropagation();else if(hC(t,n),e&4&&-1<A3.indexOf(t)){for(;A!==null;){var i=$f(A);if(i!==null&&fx(i),i=Ev(t,e,r,n),i===null&&n1(t,e,n,bm,r),i===A)break;A=i}A!==null&&n.stopPropagation()}else n1(t,e,n,null,r)}}var bm=null;function Ev(t,e,r,n){if(bm=null,t=B2(n),t=Gl(t),t!==null)if(e=_u(t),e===null)t=null;else if(r=e.tag,r===13){if(t=sx(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bm=t,null}function vx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($Q()){case C2:return 1;case ux:return 4;case Cm:case JQ:return 16;case cx:return 536870912;default:return 16}default:return 16}}var Ia=null,I2=null,Gg=null;function yx(){if(Gg)return Gg;var t,e=I2,r=e.length,n,A="value"in Ia?Ia.value:Ia.textContent,i=A.length;for(t=0;t<r&&e[t]===A[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===A[i-n];n++);return Gg=A.slice(t,1<n?1-n:void 0)}function qg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xp(){return!0}function fC(){return!1}function XA(t){function e(r,n,A,i,s){this._reactName=r,this._targetInst=A,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xp:fC,this.isPropagationStopped=fC,this}return Sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xp)},persist:function(){},isPersistent:Xp}),e}var fh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x2=XA(fh),Wf=Sr({},fh,{view:0,detail:0}),l3=XA(Wf),Ww,$w,Yh,_0=Sr({},Wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yh&&(Yh&&t.type==="mousemove"?(Ww=t.screenX-Yh.screenX,$w=t.screenY-Yh.screenY):$w=Ww=0,Yh=t),Ww)},movementY:function(t){return"movementY"in t?t.movementY:$w}}),pC=XA(_0),u3=Sr({},_0,{dataTransfer:0}),c3=XA(u3),h3=Sr({},Wf,{relatedTarget:0}),Jw=XA(h3),d3=Sr({},fh,{animationName:0,elapsedTime:0,pseudoElement:0}),f3=XA(d3),p3=Sr({},fh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g3=XA(p3),m3=Sr({},fh,{data:0}),gC=XA(m3),w3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y3[t])?!!e[t]:!1}function F2(){return B3}var C3=Sr({},Wf,{key:function(t){if(t.key){var e=w3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F2,charCode:function(t){return t.type==="keypress"?qg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_3=XA(C3),E3=Sr({},_0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mC=XA(E3),b3=Sr({},Wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F2}),I3=XA(b3),x3=Sr({},fh,{propertyName:0,elapsedTime:0,pseudoElement:0}),F3=XA(x3),S3=Sr({},_0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T3=XA(S3),U3=[9,13,27,32],S2=go&&"CompositionEvent"in window,Rd=null;go&&"documentMode"in document&&(Rd=document.documentMode);var N3=go&&"TextEvent"in window&&!Rd,Bx=go&&(!S2||Rd&&8<Rd&&11>=Rd),wC=" ",vC=!1;function Cx(t,e){switch(t){case"keyup":return U3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ec=!1;function Q3(t,e){switch(t){case"compositionend":return _x(e);case"keypress":return e.which!==32?null:(vC=!0,wC);case"textInput":return t=e.data,t===wC&&vC?null:t;default:return null}}function L3(t,e){if(Ec)return t==="compositionend"||!S2&&Cx(t,e)?(t=yx(),Gg=I2=Ia=null,Ec=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bx&&e.locale!=="ko"?null:e.data;default:return null}}var P3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P3[t.type]:e==="textarea"}function Ex(t,e,r,n){tx(n),e=Im(e,"onChange"),0<e.length&&(r=new x2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var kd=null,hf=null;function R3(t){Px(t,0)}function E0(t){var e=xc(t);if(WI(e))return t}function k3(t,e){if(t==="change")return e}var bx=!1;if(go){var Xw;if(go){var Yw="oninput"in document;if(!Yw){var BC=document.createElement("div");BC.setAttribute("oninput","return;"),Yw=typeof BC.oninput=="function"}Xw=Yw}else Xw=!1;bx=Xw&&(!document.documentMode||9<document.documentMode)}function CC(){kd&&(kd.detachEvent("onpropertychange",Ix),hf=kd=null)}function Ix(t){if(t.propertyName==="value"&&E0(hf)){var e=[];Ex(e,hf,t,B2(t)),ix(R3,e)}}function D3(t,e,r){t==="focusin"?(CC(),kd=e,hf=r,kd.attachEvent("onpropertychange",Ix)):t==="focusout"&&CC()}function O3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return E0(hf)}function M3(t,e){if(t==="click")return E0(e)}function H3(t,e){if(t==="input"||t==="change")return E0(e)}function V3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gi=typeof Object.is=="function"?Object.is:V3;function df(t,e){if(Gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var A=r[n];if(!sv.call(e,A)||!Gi(t[A],e[A]))return!1}return!0}function _C(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function EC(t,e){var r=_C(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_C(r)}}function xx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fx(){for(var t=window,e=vm();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=vm(t.document)}return e}function T2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function j3(t){var e=Fx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&xx(r.ownerDocument.documentElement,r)){if(n!==null&&T2(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var A=r.textContent.length,i=Math.min(n.start,A);n=n.end===void 0?i:Math.min(n.end,A),!t.extend&&i>n&&(A=n,n=i,i=A),A=EC(r,i);var s=EC(r,n);A&&s&&(t.rangeCount!==1||t.anchorNode!==A.node||t.anchorOffset!==A.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(A.node,A.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K3=go&&"documentMode"in document&&11>=document.documentMode,bc=null,bv=null,Dd=null,Iv=!1;function bC(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Iv||bc==null||bc!==vm(n)||(n=bc,"selectionStart"in n&&T2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dd&&df(Dd,n)||(Dd=n,n=Im(bv,"onSelect"),0<n.length&&(e=new x2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=bc)))}function Yp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ic={animationend:Yp("Animation","AnimationEnd"),animationiteration:Yp("Animation","AnimationIteration"),animationstart:Yp("Animation","AnimationStart"),transitionend:Yp("Transition","TransitionEnd")},Zw={},Sx={};go&&(Sx=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function b0(t){if(Zw[t])return Zw[t];if(!Ic[t])return t;var e=Ic[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Sx)return Zw[t]=e[r];return t}var Tx=b0("animationend"),Ux=b0("animationiteration"),Nx=b0("animationstart"),Qx=b0("transitionend"),Lx=new Map,IC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nl(t,e){Lx.set(t,e),Cu(e,[t])}for(var e1=0;e1<IC.length;e1++){var t1=IC[e1],G3=t1.toLowerCase(),q3=t1[0].toUpperCase()+t1.slice(1);nl(G3,"on"+q3)}nl(Tx,"onAnimationEnd");nl(Ux,"onAnimationIteration");nl(Nx,"onAnimationStart");nl("dblclick","onDoubleClick");nl("focusin","onFocus");nl("focusout","onBlur");nl(Qx,"onTransitionEnd");$c("onMouseEnter",["mouseout","mouseover"]);$c("onMouseLeave",["mouseout","mouseover"]);$c("onPointerEnter",["pointerout","pointerover"]);$c("onPointerLeave",["pointerout","pointerover"]);Cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z3=new Set("cancel close invalid load scroll toggle".split(" ").concat(yd));function xC(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,GQ(n,e,void 0,t),t.currentTarget=null}function Px(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],A=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],a=o.instance,l=o.currentTarget;if(o=o.listener,a!==i&&A.isPropagationStopped())break e;xC(A,o,l),i=a}else for(s=0;s<n.length;s++){if(o=n[s],a=o.instance,l=o.currentTarget,o=o.listener,a!==i&&A.isPropagationStopped())break e;xC(A,o,l),i=a}}}if(Bm)throw t=Bv,Bm=!1,Bv=null,t}function gr(t,e){var r=e[Uv];r===void 0&&(r=e[Uv]=new Set);var n=t+"__bubble";r.has(n)||(Rx(e,t,2,!1),r.add(n))}function r1(t,e,r){var n=0;e&&(n|=4),Rx(r,t,n,e)}var Zp="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[Zp]){t[Zp]=!0,jI.forEach(function(r){r!=="selectionchange"&&(z3.has(r)||r1(r,!1,t),r1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zp]||(e[Zp]=!0,r1("selectionchange",!1,e))}}function Rx(t,e,r,n){switch(vx(e)){case 1:var A=o3;break;case 4:A=a3;break;default:A=b2}r=A.bind(null,e,r,t),A=void 0,!yv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(A=!0),n?A!==void 0?t.addEventListener(e,r,{capture:!0,passive:A}):t.addEventListener(e,r,!0):A!==void 0?t.addEventListener(e,r,{passive:A}):t.addEventListener(e,r,!1)}function n1(t,e,r,n,A){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===A||o.nodeType===8&&o.parentNode===A)break;if(s===4)for(s=n.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===A||a.nodeType===8&&a.parentNode===A))return;s=s.return}for(;o!==null;){if(s=Gl(o),s===null)return;if(a=s.tag,a===5||a===6){n=i=s;continue e}o=o.parentNode}}n=n.return}ix(function(){var l=i,h=B2(r),d=[];e:{var p=Lx.get(t);if(p!==void 0){var g=x2,E=t;switch(t){case"keypress":if(qg(r)===0)break e;case"keydown":case"keyup":g=_3;break;case"focusin":E="focus",g=Jw;break;case"focusout":E="blur",g=Jw;break;case"beforeblur":case"afterblur":g=Jw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=pC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=c3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=I3;break;case Tx:case Ux:case Nx:g=f3;break;case Qx:g=F3;break;case"scroll":g=l3;break;case"wheel":g=T3;break;case"copy":case"cut":case"paste":g=g3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mC}var _=(e&4)!==0,N=!_&&t==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var y=l,T;y!==null;){T=y;var V=T.stateNode;if(T.tag===5&&V!==null&&(T=V,v!==null&&(V=af(y,v),V!=null&&_.push(pf(y,V,T)))),N)break;y=y.return}0<_.length&&(p=new g(p,E,null,r,h),d.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==wv&&(E=r.relatedTarget||r.fromElement)&&(Gl(E)||E[mo]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(E=r.relatedTarget||r.toElement,g=l,E=E?Gl(E):null,E!==null&&(N=_u(E),E!==N||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=l),g!==E)){if(_=pC,V="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=mC,V="onPointerLeave",v="onPointerEnter",y="pointer"),N=g==null?p:xc(g),T=E==null?p:xc(E),p=new _(V,y+"leave",g,r,h),p.target=N,p.relatedTarget=T,V=null,Gl(h)===l&&(_=new _(v,y+"enter",E,r,h),_.target=T,_.relatedTarget=N,V=_),N=V,g&&E)t:{for(_=g,v=E,y=0,T=_;T;T=Zu(T))y++;for(T=0,V=v;V;V=Zu(V))T++;for(;0<y-T;)_=Zu(_),y--;for(;0<T-y;)v=Zu(v),T--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=Zu(_),v=Zu(v)}_=null}else _=null;g!==null&&FC(d,p,g,_,!1),E!==null&&N!==null&&FC(d,N,E,_,!0)}}e:{if(p=l?xc(l):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=k3;else if(yC(p))if(bx)D=H3;else{D=O3;var j=D3}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=M3);if(D&&(D=D(t,l))){Ex(d,D,r,h);break e}j&&j(t,p,l),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&dv(p,"number",p.value)}switch(j=l?xc(l):window,t){case"focusin":(yC(j)||j.contentEditable==="true")&&(bc=j,bv=l,Dd=null);break;case"focusout":Dd=bv=bc=null;break;case"mousedown":Iv=!0;break;case"contextmenu":case"mouseup":case"dragend":Iv=!1,bC(d,r,h);break;case"selectionchange":if(K3)break;case"keydown":case"keyup":bC(d,r,h)}var S;if(S2)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ec?Cx(t,r)&&(b="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(Bx&&r.locale!=="ko"&&(Ec||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ec&&(S=yx()):(Ia=h,I2="value"in Ia?Ia.value:Ia.textContent,Ec=!0)),j=Im(l,b),0<j.length&&(b=new gC(b,t,null,r,h),d.push({event:b,listeners:j}),S?b.data=S:(S=_x(r),S!==null&&(b.data=S)))),(S=N3?Q3(t,r):L3(t,r))&&(l=Im(l,"onBeforeInput"),0<l.length&&(h=new gC("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:l}),h.data=S))}Px(d,e)})}function pf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Im(t,e){for(var r=e+"Capture",n=[];t!==null;){var A=t,i=A.stateNode;A.tag===5&&i!==null&&(A=i,i=af(t,r),i!=null&&n.unshift(pf(t,i,A)),i=af(t,e),i!=null&&n.push(pf(t,i,A))),t=t.return}return n}function Zu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FC(t,e,r,n,A){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,a=o.alternate,l=o.stateNode;if(a!==null&&a===n)break;o.tag===5&&l!==null&&(o=l,A?(a=af(r,i),a!=null&&s.unshift(pf(r,a,o))):A||(a=af(r,i),a!=null&&s.push(pf(r,a,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var W3=/\r\n?/g,$3=/\u0000|\uFFFD/g;function SC(t){return(typeof t=="string"?t:""+t).replace(W3,`
`).replace($3,"")}function eg(t,e,r){if(e=SC(e),SC(t)!==e&&r)throw Error(Oe(425))}function xm(){}var xv=null,Fv=null;function Sv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tv=typeof setTimeout=="function"?setTimeout:void 0,J3=typeof clearTimeout=="function"?clearTimeout:void 0,TC=typeof Promise=="function"?Promise:void 0,X3=typeof queueMicrotask=="function"?queueMicrotask:typeof TC<"u"?function(t){return TC.resolve(null).then(t).catch(Y3)}:Tv;function Y3(t){setTimeout(function(){throw t})}function A1(t,e){var r=e,n=0;do{var A=r.nextSibling;if(t.removeChild(r),A&&A.nodeType===8)if(r=A.data,r==="/$"){if(n===0){t.removeChild(A),cf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=A}while(r);cf(e)}function Ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ph=Math.random().toString(36).slice(2),vs="__reactFiber$"+ph,gf="__reactProps$"+ph,mo="__reactContainer$"+ph,Uv="__reactEvents$"+ph,Z3="__reactListeners$"+ph,eL="__reactHandles$"+ph;function Gl(t){var e=t[vs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[mo]||r[vs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=UC(t);t!==null;){if(r=t[vs])return r;t=UC(t)}return e}t=r,r=t.parentNode}return null}function $f(t){return t=t[vs]||t[mo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function I0(t){return t[gf]||null}var Nv=[],Fc=-1;function Al(t){return{current:t}}function wr(t){0>Fc||(t.current=Nv[Fc],Nv[Fc]=null,Fc--)}function hr(t,e){Fc++,Nv[Fc]=t.current,t.current=e}var Ja={},Yn=Al(Ja),xA=Al(!1),iu=Ja;function Jc(t,e){var r=t.type.contextTypes;if(!r)return Ja;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var A={},i;for(i in r)A[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=A),A}function FA(t){return t=t.childContextTypes,t!=null}function Fm(){wr(xA),wr(Yn)}function NC(t,e,r){if(Yn.current!==Ja)throw Error(Oe(168));hr(Yn,e),hr(xA,r)}function kx(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var A in n)if(!(A in e))throw Error(Oe(108,DQ(t)||"Unknown",A));return Sr({},r,n)}function Sm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ja,iu=Yn.current,hr(Yn,t),hr(xA,xA.current),!0}function QC(t,e,r){var n=t.stateNode;if(!n)throw Error(Oe(169));r?(t=kx(t,e,iu),n.__reactInternalMemoizedMergedChildContext=t,wr(xA),wr(Yn),hr(Yn,t)):wr(xA),hr(xA,r)}var no=null,x0=!1,i1=!1;function Dx(t){no===null?no=[t]:no.push(t)}function tL(t){x0=!0,Dx(t)}function il(){if(!i1&&no!==null){i1=!0;var t=0,e=Zt;try{var r=no;for(Zt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}no=null,x0=!1}catch(A){throw no!==null&&(no=no.slice(t+1)),lx(C2,il),A}finally{Zt=e,i1=!1}}return null}var Sc=[],Tc=0,Tm=null,Um=0,li=[],ui=0,su=null,Ao=1,io="";function Ll(t,e){Sc[Tc++]=Um,Sc[Tc++]=Tm,Tm=t,Um=e}function Ox(t,e,r){li[ui++]=Ao,li[ui++]=io,li[ui++]=su,su=t;var n=Ao;t=io;var A=32-Vi(n)-1;n&=~(1<<A),r+=1;var i=32-Vi(e)+A;if(30<i){var s=A-A%5;i=(n&(1<<s)-1).toString(32),n>>=s,A-=s,Ao=1<<32-Vi(e)+A|r<<A|n,io=i+t}else Ao=1<<i|r<<A|n,io=t}function U2(t){t.return!==null&&(Ll(t,1),Ox(t,1,0))}function N2(t){for(;t===Tm;)Tm=Sc[--Tc],Sc[Tc]=null,Um=Sc[--Tc],Sc[Tc]=null;for(;t===su;)su=li[--ui],li[ui]=null,io=li[--ui],li[ui]=null,Ao=li[--ui],li[ui]=null}var qA=null,jA=null,Br=!1,Mi=null;function Mx(t,e){var r=hi(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function LC(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qA=t,jA=Ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qA=t,jA=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=su!==null?{id:Ao,overflow:io}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=hi(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qA=t,jA=null,!0):!1;default:return!1}}function Qv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lv(t){if(Br){var e=jA;if(e){var r=e;if(!LC(t,e)){if(Qv(t))throw Error(Oe(418));e=Ra(r.nextSibling);var n=qA;e&&LC(t,e)?Mx(n,r):(t.flags=t.flags&-4097|2,Br=!1,qA=t)}}else{if(Qv(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,Br=!1,qA=t}}}function PC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qA=t}function tg(t){if(t!==qA)return!1;if(!Br)return PC(t),Br=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sv(t.type,t.memoizedProps)),e&&(e=jA)){if(Qv(t))throw Hx(),Error(Oe(418));for(;e;)Mx(t,e),e=Ra(e.nextSibling)}if(PC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){jA=Ra(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}jA=null}}else jA=qA?Ra(t.stateNode.nextSibling):null;return!0}function Hx(){for(var t=jA;t;)t=Ra(t.nextSibling)}function Xc(){jA=qA=null,Br=!1}function Q2(t){Mi===null?Mi=[t]:Mi.push(t)}var rL=Io.ReactCurrentBatchConfig;function Zh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,t));var A=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=A.refs;s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,t))}return t}function rg(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function RC(t){var e=t._init;return e(t._payload)}function Vx(t){function e(v,y){if(t){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function r(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function A(v,y){return v=Ma(v,y),v.index=0,v.sibling=null,v}function i(v,y,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=2,y):T):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,y,T,V){return y===null||y.tag!==6?(y=h1(T,v.mode,V),y.return=v,y):(y=A(y,T),y.return=v,y)}function a(v,y,T,V){var D=T.type;return D===_c?h(v,y,T.props.children,V,T.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===fa&&RC(D)===y.type)?(V=A(y,T.props),V.ref=Zh(v,y,T),V.return=v,V):(V=Zg(T.type,T.key,T.props,null,v.mode,V),V.ref=Zh(v,y,T),V.return=v,V)}function l(v,y,T,V){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=d1(T,v.mode,V),y.return=v,y):(y=A(y,T.children||[]),y.return=v,y)}function h(v,y,T,V,D){return y===null||y.tag!==7?(y=Xl(T,v.mode,V,D),y.return=v,y):(y=A(y,T),y.return=v,y)}function d(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=h1(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gp:return T=Zg(y.type,y.key,y.props,null,v.mode,T),T.ref=Zh(v,null,y),T.return=v,T;case Cc:return y=d1(y,v.mode,T),y.return=v,y;case fa:var V=y._init;return d(v,V(y._payload),T)}if(wd(y)||Wh(y))return y=Xl(y,v.mode,T,null),y.return=v,y;rg(v,y)}return null}function p(v,y,T,V){var D=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:o(v,y,""+T,V);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gp:return T.key===D?a(v,y,T,V):null;case Cc:return T.key===D?l(v,y,T,V):null;case fa:return D=T._init,p(v,y,D(T._payload),V)}if(wd(T)||Wh(T))return D!==null?null:h(v,y,T,V,null);rg(v,T)}return null}function g(v,y,T,V,D){if(typeof V=="string"&&V!==""||typeof V=="number")return v=v.get(T)||null,o(y,v,""+V,D);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Gp:return v=v.get(V.key===null?T:V.key)||null,a(y,v,V,D);case Cc:return v=v.get(V.key===null?T:V.key)||null,l(y,v,V,D);case fa:var j=V._init;return g(v,y,T,j(V._payload),D)}if(wd(V)||Wh(V))return v=v.get(T)||null,h(y,v,V,D,null);rg(y,V)}return null}function E(v,y,T,V){for(var D=null,j=null,S=y,b=y=0,Q=null;S!==null&&b<T.length;b++){S.index>b?(Q=S,S=null):Q=S.sibling;var O=p(v,S,T[b],V);if(O===null){S===null&&(S=Q);break}t&&S&&O.alternate===null&&e(v,S),y=i(O,y,b),j===null?D=O:j.sibling=O,j=O,S=Q}if(b===T.length)return r(v,S),Br&&Ll(v,b),D;if(S===null){for(;b<T.length;b++)S=d(v,T[b],V),S!==null&&(y=i(S,y,b),j===null?D=S:j.sibling=S,j=S);return Br&&Ll(v,b),D}for(S=n(v,S);b<T.length;b++)Q=g(S,v,b,T[b],V),Q!==null&&(t&&Q.alternate!==null&&S.delete(Q.key===null?b:Q.key),y=i(Q,y,b),j===null?D=Q:j.sibling=Q,j=Q);return t&&S.forEach(function(x){return e(v,x)}),Br&&Ll(v,b),D}function _(v,y,T,V){var D=Wh(T);if(typeof D!="function")throw Error(Oe(150));if(T=D.call(T),T==null)throw Error(Oe(151));for(var j=D=null,S=y,b=y=0,Q=null,O=T.next();S!==null&&!O.done;b++,O=T.next()){S.index>b?(Q=S,S=null):Q=S.sibling;var x=p(v,S,O.value,V);if(x===null){S===null&&(S=Q);break}t&&S&&x.alternate===null&&e(v,S),y=i(x,y,b),j===null?D=x:j.sibling=x,j=x,S=Q}if(O.done)return r(v,S),Br&&Ll(v,b),D;if(S===null){for(;!O.done;b++,O=T.next())O=d(v,O.value,V),O!==null&&(y=i(O,y,b),j===null?D=O:j.sibling=O,j=O);return Br&&Ll(v,b),D}for(S=n(v,S);!O.done;b++,O=T.next())O=g(S,v,b,O.value,V),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?b:O.key),y=i(O,y,b),j===null?D=O:j.sibling=O,j=O);return t&&S.forEach(function(U){return e(v,U)}),Br&&Ll(v,b),D}function N(v,y,T,V){if(typeof T=="object"&&T!==null&&T.type===_c&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Gp:e:{for(var D=T.key,j=y;j!==null;){if(j.key===D){if(D=T.type,D===_c){if(j.tag===7){r(v,j.sibling),y=A(j,T.props.children),y.return=v,v=y;break e}}else if(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===fa&&RC(D)===j.type){r(v,j.sibling),y=A(j,T.props),y.ref=Zh(v,j,T),y.return=v,v=y;break e}r(v,j);break}else e(v,j);j=j.sibling}T.type===_c?(y=Xl(T.props.children,v.mode,V,T.key),y.return=v,v=y):(V=Zg(T.type,T.key,T.props,null,v.mode,V),V.ref=Zh(v,y,T),V.return=v,v=V)}return s(v);case Cc:e:{for(j=T.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){r(v,y.sibling),y=A(y,T.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else e(v,y);y=y.sibling}y=d1(T,v.mode,V),y.return=v,v=y}return s(v);case fa:return j=T._init,N(v,y,j(T._payload),V)}if(wd(T))return E(v,y,T,V);if(Wh(T))return _(v,y,T,V);rg(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(r(v,y.sibling),y=A(y,T),y.return=v,v=y):(r(v,y),y=h1(T,v.mode,V),y.return=v,v=y),s(v)):r(v,y)}return N}var Yc=Vx(!0),jx=Vx(!1),Nm=Al(null),Qm=null,Uc=null,L2=null;function P2(){L2=Uc=Qm=null}function R2(t){var e=Nm.current;wr(Nm),t._currentValue=e}function Pv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Hc(t,e){Qm=t,L2=Uc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bA=!0),t.firstContext=null)}function wi(t){var e=t._currentValue;if(L2!==t)if(t={context:t,memoizedValue:e,next:null},Uc===null){if(Qm===null)throw Error(Oe(308));Uc=t,Qm.dependencies={lanes:0,firstContext:t}}else Uc=Uc.next=t;return e}var ql=null;function k2(t){ql===null?ql=[t]:ql.push(t)}function Kx(t,e,r,n){var A=e.interleaved;return A===null?(r.next=r,k2(e)):(r.next=A.next,A.next=r),e.interleaved=r,wo(t,n)}function wo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var pa=!1;function D2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ka(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Mt&2){var A=n.pending;return A===null?e.next=e:(e.next=A.next,A.next=e),n.pending=e,wo(t,r)}return A=n.interleaved,A===null?(e.next=e,k2(n)):(e.next=A.next,A.next=e),n.interleaved=e,wo(t,r)}function zg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_2(t,r)}}function kC(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var A=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?A=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?A=i=e:i=i.next=e}else A=i=e;r={baseState:n.baseState,firstBaseUpdate:A,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Lm(t,e,r,n){var A=t.updateQueue;pa=!1;var i=A.firstBaseUpdate,s=A.lastBaseUpdate,o=A.shared.pending;if(o!==null){A.shared.pending=null;var a=o,l=a.next;a.next=null,s===null?i=l:s.next=l,s=a;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=a))}if(i!==null){var d=A.baseState;s=0,h=l=a=null,o=i;do{var p=o.lane,g=o.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var E=t,_=o;switch(p=e,g=r,_.tag){case 1:if(E=_.payload,typeof E=="function"){d=E.call(g,d,p);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,p=typeof E=="function"?E.call(g,d,p):E,p==null)break e;d=Sr({},d,p);break e;case 2:pa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=A.effects,p===null?A.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(l=h=g,a=d):h=h.next=g,s|=p;if(o=o.next,o===null){if(o=A.shared.pending,o===null)break;p=o,o=p.next,p.next=null,A.lastBaseUpdate=p,A.shared.pending=null}}while(!0);if(h===null&&(a=d),A.baseState=a,A.firstBaseUpdate=l,A.lastBaseUpdate=h,e=A.shared.interleaved,e!==null){A=e;do s|=A.lane,A=A.next;while(A!==e)}else i===null&&(A.shared.lanes=0);au|=s,t.lanes=s,t.memoizedState=d}}function DC(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],A=n.callback;if(A!==null){if(n.callback=null,n=r,typeof A!="function")throw Error(Oe(191,A));A.call(n)}}}var Jf={},bs=Al(Jf),mf=Al(Jf),wf=Al(Jf);function zl(t){if(t===Jf)throw Error(Oe(174));return t}function O2(t,e){switch(hr(wf,e),hr(mf,t),hr(bs,Jf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pv(e,t)}wr(bs),hr(bs,e)}function Zc(){wr(bs),wr(mf),wr(wf)}function qx(t){zl(wf.current);var e=zl(bs.current),r=pv(e,t.type);e!==r&&(hr(mf,t),hr(bs,r))}function M2(t){mf.current===t&&(wr(bs),wr(mf))}var Ir=Al(0);function Pm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var s1=[];function H2(){for(var t=0;t<s1.length;t++)s1[t]._workInProgressVersionPrimary=null;s1.length=0}var Wg=Io.ReactCurrentDispatcher,o1=Io.ReactCurrentBatchConfig,ou=0,Fr=null,on=null,wn=null,Rm=!1,Od=!1,vf=0,nL=0;function Hn(){throw Error(Oe(321))}function V2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Gi(t[r],e[r]))return!1;return!0}function j2(t,e,r,n,A,i){if(ou=i,Fr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wg.current=t===null||t.memoizedState===null?oL:aL,t=r(n,A),Od){i=0;do{if(Od=!1,vf=0,25<=i)throw Error(Oe(301));i+=1,wn=on=null,e.updateQueue=null,Wg.current=lL,t=r(n,A)}while(Od)}if(Wg.current=km,e=on!==null&&on.next!==null,ou=0,wn=on=Fr=null,Rm=!1,e)throw Error(Oe(300));return t}function K2(){var t=vf!==0;return vf=0,t}function ws(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Fr.memoizedState=wn=t:wn=wn.next=t,wn}function vi(){if(on===null){var t=Fr.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=wn===null?Fr.memoizedState:wn.next;if(e!==null)wn=e,on=t;else{if(t===null)throw Error(Oe(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},wn===null?Fr.memoizedState=wn=t:wn=wn.next=t}return wn}function yf(t,e){return typeof e=="function"?e(t):e}function a1(t){var e=vi(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=on,A=n.baseQueue,i=r.pending;if(i!==null){if(A!==null){var s=A.next;A.next=i.next,i.next=s}n.baseQueue=A=i,r.pending=null}if(A!==null){i=A.next,n=n.baseState;var o=s=null,a=null,l=i;do{var h=l.lane;if((ou&h)===h)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(o=a=d,s=n):a=a.next=d,Fr.lanes|=h,au|=h}l=l.next}while(l!==null&&l!==i);a===null?s=n:a.next=o,Gi(n,e.memoizedState)||(bA=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=a,r.lastRenderedState=n}if(t=r.interleaved,t!==null){A=t;do i=A.lane,Fr.lanes|=i,au|=i,A=A.next;while(A!==t)}else A===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function l1(t){var e=vi(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=r.dispatch,A=r.pending,i=e.memoizedState;if(A!==null){r.pending=null;var s=A=A.next;do i=t(i,s.action),s=s.next;while(s!==A);Gi(i,e.memoizedState)||(bA=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function zx(){}function Wx(t,e){var r=Fr,n=vi(),A=e(),i=!Gi(n.memoizedState,A);if(i&&(n.memoizedState=A,bA=!0),n=n.queue,G2(Xx.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||wn!==null&&wn.memoizedState.tag&1){if(r.flags|=2048,Bf(9,Jx.bind(null,r,n,A,e),void 0,null),vn===null)throw Error(Oe(349));ou&30||$x(r,e,A)}return A}function $x(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Fr.updateQueue,e===null?(e={lastEffect:null,stores:null},Fr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Jx(t,e,r,n){e.value=r,e.getSnapshot=n,Yx(e)&&Zx(t)}function Xx(t,e,r){return r(function(){Yx(e)&&Zx(t)})}function Yx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Gi(t,r)}catch{return!0}}function Zx(t){var e=wo(t,1);e!==null&&ji(e,t,1,-1)}function OC(t){var e=ws();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:t},e.queue=t,t=t.dispatch=sL.bind(null,Fr,t),[e.memoizedState,t]}function Bf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Fr.updateQueue,e===null?(e={lastEffect:null,stores:null},Fr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function e4(){return vi().memoizedState}function $g(t,e,r,n){var A=ws();Fr.flags|=t,A.memoizedState=Bf(1|e,r,void 0,n===void 0?null:n)}function F0(t,e,r,n){var A=vi();n=n===void 0?null:n;var i=void 0;if(on!==null){var s=on.memoizedState;if(i=s.destroy,n!==null&&V2(n,s.deps)){A.memoizedState=Bf(e,r,i,n);return}}Fr.flags|=t,A.memoizedState=Bf(1|e,r,i,n)}function MC(t,e){return $g(8390656,8,t,e)}function G2(t,e){return F0(2048,8,t,e)}function t4(t,e){return F0(4,2,t,e)}function r4(t,e){return F0(4,4,t,e)}function n4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A4(t,e,r){return r=r!=null?r.concat([t]):null,F0(4,4,n4.bind(null,e,t),r)}function q2(){}function i4(t,e){var r=vi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&V2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function s4(t,e){var r=vi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&V2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function o4(t,e,r){return ou&21?(Gi(r,e)||(r=hx(),Fr.lanes|=r,au|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bA=!0),t.memoizedState=r)}function AL(t,e){var r=Zt;Zt=r!==0&&4>r?r:4,t(!0);var n=o1.transition;o1.transition={};try{t(!1),e()}finally{Zt=r,o1.transition=n}}function a4(){return vi().memoizedState}function iL(t,e,r){var n=Oa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},l4(t))u4(e,r);else if(r=Kx(t,e,r,n),r!==null){var A=lA();ji(r,t,n,A),c4(r,e,n)}}function sL(t,e,r){var n=Oa(t),A={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(l4(t))u4(e,A);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(A.hasEagerState=!0,A.eagerState=o,Gi(o,s)){var a=e.interleaved;a===null?(A.next=A,k2(e)):(A.next=a.next,a.next=A),e.interleaved=A;return}}catch{}finally{}r=Kx(t,e,A,n),r!==null&&(A=lA(),ji(r,t,n,A),c4(r,e,n))}}function l4(t){var e=t.alternate;return t===Fr||e!==null&&e===Fr}function u4(t,e){Od=Rm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function c4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_2(t,r)}}var km={readContext:wi,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},oL={readContext:wi,useCallback:function(t,e){return ws().memoizedState=[t,e===void 0?null:e],t},useContext:wi,useEffect:MC,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$g(4194308,4,n4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $g(4194308,4,t,e)},useInsertionEffect:function(t,e){return $g(4,2,t,e)},useMemo:function(t,e){var r=ws();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ws();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=iL.bind(null,Fr,t),[n.memoizedState,t]},useRef:function(t){var e=ws();return t={current:t},e.memoizedState=t},useState:OC,useDebugValue:q2,useDeferredValue:function(t){return ws().memoizedState=t},useTransition:function(){var t=OC(!1),e=t[0];return t=AL.bind(null,t[1]),ws().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Fr,A=ws();if(Br){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=e(),vn===null)throw Error(Oe(349));ou&30||$x(n,e,r)}A.memoizedState=r;var i={value:r,getSnapshot:e};return A.queue=i,MC(Xx.bind(null,n,i,t),[t]),n.flags|=2048,Bf(9,Jx.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ws(),e=vn.identifierPrefix;if(Br){var r=io,n=Ao;r=(n&~(1<<32-Vi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=vf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=nL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aL={readContext:wi,useCallback:i4,useContext:wi,useEffect:G2,useImperativeHandle:A4,useInsertionEffect:t4,useLayoutEffect:r4,useMemo:s4,useReducer:a1,useRef:e4,useState:function(){return a1(yf)},useDebugValue:q2,useDeferredValue:function(t){var e=vi();return o4(e,on.memoizedState,t)},useTransition:function(){var t=a1(yf)[0],e=vi().memoizedState;return[t,e]},useMutableSource:zx,useSyncExternalStore:Wx,useId:a4,unstable_isNewReconciler:!1},lL={readContext:wi,useCallback:i4,useContext:wi,useEffect:G2,useImperativeHandle:A4,useInsertionEffect:t4,useLayoutEffect:r4,useMemo:s4,useReducer:l1,useRef:e4,useState:function(){return l1(yf)},useDebugValue:q2,useDeferredValue:function(t){var e=vi();return on===null?e.memoizedState=t:o4(e,on.memoizedState,t)},useTransition:function(){var t=l1(yf)[0],e=vi().memoizedState;return[t,e]},useMutableSource:zx,useSyncExternalStore:Wx,useId:a4,unstable_isNewReconciler:!1};function ki(t,e){if(t&&t.defaultProps){e=Sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Rv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var S0={isMounted:function(t){return(t=t._reactInternals)?_u(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=lA(),A=Oa(t),i=uo(n,A);i.payload=e,r!=null&&(i.callback=r),e=ka(t,i,A),e!==null&&(ji(e,t,A,n),zg(e,t,A))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=lA(),A=Oa(t),i=uo(n,A);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ka(t,i,A),e!==null&&(ji(e,t,A,n),zg(e,t,A))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=lA(),n=Oa(t),A=uo(r,n);A.tag=2,e!=null&&(A.callback=e),e=ka(t,A,n),e!==null&&(ji(e,t,n,r),zg(e,t,n))}};function HC(t,e,r,n,A,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!df(r,n)||!df(A,i):!0}function h4(t,e,r){var n=!1,A=Ja,i=e.contextType;return typeof i=="object"&&i!==null?i=wi(i):(A=FA(e)?iu:Yn.current,n=e.contextTypes,i=(n=n!=null)?Jc(t,A):Ja),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=S0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=A,t.__reactInternalMemoizedMaskedChildContext=i),e}function VC(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&S0.enqueueReplaceState(e,e.state,null)}function kv(t,e,r,n){var A=t.stateNode;A.props=r,A.state=t.memoizedState,A.refs={},D2(t);var i=e.contextType;typeof i=="object"&&i!==null?A.context=wi(i):(i=FA(e)?iu:Yn.current,A.context=Jc(t,i)),A.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Rv(t,e,i,r),A.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(e=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),e!==A.state&&S0.enqueueReplaceState(A,A.state,null),Lm(t,r,A,n),A.state=t.memoizedState),typeof A.componentDidMount=="function"&&(t.flags|=4194308)}function eh(t,e){try{var r="",n=e;do r+=kQ(n),n=n.return;while(n);var A=r}catch(i){A=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:A,digest:null}}function u1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Dv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var uL=typeof WeakMap=="function"?WeakMap:Map;function d4(t,e,r){r=uo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Om||(Om=!0,Wv=n),Dv(t,e)},r}function f4(t,e,r){r=uo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var A=e.value;r.payload=function(){return n(A)},r.callback=function(){Dv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Dv(t,e),typeof n!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function jC(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new uL;var A=new Set;n.set(e,A)}else A=n.get(e),A===void 0&&(A=new Set,n.set(e,A));A.has(r)||(A.add(r),t=EL.bind(null,t,e,r),e.then(t,t))}function KC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GC(t,e,r,n,A){return t.mode&1?(t.flags|=65536,t.lanes=A,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=uo(-1,1),e.tag=2,ka(r,e,1))),r.lanes|=1),t)}var cL=Io.ReactCurrentOwner,bA=!1;function oA(t,e,r,n){e.child=t===null?jx(e,null,r,n):Yc(e,t.child,r,n)}function qC(t,e,r,n,A){r=r.render;var i=e.ref;return Hc(e,A),n=j2(t,e,r,n,i,A),r=K2(),t!==null&&!bA?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~A,vo(t,e,A)):(Br&&r&&U2(e),e.flags|=1,oA(t,e,n,A),e.child)}function zC(t,e,r,n,A){if(t===null){var i=r.type;return typeof i=="function"&&!eB(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,p4(t,e,i,n,A)):(t=Zg(r.type,null,n,e,e.mode,A),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&A)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:df,r(s,n)&&t.ref===e.ref)return vo(t,e,A)}return e.flags|=1,t=Ma(i,n),t.ref=e.ref,t.return=e,e.child=t}function p4(t,e,r,n,A){if(t!==null){var i=t.memoizedProps;if(df(i,n)&&t.ref===e.ref)if(bA=!1,e.pendingProps=n=i,(t.lanes&A)!==0)t.flags&131072&&(bA=!0);else return e.lanes=t.lanes,vo(t,e,A)}return Ov(t,e,r,n,A)}function g4(t,e,r){var n=e.pendingProps,A=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},hr(Qc,VA),VA|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,hr(Qc,VA),VA|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,hr(Qc,VA),VA|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,hr(Qc,VA),VA|=n;return oA(t,e,A,r),e.child}function m4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ov(t,e,r,n,A){var i=FA(r)?iu:Yn.current;return i=Jc(e,i),Hc(e,A),r=j2(t,e,r,n,i,A),n=K2(),t!==null&&!bA?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~A,vo(t,e,A)):(Br&&n&&U2(e),e.flags|=1,oA(t,e,r,A),e.child)}function WC(t,e,r,n,A){if(FA(r)){var i=!0;Sm(e)}else i=!1;if(Hc(e,A),e.stateNode===null)Jg(t,e),h4(e,r,n),kv(e,r,n,A),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var a=s.context,l=r.contextType;typeof l=="object"&&l!==null?l=wi(l):(l=FA(r)?iu:Yn.current,l=Jc(e,l));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||a!==l)&&VC(e,s,n,l),pa=!1;var p=e.memoizedState;s.state=p,Lm(e,n,s,A),a=e.memoizedState,o!==n||p!==a||xA.current||pa?(typeof h=="function"&&(Rv(e,r,h,n),a=e.memoizedState),(o=pa||HC(e,r,o,n,p,a,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),s.props=n,s.state=a,s.context=l,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,Gx(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:ki(e.type,o),s.props=l,d=e.pendingProps,p=s.context,a=r.contextType,typeof a=="object"&&a!==null?a=wi(a):(a=FA(r)?iu:Yn.current,a=Jc(e,a));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||p!==a)&&VC(e,s,n,a),pa=!1,p=e.memoizedState,s.state=p,Lm(e,n,s,A);var E=e.memoizedState;o!==d||p!==E||xA.current||pa?(typeof g=="function"&&(Rv(e,r,g,n),E=e.memoizedState),(l=pa||HC(e,r,l,n,p,E,a)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,E,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,E,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=E),s.props=n,s.state=E,s.context=a,n=l):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Mv(t,e,r,n,i,A)}function Mv(t,e,r,n,A,i){m4(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return A&&QC(e,r,!1),vo(t,e,i);n=e.stateNode,cL.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Yc(e,t.child,null,i),e.child=Yc(e,null,o,i)):oA(t,e,o,i),e.memoizedState=n.state,A&&QC(e,r,!0),e.child}function w4(t){var e=t.stateNode;e.pendingContext?NC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&NC(t,e.context,!1),O2(t,e.containerInfo)}function $C(t,e,r,n,A){return Xc(),Q2(A),e.flags|=256,oA(t,e,r,n),e.child}var Hv={dehydrated:null,treeContext:null,retryLane:0};function Vv(t){return{baseLanes:t,cachePool:null,transitions:null}}function v4(t,e,r){var n=e.pendingProps,A=Ir.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(A&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(A|=1),hr(Ir,A&1),t===null)return Lv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=N0(s,n,0,null),t=Xl(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vv(r),e.memoizedState=Hv,t):z2(e,s));if(A=t.memoizedState,A!==null&&(o=A.dehydrated,o!==null))return hL(t,e,s,n,o,A,r);if(i){i=n.fallback,s=e.mode,A=t.child,o=A.sibling;var a={mode:"hidden",children:n.children};return!(s&1)&&e.child!==A?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Ma(A,a),n.subtreeFlags=A.subtreeFlags&14680064),o!==null?i=Ma(o,i):(i=Xl(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?Vv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=Hv,n}return i=t.child,t=i.sibling,n=Ma(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function z2(t,e){return e=N0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ng(t,e,r,n){return n!==null&&Q2(n),Yc(e,t.child,null,r),t=z2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hL(t,e,r,n,A,i,s){if(r)return e.flags&256?(e.flags&=-257,n=u1(Error(Oe(422))),ng(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,A=e.mode,n=N0({mode:"visible",children:n.children},A,0,null),i=Xl(i,A,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Yc(e,t.child,null,s),e.child.memoizedState=Vv(s),e.memoizedState=Hv,i);if(!(e.mode&1))return ng(t,e,s,null);if(A.data==="$!"){if(n=A.nextSibling&&A.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Oe(419)),n=u1(i,n,void 0),ng(t,e,s,n)}if(o=(s&t.childLanes)!==0,bA||o){if(n=vn,n!==null){switch(s&-s){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(n.suspendedLanes|s)?0:A,A!==0&&A!==i.retryLane&&(i.retryLane=A,wo(t,A),ji(n,t,A,-1))}return Z2(),n=u1(Error(Oe(421))),ng(t,e,s,n)}return A.data==="$?"?(e.flags|=128,e.child=t.child,e=bL.bind(null,t),A._reactRetry=e,null):(t=i.treeContext,jA=Ra(A.nextSibling),qA=e,Br=!0,Mi=null,t!==null&&(li[ui++]=Ao,li[ui++]=io,li[ui++]=su,Ao=t.id,io=t.overflow,su=e),e=z2(e,n.children),e.flags|=4096,e)}function JC(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Pv(t.return,e,r)}function c1(t,e,r,n,A){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:A}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=A)}function y4(t,e,r){var n=e.pendingProps,A=n.revealOrder,i=n.tail;if(oA(t,e,n.children,r),n=Ir.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JC(t,r,e);else if(t.tag===19)JC(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(hr(Ir,n),!(e.mode&1))e.memoizedState=null;else switch(A){case"forwards":for(r=e.child,A=null;r!==null;)t=r.alternate,t!==null&&Pm(t)===null&&(A=r),r=r.sibling;r=A,r===null?(A=e.child,e.child=null):(A=r.sibling,r.sibling=null),c1(e,!1,A,r,i);break;case"backwards":for(r=null,A=e.child,e.child=null;A!==null;){if(t=A.alternate,t!==null&&Pm(t)===null){e.child=A;break}t=A.sibling,A.sibling=r,r=A,A=t}c1(e,!0,r,null,i);break;case"together":c1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),au|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,r=Ma(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ma(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function dL(t,e,r){switch(e.tag){case 3:w4(e),Xc();break;case 5:qx(e);break;case 1:FA(e.type)&&Sm(e);break;case 4:O2(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,A=e.memoizedProps.value;hr(Nm,n._currentValue),n._currentValue=A;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(hr(Ir,Ir.current&1),e.flags|=128,null):r&e.child.childLanes?v4(t,e,r):(hr(Ir,Ir.current&1),t=vo(t,e,r),t!==null?t.sibling:null);hr(Ir,Ir.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return y4(t,e,r);e.flags|=128}if(A=e.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),hr(Ir,Ir.current),n)break;return null;case 22:case 23:return e.lanes=0,g4(t,e,r)}return vo(t,e,r)}var B4,jv,C4,_4;B4=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jv=function(){};C4=function(t,e,r,n){var A=t.memoizedProps;if(A!==n){t=e.stateNode,zl(bs.current);var i=null;switch(r){case"input":A=cv(t,A),n=cv(t,n),i=[];break;case"select":A=Sr({},A,{value:void 0}),n=Sr({},n,{value:void 0}),i=[];break;case"textarea":A=fv(t,A),n=fv(t,n),i=[];break;default:typeof A.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xm)}gv(r,n);var s;r=null;for(l in A)if(!n.hasOwnProperty(l)&&A.hasOwnProperty(l)&&A[l]!=null)if(l==="style"){var o=A[l];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(sf.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var a=n[l];if(o=A!=null?A[l]:void 0,n.hasOwnProperty(l)&&a!==o&&(a!=null||o!=null))if(l==="style")if(o){for(s in o)!o.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in a)a.hasOwnProperty(s)&&o[s]!==a[s]&&(r||(r={}),r[s]=a[s])}else r||(i||(i=[]),i.push(l,r)),r=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(i=i||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(sf.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&gr("scroll",t),i||o===a||(i=[])):(i=i||[]).push(l,a))}r&&(i=i||[]).push("style",r);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};_4=function(t,e,r,n){r!==n&&(e.flags|=4)};function ed(t,e){if(!Br)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var A=t.child;A!==null;)r|=A.lanes|A.childLanes,n|=A.subtreeFlags&14680064,n|=A.flags&14680064,A.return=t,A=A.sibling;else for(A=t.child;A!==null;)r|=A.lanes|A.childLanes,n|=A.subtreeFlags,n|=A.flags,A.return=t,A=A.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function fL(t,e,r){var n=e.pendingProps;switch(N2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(e),null;case 1:return FA(e.type)&&Fm(),Vn(e),null;case 3:return n=e.stateNode,Zc(),wr(xA),wr(Yn),H2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(tg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mi!==null&&(Xv(Mi),Mi=null))),jv(t,e),Vn(e),null;case 5:M2(e);var A=zl(wf.current);if(r=e.type,t!==null&&e.stateNode!=null)C4(t,e,r,n,A),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Oe(166));return Vn(e),null}if(t=zl(bs.current),tg(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[vs]=e,n[gf]=i,t=(e.mode&1)!==0,r){case"dialog":gr("cancel",n),gr("close",n);break;case"iframe":case"object":case"embed":gr("load",n);break;case"video":case"audio":for(A=0;A<yd.length;A++)gr(yd[A],n);break;case"source":gr("error",n);break;case"img":case"image":case"link":gr("error",n),gr("load",n);break;case"details":gr("toggle",n);break;case"input":iC(n,i),gr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},gr("invalid",n);break;case"textarea":oC(n,i),gr("invalid",n)}gv(r,i),A=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&eg(n.textContent,o,t),A=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&eg(n.textContent,o,t),A=["children",""+o]):sf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&gr("scroll",n)}switch(r){case"input":qp(n),sC(n,i,!0);break;case"textarea":qp(n),aC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xm)}n=A,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=A.nodeType===9?A:A.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XI(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[vs]=e,t[gf]=n,B4(t,e,!1,!1),e.stateNode=t;e:{switch(s=mv(r,n),r){case"dialog":gr("cancel",t),gr("close",t),A=n;break;case"iframe":case"object":case"embed":gr("load",t),A=n;break;case"video":case"audio":for(A=0;A<yd.length;A++)gr(yd[A],t);A=n;break;case"source":gr("error",t),A=n;break;case"img":case"image":case"link":gr("error",t),gr("load",t),A=n;break;case"details":gr("toggle",t),A=n;break;case"input":iC(t,n),A=cv(t,n),gr("invalid",t);break;case"option":A=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},A=Sr({},n,{value:void 0}),gr("invalid",t);break;case"textarea":oC(t,n),A=fv(t,n),gr("invalid",t);break;default:A=n}gv(r,A),o=A;for(i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="style"?ex(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&YI(t,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&of(t,a):typeof a=="number"&&of(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sf.hasOwnProperty(i)?a!=null&&i==="onScroll"&&gr("scroll",t):a!=null&&m2(t,i,a,s))}switch(r){case"input":qp(t),sC(t,n,!1);break;case"textarea":qp(t),aC(t);break;case"option":n.value!=null&&t.setAttribute("value",""+$a(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?kc(t,!!n.multiple,i,!1):n.defaultValue!=null&&kc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof A.onClick=="function"&&(t.onclick=xm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vn(e),null;case 6:if(t&&e.stateNode!=null)_4(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Oe(166));if(r=zl(wf.current),zl(bs.current),tg(e)){if(n=e.stateNode,r=e.memoizedProps,n[vs]=e,(i=n.nodeValue!==r)&&(t=qA,t!==null))switch(t.tag){case 3:eg(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eg(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vs]=e,e.stateNode=n}return Vn(e),null;case 13:if(wr(Ir),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Br&&jA!==null&&e.mode&1&&!(e.flags&128))Hx(),Xc(),e.flags|=98560,i=!1;else if(i=tg(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Oe(317));i[vs]=e}else Xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vn(e),i=!1}else Mi!==null&&(Xv(Mi),Mi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ir.current&1?un===0&&(un=3):Z2())),e.updateQueue!==null&&(e.flags|=4),Vn(e),null);case 4:return Zc(),jv(t,e),t===null&&ff(e.stateNode.containerInfo),Vn(e),null;case 10:return R2(e.type._context),Vn(e),null;case 17:return FA(e.type)&&Fm(),Vn(e),null;case 19:if(wr(Ir),i=e.memoizedState,i===null)return Vn(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)ed(i,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Pm(t),s!==null){for(e.flags|=128,ed(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return hr(Ir,Ir.current&1|2),e.child}t=t.sibling}i.tail!==null&&jr()>th&&(e.flags|=128,n=!0,ed(i,!1),e.lanes=4194304)}else{if(!n)if(t=Pm(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ed(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Br)return Vn(e),null}else 2*jr()-i.renderingStartTime>th&&r!==1073741824&&(e.flags|=128,n=!0,ed(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=jr(),e.sibling=null,r=Ir.current,hr(Ir,n?r&1|2:r&1),e):(Vn(e),null);case 22:case 23:return Y2(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?VA&1073741824&&(Vn(e),e.subtreeFlags&6&&(e.flags|=8192)):Vn(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function pL(t,e){switch(N2(e),e.tag){case 1:return FA(e.type)&&Fm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zc(),wr(xA),wr(Yn),H2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return M2(e),null;case 13:if(wr(Ir),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wr(Ir),null;case 4:return Zc(),null;case 10:return R2(e.type._context),null;case 22:case 23:return Y2(),null;case 24:return null;default:return null}}var Ag=!1,Jn=!1,gL=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Nc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pr(t,e,n)}else r.current=null}function Kv(t,e,r){try{r()}catch(n){Pr(t,e,n)}}var XC=!1;function mL(t,e){if(xv=Em,t=Fx(),T2(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var A=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,a=-1,l=0,h=0,d=t,p=null;t:for(;;){for(var g;d!==r||A!==0&&d.nodeType!==3||(o=s+A),d!==i||n!==0&&d.nodeType!==3||(a=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===r&&++l===A&&(o=s),p===i&&++h===n&&(a=s),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}r=o===-1||a===-1?null:{start:o,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fv={focusedElem:t,selectionRange:r},Em=!1,tt=e;tt!==null;)if(e=tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,tt=t;else for(;tt!==null;){e=tt;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,N=E.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:ki(e.type,_),N);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(V){Pr(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}return E=XC,XC=!1,E}function Md(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var A=n=n.next;do{if((A.tag&t)===t){var i=A.destroy;A.destroy=void 0,i!==void 0&&Kv(e,r,i)}A=A.next}while(A!==n)}}function T0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Gv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function E4(t){var e=t.alternate;e!==null&&(t.alternate=null,E4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vs],delete e[gf],delete e[Uv],delete e[Z3],delete e[eL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function b4(t){return t.tag===5||t.tag===3||t.tag===4}function YC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xm));else if(n!==4&&(t=t.child,t!==null))for(qv(t,e,r),t=t.sibling;t!==null;)qv(t,e,r),t=t.sibling}function zv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(zv(t,e,r),t=t.sibling;t!==null;)zv(t,e,r),t=t.sibling}var xn=null,Oi=!1;function Aa(t,e,r){for(r=r.child;r!==null;)I4(t,e,r),r=r.sibling}function I4(t,e,r){if(Es&&typeof Es.onCommitFiberUnmount=="function")try{Es.onCommitFiberUnmount(C0,r)}catch{}switch(r.tag){case 5:Jn||Nc(r,e);case 6:var n=xn,A=Oi;xn=null,Aa(t,e,r),xn=n,Oi=A,xn!==null&&(Oi?(t=xn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):xn.removeChild(r.stateNode));break;case 18:xn!==null&&(Oi?(t=xn,r=r.stateNode,t.nodeType===8?A1(t.parentNode,r):t.nodeType===1&&A1(t,r),cf(t)):A1(xn,r.stateNode));break;case 4:n=xn,A=Oi,xn=r.stateNode.containerInfo,Oi=!0,Aa(t,e,r),xn=n,Oi=A;break;case 0:case 11:case 14:case 15:if(!Jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){A=n=n.next;do{var i=A,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Kv(r,e,s),A=A.next}while(A!==n)}Aa(t,e,r);break;case 1:if(!Jn&&(Nc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Pr(r,e,o)}Aa(t,e,r);break;case 21:Aa(t,e,r);break;case 22:r.mode&1?(Jn=(n=Jn)||r.memoizedState!==null,Aa(t,e,r),Jn=n):Aa(t,e,r);break;default:Aa(t,e,r)}}function ZC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new gL),e.forEach(function(n){var A=IL.bind(null,t,n);r.has(n)||(r.add(n),n.then(A,A))})}}function Ni(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var A=r[n];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:xn=o.stateNode,Oi=!1;break e;case 3:xn=o.stateNode.containerInfo,Oi=!0;break e;case 4:xn=o.stateNode.containerInfo,Oi=!0;break e}o=o.return}if(xn===null)throw Error(Oe(160));I4(i,s,A),xn=null,Oi=!1;var a=A.alternate;a!==null&&(a.return=null),A.return=null}catch(l){Pr(A,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x4(e,t),e=e.sibling}function x4(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ni(e,t),fs(t),n&4){try{Md(3,t,t.return),T0(3,t)}catch(_){Pr(t,t.return,_)}try{Md(5,t,t.return)}catch(_){Pr(t,t.return,_)}}break;case 1:Ni(e,t),fs(t),n&512&&r!==null&&Nc(r,r.return);break;case 5:if(Ni(e,t),fs(t),n&512&&r!==null&&Nc(r,r.return),t.flags&32){var A=t.stateNode;try{of(A,"")}catch(_){Pr(t,t.return,_)}}if(n&4&&(A=t.stateNode,A!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,o=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&$I(A,i),mv(o,s);var l=mv(o,i);for(s=0;s<a.length;s+=2){var h=a[s],d=a[s+1];h==="style"?ex(A,d):h==="dangerouslySetInnerHTML"?YI(A,d):h==="children"?of(A,d):m2(A,h,d,l)}switch(o){case"input":hv(A,i);break;case"textarea":JI(A,i);break;case"select":var p=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?kc(A,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?kc(A,!!i.multiple,i.defaultValue,!0):kc(A,!!i.multiple,i.multiple?[]:"",!1))}A[gf]=i}catch(_){Pr(t,t.return,_)}}break;case 6:if(Ni(e,t),fs(t),n&4){if(t.stateNode===null)throw Error(Oe(162));A=t.stateNode,i=t.memoizedProps;try{A.nodeValue=i}catch(_){Pr(t,t.return,_)}}break;case 3:if(Ni(e,t),fs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cf(e.containerInfo)}catch(_){Pr(t,t.return,_)}break;case 4:Ni(e,t),fs(t);break;case 13:Ni(e,t),fs(t),A=t.child,A.flags&8192&&(i=A.memoizedState!==null,A.stateNode.isHidden=i,!i||A.alternate!==null&&A.alternate.memoizedState!==null||(J2=jr())),n&4&&ZC(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Jn=(l=Jn)||h,Ni(e,t),Jn=l):Ni(e,t),fs(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!h&&t.mode&1)for(tt=t,h=t.child;h!==null;){for(d=tt=h;tt!==null;){switch(p=tt,g=p.child,p.tag){case 0:case 11:case 14:case 15:Md(4,p,p.return);break;case 1:Nc(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(_){Pr(n,r,_)}}break;case 5:Nc(p,p.return);break;case 22:if(p.memoizedState!==null){t_(d);continue}}g!==null?(g.return=p,tt=g):t_(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{A=d.stateNode,l?(i=A.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=ZI("display",s))}catch(_){Pr(t,t.return,_)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(_){Pr(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ni(e,t),fs(t),n&4&&ZC(t);break;case 21:break;default:Ni(e,t),fs(t)}}function fs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(b4(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var A=n.stateNode;n.flags&32&&(of(A,""),n.flags&=-33);var i=YC(t);zv(t,i,A);break;case 3:case 4:var s=n.stateNode.containerInfo,o=YC(t);qv(t,o,s);break;default:throw Error(Oe(161))}}catch(a){Pr(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wL(t,e,r){tt=t,F4(t)}function F4(t,e,r){for(var n=(t.mode&1)!==0;tt!==null;){var A=tt,i=A.child;if(A.tag===22&&n){var s=A.memoizedState!==null||Ag;if(!s){var o=A.alternate,a=o!==null&&o.memoizedState!==null||Jn;o=Ag;var l=Jn;if(Ag=s,(Jn=a)&&!l)for(tt=A;tt!==null;)s=tt,a=s.child,s.tag===22&&s.memoizedState!==null?r_(A):a!==null?(a.return=s,tt=a):r_(A);for(;i!==null;)tt=i,F4(i),i=i.sibling;tt=A,Ag=o,Jn=l}e_(t)}else A.subtreeFlags&8772&&i!==null?(i.return=A,tt=i):e_(t)}}function e_(t){for(;tt!==null;){var e=tt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||T0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Jn)if(r===null)n.componentDidMount();else{var A=e.elementType===e.type?r.memoizedProps:ki(e.type,r.memoizedProps);n.componentDidUpdate(A,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&DC(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}DC(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var h=l.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&cf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Jn||e.flags&512&&Gv(e)}catch(p){Pr(e,e.return,p)}}if(e===t){tt=null;break}if(r=e.sibling,r!==null){r.return=e.return,tt=r;break}tt=e.return}}function t_(t){for(;tt!==null;){var e=tt;if(e===t){tt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,tt=r;break}tt=e.return}}function r_(t){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{T0(4,e)}catch(a){Pr(e,r,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var A=e.return;try{n.componentDidMount()}catch(a){Pr(e,A,a)}}var i=e.return;try{Gv(e)}catch(a){Pr(e,i,a)}break;case 5:var s=e.return;try{Gv(e)}catch(a){Pr(e,s,a)}}}catch(a){Pr(e,e.return,a)}if(e===t){tt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,tt=o;break}tt=e.return}}var vL=Math.ceil,Dm=Io.ReactCurrentDispatcher,W2=Io.ReactCurrentOwner,gi=Io.ReactCurrentBatchConfig,Mt=0,vn=null,tn=null,Qn=0,VA=0,Qc=Al(0),un=0,Cf=null,au=0,U0=0,$2=0,Hd=null,EA=null,J2=0,th=1/0,ro=null,Om=!1,Wv=null,Da=null,ig=!1,xa=null,Mm=0,Vd=0,$v=null,Xg=-1,Yg=0;function lA(){return Mt&6?jr():Xg!==-1?Xg:Xg=jr()}function Oa(t){return t.mode&1?Mt&2&&Qn!==0?Qn&-Qn:rL.transition!==null?(Yg===0&&(Yg=hx()),Yg):(t=Zt,t!==0||(t=window.event,t=t===void 0?16:vx(t.type)),t):1}function ji(t,e,r,n){if(50<Vd)throw Vd=0,$v=null,Error(Oe(185));zf(t,r,n),(!(Mt&2)||t!==vn)&&(t===vn&&(!(Mt&2)&&(U0|=r),un===4&&wa(t,Qn)),SA(t,n),r===1&&Mt===0&&!(e.mode&1)&&(th=jr()+500,x0&&il()))}function SA(t,e){var r=t.callbackNode;r3(t,e);var n=_m(t,t===vn?Qn:0);if(n===0)r!==null&&cC(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&cC(r),e===1)t.tag===0?tL(n_.bind(null,t)):Dx(n_.bind(null,t)),X3(function(){!(Mt&6)&&il()}),r=null;else{switch(dx(n)){case 1:r=C2;break;case 4:r=ux;break;case 16:r=Cm;break;case 536870912:r=cx;break;default:r=Cm}r=R4(r,S4.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function S4(t,e){if(Xg=-1,Yg=0,Mt&6)throw Error(Oe(327));var r=t.callbackNode;if(Vc()&&t.callbackNode!==r)return null;var n=_m(t,t===vn?Qn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Hm(t,n);else{e=n;var A=Mt;Mt|=2;var i=U4();(vn!==t||Qn!==e)&&(ro=null,th=jr()+500,Jl(t,e));do try{CL();break}catch(o){T4(t,o)}while(!0);P2(),Dm.current=i,Mt=A,tn!==null?e=0:(vn=null,Qn=0,e=un)}if(e!==0){if(e===2&&(A=Cv(t),A!==0&&(n=A,e=Jv(t,A))),e===1)throw r=Cf,Jl(t,0),wa(t,n),SA(t,jr()),r;if(e===6)wa(t,n);else{if(A=t.current.alternate,!(n&30)&&!yL(A)&&(e=Hm(t,n),e===2&&(i=Cv(t),i!==0&&(n=i,e=Jv(t,i))),e===1))throw r=Cf,Jl(t,0),wa(t,n),SA(t,jr()),r;switch(t.finishedWork=A,t.finishedLanes=n,e){case 0:case 1:throw Error(Oe(345));case 2:Pl(t,EA,ro);break;case 3:if(wa(t,n),(n&130023424)===n&&(e=J2+500-jr(),10<e)){if(_m(t,0)!==0)break;if(A=t.suspendedLanes,(A&n)!==n){lA(),t.pingedLanes|=t.suspendedLanes&A;break}t.timeoutHandle=Tv(Pl.bind(null,t,EA,ro),e);break}Pl(t,EA,ro);break;case 4:if(wa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,A=-1;0<n;){var s=31-Vi(n);i=1<<s,s=e[s],s>A&&(A=s),n&=~i}if(n=A,n=jr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vL(n/1960))-n,10<n){t.timeoutHandle=Tv(Pl.bind(null,t,EA,ro),n);break}Pl(t,EA,ro);break;case 5:Pl(t,EA,ro);break;default:throw Error(Oe(329))}}}return SA(t,jr()),t.callbackNode===r?S4.bind(null,t):null}function Jv(t,e){var r=Hd;return t.current.memoizedState.isDehydrated&&(Jl(t,e).flags|=256),t=Hm(t,e),t!==2&&(e=EA,EA=r,e!==null&&Xv(e)),t}function Xv(t){EA===null?EA=t:EA.push.apply(EA,t)}function yL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var A=r[n],i=A.getSnapshot;A=A.value;try{if(!Gi(i(),A))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wa(t,e){for(e&=~$2,e&=~U0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Vi(e),n=1<<r;t[r]=-1,e&=~n}}function n_(t){if(Mt&6)throw Error(Oe(327));Vc();var e=_m(t,0);if(!(e&1))return SA(t,jr()),null;var r=Hm(t,e);if(t.tag!==0&&r===2){var n=Cv(t);n!==0&&(e=n,r=Jv(t,n))}if(r===1)throw r=Cf,Jl(t,0),wa(t,e),SA(t,jr()),r;if(r===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pl(t,EA,ro),SA(t,jr()),null}function X2(t,e){var r=Mt;Mt|=1;try{return t(e)}finally{Mt=r,Mt===0&&(th=jr()+500,x0&&il())}}function lu(t){xa!==null&&xa.tag===0&&!(Mt&6)&&Vc();var e=Mt;Mt|=1;var r=gi.transition,n=Zt;try{if(gi.transition=null,Zt=1,t)return t()}finally{Zt=n,gi.transition=r,Mt=e,!(Mt&6)&&il()}}function Y2(){VA=Qc.current,wr(Qc)}function Jl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,J3(r)),tn!==null)for(r=tn.return;r!==null;){var n=r;switch(N2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fm();break;case 3:Zc(),wr(xA),wr(Yn),H2();break;case 5:M2(n);break;case 4:Zc();break;case 13:wr(Ir);break;case 19:wr(Ir);break;case 10:R2(n.type._context);break;case 22:case 23:Y2()}r=r.return}if(vn=t,tn=t=Ma(t.current,null),Qn=VA=e,un=0,Cf=null,$2=U0=au=0,EA=Hd=null,ql!==null){for(e=0;e<ql.length;e++)if(r=ql[e],n=r.interleaved,n!==null){r.interleaved=null;var A=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=A,n.next=s}r.pending=n}ql=null}return t}function T4(t,e){do{var r=tn;try{if(P2(),Wg.current=km,Rm){for(var n=Fr.memoizedState;n!==null;){var A=n.queue;A!==null&&(A.pending=null),n=n.next}Rm=!1}if(ou=0,wn=on=Fr=null,Od=!1,vf=0,W2.current=null,r===null||r.return===null){un=1,Cf=e,tn=null;break}e:{var i=t,s=r.return,o=r,a=e;if(e=Qn,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=KC(s);if(g!==null){g.flags&=-257,GC(g,s,o,i,e),g.mode&1&&jC(i,l,e),e=g,a=l;var E=e.updateQueue;if(E===null){var _=new Set;_.add(a),e.updateQueue=_}else E.add(a);break e}else{if(!(e&1)){jC(i,l,e),Z2();break e}a=Error(Oe(426))}}else if(Br&&o.mode&1){var N=KC(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),GC(N,s,o,i,e),Q2(eh(a,o));break e}}i=a=eh(a,o),un!==4&&(un=2),Hd===null?Hd=[i]:Hd.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=d4(i,a,e);kC(i,v);break e;case 1:o=a;var y=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Da===null||!Da.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var V=f4(i,o,e);kC(i,V);break e}}i=i.return}while(i!==null)}Q4(r)}catch(D){e=D,tn===r&&r!==null&&(tn=r=r.return);continue}break}while(!0)}function U4(){var t=Dm.current;return Dm.current=km,t===null?km:t}function Z2(){(un===0||un===3||un===2)&&(un=4),vn===null||!(au&268435455)&&!(U0&268435455)||wa(vn,Qn)}function Hm(t,e){var r=Mt;Mt|=2;var n=U4();(vn!==t||Qn!==e)&&(ro=null,Jl(t,e));do try{BL();break}catch(A){T4(t,A)}while(!0);if(P2(),Mt=r,Dm.current=n,tn!==null)throw Error(Oe(261));return vn=null,Qn=0,un}function BL(){for(;tn!==null;)N4(tn)}function CL(){for(;tn!==null&&!zQ();)N4(tn)}function N4(t){var e=P4(t.alternate,t,VA);t.memoizedProps=t.pendingProps,e===null?Q4(t):tn=e,W2.current=null}function Q4(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=pL(r,e),r!==null){r.flags&=32767,tn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,tn=null;return}}else if(r=fL(r,e,VA),r!==null){tn=r;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);un===0&&(un=5)}function Pl(t,e,r){var n=Zt,A=gi.transition;try{gi.transition=null,Zt=1,_L(t,e,r,n)}finally{gi.transition=A,Zt=n}return null}function _L(t,e,r,n){do Vc();while(xa!==null);if(Mt&6)throw Error(Oe(327));r=t.finishedWork;var A=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(n3(t,i),t===vn&&(tn=vn=null,Qn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ig||(ig=!0,R4(Cm,function(){return Vc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=gi.transition,gi.transition=null;var s=Zt;Zt=1;var o=Mt;Mt|=4,W2.current=null,mL(t,r),x4(r,t),j3(Fv),Em=!!xv,Fv=xv=null,t.current=r,wL(r),WQ(),Mt=o,Zt=s,gi.transition=i}else t.current=r;if(ig&&(ig=!1,xa=t,Mm=A),i=t.pendingLanes,i===0&&(Da=null),XQ(r.stateNode),SA(t,jr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)A=e[r],n(A.value,{componentStack:A.stack,digest:A.digest});if(Om)throw Om=!1,t=Wv,Wv=null,t;return Mm&1&&t.tag!==0&&Vc(),i=t.pendingLanes,i&1?t===$v?Vd++:(Vd=0,$v=t):Vd=0,il(),null}function Vc(){if(xa!==null){var t=dx(Mm),e=gi.transition,r=Zt;try{if(gi.transition=null,Zt=16>t?16:t,xa===null)var n=!1;else{if(t=xa,xa=null,Mm=0,Mt&6)throw Error(Oe(331));var A=Mt;for(Mt|=4,tt=t.current;tt!==null;){var i=tt,s=i.child;if(tt.flags&16){var o=i.deletions;if(o!==null){for(var a=0;a<o.length;a++){var l=o[a];for(tt=l;tt!==null;){var h=tt;switch(h.tag){case 0:case 11:case 15:Md(8,h,i)}var d=h.child;if(d!==null)d.return=h,tt=d;else for(;tt!==null;){h=tt;var p=h.sibling,g=h.return;if(E4(h),h===l){tt=null;break}if(p!==null){p.return=g,tt=p;break}tt=g}}}var E=i.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var N=_.sibling;_.sibling=null,_=N}while(_!==null)}}tt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,tt=s;else e:for(;tt!==null;){if(i=tt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Md(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,tt=v;break e}tt=i.return}}var y=t.current;for(tt=y;tt!==null;){s=tt;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,tt=T;else e:for(s=y;tt!==null;){if(o=tt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:T0(9,o)}}catch(D){Pr(o,o.return,D)}if(o===s){tt=null;break e}var V=o.sibling;if(V!==null){V.return=o.return,tt=V;break e}tt=o.return}}if(Mt=A,il(),Es&&typeof Es.onPostCommitFiberRoot=="function")try{Es.onPostCommitFiberRoot(C0,t)}catch{}n=!0}return n}finally{Zt=r,gi.transition=e}}return!1}function A_(t,e,r){e=eh(r,e),e=d4(t,e,1),t=ka(t,e,1),e=lA(),t!==null&&(zf(t,1,e),SA(t,e))}function Pr(t,e,r){if(t.tag===3)A_(t,t,r);else for(;e!==null;){if(e.tag===3){A_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Da===null||!Da.has(n))){t=eh(r,t),t=f4(e,t,1),e=ka(e,t,1),t=lA(),e!==null&&(zf(e,1,t),SA(e,t));break}}e=e.return}}function EL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=lA(),t.pingedLanes|=t.suspendedLanes&r,vn===t&&(Qn&r)===r&&(un===4||un===3&&(Qn&130023424)===Qn&&500>jr()-J2?Jl(t,0):$2|=r),SA(t,e)}function L4(t,e){e===0&&(t.mode&1?(e=$p,$p<<=1,!($p&130023424)&&($p=4194304)):e=1);var r=lA();t=wo(t,e),t!==null&&(zf(t,e,r),SA(t,r))}function bL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),L4(t,r)}function IL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,A=t.memoizedState;A!==null&&(r=A.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(e),L4(t,r)}var P4;P4=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||xA.current)bA=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return bA=!1,dL(t,e,r);bA=!!(t.flags&131072)}else bA=!1,Br&&e.flags&1048576&&Ox(e,Um,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Jg(t,e),t=e.pendingProps;var A=Jc(e,Yn.current);Hc(e,r),A=j2(null,e,n,t,A,r);var i=K2();return e.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,FA(n)?(i=!0,Sm(e)):i=!1,e.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,D2(e),A.updater=S0,e.stateNode=A,A._reactInternals=e,kv(e,n,t,r),e=Mv(null,e,n,!0,i,r)):(e.tag=0,Br&&i&&U2(e),oA(null,e,A,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Jg(t,e),t=e.pendingProps,A=n._init,n=A(n._payload),e.type=n,A=e.tag=FL(n),t=ki(n,t),A){case 0:e=Ov(null,e,n,t,r);break e;case 1:e=WC(null,e,n,t,r);break e;case 11:e=qC(null,e,n,t,r);break e;case 14:e=zC(null,e,n,ki(n.type,t),r);break e}throw Error(Oe(306,n,""))}return e;case 0:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:ki(n,A),Ov(t,e,n,A,r);case 1:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:ki(n,A),WC(t,e,n,A,r);case 3:e:{if(w4(e),t===null)throw Error(Oe(387));n=e.pendingProps,i=e.memoizedState,A=i.element,Gx(t,e),Lm(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){A=eh(Error(Oe(423)),e),e=$C(t,e,n,r,A);break e}else if(n!==A){A=eh(Error(Oe(424)),e),e=$C(t,e,n,r,A);break e}else for(jA=Ra(e.stateNode.containerInfo.firstChild),qA=e,Br=!0,Mi=null,r=jx(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xc(),n===A){e=vo(t,e,r);break e}oA(t,e,n,r)}e=e.child}return e;case 5:return qx(e),t===null&&Lv(e),n=e.type,A=e.pendingProps,i=t!==null?t.memoizedProps:null,s=A.children,Sv(n,A)?s=null:i!==null&&Sv(n,i)&&(e.flags|=32),m4(t,e),oA(t,e,s,r),e.child;case 6:return t===null&&Lv(e),null;case 13:return v4(t,e,r);case 4:return O2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Yc(e,null,n,r):oA(t,e,n,r),e.child;case 11:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:ki(n,A),qC(t,e,n,A,r);case 7:return oA(t,e,e.pendingProps,r),e.child;case 8:return oA(t,e,e.pendingProps.children,r),e.child;case 12:return oA(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,A=e.pendingProps,i=e.memoizedProps,s=A.value,hr(Nm,n._currentValue),n._currentValue=s,i!==null)if(Gi(i.value,s)){if(i.children===A.children&&!xA.current){e=vo(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var a=o.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=uo(-1,r&-r),a.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var h=l.pending;h===null?a.next=a:(a.next=h.next,h.next=a),l.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Pv(i.return,r,e),o.lanes|=r;break}a=a.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Oe(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Pv(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}oA(t,e,A.children,r),e=e.child}return e;case 9:return A=e.type,n=e.pendingProps.children,Hc(e,r),A=wi(A),n=n(A),e.flags|=1,oA(t,e,n,r),e.child;case 14:return n=e.type,A=ki(n,e.pendingProps),A=ki(n.type,A),zC(t,e,n,A,r);case 15:return p4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:ki(n,A),Jg(t,e),e.tag=1,FA(n)?(t=!0,Sm(e)):t=!1,Hc(e,r),h4(e,n,A),kv(e,n,A,r),Mv(null,e,n,!0,t,r);case 19:return y4(t,e,r);case 22:return g4(t,e,r)}throw Error(Oe(156,e.tag))};function R4(t,e){return lx(t,e)}function xL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(t,e,r,n){return new xL(t,e,r,n)}function eB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FL(t){if(typeof t=="function")return eB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===v2)return 11;if(t===y2)return 14}return 2}function Ma(t,e){var r=t.alternate;return r===null?(r=hi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Zg(t,e,r,n,A,i){var s=2;if(n=t,typeof t=="function")eB(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case _c:return Xl(r.children,A,i,e);case w2:s=8,A|=8;break;case ov:return t=hi(12,r,e,A|2),t.elementType=ov,t.lanes=i,t;case av:return t=hi(13,r,e,A),t.elementType=av,t.lanes=i,t;case lv:return t=hi(19,r,e,A),t.elementType=lv,t.lanes=i,t;case qI:return N0(r,A,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KI:s=10;break e;case GI:s=9;break e;case v2:s=11;break e;case y2:s=14;break e;case fa:s=16,n=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=hi(s,r,e,A),e.elementType=t,e.type=n,e.lanes=i,e}function Xl(t,e,r,n){return t=hi(7,t,n,e),t.lanes=r,t}function N0(t,e,r,n){return t=hi(22,t,n,e),t.elementType=qI,t.lanes=r,t.stateNode={isHidden:!1},t}function h1(t,e,r){return t=hi(6,t,null,e),t.lanes=r,t}function d1(t,e,r){return e=hi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SL(t,e,r,n,A){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zw(0),this.expirationTimes=zw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zw(0),this.identifierPrefix=n,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function tB(t,e,r,n,A,i,s,o,a){return t=new SL(t,e,r,o,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hi(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},D2(i),t}function TL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function k4(t){if(!t)return Ja;t=t._reactInternals;e:{if(_u(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(FA(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var r=t.type;if(FA(r))return kx(t,r,e)}return e}function D4(t,e,r,n,A,i,s,o,a){return t=tB(r,n,!0,t,A,i,s,o,a),t.context=k4(null),r=t.current,n=lA(),A=Oa(r),i=uo(n,A),i.callback=e??null,ka(r,i,A),t.current.lanes=A,zf(t,A,n),SA(t,n),t}function Q0(t,e,r,n){var A=e.current,i=lA(),s=Oa(A);return r=k4(r),e.context===null?e.context=r:e.pendingContext=r,e=uo(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ka(A,e,s),t!==null&&(ji(t,A,s,i),zg(t,A,s)),s}function Vm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function i_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function rB(t,e){i_(t,e),(t=t.alternate)&&i_(t,e)}function UL(){return null}var O4=typeof reportError=="function"?reportError:function(t){console.error(t)};function nB(t){this._internalRoot=t}L0.prototype.render=nB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));Q0(t,e,null,null)};L0.prototype.unmount=nB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lu(function(){Q0(null,t,null,null)}),e[mo]=null}};function L0(t){this._internalRoot=t}L0.prototype.unstable_scheduleHydration=function(t){if(t){var e=gx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ma.length&&e!==0&&e<ma[r].priority;r++);ma.splice(r,0,t),r===0&&wx(t)}};function AB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function P0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s_(){}function NL(t,e,r,n,A){if(A){if(typeof n=="function"){var i=n;n=function(){var l=Vm(s);i.call(l)}}var s=D4(e,n,t,0,null,!1,!1,"",s_);return t._reactRootContainer=s,t[mo]=s.current,ff(t.nodeType===8?t.parentNode:t),lu(),s}for(;A=t.lastChild;)t.removeChild(A);if(typeof n=="function"){var o=n;n=function(){var l=Vm(a);o.call(l)}}var a=tB(t,0,!1,null,null,!1,!1,"",s_);return t._reactRootContainer=a,t[mo]=a.current,ff(t.nodeType===8?t.parentNode:t),lu(function(){Q0(e,a,r,n)}),a}function R0(t,e,r,n,A){var i=r._reactRootContainer;if(i){var s=i;if(typeof A=="function"){var o=A;A=function(){var a=Vm(s);o.call(a)}}Q0(e,s,t,A)}else s=NL(r,e,t,A,n);return Vm(s)}fx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=vd(e.pendingLanes);r!==0&&(_2(e,r|1),SA(e,jr()),!(Mt&6)&&(th=jr()+500,il()))}break;case 13:lu(function(){var n=wo(t,1);if(n!==null){var A=lA();ji(n,t,1,A)}}),rB(t,1)}};E2=function(t){if(t.tag===13){var e=wo(t,134217728);if(e!==null){var r=lA();ji(e,t,134217728,r)}rB(t,134217728)}};px=function(t){if(t.tag===13){var e=Oa(t),r=wo(t,e);if(r!==null){var n=lA();ji(r,t,e,n)}rB(t,e)}};gx=function(){return Zt};mx=function(t,e){var r=Zt;try{return Zt=t,e()}finally{Zt=r}};vv=function(t,e,r){switch(e){case"input":if(hv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var A=I0(n);if(!A)throw Error(Oe(90));WI(n),hv(n,A)}}}break;case"textarea":JI(t,r);break;case"select":e=r.value,e!=null&&kc(t,!!r.multiple,e,!1)}};nx=X2;Ax=lu;var QL={usingClientEntryPoint:!1,Events:[$f,xc,I0,tx,rx,X2]},td={findFiberByHostInstance:Gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LL={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Io.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ox(t),t===null?null:t.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||UL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sg.isDisabled&&sg.supportsFiber)try{C0=sg.inject(LL),Es=sg}catch{}}JA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QL;JA.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AB(e))throw Error(Oe(200));return TL(t,e,null,r)};JA.createRoot=function(t,e){if(!AB(t))throw Error(Oe(299));var r=!1,n="",A=O4;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(A=e.onRecoverableError)),e=tB(t,1,!1,null,null,r,!1,n,A),t[mo]=e.current,ff(t.nodeType===8?t.parentNode:t),new nB(e)};JA.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=ox(e),t=t===null?null:t.stateNode,t};JA.flushSync=function(t){return lu(t)};JA.hydrate=function(t,e,r){if(!P0(e))throw Error(Oe(200));return R0(null,t,e,!0,r)};JA.hydrateRoot=function(t,e,r){if(!AB(t))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,A=!1,i="",s=O4;if(r!=null&&(r.unstable_strictMode===!0&&(A=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=D4(e,null,t,1,r??null,A,!1,i,s),t[mo]=e.current,ff(t),n)for(t=0;t<n.length;t++)r=n[t],A=r._getVersion,A=A(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,A]:e.mutableSourceEagerHydrationData.push(r,A);return new L0(e)};JA.render=function(t,e,r){if(!P0(e))throw Error(Oe(200));return R0(null,t,e,!1,r)};JA.unmountComponentAtNode=function(t){if(!P0(t))throw Error(Oe(40));return t._reactRootContainer?(lu(function(){R0(null,null,t,!1,function(){t._reactRootContainer=null,t[mo]=null})}),!0):!1};JA.unstable_batchedUpdates=X2;JA.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!P0(r))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return R0(t,e,r,!1,n)};JA.version="18.3.1-next-f1338f8080-20240426";function M4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M4)}catch(t){console.error(t)}}M4(),MI.exports=JA;var PL=MI.exports,o_=PL;iv.createRoot=o_.createRoot,iv.hydrateRoot=o_.hydrateRoot;/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a_="popstate";function RL(t={}){function e(n,A){let{pathname:i,search:s,hash:o}=n.location;return Yv("",{pathname:i,search:s,hash:o},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function r(n,A){return typeof A=="string"?A:_f(A)}return DL(e,r,null,t)}function Er(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kL(){return Math.random().toString(36).substring(2,10)}function l_(t,e){return{usr:t.state,key:t.key,idx:e}}function Yv(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gh(e):e,state:r,key:e&&e.key||n||kL()}}function _f({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function gh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function DL(t,e,r,n={}){let{window:A=document.defaultView,v5Compat:i=!1}=n,s=A.history,o="POP",a=null,l=h();l==null&&(l=0,s.replaceState({...s.state,idx:l},""));function h(){return(s.state||{idx:null}).idx}function d(){o="POP";let N=h(),v=N==null?null:N-l;l=N,a&&a({action:o,location:_.location,delta:v})}function p(N,v){o="PUSH";let y=Yv(_.location,N,v);l=h()+1;let T=l_(y,l),V=_.createHref(y);try{s.pushState(T,"",V)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;A.location.assign(V)}i&&a&&a({action:o,location:_.location,delta:1})}function g(N,v){o="REPLACE";let y=Yv(_.location,N,v);l=h();let T=l_(y,l),V=_.createHref(y);s.replaceState(T,"",V),i&&a&&a({action:o,location:_.location,delta:0})}function E(N){return OL(N)}let _={get action(){return o},get location(){return t(A,s)},listen(N){if(a)throw new Error("A history only accepts one active listener");return A.addEventListener(a_,d),a=N,()=>{A.removeEventListener(a_,d),a=null}},createHref(N){return e(A,N)},createURL:E,encodeLocation(N){let v=E(N);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(N){return s.go(N)}};return _}function OL(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Er(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:_f(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function H4(t,e,r="/"){return ML(t,e,r,!1)}function ML(t,e,r,n){let A=typeof e=="string"?gh(e):e,i=yo(A.pathname||"/",r);if(i==null)return null;let s=V4(t);HL(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=YL(i);o=JL(s[a],l,n)}return o}function V4(t,e=[],r=[],n="",A=!1){let i=(s,o,a=A,l)=>{let h={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&a)return;Er(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let d=co([n,h.relativePath]),p=r.concat(h);s.children&&s.children.length>0&&(Er(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),V4(s.children,e,p,d,a)),!(s.path==null&&!s.index)&&e.push({path:d,score:WL(d,s.index),routesMeta:p})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of j4(s.path))i(s,o,!0,l)}),e}function j4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,A=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return A?[i,""]:[i];let s=j4(n.join("/")),o=[];return o.push(...s.map(a=>a===""?i:[i,a].join("/"))),A&&o.push(...s),o.map(a=>t.startsWith("/")&&a===""?"/":a)}function HL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:$L(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var VL=/^:[\w-]+$/,jL=3,KL=2,GL=1,qL=10,zL=-2,u_=t=>t==="*";function WL(t,e){let r=t.split("/"),n=r.length;return r.some(u_)&&(n+=zL),e&&(n+=KL),r.filter(A=>!u_(A)).reduce((A,i)=>A+(VL.test(i)?jL:i===""?GL:qL),n)}function $L(t,e){return t.length===e.length&&t.slice(0,-1).every((n,A)=>n===e[A])?t[t.length-1]-e[e.length-1]:0}function JL(t,e,r=!1){let{routesMeta:n}=t,A={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=jm({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},h),p=a.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=jm({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},h)),!d)return null;Object.assign(A,d.params),s.push({params:A,pathname:co([i,d.pathname]),pathnameBase:rP(co([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=co([i,d.pathnameBase]))}return s}function jm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=XL(t.path,t.caseSensitive,t.end),A=e.match(r);if(!A)return null;let i=A[0],s=i.replace(/(.)\/+$/,"$1"),o=A.slice(1);return{params:n.reduce((l,{paramName:h,isOptional:d},p)=>{if(h==="*"){let E=o[p]||"";s=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const g=o[p];return d&&!g?l[h]=void 0:l[h]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:s,pattern:t}}function XL(t,e=!1,r=!0){qi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],A="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,a)=>(n.push({paramName:o,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),A+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?A+="\\/*$":t!==""&&t!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,e?void 0:"i"),n]}function YL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ZL(t,e="/"){let{pathname:r,search:n="",hash:A=""}=typeof t=="string"?gh(t):t;return{pathname:r?r.startsWith("/")?r:eP(r,e):e,search:nP(n),hash:AP(A)}}function eP(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(A=>{A===".."?r.length>1&&r.pop():A!=="."&&r.push(A)}),r.length>1?r.join("/"):"/"}function f1(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tP(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function iB(t){let e=tP(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function sB(t,e,r,n=!1){let A;typeof t=="string"?A=gh(t):(A={...t},Er(!A.pathname||!A.pathname.includes("?"),f1("?","pathname","search",A)),Er(!A.pathname||!A.pathname.includes("#"),f1("#","pathname","hash",A)),Er(!A.search||!A.search.includes("#"),f1("#","search","hash",A)));let i=t===""||A.pathname==="",s=i?"/":A.pathname,o;if(s==null)o=r;else{let d=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),d-=1;A.pathname=p.join("/")}o=d>=0?e[d]:"/"}let a=ZL(A,o),l=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(l||h)&&(a.pathname+="/"),a}var co=t=>t.join("/").replace(/\/\/+/g,"/"),rP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var K4=["POST","PUT","PATCH","DELETE"];new Set(K4);var sP=["GET",...K4];new Set(sP);var mh=te.createContext(null);mh.displayName="DataRouter";var k0=te.createContext(null);k0.displayName="DataRouterState";te.createContext(!1);var G4=te.createContext({isTransitioning:!1});G4.displayName="ViewTransition";var oP=te.createContext(new Map);oP.displayName="Fetchers";var aP=te.createContext(null);aP.displayName="Await";var $i=te.createContext(null);$i.displayName="Navigation";var Xf=te.createContext(null);Xf.displayName="Location";var Ji=te.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var oB=te.createContext(null);oB.displayName="RouteError";function lP(t,{relative:e}={}){Er(wh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=te.useContext($i),{hash:A,pathname:i,search:s}=Yf(t,{relative:e}),o=i;return r!=="/"&&(o=i==="/"?r:co([r,i])),n.createHref({pathname:o,search:s,hash:A})}function wh(){return te.useContext(Xf)!=null}function sl(){return Er(wh(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(Xf).location}var q4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z4(t){te.useContext($i).static||te.useLayoutEffect(t)}function D0(){let{isDataRoute:t}=te.useContext(Ji);return t?EP():uP()}function uP(){Er(wh(),"useNavigate() may be used only in the context of a <Router> component.");let t=te.useContext(mh),{basename:e,navigator:r}=te.useContext($i),{matches:n}=te.useContext(Ji),{pathname:A}=sl(),i=JSON.stringify(iB(n)),s=te.useRef(!1);return z4(()=>{s.current=!0}),te.useCallback((a,l={})=>{if(qi(s.current,q4),!s.current)return;if(typeof a=="number"){r.go(a);return}let h=sB(a,JSON.parse(i),A,l.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:co([e,h.pathname])),(l.replace?r.replace:r.push)(h,l.state,l)},[e,r,i,A,t])}var cP=te.createContext(null);function hP(t){let e=te.useContext(Ji).outlet;return e&&te.createElement(cP.Provider,{value:t},e)}function Yf(t,{relative:e}={}){let{matches:r}=te.useContext(Ji),{pathname:n}=sl(),A=JSON.stringify(iB(r));return te.useMemo(()=>sB(t,JSON.parse(A),n,e==="path"),[t,A,n,e])}function dP(t,e){return W4(t,e)}function W4(t,e,r,n){var v;Er(wh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:A}=te.useContext($i),{matches:i}=te.useContext(Ji),s=i[i.length-1],o=s?s.params:{},a=s?s.pathname:"/",l=s?s.pathnameBase:"/",h=s&&s.route;{let y=h&&h.path||"";$4(a,!h||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${a}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let d=sl(),p;if(e){let y=typeof e=="string"?gh(e):e;Er(l==="/"||((v=y.pathname)==null?void 0:v.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${y.pathname}" was given in the \`location\` prop.`),p=y}else p=d;let g=p.pathname||"/",E=g;if(l!=="/"){let y=l.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=H4(t,{pathname:E});qi(h||_!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),qi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=wP(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:co([l,A.encodeLocation?A.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:co([l,A.encodeLocation?A.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&N?te.createElement(Xf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},N):N}function fP(){let t=_P(),e=iP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",A={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=te.createElement(te.Fragment,null,te.createElement("p",null,"💿 Hey developer 👋"),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:i},"ErrorBoundary")," or"," ",te.createElement("code",{style:i},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),r?te.createElement("pre",{style:A},r):null,s)}var pP=te.createElement(fP,null),gP=class extends te.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?te.createElement(Ji.Provider,{value:this.props.routeContext},te.createElement(oB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mP({routeContext:t,match:e,children:r}){let n=te.useContext(mh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),te.createElement(Ji.Provider,{value:t},r)}function wP(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let A=t,i=r==null?void 0:r.errors;if(i!=null){let a=A.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id])!==void 0);Er(a>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),A=A.slice(0,Math.min(A.length,a+1))}let s=!1,o=-1;if(r)for(let a=0;a<A.length;a++){let l=A[a];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(o=a),l.route.id){let{loaderData:h,errors:d}=r,p=l.route.loader&&!h.hasOwnProperty(l.route.id)&&(!d||d[l.route.id]===void 0);if(l.route.lazy||p){s=!0,o>=0?A=A.slice(0,o+1):A=[A[0]];break}}}return A.reduceRight((a,l,h)=>{let d,p=!1,g=null,E=null;r&&(d=i&&l.route.id?i[l.route.id]:void 0,g=l.route.errorElement||pP,s&&(o<0&&h===0?($4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,E=null):o===h&&(p=!0,E=l.route.hydrateFallbackElement||null)));let _=e.concat(A.slice(0,h+1)),N=()=>{let v;return d?v=g:p?v=E:l.route.Component?v=te.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,te.createElement(mP,{match:l,routeContext:{outlet:a,matches:_,isDataRoute:r!=null},children:v})};return r&&(l.route.ErrorBoundary||l.route.errorElement||h===0)?te.createElement(gP,{location:r.location,revalidation:r.revalidation,component:g,error:d,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):N()},null)}function aB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vP(t){let e=te.useContext(mh);return Er(e,aB(t)),e}function yP(t){let e=te.useContext(k0);return Er(e,aB(t)),e}function BP(t){let e=te.useContext(Ji);return Er(e,aB(t)),e}function lB(t){let e=BP(t),r=e.matches[e.matches.length-1];return Er(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function CP(){return lB("useRouteId")}function _P(){var n;let t=te.useContext(oB),e=yP("useRouteError"),r=lB("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function EP(){let{router:t}=vP("useNavigate"),e=lB("useNavigate"),r=te.useRef(!1);return z4(()=>{r.current=!0}),te.useCallback(async(A,i={})=>{qi(r.current,q4),r.current&&(typeof A=="number"?t.navigate(A):await t.navigate(A,{fromRouteId:e,...i}))},[t,e])}var c_={};function $4(t,e,r){!e&&!c_[t]&&(c_[t]=!0,qi(!1,r))}te.memo(bP);function bP({routes:t,future:e,state:r}){return W4(t,void 0,r,e)}function Zv({to:t,replace:e,state:r,relative:n}){Er(wh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:A}=te.useContext($i);qi(!A,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=te.useContext(Ji),{pathname:s}=sl(),o=D0(),a=sB(t,iB(i),s,n==="path"),l=JSON.stringify(a);return te.useEffect(()=>{o(JSON.parse(l),{replace:e,state:r,relative:n})},[o,l,n,e,r]),null}function IP(t){return hP(t.context)}function iA(t){Er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xP({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:A,static:i=!1}){Er(!wh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=te.useMemo(()=>({basename:s,navigator:A,static:i,future:{}}),[s,A,i]);typeof r=="string"&&(r=gh(r));let{pathname:a="/",search:l="",hash:h="",state:d=null,key:p="default"}=r,g=te.useMemo(()=>{let E=yo(a,s);return E==null?null:{location:{pathname:E,search:l,hash:h,state:d,key:p},navigationType:n}},[s,a,l,h,d,p,n]);return qi(g!=null,`<Router basename="${s}"> is not able to match the URL "${a}${l}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:te.createElement($i.Provider,{value:o},te.createElement(Xf.Provider,{children:e,value:g}))}function FP({children:t,location:e}){return dP(ey(t),e)}function ey(t,e=[]){let r=[];return te.Children.forEach(t,(n,A)=>{if(!te.isValidElement(n))return;let i=[...e,A];if(n.type===te.Fragment){r.push.apply(r,ey(n.props.children,i));return}Er(n.type===iA,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Er(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=ey(n.props.children,i)),r.push(s)}),r}var em="get",tm="application/x-www-form-urlencoded";function O0(t){return t!=null&&typeof t.tagName=="string"}function SP(t){return O0(t)&&t.tagName.toLowerCase()==="button"}function TP(t){return O0(t)&&t.tagName.toLowerCase()==="form"}function UP(t){return O0(t)&&t.tagName.toLowerCase()==="input"}function NP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QP(t,e){return t.button===0&&(!e||e==="_self")&&!NP(t)}var og=null;function LP(){if(og===null)try{new FormData(document.createElement("form"),0),og=!1}catch{og=!0}return og}var PP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function p1(t){return t!=null&&!PP.has(t)?(qi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tm}"`),null):t}function RP(t,e){let r,n,A,i,s;if(TP(t)){let o=t.getAttribute("action");n=o?yo(o,e):null,r=t.getAttribute("method")||em,A=p1(t.getAttribute("enctype"))||tm,i=new FormData(t)}else if(SP(t)||UP(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||o.getAttribute("action");if(n=a?yo(a,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||em,A=p1(t.getAttribute("formenctype"))||p1(o.getAttribute("enctype"))||tm,i=new FormData(o,t),!LP()){let{name:l,type:h,value:d}=t;if(h==="image"){let p=l?`${l}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else l&&i.append(l,d)}}else{if(O0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=em,n=null,A=tm,s=t}return i&&A==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:A,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uB(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kP(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&yo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function DP(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function MP(t,e,r){let n=await Promise.all(t.map(async A=>{let i=e.routes[A.route.id];if(i){let s=await DP(i,r);return s.links?s.links():[]}return[]}));return KP(n.flat(1).filter(OP).filter(A=>A.rel==="stylesheet"||A.rel==="preload").map(A=>A.rel==="stylesheet"?{...A,rel:"prefetch",as:"style"}:{...A,rel:"prefetch"}))}function h_(t,e,r,n,A,i){let s=(a,l)=>r[l]?a.route.id!==r[l].route.id:!0,o=(a,l)=>{var h;return r[l].pathname!==a.pathname||((h=r[l].route.path)==null?void 0:h.endsWith("*"))&&r[l].params["*"]!==a.params["*"]};return i==="assets"?e.filter((a,l)=>s(a,l)||o(a,l)):i==="data"?e.filter((a,l)=>{var d;let h=n.routes[a.route.id];if(!h||!h.hasLoader)return!1;if(s(a,l)||o(a,l))return!0;if(a.route.shouldRevalidate){let p=a.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function HP(t,e,{includeHydrateFallback:r}={}){return VP(t.map(n=>{let A=e.routes[n.route.id];if(!A)return[];let i=[A.module];return A.clientActionModule&&(i=i.concat(A.clientActionModule)),A.clientLoaderModule&&(i=i.concat(A.clientLoaderModule)),r&&A.hydrateFallbackModule&&(i=i.concat(A.hydrateFallbackModule)),A.imports&&(i=i.concat(A.imports)),i}).flat(1))}function VP(t){return[...new Set(t)]}function jP(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function KP(t,e){let r=new Set;return new Set(e),t.reduce((n,A)=>{let i=JSON.stringify(jP(A));return r.has(i)||(r.add(i),n.push({key:i,link:A})),n},[])}function J4(){let t=te.useContext(mh);return uB(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GP(){let t=te.useContext(k0);return uB(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cB=te.createContext(void 0);cB.displayName="FrameworkContext";function X4(){let t=te.useContext(cB);return uB(t,"You must render this element inside a <HydratedRouter> element"),t}function qP(t,e){let r=te.useContext(cB),[n,A]=te.useState(!1),[i,s]=te.useState(!1),{onFocus:o,onBlur:a,onMouseEnter:l,onMouseLeave:h,onTouchStart:d}=e,p=te.useRef(null);te.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let _=v=>{v.forEach(y=>{s(y.isIntersecting)})},N=new IntersectionObserver(_,{threshold:.5});return p.current&&N.observe(p.current),()=>{N.disconnect()}}},[t]),te.useEffect(()=>{if(n){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[n]);let g=()=>{A(!0)},E=()=>{A(!1),s(!1)};return r?t!=="intent"?[i,p,{}]:[i,p,{onFocus:rd(o,g),onBlur:rd(a,E),onMouseEnter:rd(l,g),onMouseLeave:rd(h,E),onTouchStart:rd(d,g)}]:[!1,p,{}]}function rd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function zP({page:t,...e}){let{router:r}=J4(),n=te.useMemo(()=>H4(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?te.createElement($P,{page:t,matches:n,...e}):null}function WP(t){let{manifest:e,routeModules:r}=X4(),[n,A]=te.useState([]);return te.useEffect(()=>{let i=!1;return MP(t,e,r).then(s=>{i||A(s)}),()=>{i=!0}},[t,e,r]),n}function $P({page:t,matches:e,...r}){let n=sl(),{manifest:A,routeModules:i}=X4(),{basename:s}=J4(),{loaderData:o,matches:a}=GP(),l=te.useMemo(()=>h_(t,e,a,A,n,"data"),[t,e,a,A,n]),h=te.useMemo(()=>h_(t,e,a,A,n,"assets"),[t,e,a,A,n]),d=te.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let E=new Set,_=!1;if(e.forEach(v=>{var T;let y=A.routes[v.route.id];!y||!y.hasLoader||(!l.some(V=>V.route.id===v.route.id)&&v.route.id in o&&((T=i[v.route.id])!=null&&T.shouldRevalidate)||y.hasClientLoader?_=!0:E.add(v.route.id))}),E.size===0)return[];let N=kP(t,s,"data");return _&&E.size>0&&N.searchParams.set("_routes",e.filter(v=>E.has(v.route.id)).map(v=>v.route.id).join(",")),[N.pathname+N.search]},[s,o,n,A,l,e,t,i]),p=te.useMemo(()=>HP(h,A),[h,A]),g=WP(h);return te.createElement(te.Fragment,null,d.map(E=>te.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),p.map(E=>te.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),g.map(({key:E,link:_})=>te.createElement("link",{key:E,nonce:r.nonce,..._})))}function JP(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Y4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y4&&(window.__reactRouterVersion="7.8.1")}catch{}function XP({basename:t,children:e,window:r}){let n=te.useRef();n.current==null&&(n.current=RL({window:r,v5Compat:!0}));let A=n.current,[i,s]=te.useState({action:A.action,location:A.location}),o=te.useCallback(a=>{te.startTransition(()=>s(a))},[s]);return te.useLayoutEffect(()=>A.listen(o),[A,o]),te.createElement(xP,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:A})}var Z4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eF=te.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:A,reloadDocument:i,replace:s,state:o,target:a,to:l,preventScrollReset:h,viewTransition:d,...p},g){let{basename:E}=te.useContext($i),_=typeof l=="string"&&Z4.test(l),N,v=!1;if(typeof l=="string"&&_&&(N=l,Y4))try{let Q=new URL(window.location.href),O=l.startsWith("//")?new URL(Q.protocol+l):new URL(l),x=yo(O.pathname,E);O.origin===Q.origin&&x!=null?l=x+O.search+O.hash:v=!0}catch{qi(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=lP(l,{relative:A}),[T,V,D]=qP(n,p),j=eR(l,{replace:s,state:o,target:a,preventScrollReset:h,relative:A,viewTransition:d});function S(Q){e&&e(Q),Q.defaultPrevented||j(Q)}let b=te.createElement("a",{...p,...D,href:N||y,onClick:v||i?e:S,ref:JP(g,V),target:a,"data-discover":!_&&r==="render"?"true":void 0});return T&&!_?te.createElement(te.Fragment,null,b,te.createElement(zP,{page:y})):b});eF.displayName="Link";var gs=te.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:A=!1,style:i,to:s,viewTransition:o,children:a,...l},h){let d=Yf(s,{relative:l.relative}),p=sl(),g=te.useContext(k0),{navigator:E,basename:_}=te.useContext($i),N=g!=null&&iR(d)&&o===!0,v=E.encodeLocation?E.encodeLocation(d).pathname:d.pathname,y=p.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(y=y.toLowerCase(),T=T?T.toLowerCase():null,v=v.toLowerCase()),T&&_&&(T=yo(T,_)||T);const V=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let D=y===v||!A&&y.startsWith(v)&&y.charAt(V)==="/",j=T!=null&&(T===v||!A&&T.startsWith(v)&&T.charAt(v.length)==="/"),S={isActive:D,isPending:j,isTransitioning:N},b=D?e:void 0,Q;typeof n=="function"?Q=n(S):Q=[n,D?"active":null,j?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(S):i;return te.createElement(eF,{...l,"aria-current":b,className:Q,ref:h,style:O,to:s,viewTransition:o},typeof a=="function"?a(S):a)});gs.displayName="NavLink";var YP=te.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:A,state:i,method:s=em,action:o,onSubmit:a,relative:l,preventScrollReset:h,viewTransition:d,...p},g)=>{let E=nR(),_=AR(o,{relative:l}),N=s.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&Z4.test(o),y=T=>{if(a&&a(T),T.defaultPrevented)return;T.preventDefault();let V=T.nativeEvent.submitter,D=(V==null?void 0:V.getAttribute("formmethod"))||s;E(V||T.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:A,state:i,relative:l,preventScrollReset:h,viewTransition:d})};return te.createElement("form",{ref:g,method:N,action:_,onSubmit:n?a:y,...p,"data-discover":!v&&t==="render"?"true":void 0})});YP.displayName="Form";function ZP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tF(t){let e=te.useContext(mh);return Er(e,ZP(t)),e}function eR(t,{target:e,replace:r,state:n,preventScrollReset:A,relative:i,viewTransition:s}={}){let o=D0(),a=sl(),l=Yf(t,{relative:i});return te.useCallback(h=>{if(QP(h,e)){h.preventDefault();let d=r!==void 0?r:_f(a)===_f(l);o(t,{replace:d,state:n,preventScrollReset:A,relative:i,viewTransition:s})}},[a,o,l,r,n,e,t,A,i,s])}var tR=0,rR=()=>`__${String(++tR)}__`;function nR(){let{router:t}=tF("useSubmit"),{basename:e}=te.useContext($i),r=CP();return te.useCallback(async(n,A={})=>{let{action:i,method:s,encType:o,formData:a,body:l}=RP(n,e);if(A.navigate===!1){let h=A.fetcherKey||rR();await t.fetch(h,r,A.action||i,{preventScrollReset:A.preventScrollReset,formData:a,body:l,formMethod:A.method||s,formEncType:A.encType||o,flushSync:A.flushSync})}else await t.navigate(A.action||i,{preventScrollReset:A.preventScrollReset,formData:a,body:l,formMethod:A.method||s,formEncType:A.encType||o,replace:A.replace,state:A.state,fromRouteId:r,flushSync:A.flushSync,viewTransition:A.viewTransition})},[t,e,r])}function AR(t,{relative:e}={}){let{basename:r}=te.useContext($i),n=te.useContext(Ji);Er(n,"useFormAction must be used inside a RouteContext");let[A]=n.matches.slice(-1),i={...Yf(t||".",{relative:e})},s=sl();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),a=o.getAll("index");if(a.some(h=>h==="")){o.delete("index"),a.filter(d=>d).forEach(d=>o.append("index",d));let h=o.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&A.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:co([r,i.pathname])),_f(i)}function iR(t,{relative:e}={}){let r=te.useContext(G4);Er(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=tF("useViewTransitionState"),A=Yf(t,{relative:e});if(!r.isTransitioning)return!1;let i=yo(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=yo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return jm(A.pathname,s)!=null||jm(A.pathname,i)!=null}var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let A=t.charCodeAt(n);A<128?e[r++]=A:A<2048?(e[r++]=A>>6|192,e[r++]=A&63|128):(A&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(A=65536+((A&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=A>>18|240,e[r++]=A>>12&63|128,e[r++]=A>>6&63|128,e[r++]=A&63|128):(e[r++]=A>>12|224,e[r++]=A>>6&63|128,e[r++]=A&63|128)}return e},sR=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const A=t[r++];if(A<128)e[n++]=String.fromCharCode(A);else if(A>191&&A<224){const i=t[r++];e[n++]=String.fromCharCode((A&31)<<6|i&63)}else if(A>239&&A<365){const i=t[r++],s=t[r++],o=t[r++],a=((A&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(a&1023))}else{const i=t[r++],s=t[r++];e[n++]=String.fromCharCode((A&15)<<12|(i&63)<<6|s&63)}}return e.join("")},nF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let A=0;A<t.length;A+=3){const i=t[A],s=A+1<t.length,o=s?t[A+1]:0,a=A+2<t.length,l=a?t[A+2]:0,h=i>>2,d=(i&3)<<4|o>>4;let p=(o&15)<<2|l>>6,g=l&63;a||(g=64,s||(p=64)),n.push(r[h],r[d],r[p],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let A=0;A<t.length;){const i=r[t.charAt(A++)],o=A<t.length?r[t.charAt(A)]:0;++A;const l=A<t.length?r[t.charAt(A)]:64;++A;const d=A<t.length?r[t.charAt(A)]:64;if(++A,i==null||o==null||l==null||d==null)throw new oR;const p=i<<2|o>>4;if(n.push(p),l!==64){const g=o<<4&240|l>>2;if(n.push(g),d!==64){const E=l<<6&192|d;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aR=function(t){const e=rF(t);return nF.encodeByteArray(e,!0)},Km=function(t){return aR(t).replace(/\./g,"")},AF=function(t){try{return nF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=()=>lR().__FIREBASE_DEFAULTS__,cR=()=>{if(typeof process>"u"||typeof d_>"u")return;const t=d_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AF(t[1]);return e&&JSON.parse(e)},M0=()=>{try{return uR()||cR()||hR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iF=t=>{var e,r;return(r=(e=M0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},dR=t=>{const e=iF(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},sF=()=>{var t;return(t=M0())===null||t===void 0?void 0:t.config},oF=t=>{var e;return(e=M0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",A=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:A,exp:A+3600,auth_time:A,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Km(JSON.stringify(r)),Km(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function mR(){var t;const e=(t=M0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aF(){return!mR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lF(){try{return typeof indexedDB=="object"}catch{return!1}}function CR(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(n);A.onsuccess=()=>{A.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},A.onupgradeneeded=()=>{r=!1},A.onerror=()=>{var i;e(((i=A.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="FirebaseError";class xo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=_R,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zf.prototype.create)}}class Zf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},A=`${this.service}/${e}`,i=this.errors[e],s=i?ER(i,n):"Error",o=`${this.serviceName}: ${s} (${A}).`;return new xo(A,o,n)}}function ER(t,e){return t.replace(bR,(r,n)=>{const A=e[n];return A!=null?String(A):`<${n}?>`})}const bR=/\{\$([^}]+)}/g;function IR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const A of r){if(!n.includes(A))return!1;const i=t[A],s=e[A];if(f_(i)&&f_(s)){if(!Gm(i,s))return!1}else if(i!==s)return!1}for(const A of n)if(!r.includes(A))return!1;return!0}function f_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(A=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(A))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Bd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[A,i]=n.split("=");e[decodeURIComponent(A)]=decodeURIComponent(i)}}),e}function Cd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function xR(t,e){const r=new FR(t,e);return r.subscribe.bind(r)}class FR{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let A;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");SR(e,["next","error","complete"])?A=e:A={next:e,error:r,complete:n},A.next===void 0&&(A.next=g1),A.error===void 0&&(A.error=g1),A.complete===void 0&&(A.complete=g1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SR(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function g1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){return t&&t._delegate?t._delegate:t}class uu{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new fR;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const A=this.getOrInitializeService({instanceIdentifier:r});A&&n.resolve(A)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),A=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(A)return null;throw i}else{if(A)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NR(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:A});n.resolve(i)}catch{}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(A)}return A}onInit(e,r){var n;const A=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(A))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(A,i);const s=this.instances.get(A);return s&&e(s,A),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const A of n)try{A(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:UR(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UR(t){return t===Rl?void 0:t}function NR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new TR(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nt||(Nt={}));const LR={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},PR=Nt.INFO,RR={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},kR=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),A=RR[e];if(A)console[A](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let hB=class{constructor(e){this.name=e,this._logLevel=PR,this._logHandler=kR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}};const DR=(t,e)=>e.some(r=>t instanceof r);let p_,g_;function OR(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uF=new WeakMap,ty=new WeakMap,cF=new WeakMap,m1=new WeakMap,dB=new WeakMap;function HR(t){const e=new Promise((r,n)=>{const A=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{r(Ha(t.result)),A()},s=()=>{n(t.error),A()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&uF.set(r,t)}).catch(()=>{}),dB.set(e,t),e}function VR(t){if(ty.has(t))return;const e=new Promise((r,n)=>{const A=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{r(),A()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),A()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});ty.set(t,e)}let ry={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cF.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ha(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jR(t){ry=t(ry)}function KR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(w1(this),e,...r);return cF.set(n,e.sort?e.sort():[e]),Ha(n)}:MR().includes(t)?function(...e){return t.apply(w1(this),e),Ha(uF.get(this))}:function(...e){return Ha(t.apply(w1(this),e))}}function GR(t){return typeof t=="function"?KR(t):(t instanceof IDBTransaction&&VR(t),DR(t,OR())?new Proxy(t,ry):t)}function Ha(t){if(t instanceof IDBRequest)return HR(t);if(m1.has(t))return m1.get(t);const e=GR(t);return e!==t&&(m1.set(t,e),dB.set(e,t)),e}const w1=t=>dB.get(t);function qR(t,e,{blocked:r,upgrade:n,blocking:A,terminated:i}={}){const s=indexedDB.open(t,e),o=Ha(s);return n&&s.addEventListener("upgradeneeded",a=>{n(Ha(s.result),a.oldVersion,a.newVersion,Ha(s.transaction),a)}),r&&s.addEventListener("blocked",a=>r(a.oldVersion,a.newVersion,a)),o.then(a=>{i&&a.addEventListener("close",()=>i()),A&&a.addEventListener("versionchange",l=>A(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const zR=["get","getKey","getAll","getAllKeys","count"],WR=["put","add","delete","clear"],v1=new Map;function m_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v1.get(e))return v1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,A=WR.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(A||zR.includes(r)))return;const i=async function(s,...o){const a=this.transaction(s,A?"readwrite":"readonly");let l=a.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),A&&a.done]))[0]};return v1.set(e,i),i}jR(t=>({...t,get:(e,r,n)=>m_(e,r)||t.get(e,r,n),has:(e,r)=>!!m_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(JR(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function JR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ny="@firebase/app",w_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new hB("@firebase/app"),XR="@firebase/app-compat",YR="@firebase/analytics-compat",ZR="@firebase/analytics",ek="@firebase/app-check-compat",tk="@firebase/app-check",rk="@firebase/auth",nk="@firebase/auth-compat",Ak="@firebase/database",ik="@firebase/data-connect",sk="@firebase/database-compat",ok="@firebase/functions",ak="@firebase/functions-compat",lk="@firebase/installations",uk="@firebase/installations-compat",ck="@firebase/messaging",hk="@firebase/messaging-compat",dk="@firebase/performance",fk="@firebase/performance-compat",pk="@firebase/remote-config",gk="@firebase/remote-config-compat",mk="@firebase/storage",wk="@firebase/storage-compat",vk="@firebase/firestore",yk="@firebase/vertexai-preview",Bk="@firebase/firestore-compat",Ck="firebase",_k="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="[DEFAULT]",Ek={[ny]:"fire-core",[XR]:"fire-core-compat",[ZR]:"fire-analytics",[YR]:"fire-analytics-compat",[tk]:"fire-app-check",[ek]:"fire-app-check-compat",[rk]:"fire-auth",[nk]:"fire-auth-compat",[Ak]:"fire-rtdb",[ik]:"fire-data-connect",[sk]:"fire-rtdb-compat",[ok]:"fire-fn",[ak]:"fire-fn-compat",[lk]:"fire-iid",[uk]:"fire-iid-compat",[ck]:"fire-fcm",[hk]:"fire-fcm-compat",[dk]:"fire-perf",[fk]:"fire-perf-compat",[pk]:"fire-rc",[gk]:"fire-rc-compat",[mk]:"fire-gcs",[wk]:"fire-gcs-compat",[vk]:"fire-fst",[Bk]:"fire-fst-compat",[yk]:"fire-vertex","fire-js":"fire-js",[Ck]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new Map,bk=new Map,iy=new Map;function v_(t,e){try{t.container.addComponent(e)}catch(r){Bo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function rh(t){const e=t.name;if(iy.has(e))return Bo.debug(`There were multiple attempts to register component ${e}.`),!1;iy.set(e,t);for(const r of qm.values())v_(r,t);for(const r of bk.values())v_(r,t);return!0}function fB(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ys(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new Zf("app","Firebase",Ik);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new uu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=_k;function hF(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Ay,automaticDataCollectionEnabled:!1},e),A=n.name;if(typeof A!="string"||!A)throw Va.create("bad-app-name",{appName:String(A)});if(r||(r=sF()),!r)throw Va.create("no-options");const i=qm.get(A);if(i){if(Gm(r,i.options)&&Gm(n,i.config))return i;throw Va.create("duplicate-app",{appName:A})}const s=new QR(A);for(const a of iy.values())s.addComponent(a);const o=new xk(r,n,s);return qm.set(A,o),o}function dF(t=Ay){const e=qm.get(t);if(!e&&t===Ay&&sF())return hF();if(!e)throw Va.create("no-app",{appName:t});return e}function ja(t,e,r){var n;let A=(n=Ek[t])!==null&&n!==void 0?n:t;r&&(A+=`-${r}`);const i=A.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${A}" with version "${e}":`];i&&o.push(`library name "${A}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bo.warn(o.join(" "));return}rh(new uu(`${A}-version`,()=>({library:A,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="firebase-heartbeat-database",Sk=1,Ef="firebase-heartbeat-store";let y1=null;function fF(){return y1||(y1=qR(Fk,Sk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ef)}catch(r){console.warn(r)}}}}).catch(t=>{throw Va.create("idb-open",{originalErrorMessage:t.message})})),y1}async function Tk(t){try{const r=(await fF()).transaction(Ef),n=await r.objectStore(Ef).get(pF(t));return await r.done,n}catch(e){if(e instanceof xo)Bo.warn(e.message);else{const r=Va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bo.warn(r.message)}}}async function y_(t,e){try{const n=(await fF()).transaction(Ef,"readwrite");await n.objectStore(Ef).put(e,pF(t)),await n.done}catch(r){if(r instanceof xo)Bo.warn(r.message);else{const n=Va.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Bo.warn(n.message)}}}function pF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=1024,Nk=30*24*60*60*1e3;class Qk{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Pk(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const A=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=B_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:A}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=Nk}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Bo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=B_(),{heartbeatsToSend:n,unsentEntries:A}=Lk(this._heartbeatsCache.heartbeats),i=Km(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,A.length>0?(this._heartbeatsCache.heartbeats=A,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Bo.warn(r),""}}}function B_(){return new Date().toISOString().substring(0,10)}function Lk(t,e=Uk){const r=[];let n=t.slice();for(const A of t){const i=r.find(s=>s.agent===A.agent);if(i){if(i.dates.push(A.date),C_(r)>e){i.dates.pop();break}}else if(r.push({agent:A.agent,dates:[A.date]}),C_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Pk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lF()?CR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Tk(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const A=await this.read();return y_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:A.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const A=await this.read();return y_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:A.lastSentHeartbeatDate,heartbeats:[...A.heartbeats,...e.heartbeats]})}else return}}function C_(t){return Km(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){rh(new uu("platform-logger",e=>new $R(e),"PRIVATE")),rh(new uu("heartbeat",e=>new Qk(e),"PRIVATE")),ja(ny,w_,t),ja(ny,w_,"esm2017"),ja("fire-js","")}Rk("");function pB(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,n=Object.getOwnPropertySymbols(t);A<n.length;A++)e.indexOf(n[A])<0&&Object.prototype.propertyIsEnumerable.call(t,n[A])&&(r[n[A]]=t[n[A]]);return r}function gF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kk=gF,mF=new Zf("auth","Firebase",gF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=new hB("@firebase/auth");function Dk(t,...e){zm.logLevel<=Nt.WARN&&zm.warn(`Auth (${vh}): ${t}`,...e)}function rm(t,...e){zm.logLevel<=Nt.ERROR&&zm.error(`Auth (${vh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,...e){throw gB(t,...e)}function Is(t,...e){return gB(t,...e)}function wF(t,e,r){const n=Object.assign(Object.assign({},kk()),{[e]:r});return new Zf("auth","Firebase",n).create(e,{appName:t.name})}function ho(t){return wF(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gB(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return mF.create(t,...e)}function mt(t,e,...r){if(!t)throw gB(e,...r)}function so(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rm(e),new Error(e)}function Co(t,e){t||so(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ok(){return __()==="http:"||__()==="https:"}function __(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ok()||vR()||"connection"in navigator)?navigator.onLine:!0}function Hk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,r){this.shortDelay=e,this.longDelay=r,Co(r>e,"Short delay should be less than long delay!"),this.isMobile=gR()||yR()}get(){return Mk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t,e){Co(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new tp(3e4,6e4);function ol(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function al(t,e,r,n,A={}){return yF(t,A,async()=>{let i={},s={};n&&(e==="GET"?s=n:i={body:JSON.stringify(n)});const o=ep(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:a},i);return wR()||(l.referrerPolicy="no-referrer"),vF.fetch()(BF(t,t.config.apiHost,r,o),l)})}async function yF(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Vk),e);try{const A=new Gk(t),i=await Promise.race([r(),A.promise]);A.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw ag(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[a,l]=o.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw ag(t,"credential-already-in-use",s);if(a==="EMAIL_EXISTS")throw ag(t,"email-already-in-use",s);if(a==="USER_DISABLED")throw ag(t,"user-disabled",s);const h=n[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw wF(t,h,l);zi(t,h)}}catch(A){if(A instanceof xo)throw A;zi(t,"network-request-failed",{message:String(A)})}}async function rp(t,e,r,n,A={}){const i=await al(t,e,r,n,A);return"mfaPendingCredential"in i&&zi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function BF(t,e,r,n){const A=`${e}${r}?${n}`;return t.config.emulator?mB(t.config,A):`${t.config.apiScheme}://${A}`}function Kk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Is(this.auth,"network-request-failed")),jk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ag(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const A=Is(t,e,n);return A.customData._tokenResponse=r,A}function E_(t){return t!==void 0&&t.enterprise!==void 0}class qk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Kk(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function zk(t,e){return al(t,"GET","/v2/recaptchaConfig",ol(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t,e){return al(t,"POST","/v1/accounts:delete",e)}async function CF(t,e){return al(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $k(t,e=!1){const r=Rr(t),n=await r.getIdToken(e),A=wB(n);mt(A&&A.exp&&A.auth_time&&A.iat,r.auth,"internal-error");const i=typeof A.firebase=="object"?A.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:A,token:n,authTime:jd(B1(A.auth_time)),issuedAtTime:jd(B1(A.iat)),expirationTime:jd(B1(A.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function B1(t){return Number(t)*1e3}function wB(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return rm("JWT malformed, contained fewer than 3 sections"),null;try{const A=AF(r);return A?JSON.parse(A):(rm("Failed to decode base64 JWT payload"),null)}catch(A){return rm("Caught error parsing JWT payload as JSON",A==null?void 0:A.toString()),null}}function b_(t){const e=wB(t);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof xo&&Jk(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Jk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const A=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=jd(this.lastLoginAt),this.creationTime=jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(t){var e;const r=t.auth,n=await t.getIdToken(),A=await bf(t,CF(r,{idToken:n}));mt(A==null?void 0:A.users.length,r,"internal-error");const i=A.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?_F(i.providerUserInfo):[],o=Zk(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new oy(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function Yk(t){const e=Rr(t);await Wm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zk(t,e){return[...t.filter(n=>!e.some(A=>A.providerId===n.providerId)),...e]}function _F(t){return t.map(e=>{var{providerId:r}=e,n=pB(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e){const r=await yF(t,{},async()=>{const n=ep({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:A,apiKey:i}=t.config,s=BF(t,A,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",vF.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function tD(t,e){return al(t,"POST","/v2/accounts:revokeToken",ol(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const r=b_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:A,expiresIn:i}=await eD(e,r);this.updateTokensAndExpiration(n,A,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:A,expirationTime:i}=r,s=new jc;return n&&(mt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),A&&(mt(typeof A=="string","internal-error",{appName:e}),s.accessToken=A),i&&(mt(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return so("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,e){mt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oo{constructor(e){var{uid:r,auth:n,stsTokenManager:A}=e,i=pB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new oy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await bf(this,this.stsTokenManager.getToken(this.auth,e));return mt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return $k(this,e)}reload(){return Yk(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Wm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ys(this.auth.app))return Promise.reject(ho(this.auth));const e=await this.getIdToken();return await bf(this,Wk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,A,i,s,o,a,l,h;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(A=r.email)!==null&&A!==void 0?A:void 0,g=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,E=(s=r.photoURL)!==null&&s!==void 0?s:void 0,_=(o=r.tenantId)!==null&&o!==void 0?o:void 0,N=(a=r._redirectEventId)!==null&&a!==void 0?a:void 0,v=(l=r.createdAt)!==null&&l!==void 0?l:void 0,y=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:V,isAnonymous:D,providerData:j,stsTokenManager:S}=r;mt(T&&S,e,"internal-error");const b=jc.fromJSON(this.name,S);mt(typeof T=="string",e,"internal-error"),ia(d,e.name),ia(p,e.name),mt(typeof V=="boolean",e,"internal-error"),mt(typeof D=="boolean",e,"internal-error"),ia(g,e.name),ia(E,e.name),ia(_,e.name),ia(N,e.name),ia(v,e.name),ia(y,e.name);const Q=new oo({uid:T,auth:e,email:p,emailVerified:V,displayName:d,isAnonymous:D,photoURL:E,phoneNumber:g,tenantId:_,stsTokenManager:b,createdAt:v,lastLoginAt:y});return j&&Array.isArray(j)&&(Q.providerData=j.map(O=>Object.assign({},O))),N&&(Q._redirectEventId=N),Q}static async _fromIdTokenResponse(e,r,n=!1){const A=new jc;A.updateFromServerResponse(r);const i=new oo({uid:r.localId,auth:e,stsTokenManager:A,isAnonymous:n});return await Wm(i),i}static async _fromGetAccountInfoResponse(e,r,n){const A=r.users[0];mt(A.localId!==void 0,"internal-error");const i=A.providerUserInfo!==void 0?_F(A.providerUserInfo):[],s=!(A.email&&A.passwordHash)&&!(i!=null&&i.length),o=new jc;o.updateFromIdToken(n);const a=new oo({uid:A.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:i,metadata:new oy(A.createdAt,A.lastLoginAt),isAnonymous:!(A.email&&A.passwordHash)&&!(i!=null&&i.length)};return Object.assign(a,l),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function ao(t){Co(t instanceof Function,"Expected a class definition");let e=I_.get(t);return e?(Co(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}EF.type="NONE";const x_=EF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t,e,r){return`firebase:${t}:${e}:${r}`}class Kc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:A,name:i}=this.auth;this.fullUserKey=nm(this.userKey,A.apiKey,i),this.fullPersistenceKey=nm("persistence",A.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Kc(ao(x_),e,n);const A=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=A[0]||ao(x_);const s=nm(n,e.config.apiKey,e.name);let o=null;for(const l of r)try{const h=await l._get(s);if(h){const d=oo._fromJSON(e,h);l!==i&&(o=d),i=l;break}}catch{}const a=A.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!a.length?new Kc(i,e,n):(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(r.map(async l=>{if(l!==i)try{await l._remove(s)}catch{}})),new Kc(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TF(e))return"Blackberry";if(UF(e))return"Webos";if(IF(e))return"Safari";if((e.includes("chrome/")||xF(e))&&!e.includes("edge/"))return"Chrome";if(SF(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function bF(t=hn()){return/firefox\//i.test(t)}function IF(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xF(t=hn()){return/crios\//i.test(t)}function FF(t=hn()){return/iemobile/i.test(t)}function SF(t=hn()){return/android/i.test(t)}function TF(t=hn()){return/blackberry/i.test(t)}function UF(t=hn()){return/webos/i.test(t)}function vB(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rD(t=hn()){var e;return vB(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nD(){return BR()&&document.documentMode===10}function NF(t=hn()){return vB(t)||SF(t)||UF(t)||TF(t)||/windows phone/i.test(t)||FF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t,e=[]){let r;switch(t){case"Browser":r=F_(hn());break;case"Worker":r=`${F_(hn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${vh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((s,o)=>{try{const a=e(i);s(a)}catch(a){o(a)}});n.onAbort=r,this.queue.push(n);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const A of r)try{A()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e={}){return al(t,"GET","/v2/passwordPolicy",ol(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=6;class oD{constructor(e){var r,n,A,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:sD,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(A=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&A!==void 0?A:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,A,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(r=a.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(n=a.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(A=a.containsLowercaseLetter)!==null&&A!==void 0?A:!0),a.isValid&&(a.isValid=(i=a.containsUppercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsNumericCharacter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),a}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,A=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),A&&(r.meetsMaxPasswordLength=e.length<=A)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let A=0;A<e.length;A++)n=e.charAt(A),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,A,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=A)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,r,n,A){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new AD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ao(r)),this._initializationPromise=this.queue(async()=>{var n,A;if(!this._deleted&&(this.persistenceManager=await Kc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((A=this.currentUser)===null||A===void 0?void 0:A.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await CF(this,{idToken:e}),n=await oo._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ys(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let A=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=A==null?void 0:A._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&(a!=null&&a.user)&&(A=a.user,i=!0)}if(!A)return this.directlySetCurrentUser(null);if(!A._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(A)}catch(s){A=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return A?this.reloadAndSetCurrentUserOrClear(A):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===A._redirectEventId?this.directlySetCurrentUser(A):this.reloadAndSetCurrentUserOrClear(A)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Wm(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ys(this.app))return Promise.reject(ho(this));const r=e?Rr(e):null;return r&&mt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ys(this.app)?Promise.reject(ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ys(this.app)?Promise.reject(ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iD(this),r=new oD(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await tD(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ao(e)||this._popupRedirectResolver;mt(r,this,"argument-error"),this.redirectPersistenceManager=await Kc.create(this,[ao(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,A){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof r=="function"){const a=e.addObserver(r,n,A);return()=>{s=!0,a()}}else{const a=e.addObserver(r);return()=>{s=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const A=await this._getAppCheckToken();return A&&(r["X-Firebase-AppCheck"]=A),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Dk(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Eu(t){return Rr(t)}class S_{constructor(e){this.auth=e,this.observer=null,this.addObserver=xR(r=>this.observer=r)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lD(t){H0=t}function LF(t){return H0.loadJS(t)}function uD(){return H0.recaptchaEnterpriseScript}function cD(){return H0.gapiScript}function hD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dD="recaptcha-enterprise",fD="NO_RECAPTCHA";class pD{constructor(e){this.type=dD,this.auth=Eu(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{zk(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new qk(a);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,s(l.siteKey)}}).catch(a=>{o(a)})})}function A(i,s,o){const a=window.grecaptcha;E_(a)?a.enterprise.ready(()=>{a.enterprise.execute(i,{action:e}).then(l=>{s(l)}).catch(()=>{s(fD)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{n(this.auth).then(o=>{if(!r&&E_(window.grecaptcha))A(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let a=uD();a.length!==0&&(a+=o),LF(a).then(()=>{A(o,i,s)}).catch(l=>{s(l)})}}).catch(o=>{s(o)})})}}async function T_(t,e,r,n=!1){const A=new pD(t);let i;try{i=await A.verify(r)}catch{i=await A.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ay(t,e,r,n){var A;if(!((A=t._getRecaptchaConfig())===null||A===void 0)&&A.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await T_(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await T_(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e){const r=fB(t,"auth");if(r.isInitialized()){const A=r.getImmediate(),i=r.getOptions();if(Gm(i,e??{}))return A;zi(A,"already-initialized")}return r.initialize({options:e})}function mD(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ao);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function wD(t,e,r){const n=Eu(t);mt(n._canInitEmulator,n,"emulator-config-failed"),mt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const A=!1,i=PF(e),{host:s,port:o}=vD(e),a=o===null?"":`:${o}`;n.config.emulator={url:`${i}//${s}${a}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:A})}),yD()}function PF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vD(t){const e=PF(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(n);if(A){const i=A[1];return{host:i,port:U_(n.substr(i.length+1))}}else{const[i,s]=n.split(":");return{host:i,port:U_(s)}}}function U_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yD(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,r){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}}async function BD(t,e){return al(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e){return rp(t,"POST","/v1/accounts:signInWithPassword",ol(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e){return rp(t,"POST","/v1/accounts:signInWithEmailLink",ol(t,e))}async function ED(t,e){return rp(t,"POST","/v1/accounts:signInWithEmailLink",ol(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends yB{constructor(e,r,n,A=null){super("password",n),this._email=e,this._password=r,this._tenantId=A}static _fromEmailAndPassword(e,r){return new If(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new If(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ay(e,r,"signInWithPassword",CD);case"emailLink":return _D(e,{email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ay(e,n,"signUpPassword",BD);case"emailLink":return ED(e,{idToken:r,email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t,e){return rp(t,"POST","/v1/accounts:signInWithIdp",ol(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="http://localhost";class cu extends yB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new cu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):zi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:A}=r,i=pB(r,["providerId","signInMethod"]);if(!n||!A)return null;const s=new cu(n,A);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Gc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Gc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Gc(e,r)}buildRequest(){const e={requestUri:bD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ep(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xD(t){const e=Bd(Cd(t)).link,r=e?Bd(Cd(e)).deep_link_id:null,n=Bd(Cd(t)).deep_link_id;return(n?Bd(Cd(n)).link:null)||n||r||e||t}class BB{constructor(e){var r,n,A,i,s,o;const a=Bd(Cd(e)),l=(r=a.apiKey)!==null&&r!==void 0?r:null,h=(n=a.oobCode)!==null&&n!==void 0?n:null,d=ID((A=a.mode)!==null&&A!==void 0?A:null);mt(l&&h&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=h,this.continueUrl=(i=a.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=a.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=a.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=xD(e);try{return new BB(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this.providerId=yh.PROVIDER_ID}static credential(e,r){return If._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=BB.parseLink(r);return mt(n,"argument-error"),If._fromEmailAndCode(e,n.code,n.tenantId)}}yh.PROVIDER_ID="password";yh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends RF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends np{constructor(){super("facebook.com")}static credential(e){return cu._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.FACEBOOK_SIGN_IN_METHOD="facebook.com";va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends np{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return cu._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ya.credential(r,n)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends np{constructor(){super("github.com")}static credential(e){return cu._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends np{constructor(){super("twitter.com")}static credential(e,r){return cu._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ca.credential(r,n)}catch{return null}}}Ca.TWITTER_SIGN_IN_METHOD="twitter.com";Ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e){return rp(t,"POST","/v1/accounts:signUp",ol(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,A=!1){const i=await oo._fromIdTokenResponse(e,n,A),s=N_(n);return new hu({user:i,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const A=N_(n);return new hu({user:e,providerId:A,_tokenResponse:n,operationType:r})}}function N_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends xo{constructor(e,r,n,A){var i;super(r.code,r.message),this.operationType=n,this.user=A,Object.setPrototypeOf(this,$m.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,A){return new $m(e,r,n,A)}}function kF(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$m._fromErrorAndOperation(t,i,e,n):i})}async function SD(t,e,r=!1){const n=await bf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return hu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e,r=!1){const{auth:n}=t;if(ys(n.app))return Promise.reject(ho(n));const A="reauthenticate";try{const i=await bf(t,kF(n,A,e,t),r);mt(i.idToken,n,"internal-error");const s=wB(i.idToken);mt(s,n,"internal-error");const{sub:o}=s;return mt(t.uid===o,n,"user-mismatch"),hu._forOperation(t,A,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&zi(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,e,r=!1){if(ys(t.app))return Promise.reject(ho(t));const n="signIn",A=await kF(t,n,e),i=await hu._fromIdTokenResponse(t,n,A);return r||await t._updateCurrentUser(i.user),i}async function UD(t,e){return DF(Eu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t){const e=Eu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ND(t,e,r){if(ys(t.app))return Promise.reject(ho(t));const n=Eu(t),s=await ay(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FD).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&OF(t),a}),o=await hu._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function QD(t,e,r){return ys(t.app)?Promise.reject(ho(t)):UD(Rr(t),yh.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&OF(t),n})}function LD(t,e,r,n){return Rr(t).onIdTokenChanged(e,r,n)}function PD(t,e,r){return Rr(t).beforeAuthStateChanged(e,r)}function MF(t,e,r,n){return Rr(t).onAuthStateChanged(e,r,n)}function RD(t){return Rr(t).signOut()}const Jm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Jm,"1"),this.storage.removeItem(Jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=1e3,DD=10;class VF extends HF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),A=this.localCache[r];n!==A&&e(r,A,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,a)=>{this.notifyListeners(s,a)});return}const n=e.key;r?this.detachListener():this.stopPolling();const A=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);nD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(A,DD):A()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const A of Array.from(n))A(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},kD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}VF.type="LOCAL";const OD=VF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF extends HF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}jF.type="SESSION";const KF=jF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(A=>A.isListeningto(e));if(r)return r;const n=new V0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:A,data:i}=r.data,s=this.handlersMap[A];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:A});const o=Array.from(s).map(async l=>l(r.origin,i)),a=await MD(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:A,response:a})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}V0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=CB("",20);A.port1.start();const h=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:A,onMessage(d){const p=d;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(h),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(s),A.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[A.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function VD(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function jD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GD(){return GF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="firebaseLocalStorageDb",qD=1,Xm="firebaseLocalStorage",zF="fbase_key";class Ap{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function j0(t,e){return t.transaction([Xm],e?"readwrite":"readonly").objectStore(Xm)}function zD(){const t=indexedDB.deleteDatabase(qF);return new Ap(t).toPromise()}function ly(){const t=indexedDB.open(qF,qD);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Xm,{keyPath:zF})}catch(A){r(A)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Xm)?e(n):(n.close(),await zD(),e(await ly()))})})}async function Q_(t,e,r){const n=j0(t,!0).put({[zF]:e,value:r});return new Ap(n).toPromise()}async function WD(t,e){const r=j0(t,!1).get(e),n=await new Ap(r).toPromise();return n===void 0?null:n.value}function L_(t,e){const r=j0(t,!0).delete(e);return new Ap(r).toPromise()}const $D=800,JD=3;class WF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ly(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>JD)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=V0._getInstance(GD()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await jD(),!this.activeServiceWorker)return;this.sender=new HD(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ly();return await Q_(e,Jm,"1"),await L_(e,Jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>WD(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>L_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(A=>{const i=j0(A,!1).getAll();return new Ap(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:A,value:i}of e)n.add(A),JSON.stringify(this.localCache[A])!==JSON.stringify(i)&&(this.notifyListeners(A,i),r.push(A));for(const A of Object.keys(this.localCache))this.localCache[A]&&!n.has(A)&&(this.notifyListeners(A,null),r.push(A));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const A of Array.from(n))A(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WF.type="LOCAL";const XD=WF;new tp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e){return e?ao(e):(mt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B extends yB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Gc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Gc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function ZD(t){return DF(t.auth,new _B(t),t.bypassAuthState)}function e6(t){const{auth:e,user:r}=t;return mt(r,e,"internal-error"),TD(r,new _B(t),t.bypassAuthState)}async function t6(t){const{auth:e,user:r}=t;return mt(r,e,"internal-error"),SD(r,new _B(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,r,n,A,i=!1){this.auth=e,this.resolver=n,this.user=A,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:A,tenantId:i,error:s,type:o}=e;if(s){this.reject(s);return}const a={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:A||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZD;case"linkViaPopup":case"linkViaRedirect":return t6;case"reauthViaPopup":case"reauthViaRedirect":return e6;default:zi(this.auth,"internal-error")}}resolve(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=new tp(2e3,1e4);class Lc extends $F{constructor(e,r,n,A,i){super(e,r,A,i),this.provider=n,this.authWindow=null,this.pollId=null,Lc.currentPopupAction&&Lc.currentPopupAction.cancel(),Lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){Co(this.filter.length===1,"Popup operations only handle one event");const e=CB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r6.get())};e()}}Lc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="pendingRedirect",Am=new Map;class A6 extends $F{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Am.get(this.auth._key());if(!e){try{const n=await i6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Am.set(this.auth._key(),e)}return this.bypassAuthState||Am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i6(t,e){const r=a6(e),n=o6(t);if(!await n._isAvailable())return!1;const A=await n._get(r)==="true";return await n._remove(r),A}function s6(t,e){Am.set(t._key(),e)}function o6(t){return ao(t._redirectPersistence)}function a6(t){return nm(n6,t.config.apiKey,t.name)}async function l6(t,e,r=!1){if(ys(t.app))return Promise.reject(ho(t));const n=Eu(t),A=YD(n,e),s=await new A6(n,A,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=10*60*1e3;class c6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h6(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!JF(e)){const A=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Is(this.auth,A))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u6&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,e={}){return al(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p6=/^https?/;async function g6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await d6(t);for(const r of e)try{if(m6(r))return}catch{}zi(t,"unauthorized-domain")}function m6(t){const e=sy(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!p6.test(r))return!1;if(f6.test(t))return n===t;const A=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new tp(3e4,6e4);function R_(){const t=xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function v6(t){return new Promise((e,r)=>{var n,A,i;function s(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),r(Is(t,"network-request-failed"))},timeout:w6.get()})}if(!((A=(n=xs().gapi)===null||n===void 0?void 0:n.iframes)===null||A===void 0)&&A.Iframe)e(gapi.iframes.getContext());else if(!((i=xs().gapi)===null||i===void 0)&&i.load)s();else{const o=hD("iframefcb");return xs()[o]=()=>{gapi.load?s():r(Is(t,"network-request-failed"))},LF(`${cD()}?onload=${o}`).catch(a=>r(a))}}).catch(e=>{throw im=null,e})}let im=null;function y6(t){return im=im||v6(t),im}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new tp(5e3,15e3),C6="__/auth/iframe",_6="emulator/auth/iframe",E6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I6(t){const e=t.config;mt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?mB(e,_6):`https://${t.config.authDomain}/${C6}`,n={apiKey:e.apiKey,appName:t.name,v:vh},A=b6.get(t.config.apiHost);A&&(n.eid=A);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${ep(n).slice(1)}`}async function x6(t){const e=await y6(t),r=xs().gapi;return mt(r,t,"internal-error"),e.open({where:document.body,url:I6(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E6,dontclear:!0},n=>new Promise(async(A,i)=>{await n.restyle({setHideOnLeave:!1});const s=Is(t,"network-request-failed"),o=xs().setTimeout(()=>{i(s)},B6.get());function a(){xs().clearTimeout(o),A(n)}n.ping(a).then(a,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S6=500,T6=600,U6="_blank",N6="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q6(t,e,r,n=S6,A=T6){const i=Math.max((window.screen.availHeight-A)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const a=Object.assign(Object.assign({},F6),{width:n.toString(),height:A.toString(),top:i,left:s}),l=hn().toLowerCase();r&&(o=xF(l)?U6:r),bF(l)&&(e=e||N6,a.scrollbars="yes");const h=Object.entries(a).reduce((p,[g,E])=>`${p}${g}=${E},`,"");if(rD(l)&&o!=="_self")return L6(e||"",o),new k_(null);const d=window.open(e||"",o,h);mt(d,t,"popup-blocked");try{d.focus()}catch{}return new k_(d)}function L6(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="__/auth/handler",R6="emulator/auth/handler",k6=encodeURIComponent("fac");async function D_(t,e,r,n,A,i){mt(t.config.authDomain,t,"auth-domain-config-required"),mt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:vh,eventId:A};if(e instanceof RF){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",IR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))s[h]=d}if(e instanceof np){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const a=await t._getAppCheckToken(),l=a?`#${k6}=${encodeURIComponent(a)}`:"";return`${D6(t)}?${ep(o).slice(1)}${l}`}function D6({config:t}){return t.emulator?mB(t,R6):`https://${t.authDomain}/${P6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="webStorageSupport";class O6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KF,this._completeRedirectFn=l6,this._overrideRedirectResult=s6}async _openPopup(e,r,n,A){var i;Co((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await D_(e,r,n,sy(),A);return Q6(e,s,CB())}async _openRedirect(e,r,n,A){await this._originValidation(e);const i=await D_(e,r,n,sy(),A);return VD(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:A,promise:i}=this.eventManagers[r];return A?Promise.resolve(A):(Co(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await x6(e),n=new c6(e);return r.register("authEvent",A=>(mt(A==null?void 0:A.authEvent,e,"invalid-auth-event"),{status:n.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(C1,{type:C1},A=>{var i;const s=(i=A==null?void 0:A[0])===null||i===void 0?void 0:i[C1];s!==void 0&&r(!!s),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=g6(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return NF()||IF()||vB()}}const M6=O6;var O_="@firebase/auth",M_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j6(t){rh(new uu("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),A=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;mt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QF(t)},l=new aD(n,A,i,a);return mD(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),rh(new uu("auth-internal",e=>{const r=Eu(e.getProvider("auth").getImmediate());return(n=>new H6(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ja(O_,M_,V6(t)),ja(O_,M_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=5*60,G6=oF("authIdTokenMaxAge")||K6;let H_=null;const q6=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>G6)return;const A=r==null?void 0:r.token;H_!==A&&(H_=A,await fetch(t,{method:A?"POST":"DELETE",headers:A?{Authorization:`Bearer ${A}`}:{}}))};function z6(t=dF()){const e=fB(t,"auth");if(e.isInitialized())return e.getImmediate();const r=gD(t,{popupRedirectResolver:M6,persistence:[XD,OD,KF]}),n=oF("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const s=q6(i.toString());PD(r,s,()=>s(r.currentUser)),LD(r,o=>s(o))}}const A=iF("auth");return A&&wD(r,`http://${A}`),r}function W6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lD({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=A=>{const i=Is("internal-error");i.customData=A,r(i)},n.type="text/javascript",n.charset="UTF-8",W6().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j6("Browser");var $6="firebase",J6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ja($6,J6,"app");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yl,XF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,b){function Q(){}Q.prototype=b.prototype,S.D=b.prototype,S.prototype=new Q,S.prototype.constructor=S,S.C=function(O,x,U){for(var L=Array(arguments.length-2),$=2;$<arguments.length;$++)L[$-2]=arguments[$];return b.prototype[x].apply(O,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function A(S,b,Q){Q||(Q=0);var O=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)O[x]=b.charCodeAt(Q++)|b.charCodeAt(Q++)<<8|b.charCodeAt(Q++)<<16|b.charCodeAt(Q++)<<24;else for(x=0;16>x;++x)O[x]=b[Q++]|b[Q++]<<8|b[Q++]<<16|b[Q++]<<24;b=S.g[0],Q=S.g[1],x=S.g[2];var U=S.g[3],L=b+(U^Q&(x^U))+O[0]+3614090360&4294967295;b=Q+(L<<7&4294967295|L>>>25),L=U+(x^b&(Q^x))+O[1]+3905402710&4294967295,U=b+(L<<12&4294967295|L>>>20),L=x+(Q^U&(b^Q))+O[2]+606105819&4294967295,x=U+(L<<17&4294967295|L>>>15),L=Q+(b^x&(U^b))+O[3]+3250441966&4294967295,Q=x+(L<<22&4294967295|L>>>10),L=b+(U^Q&(x^U))+O[4]+4118548399&4294967295,b=Q+(L<<7&4294967295|L>>>25),L=U+(x^b&(Q^x))+O[5]+1200080426&4294967295,U=b+(L<<12&4294967295|L>>>20),L=x+(Q^U&(b^Q))+O[6]+2821735955&4294967295,x=U+(L<<17&4294967295|L>>>15),L=Q+(b^x&(U^b))+O[7]+4249261313&4294967295,Q=x+(L<<22&4294967295|L>>>10),L=b+(U^Q&(x^U))+O[8]+1770035416&4294967295,b=Q+(L<<7&4294967295|L>>>25),L=U+(x^b&(Q^x))+O[9]+2336552879&4294967295,U=b+(L<<12&4294967295|L>>>20),L=x+(Q^U&(b^Q))+O[10]+4294925233&4294967295,x=U+(L<<17&4294967295|L>>>15),L=Q+(b^x&(U^b))+O[11]+2304563134&4294967295,Q=x+(L<<22&4294967295|L>>>10),L=b+(U^Q&(x^U))+O[12]+1804603682&4294967295,b=Q+(L<<7&4294967295|L>>>25),L=U+(x^b&(Q^x))+O[13]+4254626195&4294967295,U=b+(L<<12&4294967295|L>>>20),L=x+(Q^U&(b^Q))+O[14]+2792965006&4294967295,x=U+(L<<17&4294967295|L>>>15),L=Q+(b^x&(U^b))+O[15]+1236535329&4294967295,Q=x+(L<<22&4294967295|L>>>10),L=b+(x^U&(Q^x))+O[1]+4129170786&4294967295,b=Q+(L<<5&4294967295|L>>>27),L=U+(Q^x&(b^Q))+O[6]+3225465664&4294967295,U=b+(L<<9&4294967295|L>>>23),L=x+(b^Q&(U^b))+O[11]+643717713&4294967295,x=U+(L<<14&4294967295|L>>>18),L=Q+(U^b&(x^U))+O[0]+3921069994&4294967295,Q=x+(L<<20&4294967295|L>>>12),L=b+(x^U&(Q^x))+O[5]+3593408605&4294967295,b=Q+(L<<5&4294967295|L>>>27),L=U+(Q^x&(b^Q))+O[10]+38016083&4294967295,U=b+(L<<9&4294967295|L>>>23),L=x+(b^Q&(U^b))+O[15]+3634488961&4294967295,x=U+(L<<14&4294967295|L>>>18),L=Q+(U^b&(x^U))+O[4]+3889429448&4294967295,Q=x+(L<<20&4294967295|L>>>12),L=b+(x^U&(Q^x))+O[9]+568446438&4294967295,b=Q+(L<<5&4294967295|L>>>27),L=U+(Q^x&(b^Q))+O[14]+3275163606&4294967295,U=b+(L<<9&4294967295|L>>>23),L=x+(b^Q&(U^b))+O[3]+4107603335&4294967295,x=U+(L<<14&4294967295|L>>>18),L=Q+(U^b&(x^U))+O[8]+1163531501&4294967295,Q=x+(L<<20&4294967295|L>>>12),L=b+(x^U&(Q^x))+O[13]+2850285829&4294967295,b=Q+(L<<5&4294967295|L>>>27),L=U+(Q^x&(b^Q))+O[2]+4243563512&4294967295,U=b+(L<<9&4294967295|L>>>23),L=x+(b^Q&(U^b))+O[7]+1735328473&4294967295,x=U+(L<<14&4294967295|L>>>18),L=Q+(U^b&(x^U))+O[12]+2368359562&4294967295,Q=x+(L<<20&4294967295|L>>>12),L=b+(Q^x^U)+O[5]+4294588738&4294967295,b=Q+(L<<4&4294967295|L>>>28),L=U+(b^Q^x)+O[8]+2272392833&4294967295,U=b+(L<<11&4294967295|L>>>21),L=x+(U^b^Q)+O[11]+1839030562&4294967295,x=U+(L<<16&4294967295|L>>>16),L=Q+(x^U^b)+O[14]+4259657740&4294967295,Q=x+(L<<23&4294967295|L>>>9),L=b+(Q^x^U)+O[1]+2763975236&4294967295,b=Q+(L<<4&4294967295|L>>>28),L=U+(b^Q^x)+O[4]+1272893353&4294967295,U=b+(L<<11&4294967295|L>>>21),L=x+(U^b^Q)+O[7]+4139469664&4294967295,x=U+(L<<16&4294967295|L>>>16),L=Q+(x^U^b)+O[10]+3200236656&4294967295,Q=x+(L<<23&4294967295|L>>>9),L=b+(Q^x^U)+O[13]+681279174&4294967295,b=Q+(L<<4&4294967295|L>>>28),L=U+(b^Q^x)+O[0]+3936430074&4294967295,U=b+(L<<11&4294967295|L>>>21),L=x+(U^b^Q)+O[3]+3572445317&4294967295,x=U+(L<<16&4294967295|L>>>16),L=Q+(x^U^b)+O[6]+76029189&4294967295,Q=x+(L<<23&4294967295|L>>>9),L=b+(Q^x^U)+O[9]+3654602809&4294967295,b=Q+(L<<4&4294967295|L>>>28),L=U+(b^Q^x)+O[12]+3873151461&4294967295,U=b+(L<<11&4294967295|L>>>21),L=x+(U^b^Q)+O[15]+530742520&4294967295,x=U+(L<<16&4294967295|L>>>16),L=Q+(x^U^b)+O[2]+3299628645&4294967295,Q=x+(L<<23&4294967295|L>>>9),L=b+(x^(Q|~U))+O[0]+4096336452&4294967295,b=Q+(L<<6&4294967295|L>>>26),L=U+(Q^(b|~x))+O[7]+1126891415&4294967295,U=b+(L<<10&4294967295|L>>>22),L=x+(b^(U|~Q))+O[14]+2878612391&4294967295,x=U+(L<<15&4294967295|L>>>17),L=Q+(U^(x|~b))+O[5]+4237533241&4294967295,Q=x+(L<<21&4294967295|L>>>11),L=b+(x^(Q|~U))+O[12]+1700485571&4294967295,b=Q+(L<<6&4294967295|L>>>26),L=U+(Q^(b|~x))+O[3]+2399980690&4294967295,U=b+(L<<10&4294967295|L>>>22),L=x+(b^(U|~Q))+O[10]+4293915773&4294967295,x=U+(L<<15&4294967295|L>>>17),L=Q+(U^(x|~b))+O[1]+2240044497&4294967295,Q=x+(L<<21&4294967295|L>>>11),L=b+(x^(Q|~U))+O[8]+1873313359&4294967295,b=Q+(L<<6&4294967295|L>>>26),L=U+(Q^(b|~x))+O[15]+4264355552&4294967295,U=b+(L<<10&4294967295|L>>>22),L=x+(b^(U|~Q))+O[6]+2734768916&4294967295,x=U+(L<<15&4294967295|L>>>17),L=Q+(U^(x|~b))+O[13]+1309151649&4294967295,Q=x+(L<<21&4294967295|L>>>11),L=b+(x^(Q|~U))+O[4]+4149444226&4294967295,b=Q+(L<<6&4294967295|L>>>26),L=U+(Q^(b|~x))+O[11]+3174756917&4294967295,U=b+(L<<10&4294967295|L>>>22),L=x+(b^(U|~Q))+O[2]+718787259&4294967295,x=U+(L<<15&4294967295|L>>>17),L=Q+(U^(x|~b))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(x+(L<<21&4294967295|L>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+U&4294967295}n.prototype.u=function(S,b){b===void 0&&(b=S.length);for(var Q=b-this.blockSize,O=this.B,x=this.h,U=0;U<b;){if(x==0)for(;U<=Q;)A(this,S,U),U+=this.blockSize;if(typeof S=="string"){for(;U<b;)if(O[x++]=S.charCodeAt(U++),x==this.blockSize){A(this,O),x=0;break}}else for(;U<b;)if(O[x++]=S[U++],x==this.blockSize){A(this,O),x=0;break}}this.h=x,this.o+=b},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;var Q=8*this.o;for(b=S.length-8;b<S.length;++b)S[b]=Q&255,Q/=256;for(this.u(S),S=Array(16),b=Q=0;4>b;++b)for(var O=0;32>O;O+=8)S[Q++]=this.g[b]>>>O&255;return S};function i(S,b){var Q=o;return Object.prototype.hasOwnProperty.call(Q,S)?Q[S]:Q[S]=b(S)}function s(S,b){this.h=b;for(var Q=[],O=!0,x=S.length-1;0<=x;x--){var U=S[x]|0;O&&U==b||(Q[x]=U,O=!1)}this.g=Q}var o={};function a(S){return-128<=S&&128>S?i(S,function(b){return new s([b|0],0>b?-1:0)}):new s([S|0],0>S?-1:0)}function l(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return N(l(-S));for(var b=[],Q=1,O=0;S>=Q;O++)b[O]=S/Q|0,Q*=4294967296;return new s(b,0)}function h(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return N(h(S.substring(1),b));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var Q=l(Math.pow(b,8)),O=d,x=0;x<S.length;x+=8){var U=Math.min(8,S.length-x),L=parseInt(S.substring(x,x+U),b);8>U?(U=l(Math.pow(b,U)),O=O.j(U).add(l(L))):(O=O.j(Q),O=O.add(l(L)))}return O}var d=a(0),p=a(1),g=a(16777216);t=s.prototype,t.m=function(){if(_(this))return-N(this).m();for(var S=0,b=1,Q=0;Q<this.g.length;Q++){var O=this.i(Q);S+=(0<=O?O:4294967296+O)*b,b*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(_(this))return"-"+N(this).toString(S);for(var b=l(Math.pow(S,6)),Q=this,O="";;){var x=V(Q,b).g;Q=v(Q,x.j(b));var U=((0<Q.g.length?Q.g[0]:Q.h)>>>0).toString(S);if(Q=x,E(Q))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=v(this,S),_(S)?-1:E(S)?0:1};function N(S){for(var b=S.g.length,Q=[],O=0;O<b;O++)Q[O]=~S.g[O];return new s(Q,~S.h).add(p)}t.abs=function(){return _(this)?N(this):this},t.add=function(S){for(var b=Math.max(this.g.length,S.g.length),Q=[],O=0,x=0;x<=b;x++){var U=O+(this.i(x)&65535)+(S.i(x)&65535),L=(U>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);O=L>>>16,U&=65535,L&=65535,Q[x]=L<<16|U}return new s(Q,Q[Q.length-1]&-2147483648?-1:0)};function v(S,b){return S.add(N(b))}t.j=function(S){if(E(this)||E(S))return d;if(_(this))return _(S)?N(this).j(N(S)):N(N(this).j(S));if(_(S))return N(this.j(N(S)));if(0>this.l(g)&&0>S.l(g))return l(this.m()*S.m());for(var b=this.g.length+S.g.length,Q=[],O=0;O<2*b;O++)Q[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<S.g.length;x++){var U=this.i(O)>>>16,L=this.i(O)&65535,$=S.i(x)>>>16,pe=S.i(x)&65535;Q[2*O+2*x]+=L*pe,y(Q,2*O+2*x),Q[2*O+2*x+1]+=U*pe,y(Q,2*O+2*x+1),Q[2*O+2*x+1]+=L*$,y(Q,2*O+2*x+1),Q[2*O+2*x+2]+=U*$,y(Q,2*O+2*x+2)}for(O=0;O<b;O++)Q[O]=Q[2*O+1]<<16|Q[2*O];for(O=b;O<2*b;O++)Q[O]=0;return new s(Q,0)};function y(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function T(S,b){this.g=S,this.h=b}function V(S,b){if(E(b))throw Error("division by zero");if(E(S))return new T(d,d);if(_(S))return b=V(N(S),b),new T(N(b.g),N(b.h));if(_(b))return b=V(S,N(b)),new T(N(b.g),b.h);if(30<S.g.length){if(_(S)||_(b))throw Error("slowDivide_ only works with positive integers.");for(var Q=p,O=b;0>=O.l(S);)Q=D(Q),O=D(O);var x=j(Q,1),U=j(O,1);for(O=j(O,2),Q=j(Q,2);!E(O);){var L=U.add(O);0>=L.l(S)&&(x=x.add(Q),U=L),O=j(O,1),Q=j(Q,1)}return b=v(S,x.j(b)),new T(x,b)}for(x=d;0<=S.l(b);){for(Q=Math.max(1,Math.floor(S.m()/b.m())),O=Math.ceil(Math.log(Q)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=l(Q),L=U.j(b);_(L)||0<L.l(S);)Q-=O,U=l(Q),L=U.j(b);E(U)&&(U=p),x=x.add(U),S=v(S,L)}return new T(x,S)}t.A=function(S){return V(this,S).h},t.and=function(S){for(var b=Math.max(this.g.length,S.g.length),Q=[],O=0;O<b;O++)Q[O]=this.i(O)&S.i(O);return new s(Q,this.h&S.h)},t.or=function(S){for(var b=Math.max(this.g.length,S.g.length),Q=[],O=0;O<b;O++)Q[O]=this.i(O)|S.i(O);return new s(Q,this.h|S.h)},t.xor=function(S){for(var b=Math.max(this.g.length,S.g.length),Q=[],O=0;O<b;O++)Q[O]=this.i(O)^S.i(O);return new s(Q,this.h^S.h)};function D(S){for(var b=S.g.length+1,Q=[],O=0;O<b;O++)Q[O]=S.i(O)<<1|S.i(O-1)>>>31;return new s(Q,S.h)}function j(S,b){var Q=b>>5;b%=32;for(var O=S.g.length-Q,x=[],U=0;U<O;U++)x[U]=0<b?S.i(U+Q)>>>b|S.i(U+Q+1)<<32-b:S.i(U+Q);return new s(x,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,XF=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Yl=s}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YF,_d,ZF,sm,uy,eS,tS,rS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,C,F){return c==Array.prototype||c==Object.prototype||(c[C]=F.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lg=="object"&&lg];for(var C=0;C<c.length;++C){var F=c[C];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=r(this);function A(c,C){if(C)e:{var F=n;c=c.split(".");for(var K=0;K<c.length-1;K++){var ue=c[K];if(!(ue in F))break e;F=F[ue]}c=c[c.length-1],K=F[c],C=C(K),C!=K&&C!=null&&e(F,c,{configurable:!0,writable:!0,value:C})}}function i(c,C){c instanceof String&&(c+="");var F=0,K=!1,ue={next:function(){if(!K&&F<c.length){var ye=F++;return{value:C(ye,c[ye]),done:!1}}return K=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}A("Array.prototype.values",function(c){return c||function(){return i(this,function(C,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(c){var C=typeof c;return C=C!="object"?C:c?Array.isArray(c)?"array":C:"null",C=="array"||C=="object"&&typeof c.length=="number"}function l(c){var C=typeof c;return C=="object"&&c!=null||C=="function"}function h(c,C,F){return c.call.apply(c.bind,arguments)}function d(c,C,F){if(!c)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,K),c.apply(C,ue)}}return function(){return c.apply(C,arguments)}}function p(c,C,F){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function g(c,C){var F=Array.prototype.slice.call(arguments,1);return function(){var K=F.slice();return K.push.apply(K,arguments),c.apply(this,K)}}function E(c,C){function F(){}F.prototype=C.prototype,c.aa=C.prototype,c.prototype=new F,c.prototype.constructor=c,c.Qb=function(K,ue,ye){for(var Pe=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)Pe[yt-2]=arguments[yt];return C.prototype[ue].apply(K,Pe)}}function _(c){const C=c.length;if(0<C){const F=Array(C);for(let K=0;K<C;K++)F[K]=c[K];return F}return[]}function N(c,C){for(let F=1;F<arguments.length;F++){const K=arguments[F];if(a(K)){const ue=c.length||0,ye=K.length||0;c.length=ue+ye;for(let Pe=0;Pe<ye;Pe++)c[ue+Pe]=K[Pe]}else c.push(K)}}class v{constructor(C,F){this.i=C,this.j=F,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function y(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=o.navigator;return c&&(c=c.userAgent)?c:""}function V(c){return V[" "](c),c}V[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function j(c,C,F){for(const K in c)C.call(F,c[K],K,c)}function S(c,C){for(const F in c)C.call(void 0,c[F],F,c)}function b(c){const C={};for(const F in c)C[F]=c[F];return C}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,C){let F,K;for(let ue=1;ue<arguments.length;ue++){K=arguments[ue];for(F in K)c[F]=K[F];for(let ye=0;ye<Q.length;ye++)F=Q[ye],Object.prototype.hasOwnProperty.call(K,F)&&(c[F]=K[F])}}function x(c){var C=1;c=c.split(":");const F=[];for(;0<C&&c.length;)F.push(c.shift()),C--;return c.length&&F.push(c.join(":")),F}function U(c){o.setTimeout(()=>{throw c},0)}function L(){var c=le;let C=null;return c.g&&(C=c.g,c.g=c.g.next,c.g||(c.h=null),C.next=null),C}class ${constructor(){this.h=this.g=null}add(C,F){const K=pe.get();K.set(C,F),this.h?this.h.next=K:this.g=K,this.h=K}}var pe=new v(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(C,F){this.h=C,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ee=!1,le=new $,he=()=>{const c=o.Promise.resolve(void 0);ge=()=>{c.then(Ue)}};var Ue=()=>{for(var c;c=L();){try{c.h.call(c.g)}catch(F){U(F)}var C=pe;C.j(c),100>C.h&&(C.h++,c.next=C.g,C.g=c)}ee=!1};function k(){this.s=this.s,this.C=this.C}k.prototype.s=!1,k.prototype.ma=function(){this.s||(this.s=!0,this.N())},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,C){this.type=c,this.g=this.target=C,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,C=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const F=()=>{};o.addEventListener("test",F,C),o.removeEventListener("test",F,C)}catch{}return c}();function z(c,C){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var F=this.type=c.type,K=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=C,C=c.relatedTarget){if(D){e:{try{V(C.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(C=null)}}else F=="mouseover"?C=c.fromElement:F=="mouseout"&&(C=c.toElement);this.relatedTarget=C,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&z.aa.h.call(this)}}E(z,W);var re={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),me=0;function Ce(c,C,F,K,ue){this.listener=c,this.proxy=null,this.src=C,this.type=F,this.capture=!!K,this.ha=ue,this.key=++me,this.da=this.fa=!1}function Re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,C,F,K,ue){var ye=c.toString();c=this.g[ye],c||(c=this.g[ye]=[],this.h++);var Pe=Ne(c,C,K,ue);return-1<Pe?(C=c[Pe],F||(C.fa=!1)):(C=new Ce(C,this.src,ye,!!K,ue),C.fa=F,c.push(C)),C};function xe(c,C){var F=C.type;if(F in c.g){var K=c.g[F],ue=Array.prototype.indexOf.call(K,C,void 0),ye;(ye=0<=ue)&&Array.prototype.splice.call(K,ue,1),ye&&(Re(C),c.g[F].length==0&&(delete c.g[F],c.h--))}}function Ne(c,C,F,K){for(var ue=0;ue<c.length;++ue){var ye=c[ue];if(!ye.da&&ye.listener==C&&ye.capture==!!F&&ye.ha==K)return ue}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),_e={};function Z(c,C,F,K,ue){if(Array.isArray(C)){for(var ye=0;ye<C.length;ye++)Z(c,C[ye],F,K,ue);return null}return F=vt(F),c&&c[fe]?c.K(C,F,l(K)?!!K.capture:!1,ue):Je(c,C,F,!1,K,ue)}function Je(c,C,F,K,ue,ye){if(!C)throw Error("Invalid event type");var Pe=l(ue)?!!ue.capture:!!ue,yt=st(c);if(yt||(c[Ye]=yt=new Ae(c)),F=yt.add(C,F,K,Pe,ye),F.proxy)return F;if(K=At(),F.proxy=K,K.src=c,K.listener=F,c.addEventListener)Y||(ue=Pe),ue===void 0&&(ue=!1),c.addEventListener(C.toString(),K,ue);else if(c.attachEvent)c.attachEvent(qe(C.toString()),K);else if(c.addListener&&c.removeListener)c.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return F}function At(){function c(F){return C.call(c.src,c.listener,F)}const C=Ke;return c}function ke(c,C,F,K,ue){if(Array.isArray(C))for(var ye=0;ye<C.length;ye++)ke(c,C[ye],F,K,ue);else K=l(K)?!!K.capture:!!K,F=vt(F),c&&c[fe]?(c=c.i,C=String(C).toString(),C in c.g&&(ye=c.g[C],F=Ne(ye,F,K,ue),-1<F&&(Re(ye[F]),Array.prototype.splice.call(ye,F,1),ye.length==0&&(delete c.g[C],c.h--)))):c&&(c=st(c))&&(C=c.g[C.toString()],c=-1,C&&(c=Ne(C,F,K,ue)),(F=-1<c?C[c]:null)&&He(F))}function He(c){if(typeof c!="number"&&c&&!c.da){var C=c.src;if(C&&C[fe])xe(C.i,c);else{var F=c.type,K=c.proxy;C.removeEventListener?C.removeEventListener(F,K,c.capture):C.detachEvent?C.detachEvent(qe(F),K):C.addListener&&C.removeListener&&C.removeListener(K),(F=st(C))?(xe(F,c),F.h==0&&(F.src=null,C[Ye]=null)):Re(c)}}}function qe(c){return c in _e?_e[c]:_e[c]="on"+c}function Ke(c,C){if(c.da)c=!0;else{C=new z(C,this);var F=c.listener,K=c.ha||c.src;c.fa&&He(c),c=F.call(K,C)}return c}function st(c){return c=c[Ye],c instanceof Ae?c:null}var pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(c){return typeof c=="function"?c:(c[pt]||(c[pt]=function(C){return c.handleEvent(C)}),c[pt])}function at(){k.call(this),this.i=new Ae(this),this.M=this,this.F=null}E(at,k),at.prototype[fe]=!0,at.prototype.removeEventListener=function(c,C,F,K){ke(this,c,C,F,K)};function dt(c,C){var F,K=c.F;if(K)for(F=[];K;K=K.F)F.push(K);if(c=c.M,K=C.type||C,typeof C=="string")C=new W(C,c);else if(C instanceof W)C.target=C.target||c;else{var ue=C;C=new W(K,c),O(C,ue)}if(ue=!0,F)for(var ye=F.length-1;0<=ye;ye--){var Pe=C.g=F[ye];ue=kt(Pe,K,!0,C)&&ue}if(Pe=C.g=c,ue=kt(Pe,K,!0,C)&&ue,ue=kt(Pe,K,!1,C)&&ue,F)for(ye=0;ye<F.length;ye++)Pe=C.g=F[ye],ue=kt(Pe,K,!1,C)&&ue}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,C;for(C in c.g){for(var F=c.g[C],K=0;K<F.length;K++)Re(F[K]);delete c.g[C],c.h--}}this.F=null},at.prototype.K=function(c,C,F,K){return this.i.add(String(c),C,!1,F,K)},at.prototype.L=function(c,C,F,K){return this.i.add(String(c),C,!0,F,K)};function kt(c,C,F,K){if(C=c.i.g[String(C)],!C)return!0;C=C.concat();for(var ue=!0,ye=0;ye<C.length;++ye){var Pe=C[ye];if(Pe&&!Pe.da&&Pe.capture==F){var yt=Pe.listener,St=Pe.ha||Pe.src;Pe.fa&&xe(c.i,Pe),ue=yt.call(St,K)!==!1&&ue}}return ue&&!K.defaultPrevented}function ht(c,C,F){if(typeof c=="function")F&&(c=p(c,F));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:o.setTimeout(c,C||0)}function bt(c){c.g=ht(()=>{c.g=null,c.i&&(c.i=!1,bt(c))},c.l);const C=c.h;c.h=null,c.m.apply(null,C)}class We extends k{constructor(C,F){super(),this.m=C,this.l=F,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(c){k.call(this),this.h=c,this.g={}}E(Tr,k);var Lt=[];function fA(c){j(c.g,function(C,F){this.g.hasOwnProperty(F)&&He(C)},c),c.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),fA(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=o.JSON.stringify,or=o.JSON.parse,YA=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Pt(){}Pt.prototype.h=null;function es(c){return c.h||(c.h=c.i())}function dr(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function NA(){W.call(this,"d")}E(NA,W);function ar(){W.call(this,"c")}E(ar,W);var lt={},Dt=null;function ZA(){return Dt=Dt||new at}lt.La="serverreachability";function Wr(c){W.call(this,lt.La,c)}E(Wr,W);function kn(c){const C=ZA();dt(C,new Wr(C))}lt.STAT_EVENT="statevent";function QA(c,C){W.call(this,lt.STAT_EVENT,c),this.stat=C}E(QA,W);function et(c){const C=ZA();dt(C,new QA(C,c))}lt.Ma="timingevent";function pA(c,C){W.call(this,lt.Ma,c),this.size=C}E(pA,W);function Dn(c,C){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},C)}function $r(){this.g=!0}$r.prototype.xa=function(){this.g=!1};function kr(c,C,F,K,ue,ye){c.info(function(){if(c.g)if(ye)for(var Pe="",yt=ye.split("&"),St=0;St<yt.length;St++){var Bt=yt[St].split("=");if(1<Bt.length){var Gt=Bt[0];Bt=Bt[1];var Ar=Gt.split("_");Pe=2<=Ar.length&&Ar[1]=="type"?Pe+(Gt+"="+Bt+"&"):Pe+(Gt+"=redacted&")}}else Pe=null;else Pe=ye;return"XMLHTTP REQ ("+K+") [attempt "+ue+"]: "+C+`
`+F+`
`+Pe})}function Ur(c,C,F,K,ue,ye,Pe){c.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ue+"]: "+C+`
`+F+`
`+ye+" "+Pe})}function Jr(c,C,F,K){c.info(function(){return"XMLHTTP TEXT ("+C+"): "+Bi(c,F)+(K?" "+K:"")})}function So(c,C){c.info(function(){return"TIMEOUT: "+C})}$r.prototype.info=function(){};function Bi(c,C){if(!c.g)return C;if(!C)return null;try{var F=JSON.parse(C);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var K=F[c];if(!(2>K.length)){var ue=K[1];if(Array.isArray(ue)&&!(1>ue.length)){var ye=ue[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Pe=1;Pe<ue.length;Pe++)ue[Pe]=""}}}}return Vt(F)}catch{return C}}var On={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gA={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function eA(){}E(eA,Pt),eA.prototype.g=function(){return new XMLHttpRequest},eA.prototype.i=function(){return{}},Zn=new eA;function Dr(c,C,F,K){this.j=c,this.i=C,this.l=F,this.R=K||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new LA}function LA(){this.i=null,this.g="",this.h=!1}var ts={},rs={};function ns(c,C,F){c.L=1,c.v=Ds(tA(C)),c.m=F,c.P=!0,Qs(c,null)}function Qs(c,C){c.F=Date.now(),To(c),c.A=tA(c.v);var F=c.A,K=c.R;Array.isArray(K)||(K=[String(K)]),gt(F.i,"t",K),c.C=0,F=c.j.J,c.h=new LA,c.g=P(c.j,F?C:null,!c.m),0<c.O&&(c.M=new We(p(c.Y,c,c.g),c.O)),C=c.U,F=c.g,K=c.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(Lt[0]=ue.toString()),ue=Lt);for(var ye=0;ye<ue.length;ye++){var Pe=Z(F,ue[ye],K||C.handleEvent,!1,C.h||C);if(!Pe)break;C.g[Pe.key]=Pe}C=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,C)):(c.u="GET",c.g.ea(c.A,c.u,null,C)),kn(),kr(c.i,c.u,c.A,c.l,c.R,c.m)}Dr.prototype.ca=function(c){c=c.target;const C=this.M;C&&nn(c)==3?C.j():this.Y(c)},Dr.prototype.Y=function(c){try{if(c==this.g)e:{const Ar=nn(this.g);var C=this.g.Ba();const Si=this.g.Z();if(!(3>Ar)&&(Ar!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||Ar!=4||C==7||(C==8||0>=Si?kn(3):kn(2)),As(this);var F=this.g.Z();this.X=F;t:if(Ls(this)){var K=Du(this.g);c="";var ue=K.length,ye=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),is(this);var Pe="";break t}this.h.i=new o.TextDecoder}for(C=0;C<ue;C++)this.h.h=!0,c+=this.h.i.decode(K[C],{stream:!(ye&&C==ue-1)});K.length=0,this.h.g+=c,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=F==200,Ur(this.i,this.u,this.A,this.l,this.R,Ar,F),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,St=this.g;if((yt=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(yt)){var Bt=yt;break t}}Bt=null}if(F=Bt)Jr(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,F);else{this.o=!1,this.s=3,et(12),Ci(this),is(this);break e}}if(this.P){F=!0;let _n;for(;!this.J&&this.C<Pe.length;)if(_n=Su(this,Pe),_n==rs){Ar==4&&(this.s=4,et(14),F=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==ts){this.s=4,et(15),Jr(this.i,this.l,Pe,"[Invalid Chunk]"),F=!1;break}else Jr(this.i,this.l,_n,null),Ps(this,_n);if(Ls(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ar!=4||Pe.length!=0||this.h.h||(this.s=1,et(16),F=!1),this.o=this.o&&F,!F)Jr(this.i,this.l,Pe,"[Invalid Chunked Response]"),Ci(this),is(this);else if(0<Pe.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),Ko(Gt),Gt.M=!0,et(11))}}else Jr(this.i,this.l,Pe,null),Ps(this,Pe);Ar==4&&Ci(this),this.o&&!this.J&&(Ar==4?us(this.j,this):(this.o=!1,To(this)))}else as(this.g),F==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Ci(this),is(this)}}}catch{}finally{}};function Ls(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Su(c,C){var F=c.C,K=C.indexOf(`
`,F);return K==-1?rs:(F=Number(C.substring(F,K)),isNaN(F)?ts:(K+=1,K+F>C.length?rs:(C=C.slice(K,K+F),c.C=K+F,C)))}Dr.prototype.cancel=function(){this.J=!0,Ci(this)};function To(c){c.S=Date.now()+c.I,Tu(c,c.I)}function Tu(c,C){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dn(p(c.ba,c),C)}function As(c){c.B&&(o.clearTimeout(c.B),c.B=null)}Dr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(So(this.i,this.A),this.L!=2&&(kn(),et(17)),Ci(this),this.s=2,is(this)):Tu(this,this.S-c)};function is(c){c.j.G==0||c.J||us(c.j,c)}function Ci(c){As(c);var C=c.M;C&&typeof C.ma=="function"&&C.ma(),c.M=null,fA(c.U),c.g&&(C=c.g,c.g=null,C.abort(),C.ma())}function Ps(c,C){try{var F=c.j;if(F.G!=0&&(F.g==c||dl(F.h,c))){if(!c.K&&dl(F.h,c)&&F.G==3){try{var K=F.Da.g.parse(C)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ue=K;if(ue[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<c.F)Fi(F),Mo(F);else break e;js(F),et(18)}}else F.za=ue[1],0<F.za-F.T&&37500>ue[2]&&F.F&&F.v==0&&!F.C&&(F.C=Dn(p(F.Za,F),6e3));if(1>=Rs(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else Mn(F,11)}else if((c.K||F.g==c)&&Fi(F),!y(C))for(ue=F.Da.g.parse(C),C=0;C<ue.length;C++){let Bt=ue[C];if(F.T=Bt[0],Bt=Bt[1],F.G==2)if(Bt[0]=="c"){F.K=Bt[1],F.ia=Bt[2];const Gt=Bt[3];Gt!=null&&(F.la=Gt,F.j.info("VER="+F.la));const Ar=Bt[4];Ar!=null&&(F.Aa=Ar,F.j.info("SVER="+F.Aa));const Si=Bt[5];Si!=null&&typeof Si=="number"&&0<Si&&(K=1.5*Si,F.L=K,F.j.info("backChannelRequestTimeoutMs_="+K)),K=F;const _n=c.g;if(_n){const cs=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cs){var ye=K.h;ye.g||cs.indexOf("spdy")==-1&&cs.indexOf("quic")==-1&&cs.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(fr(ye,ye.h),ye.h=null))}if(K.D){const hs=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;hs&&(K.ya=hs,zt(K.I,K.D,hs))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-c.F,F.j.info("Handshake RTT: "+F.R+"ms")),K=F;var Pe=c;if(K.qa=m(K,K.J?K.ia:null,K.W),Pe.K){fl(K.h,Pe);var yt=Pe,St=K.L;St&&(yt.I=St),yt.B&&(As(yt),To(yt)),K.g=Pe}else jo(K);0<F.i.length&&Ho(F)}else Bt[0]!="stop"&&Bt[0]!="close"||Mn(F,7);else F.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Mn(F,7):xi(F):Bt[0]!="noop"&&F.l&&F.l.ta(Bt),F.v=0)}}kn(4)}catch{}}var Th=class{constructor(c,C){this.g=c,this.map=C}};function hl(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uu(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rs(c){return c.h?1:c.g?c.g.size:0}function dl(c,C){return c.h?c.h==C:c.g?c.g.has(C):!1}function fr(c,C){c.g?c.g.add(C):c.h=C}function fl(c,C){c.h&&c.h==C?c.h=null:c.g&&c.g.has(C)&&c.g.delete(C)}hl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let C=c.i;for(const F of c.g.values())C=C.concat(F.D);return C}return _(c.i)}function Nu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(a(c)){for(var C=[],F=c.length,K=0;K<F;K++)C.push(c[K]);return C}C=[],F=0;for(K in c)C[F++]=c[K];return C}function gl(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(a(c)||typeof c=="string"){var C=[];c=c.length;for(var F=0;F<c;F++)C.push(F);return C}C=[],F=0;for(const K in c)C[F++]=K;return C}}}function Qu(c,C){if(c.forEach&&typeof c.forEach=="function")c.forEach(C,void 0);else if(a(c)||typeof c=="string")Array.prototype.forEach.call(c,C,void 0);else for(var F=gl(c),K=Nu(c),ue=K.length,ye=0;ye<ue;ye++)C.call(void 0,K[ye],F&&F[ye],c)}var mA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uo(c,C){if(c){c=c.split("&");for(var F=0;F<c.length;F++){var K=c[F].indexOf("="),ue=null;if(0<=K){var ye=c[F].substring(0,K);ue=c[F].substring(K+1)}else ye=c[F];C(ye,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Nr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Nr){this.h=c.h,ks(this,c.j),this.o=c.o,this.g=c.g,No(this,c.s),this.l=c.l;var C=c.i,F=new ss;F.i=C.i,C.g&&(F.g=new Map(C.g),F.h=C.h),ml(this,F),this.m=c.m}else c&&(C=String(c).match(mA))?(this.h=!1,ks(this,C[1]||"",!0),this.o=Os(C[2]||""),this.g=Os(C[3]||"",!0),No(this,C[4]),this.l=Os(C[5]||"",!0),ml(this,C[6]||"",!0),this.m=Os(C[7]||"")):(this.h=!1,this.i=new ss(null,this.h))}Nr.prototype.toString=function(){var c=[],C=this.j;C&&c.push(_i(C,Lu,!0),":");var F=this.g;return(F||C=="file")&&(c.push("//"),(C=this.o)&&c.push(_i(C,Lu,!0),"@"),c.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&c.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&c.push("/"),c.push(_i(F,F.charAt(0)=="/"?Ei:Nh,!0))),(F=this.i.toString())&&c.push("?",F),(F=this.m)&&c.push("#",_i(F,Lo)),c.join("")};function tA(c){return new Nr(c)}function ks(c,C,F){c.j=F?Os(C,!0):C,c.j&&(c.j=c.j.replace(/:$/,""))}function No(c,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);c.s=C}else c.s=null}function ml(c,C,F){C instanceof ss?(c.i=C,Qh(c.i,c.h)):(F||(C=_i(C,Qo)),c.i=new ss(C,c.h))}function zt(c,C,F){c.i.set(C,F)}function Ds(c){return zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Os(c,C){return c?C?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _i(c,C,F){return typeof c=="string"?(c=encodeURI(c).replace(C,Uh),F&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lu=/[#\/\?@]/g,Nh=/[#\?:]/g,Ei=/[#\?]/g,Qo=/[#\?@]/g,Lo=/#/g;function ss(c,C){this.h=this.g=null,this.i=c||null,this.j=!!C}function pr(c){c.g||(c.g=new Map,c.h=0,c.i&&Uo(c.i,function(C,F){c.add(decodeURIComponent(C.replace(/\+/g," ")),F)}))}t=ss.prototype,t.add=function(c,C){pr(this),this.i=null,c=os(this,c);var F=this.g.get(c);return F||this.g.set(c,F=[]),F.push(C),this.h+=1,this};function Pu(c,C){pr(c),C=os(c,C),c.g.has(C)&&(c.i=null,c.h-=c.g.get(C).length,c.g.delete(C))}function wl(c,C){return pr(c),C=os(c,C),c.g.has(C)}t.forEach=function(c,C){pr(this),this.g.forEach(function(F,K){F.forEach(function(ue){c.call(C,ue,K,this)},this)},this)},t.na=function(){pr(this);const c=Array.from(this.g.values()),C=Array.from(this.g.keys()),F=[];for(let K=0;K<C.length;K++){const ue=c[K];for(let ye=0;ye<ue.length;ye++)F.push(C[K])}return F},t.V=function(c){pr(this);let C=[];if(typeof c=="string")wl(this,c)&&(C=C.concat(this.g.get(os(this,c))));else{c=Array.from(this.g.values());for(let F=0;F<c.length;F++)C=C.concat(c[F])}return C},t.set=function(c,C){return pr(this),this.i=null,c=os(this,c),wl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[C]),this.h+=1,this},t.get=function(c,C){return c?(c=this.V(c),0<c.length?String(c[0]):C):C};function gt(c,C,F){Pu(c,C),0<F.length&&(c.i=null,c.g.set(os(c,C),_(F)),c.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],C=Array.from(this.g.keys());for(var F=0;F<C.length;F++){var K=C[F];const ye=encodeURIComponent(String(K)),Pe=this.V(K);for(K=0;K<Pe.length;K++){var ue=ye;Pe[K]!==""&&(ue+="="+encodeURIComponent(String(Pe[K]))),c.push(ue)}}return this.i=c.join("&")};function os(c,C){return C=String(C),c.j&&(C=C.toLowerCase()),C}function Qh(c,C){C&&!c.j&&(pr(c),c.i=null,c.g.forEach(function(F,K){var ue=K.toLowerCase();K!=ue&&(Pu(this,K),gt(this,ue,F))},c)),c.j=C}function ei(c,C){const F=new $r;if(o.Image){const K=new Image;K.onload=g(PA,F,"TestLoadImage: loaded",!0,C,K),K.onerror=g(PA,F,"TestLoadImage: error",!1,C,K),K.onabort=g(PA,F,"TestLoadImage: abort",!1,C,K),K.ontimeout=g(PA,F,"TestLoadImage: timeout",!1,C,K),o.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=c}else C(!1)}function Ru(c,C){const F=new $r,K=new AbortController,ue=setTimeout(()=>{K.abort(),PA(F,"TestPingServer: timeout",!1,C)},1e4);fetch(c,{signal:K.signal}).then(ye=>{clearTimeout(ue),ye.ok?PA(F,"TestPingServer: ok",!0,C):PA(F,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ue),PA(F,"TestPingServer: error",!1,C)})}function PA(c,C,F,K,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),K(F)}catch{}}function Po(){this.g=new YA}function vl(c,C,F){const K=F||"";try{Qu(c,function(ue,ye){let Pe=ue;l(ue)&&(Pe=Vt(ue)),C.push(K+ye+"="+encodeURIComponent(Pe))})}catch(ue){throw C.push(K+"type="+encodeURIComponent("_badmap")),ue}}function Ro(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Ro,Pt),Ro.prototype.g=function(){return new ko(this.l,this.j)},Ro.prototype.i=function(c){return function(){return c}}({});function ko(c,C){at.call(this),this.D=c,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ko,at),t=ko.prototype,t.open=function(c,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=C,this.readyState=1,RA(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(C.body=c),(this.D||o).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,RA(this)),this.g&&(this.readyState=3,RA(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ku(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ku(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var C=c.value?c.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!c.done}))&&(this.response=this.responseText+=C)}c.done?bi(this):RA(this),this.readyState==3&&ku(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,bi(this))},t.Qa=function(c){this.g&&(this.response=c,bi(this))},t.ga=function(){this.g&&bi(this)};function bi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,RA(c)}t.setRequestHeader=function(c,C){this.u.append(c,C)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],C=this.h.entries();for(var F=C.next();!F.done;)F=F.value,c.push(F[0]+": "+F[1]),F=C.next();return c.join(`\r
`)};function RA(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ii(c){let C="";return j(c,function(F,K){C+=K,C+=":",C+=F,C+=`\r
`}),C}function yl(c,C,F){e:{for(K in F){var K=!1;break e}K=!0}K||(F=Ii(F),typeof c=="string"?F!=null&&encodeURIComponent(String(F)):zt(c,C,F))}function Kt(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Kt,at);var Bl=/^https?$/i,Do=["POST","PUT"];t=Kt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,C,F,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);C=C?C.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?es(this.o):es(Zn),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(C,String(c),!0),this.B=!1}catch(ye){Cl(this,ye);return}if(c=F||"",F=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ue in K)F.set(ue,K[ue]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const ye of K.keys())F.set(ye,K.get(ye));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(F.keys()).find(ye=>ye.toLowerCase()=="content-type"),ue=o.FormData&&c instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Do,C,void 0))||K||ue||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Pe]of F)this.g.setRequestHeader(ye,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kA(this),this.u=!0,this.g.send(c),this.u=!1}catch(ye){Cl(this,ye)}};function Cl(c,C){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=C,c.m=5,_l(c),Ms(c)}function _l(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),Ms(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),Kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?El(this):this.bb())},t.bb=function(){El(this)};function El(c){if(c.h&&typeof s<"u"&&(!c.v[1]||nn(c)!=4||c.Z()!=2)){if(c.u&&nn(c)==4)ht(c.Ea,0,c);else if(dt(c,"readystatechange"),nn(c)==4){c.h=!1;try{const Pe=c.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var F;if(!(F=C)){var K;if(K=Pe===0){var ue=String(c.D).match(mA)[1]||null;!ue&&o.self&&o.self.location&&(ue=o.self.location.protocol.slice(0,-1)),K=!Bl.test(ue?ue.toLowerCase():"")}F=K}if(F)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var ye=2<nn(c)?c.g.statusText:""}catch{ye=""}c.l=ye+" ["+c.Z()+"]",_l(c)}}finally{Ms(c)}}}}function Ms(c,C){if(c.g){kA(c);const F=c.g,K=c.v[0]?()=>{}:null;c.g=null,c.v=null,C||dt(c,"ready");try{F.onreadystatechange=K}catch{}}}function kA(c){c.I&&(o.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function nn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var C=this.g.responseText;return c&&C.indexOf(c)==0&&(C=C.substring(c.length)),or(C)}};function Du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function as(c){const C={};c=(c.g&&2<=nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<c.length;K++){if(y(c[K]))continue;var F=x(c[K]);const ue=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const ye=C[ue]||[];C[ue]=ye,ye.push(F)}S(C,function(K){return K.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cn(c,C,F){return F&&F.internalChannelParams&&F.internalChannelParams[c]||C}function Oo(c){this.Aa=0,this.i=[],this.j=new $r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cn("baseRetryDelayMs",5e3,c),this.cb=Cn("retryDelaySeedMs",1e4,c),this.Wa=Cn("forwardChannelMaxRetries",2,c),this.wa=Cn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new hl(c&&c.concurrentRequestLimit),this.Da=new Po,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Oo.prototype,t.la=8,t.G=1,t.connect=function(c,C,F,K){et(0),this.W=c,this.H=C||{},F&&K!==void 0&&(this.H.OSID=F,this.H.OAID=K),this.F=this.X,this.I=m(this,null,this.W),Ho(this)};function xi(c){if(Hs(c),c.G==3){var C=c.U++,F=tA(c.I);if(zt(F,"SID",c.K),zt(F,"RID",C),zt(F,"TYPE","terminate"),ls(c,F),C=new Dr(c,c.j,C),C.L=2,C.v=Ds(tA(F)),F=!1,o.navigator&&o.navigator.sendBeacon)try{F=o.navigator.sendBeacon(C.v.toString(),"")}catch{}!F&&o.Image&&(new Image().src=C.v,F=!0),F||(C.g=P(C.j,null),C.g.ea(C.v)),C.F=Date.now(),To(C)}qo(c)}function Mo(c){c.g&&(Ko(c),c.g.cancel(),c.g=null)}function Hs(c){Mo(c),c.u&&(o.clearTimeout(c.u),c.u=null),Fi(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&o.clearTimeout(c.s),c.s=null)}function Ho(c){if(!Uu(c.h)&&!c.s){c.s=!0;var C=c.Ga;ge||he(),ee||(ge(),ee=!0),le.add(C,c),c.B=0}}function bl(c,C){return Rs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=C.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dn(p(c.Ga,c,C),Go(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ue=new Dr(this,this.j,c);let ye=this.o;if(this.S&&(ye?(ye=b(ye),O(ye,this.S)):ye=this.S),this.m!==null||this.O||(ue.H=ye,ye=null),this.P)e:{for(var C=0,F=0;F<this.i.length;F++){t:{var K=this.i[F];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(C+=K,4096<C){C=F;break e}if(C===4096||F===this.i.length-1){C=F+1;break e}}C=1e3}else C=1e3;C=Vs(this,ue,C),F=tA(this.I),zt(F,"RID",c),zt(F,"CVER",22),this.D&&zt(F,"X-HTTP-Session-Id",this.D),ls(this,F),ye&&(this.O?C="headers="+encodeURIComponent(String(Ii(ye)))+"&"+C:this.m&&yl(F,this.m,ye)),fr(this.h,ue),this.Ua&&zt(F,"TYPE","init"),this.P?(zt(F,"$req",C),zt(F,"SID","null"),ue.T=!0,ns(ue,F,null)):ns(ue,F,C),this.G=2}}else this.G==3&&(c?Vo(this,c):this.i.length==0||Uu(this.h)||Vo(this))};function Vo(c,C){var F;C?F=C.l:F=c.U++;const K=tA(c.I);zt(K,"SID",c.K),zt(K,"RID",F),zt(K,"AID",c.T),ls(c,K),c.m&&c.o&&yl(K,c.m,c.o),F=new Dr(c,c.j,F,c.B+1),c.m===null&&(F.H=c.o),C&&(c.i=C.D.concat(c.i)),C=Vs(c,F,1e3),F.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fr(c.h,F),ns(F,K,C)}function ls(c,C){c.H&&j(c.H,function(F,K){zt(C,K,F)}),c.l&&Qu({},function(F,K){zt(C,K,F)})}function Vs(c,C,F){F=Math.min(c.i.length,F);var K=c.l?p(c.l.Na,c.l,c):null;e:{var ue=c.i;let ye=-1;for(;;){const Pe=["count="+F];ye==-1?0<F?(ye=ue[0].g,Pe.push("ofs="+ye)):ye=0:Pe.push("ofs="+ye);let yt=!0;for(let St=0;St<F;St++){let Bt=ue[St].g;const Gt=ue[St].map;if(Bt-=ye,0>Bt)ye=Math.max(0,ue[St].g-100),yt=!1;else try{vl(Gt,Pe,"req"+Bt+"_")}catch{K&&K(Gt)}}if(yt){K=Pe.join("&");break e}}}return c=c.i.splice(0,F),C.D=c,K}function jo(c){if(!c.g&&!c.u){c.Y=1;var C=c.Fa;ge||he(),ee||(ge(),ee=!0),le.add(C,c),c.v=0}}function js(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dn(p(c.Fa,c),Go(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dn(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Mo(this),Ou(this))};function Ko(c){c.A!=null&&(o.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new Dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var C=tA(c.qa);zt(C,"RID","rpc"),zt(C,"SID",c.K),zt(C,"AID",c.T),zt(C,"CI",c.F?"0":"1"),!c.F&&c.ja&&zt(C,"TO",c.ja),zt(C,"TYPE","xmlhttp"),ls(c,C),c.m&&c.o&&yl(C,c.m,c.o),c.L&&(c.g.I=c.L);var F=c.g;c=c.ia,F.L=1,F.v=Ds(tA(C)),F.m=null,F.P=!0,Qs(F,c)}t.Za=function(){this.C!=null&&(this.C=null,Mo(this),js(this),et(19))};function Fi(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function us(c,C){var F=null;if(c.g==C){Fi(c),Ko(c),c.g=null;var K=2}else if(dl(c.h,C))F=C.D,fl(c.h,C),K=1;else return;if(c.G!=0){if(C.o)if(K==1){F=C.m?C.m.length:0,C=Date.now()-C.F;var ue=c.B;K=ZA(),dt(K,new pA(K,F)),Ho(c)}else jo(c);else if(ue=C.s,ue==3||ue==0&&0<C.X||!(K==1&&bl(c,C)||K==2&&js(c)))switch(F&&0<F.length&&(C=c.h,C.i=C.i.concat(F)),ue){case 1:Mn(c,5);break;case 4:Mn(c,10);break;case 3:Mn(c,6);break;default:Mn(c,2)}}}function Go(c,C){let F=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(F*=2),F*C}function Mn(c,C){if(c.j.info("Error code "+C),C==2){var F=p(c.fb,c),K=c.Xa;const ue=!K;K=new Nr(K||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ks(K,"https"),Ds(K),ue?ei(K.toString(),F):Ru(K.toString(),F)}else et(2);c.G=0,c.l&&c.l.sa(C),qo(c),Hs(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function qo(c){if(c.G=0,c.ka=[],c.l){const C=pl(c.h);(C.length!=0||c.i.length!=0)&&(N(c.ka,C),N(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function m(c,C,F){var K=F instanceof Nr?tA(F):new Nr(F);if(K.g!="")C&&(K.g=C+"."+K.g),No(K,K.s);else{var ue=o.location;K=ue.protocol,C=C?C+"."+ue.hostname:ue.hostname,ue=+ue.port;var ye=new Nr(null);K&&ks(ye,K),C&&(ye.g=C),ue&&No(ye,ue),F&&(ye.l=F),K=ye}return F=c.D,C=c.ya,F&&C&&zt(K,F,C),zt(K,"VER",c.la),ls(c,K),K}function P(c,C,F){if(C&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=c.Ca&&!c.pa?new Kt(new Ro({eb:F})):new Kt(c.pa),C.Ha(c.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function X(){}t=X.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ne(){}ne.prototype.g=function(c,C){return new ce(c,C)};function ce(c,C){at.call(this),this.g=new Oo(C),this.l=c,this.h=C&&C.messageUrlParams||null,c=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(c?c["X-WebChannel-Content-Type"]=C.messageContentType:c={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(c?c["X-WebChannel-Client-Profile"]=C.va:c={"X-WebChannel-Client-Profile":C.va}),this.g.S=c,(c=C&&C.Sb)&&!y(c)&&(this.g.m=c),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!y(C)&&(this.g.D=C,c=this.h,c!==null&&C in c&&(c=this.h,C in c&&delete c[C])),this.j=new je(this)}E(ce,at),ce.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ce.prototype.close=function(){xi(this.g)},ce.prototype.o=function(c){var C=this.g;if(typeof c=="string"){var F={};F.__data__=c,c=F}else this.u&&(F={},F.__data__=Vt(c),c=F);C.i.push(new Th(C.Ya++,c)),C.G==3&&Ho(C)},ce.prototype.N=function(){this.g.l=null,delete this.j,xi(this.g),delete this.g,ce.aa.N.call(this)};function be(c){NA.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var C=c.__sm__;if(C){e:{for(const F in C){c=F;break e}c=void 0}(this.i=c)&&(c=this.i,C=C!==null&&c in C?C[c]:void 0),this.data=C}else this.data=c}E(be,NA);function Le(){ar.call(this),this.status=1}E(Le,ar);function je(c){this.g=c}E(je,X),je.prototype.ua=function(){dt(this.g,"a")},je.prototype.ta=function(c){dt(this.g,new be(c))},je.prototype.sa=function(c){dt(this.g,new Le)},je.prototype.ra=function(){dt(this.g,"b")},ne.prototype.createWebChannel=ne.prototype.g,ce.prototype.send=ce.prototype.o,ce.prototype.open=ce.prototype.m,ce.prototype.close=ce.prototype.close,rS=function(){return new ne},tS=function(){return ZA()},eS=lt,uy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},On.NO_ERROR=0,On.TIMEOUT=8,On.HTTP_ERROR=6,sm=On,gA.COMPLETE="complete",ZF=gA,dr.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",at.prototype.listen=at.prototype.K,_d=dr,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,YF=Kt}).apply(typeof lg<"u"?lg:typeof self<"u"?self:typeof window<"u"?window:{});const j_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new hB("@firebase/firestore");function dc(){return du.logLevel}function De(t,...e){if(du.logLevel<=Nt.DEBUG){const r=e.map(EB);du.debug(`Firestore (${Bh}): ${t}`,...r)}}function aA(t,...e){if(du.logLevel<=Nt.ERROR){const r=e.map(EB);du.error(`Firestore (${Bh}): ${t}`,...r)}}function fu(t,...e){if(du.logLevel<=Nt.WARN){const r=e.map(EB);du.warn(`Firestore (${Bh}): ${t}`,...r)}}function EB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t="Unexpected state"){const e=`FIRESTORE (${Bh}) INTERNAL ASSERTION FAILED: `+t;throw aA(e),new Error(e)}function it(t,e){t||nt()}function wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends xo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Sn.UNAUTHENTICATED))}shutdown(){}}class Y6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Z6{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){it(this.o===void 0);let n=this.i;const A=a=>this.i!==n?(n=this.i,r(a)):Promise.resolve();let i=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ki,e.enqueueRetryable(()=>A(this.currentUser))};const s=()=>{const a=i;e.enqueueRetryable(async()=>{await a.promise,await A(this.currentUser)})},o=a=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(a=>o(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?o(a):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ki)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(it(typeof n.accessToken=="string"),new nS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new Sn(e)}}class eO{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tO{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new eO(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){it(this.o===void 0);const n=i=>{i.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.R;return this.R=i.token,De("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const A=i=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>A(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?A(i):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(it(typeof r.token=="string"),this.R=r.token,new rO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const A=AO(40);for(let i=0;i<A.length;++i)n.length<20&&A[i]<r&&(n+=e.charAt(A[i]%e.length))}return n}}function _t(t,e){return t<e?-1:t>e?1:0}function nh(t,e,r){return t.length===e.length&&t.every((n,A)=>r(n,e[A]))}function iS(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Me(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Me(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Me(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new er(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new er(0,0))}static max(){return new ot(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,r,n){r===void 0?r=0:r>e.length&&nt(),n===void 0?n=e.length-r:n>e.length-r&&nt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return xf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof xf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let A=0;A<n;A++){const i=e.get(A),s=r.get(A);if(i<s)return-1;if(i>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ht extends xf{construct(e,r,n){return new Ht(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Me(Ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(A=>A.length>0))}return new Ht(r)}static emptyPath(){return new Ht([])}}const iO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends xf{construct(e,r,n){return new xr(e,r,n)}static isValidIdentifier(e){return iO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xr(["__name__"])}static fromServerFormat(e){const r=[];let n="",A=0;const i=()=>{if(n.length===0)throw new Me(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;A<e.length;){const o=e[A];if(o==="\\"){if(A+1===e.length)throw new Me(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[A+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new Me(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=a,A+=2}else o==="`"?(s=!s,A++):o!=="."||s?(n+=o,A++):(i(),A++)}if(i(),s)throw new Me(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(r)}static emptyPath(){return new xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Ht.fromString(e))}static fromName(e){return new ze(Ht.fromString(e).popFirst(5))}static empty(){return new ze(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ht.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,r,n,A){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=A}}function cy(t){return t.fields.find(e=>e.kind===2)}function kl(t){return t.fields.filter(e=>e.kind!==2)}Ym.UNKNOWN_ID=-1;class om{constructor(e,r){this.fieldPath=e,this.kind=r}}class Ff{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Ff(0,$A.min())}}function sO(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,A=ot.fromTimestamp(n===1e9?new er(r+1,0):new er(r,n));return new $A(A,ze.empty(),e)}function sS(t){return new $A(t.readTime,t.key,-1)}class $A{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new $A(ot.min(),ze.empty(),-1)}static max(){return new $A(ot.max(),ze.empty(),-1)}}function bB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ze.comparator(t.documentKey,e.documentKey),r!==0?r:_t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t){if(t.code!==Ie.FAILED_PRECONDITION||t.message!==oS)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Be((n,A)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,A)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,A)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Be?r:Be.resolve(r)}catch(r){return Be.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Be.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Be.reject(r)}static resolve(e){return new Be((r,n)=>{r(e)})}static reject(e){return new Be((r,n)=>{n(e)})}static waitFor(e){return new Be((r,n)=>{let A=0,i=0,s=!1;e.forEach(o=>{++A,o.next(()=>{++i,s&&i===A&&r()},a=>n(a))}),s=!0,i===A&&r()})}static or(e){let r=Be.resolve(!1);for(const n of e)r=r.next(A=>A?Be.resolve(A):n());return r}static forEach(e,r){const n=[];return e.forEach((A,i)=>{n.push(r.call(this,A,i))}),this.waitFor(n)}static mapArray(e,r){return new Be((n,A)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;r(e[l]).next(h=>{s[l]=h,++o,o===i&&n(s)},h=>A(h))}})}static doWhile(e,r){return new Be((n,A)=>{const i=()=>{e()===!0?r().next(()=>{i()},A):n()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ki,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Kd(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const A=IB(n.target.error);this.V.reject(new Kd(e,A))}}static open(e,r,n,A){try{return new K0(r,e.transaction(A,n))}catch(i){throw new Kd(r,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(De("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new aO(r)}}class Ka{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Ka.S(hn())===12.2&&aA("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return De("SimpleDb","Removing database:",e),Ml(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!lF())return!1;if(Ka.v())return!0;const e=hn(),r=Ka.S(e),n=0<r&&r<10,A=lS(e),i=0<A&&A<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(De("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const A=indexedDB.open(this.name,this.version);A.onsuccess=i=>{const s=i.target.result;r(s)},A.onblocked=()=>{n(new Kd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},A.onerror=i=>{const s=i.target.error;s.name==="VersionError"?n(new Me(Ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?n(new Me(Ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new Kd(e,s))},A.onupgradeneeded=i=>{De("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const s=i.target.result;this.p.O(s,A.transaction,i.oldVersion,this.version).next(()=>{De("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,A){const i=r==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const o=K0.open(this.db,e,i?"readonly":"readwrite",n),a=A(o).next(l=>(o.g(),l)).catch(l=>(o.abort(l),Be.reject(l))).toPromise();return a.catch(()=>{}),await o.m,a}catch(o){const a=o,l=a.name!=="FirebaseError"&&s<3;if(De("SimpleDb","Transaction failed with error:",a.message,"Retrying:",l),this.close(),!l)return Promise.reject(a)}}}close(){this.db&&this.db.close(),this.db=void 0}}function lS(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class oO{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ml(this.B.delete())}}class Kd extends Me{constructor(e,r){super(Ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function ll(t){return t.name==="IndexedDbTransactionError"}class aO{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(De("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ml(n)}add(e){return De("SimpleDb","ADD",this.store.name,e,e),Ml(this.store.add(e))}get(e){return Ml(this.store.get(e)).next(r=>(r===void 0&&(r=null),De("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return De("SimpleDb","DELETE",this.store.name,e),Ml(this.store.delete(e))}count(){return De("SimpleDb","COUNT",this.store.name),Ml(this.store.count())}U(e,r){const n=this.options(e,r),A=n.index?this.store.index(n.index):this.store;if(typeof A.getAll=="function"){const i=A.getAll(n.range);return new Be((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}{const i=this.cursor(n),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new Be((A,i)=>{n.onerror=s=>{i(s.target.error)},n.onsuccess=s=>{A(s.target.result)}})}j(e,r){De("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const A=this.cursor(n);return this.W(A,(i,s,o)=>o.delete())}J(e,r){let n;r?n=e:(n={},r=e);const A=this.cursor(n);return this.W(A,r)}Y(e){const r=this.cursor({});return new Be((n,A)=>{r.onerror=i=>{const s=IB(i.target.error);A(s)},r.onsuccess=i=>{const s=i.target.result;s?e(s.primaryKey,s.value).next(o=>{o?s.continue():n()}):n()}})}W(e,r){const n=[];return new Be((A,i)=>{e.onerror=s=>{i(s.target.error)},e.onsuccess=s=>{const o=s.target.result;if(!o)return void A();const a=new oO(o),l=r(o.primaryKey,o.value,a);if(l instanceof Be){const h=l.catch(d=>(a.done(),Be.reject(d)));n.push(h)}a.isDone?A():a.K===null?o.continue():o.continue(a.K)}}).next(()=>Be.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ml(t){return new Be((e,r)=>{t.onsuccess=n=>{const A=n.target.result;e(A)},t.onerror=n=>{const A=IB(n.target.error);r(A)}})}let K_=!1;function IB(t){const e=Ka.S(hn());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return K_||(K_=!0,setTimeout(()=>{throw n},0)),n}}return t}class lO{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){De("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{De("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){ll(r)?De("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await bu(r)}await this.X(6e4)})}}class uO{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let A=r,i=!0;return Be.doWhile(()=>i===!0&&A>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!n.has(s))return De("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,A).next(o=>{A-=o,n.add(s)});i=!1})).next(()=>r-A)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(A=>this.localStore.localDocuments.getNextDocuments(e,r,A,n).next(i=>{const s=i.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(A,i)).next(o=>(De("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o))).next(()=>s.size)}))}re(e,r){let n=e;return r.changes.forEach((A,i)=>{const s=sS(i);bB(s,n)>0&&(n=s)}),new $A(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}di.oe=-1;function ip(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function cO(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=G_(e)),e=hO(t.get(r),e);return G_(e)}function hO(t,e){let r=e;const n=t.length;for(let A=0;A<n;A++){const i=t.charAt(A);switch(i){case"\0":r+="";break;case"":r+="";break;default:r+=i}}return r}function G_(t){return t+""}function Bs(t){const e=t.length;if(it(e>=2),e===2)return it(t.charAt(0)===""&&t.charAt(1)===""),Ht.emptyPath();const r=e-2,n=[];let A="";for(let i=0;i<e;){const s=t.indexOf("",i);switch((s<0||s>r)&&nt(),t.charAt(s+1)){case"":const o=t.substring(i,s);let a;A.length===0?a=o:(A+=o,a=A,A=""),n.push(a);break;case"":A+=t.substring(i,s),A+="\0";break;case"":A+=t.substring(i,s+1);break;default:nt()}i=s+2}return new Ht(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t,e){return[t,uA(e)]}function uS(t,e,r){return[t,uA(e),r]}const dO={},fO=["prefixPath","collectionGroup","readTime","documentId"],pO=["prefixPath","collectionGroup","documentId"],gO=["collectionGroup","readTime","prefixPath","documentId"],mO=["canonicalId","targetId"],wO=["targetId","path"],vO=["path","targetId"],yO=["collectionId","parent"],BO=["indexId","uid"],CO=["uid","sequenceNumber"],_O=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],EO=["indexId","uid","orderedDocumentKey"],bO=["userId","collectionPath","documentId"],IO=["userId","collectionPath","largestBatchId"],xO=["userId","collectionGroup","largestBatchId"],cS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FO=[...cS,"documentOverlays"],hS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dS=hS,xB=[...dS,"indexConfiguration","indexState","indexEntries"],SO=xB,TO=[...xB,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy extends aS{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function dn(t,e){const r=wt(t);return Ka.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Iu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function fS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,r){this.comparator=e,this.root=r||Tn.EMPTY}insert(e,r){return new br(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const A=this.comparator(e,n.key);if(A===0)return r+n.left.size;A<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ug(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ug(this.root,e,this.comparator,!1)}getReverseIterator(){return new ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ug(this.root,e,this.comparator,!0)}}class ug{constructor(e,r,n,A){this.isReverse=A,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&A&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,r,n,A,i){this.key=e,this.value=r,this.color=n??Tn.RED,this.left=A??Tn.EMPTY,this.right=i??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,A,i){return new Tn(e??this.key,r??this.value,n??this.color,A??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let A=this;const i=n(e,A.key);return A=i<0?A.copy(null,null,null,A.left.insert(e,r,n),null):i===0?A.copy(null,r,null,null,null):A.copy(null,null,null,null,A.right.insert(e,r,n)),A.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,A=this;if(r(e,A.key)<0)A.left.isEmpty()||A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.remove(e,r),null);else{if(A.left.isRed()&&(A=A.rotateRight()),A.right.isEmpty()||A.right.isRed()||A.right.left.isRed()||(A=A.moveRedRight()),r(e,A.key)===0){if(A.right.isEmpty())return Tn.EMPTY;n=A.right.min(),A=A.copy(n.key,n.value,null,null,A.right.removeMin())}A=A.copy(null,null,null,null,A.right.remove(e,r))}return A.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(e,r,n,A,i){return this}insert(e,r,n){return new Tn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new br(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const A=n.getNext();if(this.comparator(A.key,e[1])>=0)return;r(A.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(e){return new W_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const A=r.getNext().key,i=n.getNext().key;if(this.comparator(A,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new nr(this.comparator);return r.data=e,r}}class W_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ec(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new IA([])}unionWith(e){let r=new nr(xr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new IA(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return nh(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(A){try{return atob(A)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new pS("Invalid base64 string: "+i):i}}(e);return new rn(r)}static fromUint8Array(e){const r=function(A){let i="";for(let s=0;s<A.length;++s)i+=String.fromCharCode(A[s]);return i}(e);return new rn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let A=0;A<r.length;A++)n[A]=r.charCodeAt(A);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const UO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(t){if(it(!!t),typeof t=="string"){let e=0;const r=UO.exec(t);if(it(!!r),r[1]){let A=r[1];A=(A+"000000000").substr(0,9),e=Number(A)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:yr(t.seconds),nanos:yr(t.nanos)}}function yr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xa(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function SB(t){const e=t.mapValue.fields.__previous_value__;return FB(e)?SB(e):e}function Tf(t){const e=_o(t.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,r,n,A,i,s,o,a,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=A,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class pu{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lm={nullValue:"NULL_VALUE"};function gu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?FB(t)?4:gS(t)?9007199254740991:G0(t)?10:11:nt()}function Ss(t,e){if(t===e)return!0;const r=gu(t);if(r!==gu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tf(t).isEqual(Tf(e));case 3:return function(A,i){if(typeof A.timestampValue=="string"&&typeof i.timestampValue=="string"&&A.timestampValue.length===i.timestampValue.length)return A.timestampValue===i.timestampValue;const s=_o(A.timestampValue),o=_o(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(A,i){return Xa(A.bytesValue).isEqual(Xa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(A,i){return yr(A.geoPointValue.latitude)===yr(i.geoPointValue.latitude)&&yr(A.geoPointValue.longitude)===yr(i.geoPointValue.longitude)}(t,e);case 2:return function(A,i){if("integerValue"in A&&"integerValue"in i)return yr(A.integerValue)===yr(i.integerValue);if("doubleValue"in A&&"doubleValue"in i){const s=yr(A.doubleValue),o=yr(i.doubleValue);return s===o?Sf(s)===Sf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return nh(t.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:case 11:return function(A,i){const s=A.mapValue.fields||{},o=i.mapValue.fields||{};if(z_(s)!==z_(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ss(s[a],o[a])))return!1;return!0}(t,e);default:return nt()}}function Uf(t,e){return(t.values||[]).find(r=>Ss(r,e))!==void 0}function Ya(t,e){if(t===e)return 0;const r=gu(t),n=gu(e);if(r!==n)return _t(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=yr(i.integerValue||i.doubleValue),a=yr(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return $_(t.timestampValue,e.timestampValue);case 4:return $_(Tf(t),Tf(e));case 5:return _t(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Xa(i),a=Xa(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const h=_t(o[l],a[l]);if(h!==0)return h}return _t(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=_t(yr(i.latitude),yr(s.latitude));return o!==0?o:_t(yr(i.longitude),yr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return J_(t.arrayValue,e.arrayValue);case 10:return function(i,s){var o,a,l,h;const d=i.fields||{},p=s.fields||{},g=(o=d.value)===null||o===void 0?void 0:o.arrayValue,E=(a=p.value)===null||a===void 0?void 0:a.arrayValue,_=_t(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return _!==0?_:J_(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===Fa.mapValue&&s===Fa.mapValue)return 0;if(i===Fa.mapValue)return 1;if(s===Fa.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},h=Object.keys(l);a.sort(),h.sort();for(let d=0;d<a.length&&d<h.length;++d){const p=_t(a[d],h[d]);if(p!==0)return p;const g=Ya(o[a[d]],l[h[d]]);if(g!==0)return g}return _t(a.length,h.length)}(t.mapValue,e.mapValue);default:throw nt()}}function $_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _t(t,e);const r=_o(t),n=_o(e),A=_t(r.seconds,n.seconds);return A!==0?A:_t(r.nanos,n.nanos)}function J_(t,e){const r=t.values||[],n=e.values||[];for(let A=0;A<r.length&&A<n.length;++A){const i=Ya(r[A],n[A]);if(i)return i}return _t(r.length,n.length)}function Ah(t){return dy(t)}function dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=_o(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Xa(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ze.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",A=!0;for(const i of r.values||[])A?A=!1:n+=",",n+=dy(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let A="{",i=!0;for(const s of n)i?i=!1:A+=",",A+=`${s}:${dy(r.fields[s])}`;return A+"}"}(t.mapValue):nt()}function Nf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fy(t){return!!t&&"integerValue"in t}function Qf(t){return!!t&&"arrayValue"in t}function X_(t){return!!t&&"nullValue"in t}function Y_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function um(t){return!!t&&"mapValue"in t}function G0(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Gd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Iu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Gd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Gd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function gS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const mS={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function QO(t){return"nullValue"in t?lm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Nf(pu.empty(),ze.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?G0(t)?mS:{mapValue:{}}:nt()}function LO(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Nf(pu.empty(),ze.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?mS:"mapValue"in t?G0(t)?{mapValue:{}}:Fa:nt()}function Z_(t,e){const r=Ya(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function eE(t,e){const r=Ya(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!um(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gd(r)}setAll(e){let r=xr.emptyPath(),n={},A=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const a=this.getFieldsMap(r);this.applyChanges(a,n,A),n={},A=[],r=o.popLast()}s?n[o.lastSegment()]=Gd(s):A.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,A)}delete(e){const r=this.field(e.popLast());um(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let A=r.mapValue.fields[e.get(n)];um(A)&&A.mapValue.fields||(A={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=A),r=A}return r.mapValue.fields}applyChanges(e,r,n){Iu(r,(A,i)=>e[A]=i);for(const A of n)delete e[A]}clone(){return new Un(Gd(this.value))}}function wS(t){const e=[];return Iu(t.fields,(r,n)=>{const A=new xr([r]);if(um(n)){const i=wS(n.mapValue).fields;if(i.length===0)e.push(A);else for(const s of i)e.push(A.child(s))}else e.push(A)}),new IA(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,r,n,A,i,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=A,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Cr(e,0,ot.min(),ot.min(),ot.min(),Un.empty(),0)}static newFoundDocument(e,r,n,A){return new Cr(e,1,r,ot.min(),n,A,0)}static newNoDocument(e,r){return new Cr(e,2,r,ot.min(),ot.min(),Un.empty(),0)}static newUnknownDocument(e,r){return new Cr(e,3,r,ot.min(),ot.min(),Un.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,r){this.position=e,this.inclusive=r}}function tE(t,e,r){let n=0;for(let A=0;A<t.position.length;A++){const i=e[A],s=t.position[A];if(i.field.isKeyField()?n=ze.comparator(ze.fromName(s.referenceValue),r.key):n=Ya(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function rE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ss(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,r="asc"){this.field=e,this.dir=r}}function PO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{}class Qt extends vS{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new RO(e,r,n):r==="array-contains"?new OO(e,n):r==="in"?new bS(e,n):r==="not-in"?new MO(e,n):r==="array-contains-any"?new HO(e,n):new Qt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new kO(e,n):new DO(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ya(r,this.value)):r!==null&&gu(this.value)===gu(r)&&this.matchesComparison(Ya(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xt extends vS{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Xt(e,r)}matches(e){return sh(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sh(t){return t.op==="and"}function py(t){return t.op==="or"}function TB(t){return yS(t)&&sh(t)}function yS(t){for(const e of t.filters)if(e instanceof Xt)return!1;return!0}function gy(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Ah(t.value);if(TB(t))return t.filters.map(e=>gy(e)).join(",");{const e=t.filters.map(r=>gy(r)).join(",");return`${t.op}(${e})`}}function BS(t,e){return t instanceof Qt?function(n,A){return A instanceof Qt&&n.op===A.op&&n.field.isEqual(A.field)&&Ss(n.value,A.value)}(t,e):t instanceof Xt?function(n,A){return A instanceof Xt&&n.op===A.op&&n.filters.length===A.filters.length?n.filters.reduce((i,s,o)=>i&&BS(s,A.filters[o]),!0):!1}(t,e):void nt()}function CS(t,e){const r=t.filters.concat(e);return Xt.create(r,t.op)}function _S(t){return t instanceof Qt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ah(r.value)}`}(t):t instanceof Xt?function(r){return r.op.toString()+" {"+r.getFilters().map(_S).join(" ,")+"}"}(t):"Filter"}class RO extends Qt{constructor(e,r,n){super(e,r,n),this.key=ze.fromName(n.referenceValue)}matches(e){const r=ze.comparator(e.key,this.key);return this.matchesComparison(r)}}class kO extends Qt{constructor(e,r){super(e,"in",r),this.keys=ES("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class DO extends Qt{constructor(e,r){super(e,"not-in",r),this.keys=ES("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ES(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ze.fromName(n.referenceValue))}class OO extends Qt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Qf(r)&&Uf(r.arrayValue,this.value)}}class bS extends Qt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Uf(this.value.arrayValue,r)}}class MO extends Qt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Uf(this.value.arrayValue,r)}}class HO extends Qt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Qf(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Uf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,r=null,n=[],A=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=A,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function my(t,e=null,r=[],n=[],A=null,i=null,s=null){return new VO(t,e,r,n,A,i,s)}function mu(t){const e=wt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>gy(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),ip(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ah(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ah(n)).join(",")),e.ue=r}return e.ue}function sp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!PO(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!BS(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rE(t.startAt,e.startAt)&&rE(t.endAt,e.endAt)}function Zm(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function e0(t,e){return t.filters.filter(r=>r instanceof Qt&&r.field.isEqual(e))}function nE(t,e,r){let n=lm,A=!0;for(const i of e0(t,e)){let s=lm,o=!0;switch(i.op){case"<":case"<=":s=QO(i.value);break;case"==":case"in":case">=":s=i.value;break;case">":s=i.value,o=!1;break;case"!=":case"not-in":s=lm}Z_({value:n,inclusive:A},{value:s,inclusive:o})<0&&(n=s,A=o)}if(r!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const s=r.position[i];Z_({value:n,inclusive:A},{value:s,inclusive:r.inclusive})<0&&(n=s,A=r.inclusive);break}}return{value:n,inclusive:A}}function AE(t,e,r){let n=Fa,A=!0;for(const i of e0(t,e)){let s=Fa,o=!0;switch(i.op){case">=":case">":s=LO(i.value),o=!1;break;case"==":case"in":case"<=":s=i.value;break;case"<":s=i.value,o=!1;break;case"!=":case"not-in":s=Fa}eE({value:n,inclusive:A},{value:s,inclusive:o})>0&&(n=s,A=o)}if(r!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const s=r.position[i];eE({value:n,inclusive:A},{value:s,inclusive:r.inclusive})>0&&(n=s,A=r.inclusive);break}}return{value:n,inclusive:A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,r=null,n=[],A=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=A,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jO(t,e,r,n,A,i,s,o){return new Ch(t,e,r,n,A,i,s,o)}function op(t){return new Ch(t)}function iE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IS(t){return t.collectionGroup!==null}function qd(t){const e=wt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new nr(xr.comparator);return s.filters.forEach(a=>{a.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Lf(i,n))}),r.has(xr.keyField().canonicalString())||e.ce.push(new Lf(xr.keyField(),n))}return e.ce}function mi(t){const e=wt(t);return e.le||(e.le=KO(e,qd(t))),e.le}function KO(t,e){if(t.limitType==="F")return my(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(A=>{const i=A.dir==="desc"?"asc":"desc";return new Lf(A.field,i)});const r=t.endAt?new ih(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ih(t.startAt.position,t.startAt.inclusive):null;return my(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function wy(t,e){const r=t.filters.concat([e]);return new Ch(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function vy(t,e,r){return new Ch(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function q0(t,e){return sp(mi(t),mi(e))&&t.limitType===e.limitType}function xS(t){return`${mu(mi(t))}|lt:${t.limitType}`}function fc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(A=>_S(A)).join(", ")}]`),ip(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(A=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(A)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(A=>Ah(A)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(A=>Ah(A)).join(",")),`Target(${n})`}(mi(t))}; limitType=${t.limitType})`}function ap(t,e){return e.isFoundDocument()&&function(n,A){const i=A.key.path;return n.collectionGroup!==null?A.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ze.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,A){for(const i of qd(n))if(!i.field.isKeyField()&&A.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,A){for(const i of n.filters)if(!i.matches(A))return!1;return!0}(t,e)&&function(n,A){return!(n.startAt&&!function(s,o,a){const l=tE(s,o,a);return s.inclusive?l<=0:l<0}(n.startAt,qd(n),A)||n.endAt&&!function(s,o,a){const l=tE(s,o,a);return s.inclusive?l>=0:l>0}(n.endAt,qd(n),A))}(t,e)}function GO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FS(t){return(e,r)=>{let n=!1;for(const A of qd(t)){const i=qO(A,e,r);if(i!==0)return i;n=n||A.field.isKeyField()}return 0}}function qO(t,e,r){const n=t.field.isKeyField()?ze.comparator(e.key,r.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Ya(a,l):nt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[A,i]of n)if(this.equalsFn(A,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),A=this.inner[n];if(A===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<A.length;i++)if(this.equalsFn(A[i][0],e))return void(A[i]=[e,r]);A.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let A=0;A<n.length;A++)if(this.equalsFn(n[A][0],e))return n.length===1?delete this.inner[r]:n.splice(A,1),this.innerSize--,!0;return!1}forEach(e){Iu(this.inner,(r,n)=>{for(const[A,i]of n)e(A,i)})}isEmpty(){return fS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new br(ze.comparator);function KA(){return zO}const SS=new br(ze.comparator);function Ed(...t){let e=SS;for(const r of t)e=e.insert(r.key,r);return e}function TS(t){let e=SS;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Cs(){return zd()}function US(){return zd()}function zd(){return new ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const WO=new br(ze.comparator),$O=new nr(ze.comparator);function xt(...t){let e=$O;for(const r of t)e=e.add(r);return e}const JO=new nr(_t);function XO(){return JO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function NS(t){return{integerValue:""+t}}function YO(t,e){return cO(e)?NS(e):UB(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this._=void 0}}function ZO(t,e,r){return t instanceof Pf?function(A,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:A.seconds,nanos:A.nanoseconds}}}};return i&&FB(i)&&(i=SB(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(r,e):t instanceof oh?LS(t,e):t instanceof ah?PS(t,e):function(A,i){const s=QS(A,i),o=sE(s)+sE(A.Pe);return fy(s)&&fy(A.Pe)?NS(o):UB(A.serializer,o)}(t,e)}function eM(t,e,r){return t instanceof oh?LS(t,e):t instanceof ah?PS(t,e):r}function QS(t,e){return t instanceof Rf?function(n){return fy(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Pf extends z0{}class oh extends z0{constructor(e){super(),this.elements=e}}function LS(t,e){const r=RS(e);for(const n of t.elements)r.some(A=>Ss(A,n))||r.push(n);return{arrayValue:{values:r}}}class ah extends z0{constructor(e){super(),this.elements=e}}function PS(t,e){let r=RS(e);for(const n of t.elements)r=r.filter(A=>!Ss(A,n));return{arrayValue:{values:r}}}class Rf extends z0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function sE(t){return yr(t.integerValue||t.doubleValue)}function RS(t){return Qf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,r){this.field=e,this.transform=r}}function rM(t,e){return t.field.isEqual(e.field)&&function(n,A){return n instanceof oh&&A instanceof oh||n instanceof ah&&A instanceof ah?nh(n.elements,A.elements,Ss):n instanceof Rf&&A instanceof Rf?Ss(n.Pe,A.Pe):n instanceof Pf&&A instanceof Pf}(t.transform,e.transform)}class nM{constructor(e,r){this.version=e,this.transformResults=r}}class _r{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class W0{}function kS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Eh(t.key,_r.none()):new _h(t.key,t.data,_r.none());{const r=t.data,n=Un.empty();let A=new nr(xr.comparator);for(let i of e.fields)if(!A.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),A=A.add(i)}return new Fo(t.key,n,new IA(A.toArray()),_r.none())}}function AM(t,e,r){t instanceof _h?function(A,i,s){const o=A.value.clone(),a=aE(A.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Fo?function(A,i,s){if(!cm(A.precondition,i))return void i.convertToUnknownDocument(s.version);const o=aE(A.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(DS(A)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,r):function(A,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function Wd(t,e,r,n){return t instanceof _h?function(i,s,o,a){if(!cm(i.precondition,s))return o;const l=i.value.clone(),h=lE(i.fieldTransforms,a,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof Fo?function(i,s,o,a){if(!cm(i.precondition,s))return o;const l=lE(i.fieldTransforms,a,s),h=s.data;return h.setAll(DS(i)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(i,s,o){return cm(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function iM(t,e){let r=null;for(const n of t.fieldTransforms){const A=e.data.field(n.field),i=QS(n.transform,A||null);i!=null&&(r===null&&(r=Un.empty()),r.set(n.field,i))}return r||null}function oE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,A){return n===void 0&&A===void 0||!(!n||!A)&&nh(n,A,(i,s)=>rM(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _h extends W0{constructor(e,r,n,A=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=A,this.type=0}getFieldMask(){return null}}class Fo extends W0{constructor(e,r,n,A,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=A,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function DS(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function aE(t,e,r){const n=new Map;it(t.length===r.length);for(let A=0;A<r.length;A++){const i=t[A],s=i.transform,o=e.data.field(i.field);n.set(i.field,eM(s,o,r[A]))}return n}function lE(t,e,r){const n=new Map;for(const A of t){const i=A.transform,s=r.data.field(A.field);n.set(A.field,ZO(i,s,e))}return n}class Eh extends W0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NB extends W0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,r,n,A){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=A}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let A=0;A<this.mutations.length;A++){const i=this.mutations[A];i.key.isEqual(e.key)&&AM(i,e,n[A])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Wd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Wd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=US();return this.mutations.forEach(A=>{const i=e.get(A.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(A.key)?null:o;const a=kS(s,o);a!==null&&n.set(A.key,a),s.isValidDocument()||s.convertToNoDocument(ot.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),xt())}isEqual(e){return this.batchId===e.batchId&&nh(this.mutations,e.mutations,(r,n)=>oE(r,n))&&nh(this.baseMutations,e.baseMutations,(r,n)=>oE(r,n))}}class LB{constructor(e,r,n,A){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=A}static from(e,r,n){it(e.mutations.length===n.length);let A=function(){return WO}();const i=e.mutations;for(let s=0;s<i.length;s++)A=A.insert(i[s].key,n[s].version);return new LB(e,r,n,A)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zr,Rt;function OS(t){switch(t){default:return nt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function MS(t){if(t===void 0)return aA("GRPC error has no .code"),Ie.UNKNOWN;switch(t){case Zr.OK:return Ie.OK;case Zr.CANCELLED:return Ie.CANCELLED;case Zr.UNKNOWN:return Ie.UNKNOWN;case Zr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Zr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Zr.INTERNAL:return Ie.INTERNAL;case Zr.UNAVAILABLE:return Ie.UNAVAILABLE;case Zr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Zr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Zr.NOT_FOUND:return Ie.NOT_FOUND;case Zr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Zr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Zr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Zr.ABORTED:return Ie.ABORTED;case Zr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Zr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Zr.DATA_LOSS:return Ie.DATA_LOSS;default:return nt()}}(Rt=Zr||(Zr={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Yl([4294967295,4294967295],0);function uE(t){const e=oM().encode(t),r=new XF;return r.update(e),new Uint8Array(r.digest())}function cE(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),A=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Yl([r,n],0),new Yl([A,i],0)]}class RB{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new bd(`Invalid padding: ${r}`);if(n<0)throw new bd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new bd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new bd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Yl.fromNumber(this.Ie)}Ee(e,r,n){let A=e.add(r.multiply(Yl.fromNumber(n)));return A.compare(aM)===1&&(A=new Yl([A.getBits(0),A.getBits(1)],0)),A.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=uE(e),[n,A]=cE(r);for(let i=0;i<this.hashCount;i++){const s=this.Ee(n,A,i);if(!this.de(s))return!1}return!0}static create(e,r,n){const A=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new RB(i,A,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const r=uE(e),[n,A]=cE(r);for(let i=0;i<this.hashCount;i++){const s=this.Ee(n,A,i);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,r,n,A,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=A,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const A=new Map;return A.set(e,lp.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new $0(ot.min(),A,new br(_t),KA(),xt())}}class lp{constructor(e,r,n,A,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=A,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new lp(n,r,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,r,n,A){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=A}}class HS{constructor(e,r){this.targetId=e,this.me=r}}class VS{constructor(e,r,n=rn.EMPTY_BYTE_STRING,A=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=A}}class hE{constructor(){this.fe=0,this.ge=fE(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xt(),r=xt(),n=xt();return this.ge.forEach((A,i)=>{switch(i){case 0:e=e.add(A);break;case 2:r=r.add(A);break;case 1:n=n.add(A);break;default:nt()}}),new lp(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=fE()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lM{constructor(e){this.Le=e,this.Be=new Map,this.ke=KA(),this.qe=dE(),this.Qe=new br(_t)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:nt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,A)=>{this.ze(A)&&r(A)})}He(e){const r=e.targetId,n=e.me.count,A=this.Je(r);if(A){const i=A.target;if(Zm(i))if(n===0){const s=new ze(i.path);this.Ue(r,s,Cr.newNoDocument(s,ot.min()))}else it(n===1);else{const s=this.Ye(r);if(s!==n){const o=this.Ze(e),a=o?this.Xe(o,e,s):1;if(a!==0){this.je(r);const l=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:A=0},hashCount:i=0}=r;let s,o;try{s=Xa(n).toUint8Array()}catch(a){if(a instanceof pS)return fu("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{o=new RB(s,A,i)}catch(a){return fu(a instanceof bd?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let A=0;return n.forEach(i=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,i,null),A++)}),A}rt(e){const r=new Map;this.Be.forEach((i,s)=>{const o=this.Je(s);if(o){if(i.current&&Zm(o.target)){const a=new ze(o.target.path);this.ke.get(a)!==null||this.it(s,a)||this.Ue(s,a,Cr.newNoDocument(a,e))}i.be&&(r.set(s,i.ve()),i.Ce())}});let n=xt();this.qe.forEach((i,s)=>{let o=!0;s.forEachWhile(a=>{const l=this.Je(a);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.ke.forEach((i,s)=>s.setReadTime(e));const A=new $0(e,r,this.Qe,this.ke,n);return this.ke=KA(),this.qe=dE(),this.Qe=new br(_t),A}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const A=this.Ge(e);this.it(e,r)?A.Fe(r,1):A.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new hE,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new nr(_t),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||De("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hE),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function dE(){return new br(ze.comparator)}function fE(){return new br(ze.comparator)}const uM={asc:"ASCENDING",desc:"DESCENDING"},cM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hM={and:"AND",or:"OR"};class dM{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function yy(t,e){return t.useProto3Json||ip(e)?e:{value:e}}function lh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fM(t,e){return lh(t,e.toTimestamp())}function yn(t){return it(!!t),ot.fromTimestamp(function(r){const n=_o(r);return new er(n.seconds,n.nanos)}(t))}function kB(t,e){return By(t,e).canonicalString()}function By(t,e){const r=function(A){return new Ht(["projects",A.projectId,"databases",A.database])}(t).child("documents");return e===void 0?r:r.child(e)}function KS(t){const e=Ht.fromString(t);return it(ZS(e)),e}function kf(t,e){return kB(t.databaseId,e.path)}function fo(t,e){const r=KS(e);if(r.get(1)!==t.databaseId.projectId)throw new Me(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Me(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ze(zS(r))}function GS(t,e){return kB(t.databaseId,e)}function qS(t){const e=KS(t);return e.length===4?Ht.emptyPath():zS(e)}function Cy(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zS(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pE(t,e,r){return{name:kf(t,e),fields:r.value.mapValue.fields}}function pM(t,e,r){const n=fo(t,e.name),A=yn(e.updateTime),i=e.createTime?yn(e.createTime):ot.min(),s=new Un({mapValue:{fields:e.fields}}),o=Cr.newFoundDocument(n,A,i,s);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function gM(t,e){return"found"in e?function(n,A){it(!!A.found),A.found.name,A.found.updateTime;const i=fo(n,A.found.name),s=yn(A.found.updateTime),o=A.found.createTime?yn(A.found.createTime):ot.min(),a=new Un({mapValue:{fields:A.found.fields}});return Cr.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,A){it(!!A.missing),it(!!A.readTime);const i=fo(n,A.missing),s=yn(A.readTime);return Cr.newNoDocument(i,s)}(t,e):nt()}function mM(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:nt()}(e.targetChange.targetChangeType||"NO_CHANGE"),A=e.targetChange.targetIds||[],i=function(l,h){return l.useProto3Json?(it(h===void 0||typeof h=="string"),rn.fromBase64String(h||"")):(it(h===void 0||h instanceof Buffer||h instanceof Uint8Array),rn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(l){const h=l.code===void 0?Ie.UNKNOWN:MS(l.code);return new Me(h,l.message||"")}(s);r=new VS(n,A,i,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const A=fo(t,n.document.name),i=yn(n.document.updateTime),s=n.document.createTime?yn(n.document.createTime):ot.min(),o=new Un({mapValue:{fields:n.document.fields}}),a=Cr.newFoundDocument(A,i,s,o),l=n.targetIds||[],h=n.removedTargetIds||[];r=new hm(l,h,a.key,a)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const A=fo(t,n.document),i=n.readTime?yn(n.readTime):ot.min(),s=Cr.newNoDocument(A,i),o=n.removedTargetIds||[];r=new hm([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const A=fo(t,n.document),i=n.removedTargetIds||[];r=new hm([],i,A,null)}else{if(!("filter"in e))return nt();{e.filter;const n=e.filter;n.targetId;const{count:A=0,unchangedNames:i}=n,s=new sM(A,i),o=n.targetId;r=new HS(o,s)}}return r}function Df(t,e){let r;if(e instanceof _h)r={update:pE(t,e.key,e.value)};else if(e instanceof Eh)r={delete:kf(t,e.key)};else if(e instanceof Fo)r={update:pE(t,e.key,e.data),updateMask:_M(e.fieldMask)};else{if(!(e instanceof NB))return nt();r={verify:kf(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof Pf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof oh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ah)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Rf)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw nt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(A,i){return i.updateTime!==void 0?{updateTime:fM(A,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:nt()}(t,e.precondition)),r}function _y(t,e){const r=e.currentDocument?function(i){return i.updateTime!==void 0?_r.updateTime(yn(i.updateTime)):i.exists!==void 0?_r.exists(i.exists):_r.none()}(e.currentDocument):_r.none(),n=e.updateTransforms?e.updateTransforms.map(A=>function(s,o){let a=null;if("setToServerValue"in o)it(o.setToServerValue==="REQUEST_TIME"),a=new Pf;else if("appendMissingElements"in o){const h=o.appendMissingElements.values||[];a=new oh(h)}else if("removeAllFromArray"in o){const h=o.removeAllFromArray.values||[];a=new ah(h)}else"increment"in o?a=new Rf(s,o.increment):nt();const l=xr.fromServerFormat(o.fieldPath);return new tM(l,a)}(t,A)):[];if(e.update){e.update.name;const A=fo(t,e.update.name),i=new Un({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(a){const l=a.fieldPaths||[];return new IA(l.map(h=>xr.fromServerFormat(h)))}(e.updateMask);return new Fo(A,i,s,r,n)}return new _h(A,i,r,n)}if(e.delete){const A=fo(t,e.delete);return new Eh(A,r)}if(e.verify){const A=fo(t,e.verify);return new NB(A,r)}return nt()}function wM(t,e){return t&&t.length>0?(it(e!==void 0),t.map(r=>function(A,i){let s=A.updateTime?yn(A.updateTime):yn(i);return s.isEqual(ot.min())&&(s=yn(i)),new nM(s,A.transformResults||[])}(r,e))):[]}function WS(t,e){return{documents:[GS(t,e.path)]}}function $S(t,e){const r={structuredQuery:{}},n=e.path;let A;e.collectionGroup!==null?(A=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(A=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=GS(t,A);const i=function(l){if(l.length!==0)return YS(Xt.create(l,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(h=>function(p){return{field:pc(p.field),direction:yM(p.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=yy(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:A}}function JS(t){let e=qS(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let A=null;if(n>0){it(n===1);const h=r.from[0];h.allDescendants?A=h.collectionId:e=e.child(h.collectionId)}let i=[];r.where&&(i=function(d){const p=XS(d);return p instanceof Xt&&TB(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(p=>function(E){return new Lf(gc(E.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(d){let p;return p=typeof d=="object"?d.value:d,ip(p)?null:p}(r.limit));let a=null;r.startAt&&(a=function(d){const p=!!d.before,g=d.values||[];return new ih(g,p)}(r.startAt));let l=null;return r.endAt&&(l=function(d){const p=!d.before,g=d.values||[];return new ih(g,p)}(r.endAt)),jO(e,A,s,i,o,"F",a,l)}function vM(t,e){const r=function(A){switch(A){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function XS(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=gc(r.unaryFilter.field);return Qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const A=gc(r.unaryFilter.field);return Qt.create(A,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gc(r.unaryFilter.field);return Qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gc(r.unaryFilter.field);return Qt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(t):t.fieldFilter!==void 0?function(r){return Qt.create(gc(r.fieldFilter.field),function(A){switch(A){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Xt.create(r.compositeFilter.filters.map(n=>XS(n)),function(A){switch(A){case"AND":return"and";case"OR":return"or";default:return nt()}}(r.compositeFilter.op))}(t):nt()}function yM(t){return uM[t]}function BM(t){return cM[t]}function CM(t){return hM[t]}function pc(t){return{fieldPath:t.canonicalString()}}function gc(t){return xr.fromServerFormat(t.fieldPath)}function YS(t){return t instanceof Qt?function(r){if(r.op==="=="){if(Y_(r.value))return{unaryFilter:{field:pc(r.field),op:"IS_NAN"}};if(X_(r.value))return{unaryFilter:{field:pc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Y_(r.value))return{unaryFilter:{field:pc(r.field),op:"IS_NOT_NAN"}};if(X_(r.value))return{unaryFilter:{field:pc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(r.field),op:BM(r.op),value:r.value}}}(t):t instanceof Xt?function(r){const n=r.getFilters().map(A=>YS(A));return n.length===1?n[0]:{compositeFilter:{op:CM(r.op),filters:n}}}(t):nt()}function _M(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ZS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,r,n,A,i=ot.min(),s=ot.min(),o=rn.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=A,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.ct=e}}function EM(t,e){let r;if(e.document)r=pM(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=ze.fromSegments(e.noDocument.path),A=vu(e.noDocument.readTime);r=Cr.newNoDocument(n,A),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return nt();{const n=ze.fromSegments(e.unknownDocument.path),A=vu(e.unknownDocument.version);r=Cr.newUnknownDocument(n,A)}}return e.readTime&&r.setReadTime(function(A){const i=new er(A[0],A[1]);return ot.fromTimestamp(i)}(e.readTime)),r}function gE(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:t0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(i,s){return{name:kf(i,s.key),fields:s.data.value.mapValue.fields,updateTime:lh(i,s.version.toTimestamp()),createTime:lh(i,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:wu(e.version)};else{if(!e.isUnknownDocument())return nt();n.unknownDocument={path:r.path.toArray(),version:wu(e.version)}}return n}function t0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function wu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vu(t){const e=new er(t.seconds,t.nanoseconds);return ot.fromTimestamp(e)}function Hl(t,e){const r=(e.baseMutations||[]).map(i=>_y(t.ct,i));for(let i=0;i<e.mutations.length-1;++i){const s=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const o=e.mutations[i+1];s.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const n=e.mutations.map(i=>_y(t.ct,i)),A=er.fromMillis(e.localWriteTimeMs);return new QB(e.batchId,A,r,n)}function Id(t){const e=vu(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?vu(t.lastLimboFreeSnapshotVersion):ot.min();let n;return n=function(i){return i.documents!==void 0}(t.query)?function(i){return it(i.documents.length===1),mi(op(qS(i.documents[0])))}(t.query):function(i){return mi(JS(i))}(t.query),new lo(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,rn.fromBase64String(t.resumeToken))}function tT(t,e){const r=wu(e.snapshotVersion),n=wu(e.lastLimboFreeSnapshotVersion);let A;A=Zm(e.target)?WS(t.ct,e.target):$S(t.ct,e.target)._t;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mu(e.target),readTime:r,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:A}}function rT(t){const e=JS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vy(e,e.limit,"L"):e}function _1(t,e){return new PB(e.largestBatchId,_y(t.ct,e.overlayMutation))}function mE(t,e){const r=e.path.lastSegment();return[t,uA(e.path.popLast()),r]}function wE(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:wu(n.readTime),documentKey:uA(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{getBundleMetadata(e,r){return vE(e).get(r).next(n=>{if(n)return function(i){return{id:i.bundleId,createTime:vu(i.createTime),version:i.version}}(n)})}saveBundleMetadata(e,r){return vE(e).put(function(A){return{bundleId:A.id,createTime:wu(yn(A.createTime)),version:A.version}}(r))}getNamedQuery(e,r){return yE(e).get(r).next(n=>{if(n)return function(i){return{name:i.name,query:rT(i.bundledQuery),readTime:vu(i.readTime)}}(n)})}saveNamedQuery(e,r){return yE(e).put(function(A){return{name:A.name,readTime:wu(yn(A.readTime)),bundledQuery:A.bundledQuery}}(r))}}function vE(t){return dn(t,"bundles")}function yE(t){return dn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new J0(e,n)}getOverlay(e,r){return nd(e).get(mE(this.userId,r)).next(n=>n?_1(this.serializer,n):null)}getOverlays(e,r){const n=Cs();return Be.forEach(r,A=>this.getOverlay(e,A).next(i=>{i!==null&&n.set(A,i)})).next(()=>n)}saveOverlays(e,r,n){const A=[];return n.forEach((i,s)=>{const o=new PB(r,s);A.push(this.ht(e,o))}),Be.waitFor(A)}removeOverlaysForBatchId(e,r,n){const A=new Set;r.forEach(s=>A.add(uA(s.getCollectionPath())));const i=[];return A.forEach(s=>{const o=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);i.push(nd(e).j("collectionPathOverlayIndex",o))}),Be.waitFor(i)}getOverlaysForCollection(e,r,n){const A=Cs(),i=uA(r),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return nd(e).U("collectionPathOverlayIndex",s).next(o=>{for(const a of o){const l=_1(this.serializer,a);A.set(l.getKey(),l)}return A})}getOverlaysForCollectionGroup(e,r,n,A){const i=Cs();let s;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return nd(e).J({index:"collectionGroupOverlayIndex",range:o},(a,l,h)=>{const d=_1(this.serializer,l);i.size()<A||d.largestBatchId===s?(i.set(d.getKey(),d),s=d.largestBatchId):h.done()}).next(()=>i)}ht(e,r){return nd(e).put(function(A,i,s){const[o,a,l]=mE(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Df(A.ct,s.mutation)}}(this.serializer,this.userId,r))}}function nd(t){return dn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{Pt(e){return dn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?rn.fromUint8Array(n):rn.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(yr(e.integerValue));else if("doubleValue"in e){const n=yr(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Sf(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=_o(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Xa(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?gS(e)?this.dt(r,Number.MAX_SAFE_INTEGER):G0(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):nt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const A of Object.keys(n))this.Vt(A,r),this.Tt(n[A],r)}wt(e,r){var n,A;const i=e.fields||{};this.dt(r,53);const s="value",o=((A=(n=i[s].arrayValue)===null||n===void 0?void 0:n.values)===null||A===void 0?void 0:A.length)||0;this.dt(r,15),r.At(yr(o)),this.Vt(s,r),this.Tt(i[s],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const A of n)this.Tt(A,r)}yt(e,r){this.dt(r,37),ze.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Vl.vt=new Vl;function xM(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function BE(t){const e=64-function(n){let A=0;for(let i=0;i<8;++i){const s=xM(255&n[i]);if(A+=s,s!==8)break}return A}(t);return Math.ceil(e/8)}class FM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const A=r.codePointAt(0);this.Ft(240|A>>>18),this.Ft(128|63&A>>>12),this.Ft(128|63&A>>>6),this.Ft(128|63&A)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const A=r.codePointAt(0);this.Ot(240|A>>>18),this.Ot(128|63&A>>>12),this.Ot(128|63&A>>>6),this.Ot(128|63&A)}}this.Nt()}kt(e){const r=this.qt(e),n=BE(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let A=r.length-n;A<r.length;++A)this.buffer[this.position++]=255&r[A]}Kt(e){const r=this.qt(e),n=BE(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let A=r.length-n;A<r.length;++A)this.buffer[this.position++]=~(255&r[A])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let A=1;A<r.length;++A)r[A]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const A=new Uint8Array(n);A.set(this.buffer),this.buffer=A}}class SM{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class TM{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ad{constructor(){this.jt=new FM,this.Ht=new SM(this.jt),this.Jt=new TM(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,r,n,A){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=A}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new jl(this.indexId,this.documentKey,this.arrayValue,n)}}function sa(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=CE(t.arrayValue,e.arrayValue),r!==0?r:(r=CE(t.directionalValue,e.directionalValue),r!==0?r:ze.comparator(t.documentKey,e.documentKey)))}function CE(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this.Xt=new nr((r,n)=>xr.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(it(e.collectionGroup===this.collectionId),this.nn)return!1;const r=cy(e);if(r!==void 0&&!this.sn(r))return!1;const n=kl(e);let A=new Set,i=0,s=0;for(;i<n.length&&this.sn(n[i]);++i)A=A.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!A.has(o.field.canonicalString())){const a=n[i];if(!this.on(o,a)||!this._n(this.en[s++],a))return!1}++i}for(;i<n.length;++i){const o=n[i];if(s>=this.en.length||!this._n(this.en[s++],o))return!1}return!0}an(){if(this.nn)return null;let e=new nr(xr.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new om(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new om(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new om(n.field,n.dir==="asc"?0:1)));return new Ym(Ym.UNKNOWN_ID,this.collectionId,r,Ff.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){var e,r;if(it(t instanceof Qt||t instanceof Xt),t instanceof Qt){if(t instanceof bS){const A=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(i=>Qt.create(t.field,"==",i)))||[];return Xt.create(A,"or")}return t}const n=t.filters.map(A=>nT(A));return Xt.create(n,t.op)}function UM(t){if(t.getFilters().length===0)return[];const e=Iy(nT(t));return it(AT(e)),Ey(e)||by(e)?[e]:e.getFilters()}function Ey(t){return t instanceof Qt}function by(t){return t instanceof Xt&&TB(t)}function AT(t){return Ey(t)||by(t)||function(r){if(r instanceof Xt&&py(r)){for(const n of r.getFilters())if(!Ey(n)&&!by(n))return!1;return!0}return!1}(t)}function Iy(t){if(it(t instanceof Qt||t instanceof Xt),t instanceof Qt)return t;if(t.filters.length===1)return Iy(t.filters[0]);const e=t.filters.map(n=>Iy(n));let r=Xt.create(e,t.op);return r=r0(r),AT(r)?r:(it(r instanceof Xt),it(sh(r)),it(r.filters.length>1),r.filters.reduce((n,A)=>DB(n,A)))}function DB(t,e){let r;return it(t instanceof Qt||t instanceof Xt),it(e instanceof Qt||e instanceof Xt),r=t instanceof Qt?e instanceof Qt?function(A,i){return Xt.create([A,i],"and")}(t,e):EE(t,e):e instanceof Qt?EE(e,t):function(A,i){if(it(A.filters.length>0&&i.filters.length>0),sh(A)&&sh(i))return CS(A,i.getFilters());const s=py(A)?A:i,o=py(A)?i:A,a=s.filters.map(l=>DB(l,o));return Xt.create(a,"or")}(t,e),r0(r)}function EE(t,e){if(sh(e))return CS(e,t.getFilters());{const r=e.filters.map(n=>DB(t,n));return Xt.create(r,"or")}}function r0(t){if(it(t instanceof Qt||t instanceof Xt),t instanceof Qt)return t;const e=t.getFilters();if(e.length===1)return r0(e[0]);if(yS(t))return t;const r=e.map(A=>r0(A)),n=[];return r.forEach(A=>{A instanceof Qt?n.push(A):A instanceof Xt&&(A.op===t.op?n.push(...A.filters):n.push(A))}),n.length===1?n[0]:Xt.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.un=new OB}addToCollectionParentIndex(e,r){return this.un.add(r),Be.resolve()}getCollectionParents(e,r){return Be.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Be.resolve()}deleteFieldIndex(e,r){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,r){return Be.resolve()}getDocumentsMatchingTarget(e,r){return Be.resolve(null)}getIndexType(e,r){return Be.resolve(0)}getFieldIndexes(e,r){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,r){return Be.resolve($A.min())}getMinOffsetFromCollectionGroup(e,r){return Be.resolve($A.min())}updateCollectionGroup(e,r,n){return Be.resolve()}updateIndexEntries(e,r){return Be.resolve()}}class OB{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),A=this.index[r]||new nr(Ht.comparator),i=!A.has(n);return this.index[r]=A.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),A=this.index[r];return A&&A.has(n)}getEntries(e){return(this.index[e]||new nr(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=new Uint8Array(0);class QM{constructor(e,r){this.databaseId=r,this.cn=new OB,this.ln=new ul(n=>mu(n),(n,A)=>sp(n,A)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),A=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const i={collectionId:n,parent:uA(A)};return bE(e).put(i)}return Be.resolve()}getCollectionParents(e,r){const n=[],A=IDBKeyRange.bound([r,""],[iS(r),""],!1,!0);return bE(e).U(A).next(i=>{for(const s of i){if(s.collectionId!==r)break;n.push(Bs(s.parent))}return n})}addFieldIndex(e,r){const n=id(e),A=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(r);delete A.indexId;const i=n.add(A);if(r.indexState){const s=rc(e);return i.next(o=>{s.put(wE(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return i.next()}deleteFieldIndex(e,r){const n=id(e),A=rc(e),i=tc(e);return n.delete(r.indexId).next(()=>A.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=id(e),n=tc(e),A=rc(e);return r.j().next(()=>n.j()).next(()=>A.j())}createTargetIndexes(e,r){return Be.forEach(this.hn(r),n=>this.getIndexType(e,n).next(A=>{if(A===0||A===1){const i=new _E(n).an();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,r){const n=tc(e);let A=!0;const i=new Map;return Be.forEach(this.hn(r),s=>this.Pn(e,s).next(o=>{A&&(A=!!o),i.set(s,o)})).next(()=>{if(A){let s=xt();const o=[];return Be.forEach(i,(a,l)=>{De("IndexedDbIndexManager",`Using index ${function(T){return`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(V=>`${V.fieldPath}:${V.kind}`).join(",")}`}(a)} to execute ${mu(r)}`);const h=function(T,V){const D=cy(V);if(D===void 0)return null;for(const j of e0(T,D.fieldPath))switch(j.op){case"array-contains-any":return j.value.arrayValue.values||[];case"array-contains":return[j.value]}return null}(l,a),d=function(T,V){const D=new Map;for(const j of kl(V))for(const S of e0(T,j.fieldPath))switch(S.op){case"==":case"in":D.set(j.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return D.set(j.fieldPath.canonicalString(),S.value),Array.from(D.values())}return null}(l,a),p=function(T,V){const D=[];let j=!0;for(const S of kl(V)){const b=S.kind===0?nE(T,S.fieldPath,T.startAt):AE(T,S.fieldPath,T.startAt);D.push(b.value),j&&(j=b.inclusive)}return new ih(D,j)}(l,a),g=function(T,V){const D=[];let j=!0;for(const S of kl(V)){const b=S.kind===0?AE(T,S.fieldPath,T.endAt):nE(T,S.fieldPath,T.endAt);D.push(b.value),j&&(j=b.inclusive)}return new ih(D,j)}(l,a),E=this.In(a,l,p),_=this.In(a,l,g),N=this.Tn(a,l,d),v=this.En(a.indexId,h,E,p.inclusive,_,g.inclusive,N);return Be.forEach(v,y=>n.G(y,r.limit).next(T=>{T.forEach(V=>{const D=ze.fromSegments(V.documentKey);s.has(D)||(s=s.add(D),o.push(D))})}))}).next(()=>o)}return Be.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=UM(Xt.create(e.filters,"and")).map(n=>my(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,A,i,s,o){const a=(r!=null?r.length:1)*Math.max(n.length,i.length),l=a/(r!=null?r.length:1),h=[];for(let d=0;d<a;++d){const p=r?this.dn(r[d/l]):cg,g=this.An(e,p,n[d%l],A),E=this.Rn(e,p,i[d%l],s),_=o.map(N=>this.An(e,p,N,!0));h.push(...this.createRange(g,E,_))}return h}An(e,r,n,A){const i=new jl(e,ze.empty(),r,n);return A?i:i.Zt()}Rn(e,r,n,A){const i=new jl(e,ze.empty(),r,n);return A?i.Zt():i}Pn(e,r){const n=new _E(r),A=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,A).next(i=>{let s=null;for(const o of i)n.rn(o)&&(!s||o.fields.length>s.fields.length)&&(s=o);return s})}getIndexType(e,r){let n=2;const A=this.hn(r);return Be.forEach(A,i=>this.Pn(e,i).next(s=>{s?n!==0&&s.fields.length<function(a){let l=new nr(xr.comparator),h=!1;for(const d of a.filters)for(const p of d.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?h=!0:l=l.add(p.field));for(const d of a.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(h?1:0)}(i)&&(n=1):n=0})).next(()=>function(s){return s.limit!==null}(r)&&A.length>1&&n===2?1:n)}Vn(e,r){const n=new Ad;for(const A of kl(e)){const i=r.data.field(A.fieldPath);if(i==null)return null;const s=n.Yt(A.kind);Vl.vt.It(i,s)}return n.zt()}dn(e){const r=new Ad;return Vl.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new Ad;return Vl.vt.It(Nf(this.databaseId,r),n.Yt(function(i){const s=kl(i);return s.length===0?0:s[s.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let A=[];A.push(new Ad);let i=0;for(const s of kl(e)){const o=n[i++];for(const a of A)if(this.fn(r,s.fieldPath)&&Qf(o))A=this.gn(A,s,o);else{const l=a.Yt(s.kind);Vl.vt.It(o,l)}}return this.pn(A)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const A=[...e],i=[];for(const s of n.arrayValue.values||[])for(const o of A){const a=new Ad;a.seed(o.zt()),Vl.vt.It(s,a.Yt(r.kind)),i.push(a)}return i}fn(e,r){return!!e.filters.find(n=>n instanceof Qt&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=id(e),A=rc(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(i=>{const s=[];return Be.forEach(i,o=>A.get([o.indexId,this.uid]).next(a=>{s.push(function(h,d){const p=d?new Ff(d.sequenceNumber,new $A(vu(d.readTime),new ze(Bs(d.documentKey)),d.largestBatchId)):Ff.empty(),g=h.fields.map(([E,_])=>new om(xr.fromServerFormat(E),_));return new Ym(h.indexId,h.collectionGroup,g,p)}(o,a))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,A)=>{const i=n.indexState.sequenceNumber-A.indexState.sequenceNumber;return i!==0?i:_t(n.collectionGroup,A.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const A=id(e),i=rc(e);return this.yn(e).next(s=>A.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(o=>Be.forEach(o,a=>i.put(wE(a.indexId,this.uid,s,n)))))}updateIndexEntries(e,r){const n=new Map;return Be.forEach(r,(A,i)=>{const s=n.get(A.collectionGroup);return(s?Be.resolve(s):this.getFieldIndexes(e,A.collectionGroup)).next(o=>(n.set(A.collectionGroup,o),Be.forEach(o,a=>this.wn(e,A,a).next(l=>{const h=this.Sn(i,a);return l.isEqual(h)?Be.resolve():this.bn(e,i,a,l,h)}))))})}Dn(e,r,n,A){return tc(e).put({indexId:A.indexId,uid:this.uid,arrayValue:A.arrayValue,directionalValue:A.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,A){return tc(e).delete([A.indexId,this.uid,A.arrayValue,A.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const A=tc(e);let i=new nr(sa);return A.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(s,o)=>{i=i.add(new jl(n.indexId,r,o.arrayValue,o.directionalValue))}).next(()=>i)}Sn(e,r){let n=new nr(sa);const A=this.Vn(r,e);if(A==null)return n;const i=cy(r);if(i!=null){const s=e.data.field(i.fieldPath);if(Qf(s))for(const o of s.arrayValue.values||[])n=n.add(new jl(r.indexId,e.key,this.dn(o),A))}else n=n.add(new jl(r.indexId,e.key,cg,A));return n}bn(e,r,n,A,i){De("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const s=[];return function(a,l,h,d,p){const g=a.getIterator(),E=l.getIterator();let _=ec(g),N=ec(E);for(;_||N;){let v=!1,y=!1;if(_&&N){const T=h(_,N);T<0?y=!0:T>0&&(v=!0)}else _!=null?y=!0:v=!0;v?(d(N),N=ec(E)):y?(p(_),_=ec(g)):(_=ec(g),N=ec(E))}}(A,i,sa,o=>{s.push(this.Dn(e,r,n,o))},o=>{s.push(this.vn(e,r,n,o))}),Be.waitFor(s)}yn(e){let r=1;return rc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,A,i)=>{i.done(),r=A.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((s,o)=>sa(s,o)).filter((s,o,a)=>!o||sa(s,a[o-1])!==0);const A=[];A.push(e);for(const s of n){const o=sa(s,e),a=sa(s,r);if(o===0)A[0]=e.Zt();else if(o>0&&a<0)A.push(s),A.push(s.Zt());else if(a>0)break}A.push(r);const i=[];for(let s=0;s<A.length;s+=2){if(this.Cn(A[s],A[s+1]))return[];const o=[A[s].indexId,this.uid,A[s].arrayValue,A[s].directionalValue,cg,[]],a=[A[s+1].indexId,this.uid,A[s+1].arrayValue,A[s+1].directionalValue,cg,[]];i.push(IDBKeyRange.bound(o,a))}return i}Cn(e,r){return sa(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(IE)}getMinOffset(e,r){return Be.mapArray(this.hn(r),n=>this.Pn(e,n).next(A=>A||nt())).next(IE)}}function bE(t){return dn(t,"collectionParents")}function tc(t){return dn(t,"indexEntries")}function id(t){return dn(t,"indexConfiguration")}function rc(t){return dn(t,"indexState")}function IE(t){it(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const A=t[n].indexState.offset;bB(A,e)<0&&(e=A),r<A.largestBatchId&&(r=A.largestBatchId)}return new $A(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class CA{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new CA(e,CA.DEFAULT_COLLECTION_PERCENTILE,CA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e,r){const n=t.store("mutations"),A=t.store("documentMutations"),i=[],s=IDBKeyRange.only(r.batchId);let o=0;const a=n.J({range:s},(h,d,p)=>(o++,p.delete()));i.push(a.next(()=>{it(o===1)}));const l=[];for(const h of r.mutations){const d=uS(e,h.key.path,r.batchId);i.push(A.delete(d)),l.push(h.key)}return Be.waitFor(i).next(()=>l)}function n0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw nt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */CA.DEFAULT_COLLECTION_PERCENTILE=10,CA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,CA.DEFAULT=new CA(41943040,CA.DEFAULT_COLLECTION_PERCENTILE,CA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),CA.DISABLED=new CA(-1,0,0);class X0{constructor(e,r,n,A){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=A,this.Fn={}}static lt(e,r,n,A){it(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new X0(i,r,n,A)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).J({index:"userMutationsIndex",range:n},(A,i,s)=>{r=!1,s.done()}).next(()=>r)}addMutationBatch(e,r,n,A){const i=mc(e),s=oa(e);return s.add({}).next(o=>{it(typeof o=="number");const a=new QB(o,r,n,A),l=function(g,E,_){const N=_.baseMutations.map(y=>Df(g.ct,y)),v=_.mutations.map(y=>Df(g.ct,y));return{userId:E,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:N,mutations:v}}(this.serializer,this.userId,a),h=[];let d=new nr((p,g)=>_t(p.canonicalString(),g.canonicalString()));for(const p of A){const g=uS(this.userId,p.key.path,o);d=d.add(p.key.path.popLast()),h.push(s.put(l)),h.push(i.put(g,dO))}return d.forEach(p=>{h.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Fn[o]=a.keys()}),Be.waitFor(h).next(()=>a)})}lookupMutationBatch(e,r){return oa(e).get(r).next(n=>n?(it(n.userId===this.userId),Hl(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?Be.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const A=n.keys();return this.Fn[r]=A,A}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,A=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return oa(e).J({index:"userMutationsIndex",range:A},(s,o,a)=>{o.userId===this.userId&&(it(o.batchId>=n),i=Hl(this.serializer,o)),a.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return oa(e).J({index:"userMutationsIndex",range:r,reverse:!0},(A,i,s)=>{n=i.batchId,s.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).U("userMutationsIndex",r).next(n=>n.map(A=>Hl(this.serializer,A)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=am(this.userId,r.path),A=IDBKeyRange.lowerBound(n),i=[];return mc(e).J({range:A},(s,o,a)=>{const[l,h,d]=s,p=Bs(h);if(l===this.userId&&r.path.isEqual(p))return oa(e).get(d).next(g=>{if(!g)throw nt();it(g.userId===this.userId),i.push(Hl(this.serializer,g))});a.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new nr(_t);const A=[];return r.forEach(i=>{const s=am(this.userId,i.path),o=IDBKeyRange.lowerBound(s),a=mc(e).J({range:o},(l,h,d)=>{const[p,g,E]=l,_=Bs(g);p===this.userId&&i.path.isEqual(_)?n=n.add(E):d.done()});A.push(a)}),Be.waitFor(A).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,A=n.length+1,i=am(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new nr(_t);return mc(e).J({range:s},(a,l,h)=>{const[d,p,g]=a,E=Bs(p);d===this.userId&&n.isPrefixOf(E)?E.length===A&&(o=o.add(g)):h.done()}).next(()=>this.xn(e,o))}xn(e,r){const n=[],A=[];return r.forEach(i=>{A.push(oa(e).get(i).next(s=>{if(s===null)throw nt();it(s.userId===this.userId),n.push(Hl(this.serializer,s))}))}),Be.waitFor(A).next(()=>n)}removeMutationBatch(e,r){return iT(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),Be.forEach(n,A=>this.referenceDelegate.markPotentiallyOrphaned(e,A))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Be.resolve();const n=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),A=[];return mc(e).J({range:n},(i,s,o)=>{if(i[0]===this.userId){const a=Bs(i[1]);A.push(a)}else o.done()}).next(()=>{it(A.length===0)})})}containsKey(e,r){return sT(e,this.userId,r)}Nn(e){return oT(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sT(t,e,r){const n=am(e,r.path),A=n[1],i=IDBKeyRange.lowerBound(n);let s=!1;return mc(t).J({range:i,H:!0},(o,a,l)=>{const[h,d,p]=o;h===e&&d===A&&(s=!0),l.done()}).next(()=>s)}function oa(t){return dn(t,"mutations")}function mc(t){return dn(t,"documentMutations")}function oT(t){return dn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yu(0)}static kn(){return new yu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new yu(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>ot.fromTimestamp(new er(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(A=>(A.highestListenSequenceNumber=r,n&&(A.lastRemoteSnapshotVersion=n.toTimestamp()),r>A.highestListenSequenceNumber&&(A.highestListenSequenceNumber=r),this.Qn(e,A)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>nc(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(it(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let A=0;const i=[];return nc(e).J((s,o)=>{const a=Id(o);a.sequenceNumber<=r&&n.get(a.targetId)===null&&(A++,i.push(this.removeTargetData(e,a)))}).next(()=>Be.waitFor(i)).next(()=>A)}forEachTarget(e,r){return nc(e).J((n,A)=>{const i=Id(A);r(i)})}qn(e){return FE(e).get("targetGlobalKey").next(r=>(it(r!==null),r))}Qn(e,r){return FE(e).put("targetGlobalKey",r)}Kn(e,r){return nc(e).put(tT(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=mu(r),A=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return nc(e).J({range:A,index:"queryTargetsIndex"},(s,o,a)=>{const l=Id(o);sp(r,l.target)&&(i=l,a.done())}).next(()=>i)}addMatchingKeys(e,r,n){const A=[],i=_a(e);return r.forEach(s=>{const o=uA(s.path);A.push(i.put({targetId:n,path:o})),A.push(this.referenceDelegate.addReference(e,n,s))}),Be.waitFor(A)}removeMatchingKeys(e,r,n){const A=_a(e);return Be.forEach(r,i=>{const s=uA(i.path);return Be.waitFor([A.delete([n,s]),this.referenceDelegate.removeReference(e,n,i)])})}removeMatchingKeysForTargetId(e,r){const n=_a(e),A=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(A)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),A=_a(e);let i=xt();return A.J({range:n,H:!0},(s,o,a)=>{const l=Bs(s[1]),h=new ze(l);i=i.add(h)}).next(()=>i)}containsKey(e,r){const n=uA(r.path),A=IDBKeyRange.bound([n],[iS(n)],!1,!0);let i=0;return _a(e).J({index:"documentTargetsIndex",H:!0,range:A},([s,o],a,l)=>{s!==0&&(i++,l.done())}).next(()=>i>0)}ot(e,r){return nc(e).get(r).next(n=>n?Id(n):null)}}function nc(t){return dn(t,"targets")}function FE(t){return dn(t,"targetGlobal")}function _a(t){return dn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE([t,e],[r,n]){const A=_t(t,r);return A===0?_t(e,n):A}class PM{constructor(e){this.Un=e,this.buffer=new nr(SE),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();SE(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class RM{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){De("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ll(r)?De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await bu(r)}await this.Hn(3e5)})}}class kM{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Be.resolve(di.oe);const n=new PM(r);return this.Jn.forEachTarget(e,A=>n.zn(A.sequenceNumber)).next(()=>this.Jn.Zn(e,A=>n.zn(A))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(xE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xE):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,A,i,s,o,a,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),A=this.params.maximumSequenceNumbersToCollect):A=d,s=Date.now(),this.nthSequenceNumber(e,A))).next(d=>(n=d,o=Date.now(),this.removeTargets(e,n,r))).next(d=>(i=d,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(l=Date.now(),dc()<=Nt.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${A} in `+(o-s)+`ms
	Removed ${i} targets in `+(a-o)+`ms
	Removed ${d} documents in `+(l-a)+`ms
Total Duration: ${l-h}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:A,targetsRemoved:i,documentsRemoved:d})))}}function DM(t,e){return new kM(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,r){this.db=e,this.garbageCollector=DM(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(A=>n+A))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,A)=>r(A))}addReference(e,r,n){return hg(e,n)}removeReference(e,r,n){return hg(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return hg(e,r)}nr(e,r){return function(A,i){let s=!1;return oT(A).Y(o=>sT(A,o,i).next(a=>(a&&(s=!0),Be.resolve(!a)))).next(()=>s)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),A=[];let i=0;return this.tr(e,(s,o)=>{if(o<=r){const a=this.nr(e,s).next(l=>{if(!l)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s,ot.min()),_a(e).delete(function(d){return[0,uA(d.path)]}(s))))});A.push(a)}}).next(()=>Be.waitFor(A)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return hg(e,r)}tr(e,r){const n=_a(e);let A,i=di.oe;return n.J({index:"documentTargetsIndex"},([s,o],{path:a,sequenceNumber:l})=>{s===0?(i!==di.oe&&r(new ze(Bs(A)),i),i=l,A=a):i=di.oe}).next(()=>{i!==di.oe&&r(new ze(Bs(A)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hg(t,e){return _a(t).put(function(n,A){return{targetId:0,path:uA(n.path),sequenceNumber:A}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.changes=new ul(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Cr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Be.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Nl(e).put(n)}removeEntry(e,r,n){return Nl(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],t0(s),o[o.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=Cr.newInvalidDocument(r);return Nl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(sd(r))},(A,i)=>{n=this.ir(r,i)}).next(()=>n)}sr(e,r){let n={size:0,document:Cr.newInvalidDocument(r)};return Nl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(sd(r))},(A,i)=>{n={document:this.ir(r,i),size:n0(i)}}).next(()=>n)}getEntries(e,r){let n=KA();return this._r(e,r,(A,i)=>{const s=this.ir(A,i);n=n.insert(A,s)}).next(()=>n)}ar(e,r){let n=KA(),A=new br(ze.comparator);return this._r(e,r,(i,s)=>{const o=this.ir(i,s);n=n.insert(i,o),A=A.insert(i,n0(s))}).next(()=>({documents:n,ur:A}))}_r(e,r,n){if(r.isEmpty())return Be.resolve();let A=new nr(NE);r.forEach(a=>A=A.add(a));const i=IDBKeyRange.bound(sd(A.first()),sd(A.last())),s=A.getIterator();let o=s.getNext();return Nl(e).J({index:"documentKeyIndex",range:i},(a,l,h)=>{const d=ze.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;o&&NE(o,d)<0;)n(o,null),o=s.getNext();o&&o.isEqual(d)&&(n(o,l),o=s.hasNext()?s.getNext():null),o?h.$(sd(o)):h.done()}).next(()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,r,n,A,i){const s=r.path,o=[s.popLast().toArray(),s.lastSegment(),t0(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nl(e).U(IDBKeyRange.bound(o,a,!0)).next(l=>{i==null||i.incrementDocumentReadCount(l.length);let h=KA();for(const d of l){const p=this.ir(ze.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);p.isFoundDocument()&&(ap(r,p)||A.has(p.key))&&(h=h.insert(p.key,p))}return h})}getAllFromCollectionGroup(e,r,n,A){let i=KA();const s=UE(r,n),o=UE(r,$A.max());return Nl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},(a,l,h)=>{const d=this.ir(ze.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);i=i.insert(d.key,d),i.size===A&&h.done()}).next(()=>i)}newChangeBuffer(e){return new HM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return TE(e).get("remoteDocumentGlobalKey").next(r=>(it(!!r),r))}rr(e,r){return TE(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=EM(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(ot.min())))return n}return Cr.newInvalidDocument(e)}}function lT(t){return new MM(t)}class HM extends aT{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new ul(n=>n.toString(),(n,A)=>n.isEqual(A))}applyChanges(e){const r=[];let n=0,A=new nr((i,s)=>_t(i.canonicalString(),s.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.lr.get(i);if(r.push(this.cr.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=gE(this.cr.serializer,s);A=A.add(i.path.popLast());const l=n0(a);n+=l-o.size,r.push(this.cr.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const a=gE(this.cr.serializer,s.convertToNoDocument(ot.min()));r.push(this.cr.addEntry(e,i,a))}}),A.forEach(i=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,i))}),r.push(this.cr.updateMetadata(e,n)),Be.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:A})=>(A.forEach((i,s)=>{this.lr.set(i,{size:s,readTime:n.get(i).readTime})}),n))}}function TE(t){return dn(t,"remoteDocumentGlobal")}function Nl(t){return dn(t,"remoteDocumentsV14")}function sd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function UE(t,e){const r=e.documentKey.path.toArray();return[t,t0(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function NE(t,e){const r=t.path.toArray(),n=e.path.toArray();let A=0;for(let i=0;i<r.length-2&&i<n.length-2;++i)if(A=_t(r[i],n[i]),A)return A;return A=_t(r.length,n.length),A||(A=_t(r[r.length-2],n[n.length-2]),A||_t(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,r,n,A){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=A}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(A=>(n=A,this.remoteDocumentCache.getEntry(e,r))).next(A=>(n!==null&&Wd(n.mutation,A,IA.empty(),er.now()),A))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,xt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=xt()){const A=Cs();return this.populateOverlays(e,A,r).next(()=>this.computeViews(e,r,A,n).next(i=>{let s=Ed();return i.forEach((o,a)=>{s=s.insert(o,a.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Cs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,xt()))}populateOverlays(e,r,n){const A=[];return n.forEach(i=>{r.has(i)||A.push(i)}),this.documentOverlayCache.getOverlays(e,A).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,A){let i=KA();const s=zd(),o=function(){return zd()}();return r.forEach((a,l)=>{const h=n.get(l.key);A.has(l.key)&&(h===void 0||h.mutation instanceof Fo)?i=i.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Wd(h.mutation,l,h.mutation.getFieldMask(),er.now())):s.set(l.key,IA.empty())}),this.recalculateAndSaveOverlays(e,i).next(a=>(a.forEach((l,h)=>s.set(l,h)),r.forEach((l,h)=>{var d;return o.set(l,new VM(h,(d=s.get(l))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,r){const n=zd();let A=new br((s,o)=>s-o),i=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(a=>{const l=r.get(a);if(l===null)return;let h=n.get(a)||IA.empty();h=o.applyToLocalView(l,h),n.set(a,h);const d=(A.get(o.batchId)||xt()).add(a);A=A.insert(o.batchId,d)})}).next(()=>{const s=[],o=A.getReverseIterator();for(;o.hasNext();){const a=o.getNext(),l=a.key,h=a.value,d=US();h.forEach(p=>{if(!i.has(p)){const g=kS(r.get(p),n.get(p));g!==null&&d.set(p,g),i=i.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return Be.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,A){return function(s){return ze.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):IS(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,A):this.getDocumentsMatchingCollectionQuery(e,r,n,A)}getNextDocuments(e,r,n,A){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,A).next(i=>{const s=A-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,A-i.size):Be.resolve(Cs());let o=-1,a=i;return s.next(l=>Be.forEach(l,(h,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(h)?Be.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{a=a.insert(h,p)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,a,l,xt())).next(h=>({batchId:o,changes:TS(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ze(r)).next(n=>{let A=Ed();return n.isFoundDocument()&&(A=A.insert(n.key,n)),A})}getDocumentsMatchingCollectionGroupQuery(e,r,n,A){const i=r.collectionGroup;let s=Ed();return this.indexManager.getCollectionParents(e,i).next(o=>Be.forEach(o,a=>{const l=function(d,p){return new Ch(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,n,A).next(h=>{h.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,A){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,A))).next(s=>{i.forEach((a,l)=>{const h=l.getKey();s.get(h)===null&&(s=s.insert(h,Cr.newInvalidDocument(h)))});let o=Ed();return s.forEach((a,l)=>{const h=i.get(a);h!==void 0&&Wd(h.mutation,l,IA.empty(),er.now()),ap(r,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Be.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(A){return{id:A.id,version:A.version,createTime:yn(A.createTime)}}(r)),Be.resolve()}getNamedQuery(e,r){return Be.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(A){return{name:A.name,query:rT(A.bundledQuery),readTime:yn(A.readTime)}}(r)),Be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.overlays=new br(ze.comparator),this.Ir=new Map}getOverlay(e,r){return Be.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Cs();return Be.forEach(r,A=>this.getOverlay(e,A).next(i=>{i!==null&&n.set(A,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((A,i)=>{this.ht(e,r,i)}),Be.resolve()}removeOverlaysForBatchId(e,r,n){const A=this.Ir.get(n);return A!==void 0&&(A.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),Be.resolve()}getOverlaysForCollection(e,r,n){const A=Cs(),i=r.length+1,s=new ze(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const a=o.getNext().value,l=a.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===i&&a.largestBatchId>n&&A.set(a.getKey(),a)}return Be.resolve(A)}getOverlaysForCollectionGroup(e,r,n,A){let i=new br((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let h=i.get(l.largestBatchId);h===null&&(h=Cs(),i=i.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const o=Cs(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((l,h)=>o.set(l,h)),!(o.size()>=A)););return Be.resolve(o)}ht(e,r,n){const A=this.overlays.get(n.key);if(A!==null){const s=this.Ir.get(A.largestBatchId).delete(n.key);this.Ir.set(A.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new PB(r,n));let i=this.Ir.get(r);i===void 0&&(i=xt(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.Tr=new nr(mn.Er),this.dr=new nr(mn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new mn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new mn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ze(new Ht([])),n=new mn(r,e),A=new mn(r,e+1),i=[];return this.dr.forEachInRange([n,A],s=>{this.Vr(s),i.push(s.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ze(new Ht([])),n=new mn(r,e),A=new mn(r,e+1);let i=xt();return this.dr.forEachInRange([n,A],s=>{i=i.add(s.key)}),i}containsKey(e){const r=new mn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class mn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ze.comparator(e.key,r.key)||_t(e.wr,r.wr)}static Ar(e,r){return _t(e.wr,r.wr)||ze.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new nr(mn.Er)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,A){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new QB(i,r,n,A);this.mutationQueue.push(s);for(const o of A)this.br=this.br.add(new mn(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Be.resolve(s)}lookupMutationBatch(e,r){return Be.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,A=this.vr(n),i=A<0?0:A;return Be.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new mn(r,0),A=new mn(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,A],s=>{const o=this.Dr(s.wr);i.push(o)}),Be.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new nr(_t);return r.forEach(A=>{const i=new mn(A,0),s=new mn(A,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,s],o=>{n=n.add(o.wr)})}),Be.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,A=n.length+1;let i=n;ze.isDocumentKey(i)||(i=i.child(""));const s=new mn(new ze(i),0);let o=new nr(_t);return this.br.forEachWhile(a=>{const l=a.key.path;return!!n.isPrefixOf(l)&&(l.length===A&&(o=o.add(a.wr)),!0)},s),Be.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const A=this.Dr(n);A!==null&&r.push(A)}),r}removeMutationBatch(e,r){it(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Be.forEach(r.mutations,A=>{const i=new mn(A.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,A.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new mn(r,0),A=this.br.firstAfterOrEqual(n);return Be.resolve(r.isEqual(A&&A.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.Mr=e,this.docs=function(){return new br(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,A=this.docs.get(n),i=A?A.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Be.resolve(n?n.document.mutableCopy():Cr.newInvalidDocument(r))}getEntries(e,r){let n=KA();return r.forEach(A=>{const i=this.docs.get(A);n=n.insert(A,i?i.document.mutableCopy():Cr.newInvalidDocument(A))}),Be.resolve(n)}getDocumentsMatchingQuery(e,r,n,A){let i=KA();const s=r.path,o=new ze(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:l,value:{document:h}}=a.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||bB(sS(h),n)<=0||(A.has(h.key)||ap(r,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Be.resolve(i)}getAllFromCollectionGroup(e,r,n,A){nt()}Or(e,r){return Be.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new WM(this)}getSize(e){return Be.resolve(this.size)}}class WM extends aT{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,A)=>{A.isValidDocument()?r.push(this.cr.addEntry(e,A)):this.cr.removeEntry(n)}),Be.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.persistence=e,this.Nr=new ul(r=>mu(r),sp),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Lr=0,this.Br=new MB,this.targetCount=0,this.kr=yu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,A)=>r(A)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Be.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new yu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Be.resolve()}updateTargetData(e,r){return this.Kn(r),Be.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,r,n){let A=0;const i=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),A++)}),Be.waitFor(i).next(()=>A)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Be.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Be.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const A=this.persistence.referenceDelegate,i=[];return A&&r.forEach(s=>{i.push(A.markPotentiallyOrphaned(e,s))}),Be.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Be.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Be.resolve(n)}containsKey(e,r){return Be.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,r){this.qr={},this.overlays={},this.Qr=new di(0),this.Kr=!1,this.Kr=!0,this.$r=new GM,this.referenceDelegate=e(this),this.Ur=new $M(this),this.indexManager=new NM,this.remoteDocumentCache=function(A){return new zM(A)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new eT(r),this.Gr=new jM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new KM,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new qM(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){De("MemoryPersistence","Starting transaction:",e);const A=new JM(this.Qr.next());return this.referenceDelegate.zr(),n(A).next(i=>this.referenceDelegate.jr(A).next(()=>i)).toPromise().then(i=>(A.raiseOnCommittedEvent(),i))}Hr(e,r){return Be.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class JM extends aS{constructor(e){super(),this.currentSequenceNumber=e}}class Y0{constructor(e){this.persistence=e,this.Jr=new MB,this.Yr=null}static Zr(e){return new Y0(e)}get Xr(){if(this.Yr)return this.Yr;throw nt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Be.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Be.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Be.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(A=>this.Xr.add(A.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(A=>{A.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Xr,n=>{const A=ze.fromPath(n);return this.ei(e,A).next(i=>{i||r.removeEntry(A,ot.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Be.or([()=>Be.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.serializer=e}O(e,r,n,A){const i=new K0("createOrUpgrade",r);n<1&&A>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",q_,{unique:!0}),a.createObjectStore("documentMutations")}(e),QE(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=Be.resolve();return n<3&&A>=3&&(n!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),QE(e)),s=s.next(()=>function(a){const l=a.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ot.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(i))),n<4&&A>=4&&(n!==0&&(s=s.next(()=>function(a,l){return l.store("mutations").U().next(h=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",q_,{unique:!0});const d=l.store("mutations"),p=h.map(g=>d.put(g));return Be.waitFor(p)})}(e,i))),s=s.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&A>=5&&(s=s.next(()=>this.ni(i))),n<6&&A>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i)))),n<7&&A>=7&&(s=s.next(()=>this.ii(i))),n<8&&A>=8&&(s=s.next(()=>this.si(e,i))),n<9&&A>=9&&(s=s.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&A>=10&&(s=s.next(()=>this.oi(i))),n<11&&A>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&A>=12&&(s=s.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:bO});l.createIndex("collectionPathOverlayIndex",IO,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",xO,{unique:!1})})(e)})),n<13&&A>=13&&(s=s.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:fO});l.createIndex("documentKeyIndex",pO),l.createIndex("collectionGroupIndex",gO)}(e)).next(()=>this._i(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&A>=14&&(s=s.next(()=>this.ai(e,i))),n<15&&A>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:BO}).createIndex("sequenceNumberIndex",CO,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:_O}).createIndex("documentKeyIndex",EO,{unique:!1})}(e))),n<16&&A>=16&&(s=s.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&A>=17&&(s=s.next(()=>{(function(a){a.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let r=0;return e.store("remoteDocuments").J((n,A)=>{r+=n0(A)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(A=>Be.forEach(A,i=>{const s=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",s).next(o=>Be.forEach(o,a=>{it(a.userId===i.userId);const l=Hl(this.serializer,a);return iT(e,i.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(A=>{const i=[];return n.J((s,o)=>{const a=new Ht(s),l=function(d){return[0,uA(d)]}(a);i.push(r.get(l).next(h=>h?Be.resolve():(d=>r.put({targetId:0,path:uA(d),sequenceNumber:A.highestListenSequenceNumber}))(a)))}).next(()=>Be.waitFor(i))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:yO});const n=r.store("collectionParents"),A=new OB,i=s=>{if(A.add(s)){const o=s.lastSegment(),a=s.popLast();return n.put({collectionId:o,parent:uA(a)})}};return r.store("remoteDocuments").J({H:!0},(s,o)=>{const a=new Ht(s);return i(a.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([s,o,a],l)=>{const h=Bs(o);return i(h.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,A)=>{const i=Id(A),s=tT(this.serializer,i);return r.put(s)})}_i(e,r){const n=r.store("remoteDocuments"),A=[];return n.J((i,s)=>{const o=r.store("remoteDocumentsV14"),a=function(d){return d.document?new ze(Ht.fromString(d.document.name).popFirst(5)):d.noDocument?ze.fromSegments(d.noDocument.path):d.unknownDocument?ze.fromSegments(d.unknownDocument.path):nt()}(s).path.toArray(),l={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};A.push(o.put(l))}).next(()=>Be.waitFor(A))}ai(e,r){const n=r.store("mutations"),A=lT(this.serializer),i=new cT(Y0.Zr,this.serializer.ct);return n.U().next(s=>{const o=new Map;return s.forEach(a=>{var l;let h=(l=o.get(a.userId))!==null&&l!==void 0?l:xt();Hl(this.serializer,a).keys().forEach(d=>h=h.add(d)),o.set(a.userId,h)}),Be.forEach(o,(a,l)=>{const h=new Sn(l),d=J0.lt(this.serializer,h),p=i.getIndexManager(h),g=X0.lt(h,this.serializer,p,i.referenceDelegate);return new uT(A,g,d,p).recalculateAndSaveOverlaysForDocumentKeys(new hy(r,di.oe),a).next()})})}}function QE(t){t.createObjectStore("targetDocuments",{keyPath:wO}).createIndex("documentTargetsIndex",vO,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mO,{unique:!0}),t.createObjectStore("targetGlobal")}const E1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class HB{constructor(e,r,n,A,i,s,o,a,l,h,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=i,this.window=s,this.document=o,this.ci=l,this.li=h,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=p=>Promise.resolve(),!HB.D())throw new Me(Ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OM(this,A),this.Ai=r+"main",this.serializer=new eT(a),this.Ri=new Ka(this.Ai,this.hi,new XM(this.serializer)),this.$r=new IM,this.Ur=new LM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lT(this.serializer),this.Gr=new bM,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,h===!1&&aA("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(Ie.FAILED_PRECONDITION,E1);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new di(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(ll(e))return De("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return od(e).get("owner").next(r=>Be.resolve(this.vi(r)))}Ci(e){return dg(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=dn(r,"clientMetadata");return n.U().next(A=>{const i=this.xi(A,18e5),s=A.filter(o=>i.indexOf(o)===-1);return Be.forEach(s,o=>n.delete(o.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Be.resolve(!0):od(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Me(Ie.FAILED_PRECONDITION,E1);return!1}}return!(!this.networkEnabled||!this.inForeground)||dg(e).U().next(n=>this.xi(n,5e3).find(A=>{if(this.clientId!==A.clientId){const i=!this.networkEnabled&&A.networkEnabled,s=!this.inForeground&&A.inForeground,o=this.networkEnabled===A.networkEnabled;if(i||s&&o)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&De("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new hy(e,di.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>dg(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return X0.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new QM(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return J0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){De("IndexedDbPersistence","Starting transaction:",e);const A=r==="readonly"?"readonly":"readwrite",i=function(a){return a===17?TO:a===16?SO:a===15?xB:a===14?dS:a===13?hS:a===12?FO:a===11?cS:void nt()}(this.hi);let s;return this.Ri.runTransaction(e,A,i,o=>(s=new hy(o,this.Qr?this.Qr.next():di.oe),r==="readwrite-primary"?this.wi(s).next(a=>!!a||this.Si(s)).next(a=>{if(!a)throw aA(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Me(Ie.FAILED_PRECONDITION,oS);return n(s)}).next(a=>this.Di(s).next(()=>a)):this.Ki(s).next(()=>n(s)))).then(o=>(s.raiseOnCommittedEvent(),o))}Ki(e){return od(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Me(Ie.FAILED_PRECONDITION,E1)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return od(e).put("owner",r)}static D(){return Ka.D()}bi(e){const r=od(e);return r.get("owner").next(n=>this.vi(n)?(De("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Be.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(aA(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;aF()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return De("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return aA("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){aA("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function od(t){return dn(t,"owner")}function dg(t){return dn(t,"clientMetadata")}function YM(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,r,n,A){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=A}static Wi(e,r){let n=xt(),A=xt();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:A=A.add(i.doc.key)}return new VB(e,r.fromCache,n,A)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return aF()?8:lS(hn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,A){const i={result:null};return this.Yi(e,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Zi(e,r,A,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new ZM;return this.Xi(e,r,s).next(o=>{if(i.result=o,this.zi)return this.es(e,r,s,o.size)})}).next(()=>i.result)}es(e,r,n,A){return n.documentReadCount<this.ji?(dc()<=Nt.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",fc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Be.resolve()):(dc()<=Nt.DEBUG&&De("QueryEngine","Query:",fc(r),"scans",n.documentReadCount,"local documents and returns",A,"documents as results."),n.documentReadCount>this.Hi*A?(dc()<=Nt.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",fc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(r))):Be.resolve())}Yi(e,r){if(iE(r))return Be.resolve(null);let n=mi(r);return this.indexManager.getIndexType(e,n).next(A=>A===0?null:(r.limit!==null&&A===1&&(r=vy(r,null,"F"),n=mi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const s=xt(...i);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(a=>{const l=this.ts(r,o);return this.ns(r,l,s,a.readTime)?this.Yi(e,vy(r,null,"F")):this.rs(e,l,r,a)}))})))}Zi(e,r,n,A){return iE(r)||A.isEqual(ot.min())?Be.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(r,i);return this.ns(r,s,n,A)?Be.resolve(null):(dc()<=Nt.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",A.toString(),fc(r)),this.rs(e,s,r,sO(A,-1)).next(o=>o))})}ts(e,r){let n=new nr(FS(e));return r.forEach((A,i)=>{ap(e,i)&&(n=n.add(i))}),n}ns(e,r,n,A){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(A)>0)}Xi(e,r,n){return dc()<=Nt.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",fc(r)),this.Ji.getDocumentsMatchingQuery(e,r,$A.min(),n)}rs(e,r,n,A){return this.Ji.getDocumentsMatchingQuery(e,n,A).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,r,n,A){this.persistence=e,this.ss=r,this.serializer=A,this.os=new br(_t),this._s=new ul(i=>mu(i),sp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uT(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function dT(t,e,r,n){return new e8(t,e,r,n)}async function fT(t,e){const r=wt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let A;return r.mutationQueue.getAllMutationBatches(n).next(i=>(A=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let a=xt();for(const l of A){s.push(l.batchId);for(const h of l.mutations)a=a.add(h.key)}for(const l of i){o.push(l.batchId);for(const h of l.mutations)a=a.add(h.key)}return r.localDocuments.getDocuments(n,a).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:o}))})})}function t8(t,e){const r=wt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const A=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,a,l,h){const d=l.batch,p=d.keys();let g=Be.resolve();return p.forEach(E=>{g=g.next(()=>h.getEntry(a,E)).next(_=>{const N=l.docVersions.get(E);it(N!==null),_.version.compareTo(N)<0&&(d.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),h.addEntry(_)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,A,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let a=xt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>r.localDocuments.getDocuments(n,A))})}function pT(t){const e=wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function r8(t,e){const r=wt(t),n=e.snapshotVersion;let A=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});A=r.os;const o=[];e.targetChanges.forEach((h,d)=>{const p=A.get(d);if(!p)return;o.push(r.Ur.removeMatchingKeys(i,h.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(i,h.addedDocuments,d)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(rn.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,n)),A=A.insert(d,g),function(_,N,v){return _.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,g,h)&&o.push(r.Ur.updateTargetData(i,g))});let a=KA(),l=xt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,h))}),o.push(n8(i,s,e.documentUpdates).next(h=>{a=h.Ps,l=h.Is})),!n.isEqual(ot.min())){const h=r.Ur.getLastRemoteSnapshotVersion(i).next(d=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(h)}return Be.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,a,l)).next(()=>a)}).then(i=>(r.os=A,i))}function n8(t,e,r){let n=xt(),A=xt();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let s=KA();return r.forEach((o,a)=>{const l=i.get(o);a.isFoundDocument()!==l.isFoundDocument()&&(A=A.add(o)),a.isNoDocument()&&a.version.isEqual(ot.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):De("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),{Ps:s,Is:A}})}function A8(t,e){const r=wt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function i8(t,e){const r=wt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let A;return r.Ur.getTargetData(n,e).next(i=>i?(A=i,Be.resolve(A)):r.Ur.allocateTargetId(n).next(s=>(A=new lo(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,A).next(()=>A))))}).then(n=>{const A=r.os.get(n.targetId);return(A===null||n.snapshotVersion.compareTo(A.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function xy(t,e,r){const n=wt(t),A=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,A))}catch(s){if(!ll(s))throw s;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(A.target)}function LE(t,e,r){const n=wt(t);let A=ot.min(),i=xt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(a,l,h){const d=wt(a),p=d._s.get(h);return p!==void 0?Be.resolve(d.os.get(p)):d.Ur.getTargetData(l,h)}(n,s,mi(e)).next(o=>{if(o)return A=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,o.targetId).next(a=>{i=a})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?A:ot.min(),r?i:xt())).next(o=>(s8(n,GO(e),o),{documents:o,Ts:i})))}function s8(t,e,r){let n=t.us.get(e)||ot.min();r.forEach((A,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class PE{constructor(){this.activeTargetIds=XO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gT{constructor(){this.so=new PE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new PE,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fg=null;function b1(){return fg===null?fg=function(){return 268435456+Math.round(2147483648*Math.random())}():fg++,"0x"+fg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class u8 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",A=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${A}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${A}`:`project_id=${A}&database_id=${i}`}get Fo(){return!1}Mo(r,n,A,i,s){const o=b1(),a=this.xo(r,n.toUriEncodedString());De("RestConnection",`Sending RPC '${r}' ${o}:`,a,A);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,i,s),this.No(r,a,l,A).then(h=>(De("RestConnection",`Received RPC '${r}' ${o}: `,h),h),h=>{throw fu("RestConnection",`RPC '${r}' ${o} failed with error: `,h,"url: ",a,"request:",A),h})}Lo(r,n,A,i,s,o){return this.Mo(r,n,A,i,s)}Oo(r,n,A){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bh}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>r[s]=i),A&&A.headers.forEach((i,s)=>r[s]=i)}xo(r,n){const A=a8[r];return`${this.Do}/v1/${n}:${A}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,A){const i=b1();return new Promise((s,o)=>{const a=new YF;a.setWithCredentials(!0),a.listenOnce(ZF.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case sm.NO_ERROR:const h=a.getResponseJson();De(jn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),s(h);break;case sm.TIMEOUT:De(jn,`RPC '${e}' ${i} timed out`),o(new Me(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const d=a.getStatus();if(De(jn,`RPC '${e}' ${i} failed with status:`,d,"response text:",a.getResponseText()),d>0){let p=a.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const E=function(N){const v=N.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(v)>=0?v:Ie.UNKNOWN}(g.status);o(new Me(E,g.message))}else o(new Me(Ie.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Me(Ie.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{De(jn,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(A);De(jn,`RPC '${e}' ${i} sending request:`,A),a.send(r,"POST",l,n,15)})}Bo(e,r,n){const A=b1(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rS(),o=tS(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,r,n),a.encodeInitMessageHeaders=!0;const h=i.join("");De(jn,`Creating RPC '${e}' stream ${A}: ${h}`,a);const d=s.createWebChannel(h,a);let p=!1,g=!1;const E=new l8({Io:N=>{g?De(jn,`Not sending because RPC '${e}' stream ${A} is closed:`,N):(p||(De(jn,`Opening RPC '${e}' stream ${A} transport.`),d.open(),p=!0),De(jn,`RPC '${e}' stream ${A} sending:`,N),d.send(N))},To:()=>d.close()}),_=(N,v,y)=>{N.listen(v,T=>{try{y(T)}catch(V){setTimeout(()=>{throw V},0)}})};return _(d,_d.EventType.OPEN,()=>{g||(De(jn,`RPC '${e}' stream ${A} transport opened.`),E.yo())}),_(d,_d.EventType.CLOSE,()=>{g||(g=!0,De(jn,`RPC '${e}' stream ${A} transport closed`),E.So())}),_(d,_d.EventType.ERROR,N=>{g||(g=!0,fu(jn,`RPC '${e}' stream ${A} transport errored:`,N),E.So(new Me(Ie.UNAVAILABLE,"The operation could not be completed")))}),_(d,_d.EventType.MESSAGE,N=>{var v;if(!g){const y=N.data[0];it(!!y);const T=y,V=T.error||((v=T[0])===null||v===void 0?void 0:v.error);if(V){De(jn,`RPC '${e}' stream ${A} received error:`,V);const D=V.status;let j=function(Q){const O=Zr[Q];if(O!==void 0)return MS(O)}(D),S=V.message;j===void 0&&(j=Ie.INTERNAL,S="Unknown error status: "+D+" with message "+V.message),g=!0,E.So(new Me(j,S)),d.close()}else De(jn,`RPC '${e}' stream ${A} received:`,y),E.bo(y)}}),_(o,eS.STAT_EVENT,N=>{N.stat===uy.PROXY?De(jn,`RPC '${e}' stream ${A} detected buffering proxy`):N.stat===uy.NOPROXY&&De(jn,`RPC '${e}' stream ${A} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(){return typeof window<"u"?window:null}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t){return new dM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,r,n=1e3,A=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=A,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),A=Math.max(0,r-n);A>0&&De("ExponentialBackoff",`Backing off for ${A} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,A,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,r,n,A,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=A,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jB(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Ie.RESOURCE_EXHAUSTED?(aA(r.toString()),aA("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,A])=>{this.Yo===r&&this.P_(n,A)},n=>{e(()=>{const A=new Me(Ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(A)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(A=>{n(()=>this.I_(A))}),this.stream.onMessage(A=>{n(()=>++this.e_==1?this.E_(A):this.onNext(A))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h8 extends mT{constructor(e,r,n,A,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,A,s),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=mM(this.serializer,e),n=function(i){if(!("targetChange"in i))return ot.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ot.min():s.readTime?yn(s.readTime):ot.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Cy(this.serializer),r.addTarget=function(i,s){let o;const a=s.target;if(o=Zm(a)?{documents:WS(i,a)}:{query:$S(i,a)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=jS(i,s.resumeToken);const l=yy(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ot.min())>0){o.readTime=lh(i,s.snapshotVersion.toTimestamp());const l=yy(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=vM(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Cy(this.serializer),r.removeTarget=e,this.a_(r)}}class d8 extends mT{constructor(e,r,n,A,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,A,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=wM(e.writeResults,e.commitTime),n=yn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Cy(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Df(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8 extends class{}{constructor(e,r,n,A){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=A,this.y_=!1}w_(){if(this.y_)throw new Me(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,A){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,By(r,n),A,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(Ie.UNKNOWN,i.toString())})}Lo(e,r,n,A,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,By(r,n),A,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(Ie.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class p8{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(aA(r),this.D_=!1):De("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,r,n,A,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(s=>{n.enqueueAndForget(async()=>{xu(this)&&(De("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=wt(a);l.L_.add(4),await up(l),l.q_.set("Unknown"),l.L_.delete(4),await ew(l)}(this))})}),this.q_=new p8(n,A)}}async function ew(t){if(xu(t))for(const e of t.B_)await e(!0)}async function up(t){for(const e of t.B_)await e(!1)}function wT(t,e){const r=wt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),zB(r)?qB(r):bh(r).r_()&&GB(r,e))}function KB(t,e){const r=wt(t),n=bh(r);r.N_.delete(e),n.r_()&&vT(r,e),r.N_.size===0&&(n.r_()?n.o_():xu(r)&&r.q_.set("Unknown"))}function GB(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}bh(t).A_(e)}function vT(t,e){t.Q_.xe(e),bh(t).R_(e)}function qB(t){t.Q_=new lM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bh(t).start(),t.q_.v_()}function zB(t){return xu(t)&&!bh(t).n_()&&t.N_.size>0}function xu(t){return wt(t).L_.size===0}function yT(t){t.Q_=void 0}async function m8(t){t.q_.set("Online")}async function w8(t){t.N_.forEach((e,r)=>{GB(t,e)})}async function v8(t,e){yT(t),zB(t)?(t.q_.M_(e),qB(t)):t.q_.set("Unknown")}async function y8(t,e,r){if(t.q_.set("Online"),e instanceof VS&&e.state===2&&e.cause)try{await async function(A,i){const s=i.cause;for(const o of i.targetIds)A.N_.has(o)&&(await A.remoteSyncer.rejectListen(o,s),A.N_.delete(o),A.Q_.removeTarget(o))}(t,e)}catch(n){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await A0(t,n)}else if(e instanceof hm?t.Q_.Ke(e):e instanceof HS?t.Q_.He(e):t.Q_.We(e),!r.isEqual(ot.min()))try{const n=await pT(t.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.Q_.rt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const h=i.N_.get(l);h&&i.N_.set(l,h.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const h=i.N_.get(a);if(!h)return;i.N_.set(a,h.withResumeToken(rn.EMPTY_BYTE_STRING,h.snapshotVersion)),vT(i,a);const d=new lo(h.target,a,l,h.sequenceNumber);GB(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){De("RemoteStore","Failed to raise snapshot:",n),await A0(t,n)}}async function A0(t,e,r){if(!ll(e))throw e;t.L_.add(1),await up(t),t.q_.set("Offline"),r||(r=()=>pT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{De("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await ew(t)})}function BT(t,e){return e().catch(r=>A0(t,r,e))}async function cp(t){const e=wt(t),r=Za(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;B8(e);)try{const A=await A8(e.localStore,n);if(A===null){e.O_.length===0&&r.o_();break}n=A.batchId,C8(e,A)}catch(A){await A0(e,A)}CT(e)&&_T(e)}function B8(t){return xu(t)&&t.O_.length<10}function C8(t,e){t.O_.push(e);const r=Za(t);r.r_()&&r.V_&&r.m_(e.mutations)}function CT(t){return xu(t)&&!Za(t).n_()&&t.O_.length>0}function _T(t){Za(t).start()}async function _8(t){Za(t).p_()}async function E8(t){const e=Za(t);for(const r of t.O_)e.m_(r.mutations)}async function b8(t,e,r){const n=t.O_.shift(),A=LB.from(n,e,r);await BT(t,()=>t.remoteSyncer.applySuccessfulWrite(A)),await cp(t)}async function I8(t,e){e&&Za(t).V_&&await async function(n,A){if(function(s){return OS(s)&&s!==Ie.ABORTED}(A.code)){const i=n.O_.shift();Za(n).s_(),await BT(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,A)),await cp(n)}}(t,e),CT(t)&&_T(t)}async function kE(t,e){const r=wt(t);r.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const n=xu(r);r.L_.add(3),await up(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await ew(r)}async function x8(t,e){const r=wt(t);e?(r.L_.delete(2),await ew(r)):e||(r.L_.add(2),await up(r),r.q_.set("Unknown"))}function bh(t){return t.K_||(t.K_=function(r,n,A){const i=wt(r);return i.w_(),new h8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,A)}(t.datastore,t.asyncQueue,{Eo:m8.bind(null,t),Ro:w8.bind(null,t),mo:v8.bind(null,t),d_:y8.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),zB(t)?qB(t):t.q_.set("Unknown")):(await t.K_.stop(),yT(t))})),t.K_}function Za(t){return t.U_||(t.U_=function(r,n,A){const i=wt(r);return i.w_(),new d8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,A)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_8.bind(null,t),mo:I8.bind(null,t),f_:E8.bind(null,t),g_:b8.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cp(t)):(await t.U_.stop(),t.O_.length>0&&(De("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,r,n,A,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=A,this.removalCallback=i,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,A,i){const s=Date.now()+n,o=new WB(e,r,s,A,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $B(t,e){if(aA("AsyncQueue",`${e}: ${t}`),ll(t))return new Me(Ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ze.comparator(r.key,n.key):(r,n)=>ze.comparator(r.key,n.key),this.keyedMap=Ed(),this.sortedSet=new br(this.comparator)}static emptySet(e){return new qc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof qc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const A=r.getNext().key,i=n.getNext().key;if(!A.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new qc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.W_=new br(ze.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):nt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class uh{constructor(e,r,n,A,i,s,o,a,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=A,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,A,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new uh(e,r,qc.emptySet(r),s,n,A,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&q0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let A=0;A<r.length;A++)if(r[A].type!==n[A].type||!r[A].doc.isEqual(n[A].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class S8{constructor(){this.queries=OE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const A=wt(r),i=A.queries;A.queries=OE(),i.forEach((s,o)=>{for(const a of o.j_)a.onError(n)})})(this,new Me(Ie.ABORTED,"Firestore shutting down"))}}function OE(){return new ul(t=>xS(t),q0)}async function JB(t,e){const r=wt(t);let n=3;const A=e.query;let i=r.queries.get(A);i?!i.H_()&&e.J_()&&(n=2):(i=new F8,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(A,!0);break;case 1:i.z_=await r.onListen(A,!1);break;case 2:await r.onFirstRemoteStoreListen(A)}}catch(s){const o=$B(s,`Initialization of query '${fc(e.query)}' failed`);return void e.onError(o)}r.queries.set(A,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&YB(r)}async function XB(t,e){const r=wt(t),n=e.query;let A=3;const i=r.queries.get(n);if(i){const s=i.j_.indexOf(e);s>=0&&(i.j_.splice(s,1),i.j_.length===0?A=e.J_()?0:1:!i.H_()&&e.J_()&&(A=2))}switch(A){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function T8(t,e){const r=wt(t);let n=!1;for(const A of e){const i=A.query,s=r.queries.get(i);if(s){for(const o of s.j_)o.X_(A)&&(n=!0);s.z_=A}}n&&YB(r)}function U8(t,e,r){const n=wt(t),A=n.queries.get(e);if(A)for(const i of A.j_)i.onError(r);n.queries.delete(e)}function YB(t){t.Y_.forEach(e=>{e.next()})}var Fy,ME;(ME=Fy||(Fy={})).ea="default",ME.Cache="cache";class ZB{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const A of e.docChanges)A.type!==3&&n.push(A);e=new uh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class N8{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xt(),this.mutatedKeys=xt(),this.Aa=FS(e),this.Ra=new qc(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new DE,A=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,s=A,o=!1;const a=this.query.limitType==="F"&&A.size===this.query.limit?A.last():null,l=this.query.limitType==="L"&&A.size===this.query.limit?A.first():null;if(e.inorderTraversal((h,d)=>{const p=A.get(h),g=ap(this.query,d)?d:null,E=!!p&&this.mutatedKeys.has(p.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;p&&g?p.data.isEqual(g.data)?E!==_&&(n.track({type:3,doc:g}),N=!0):this.ga(p,g)||(n.track({type:2,doc:g}),N=!0,(a&&this.Aa(g,a)>0||l&&this.Aa(g,l)<0)&&(o=!0)):!p&&g?(n.track({type:0,doc:g}),N=!0):p&&!g&&(n.track({type:1,doc:p}),N=!0,(a||l)&&(o=!0)),N&&(g?(s=s.add(g),i=_?i.add(h):i.delete(h)):(s=s.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,A){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,d)=>function(g,E){const _=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return _(g)-_(E)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(n),A=A!=null&&A;const o=r&&!A?this.ya():[],a=this.da.size===0&&this.current&&!A?1:0,l=a!==this.Ea;return this.Ea=a,s.length!==0||l?{snapshot:new uh(this.query,e.Ra,i,s,e.mutatedKeys,a===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new DE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new bT(n))}),this.da.forEach(n=>{e.has(n)||r.push(new ET(n))}),r}ba(e){this.Ta=e.Ts,this.da=xt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return uh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Q8{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class L8{constructor(e){this.key=e,this.va=!1}}class P8{constructor(e,r,n,A,i,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=A,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ul(o=>xS(o),q0),this.Ma=new Map,this.xa=new Set,this.Oa=new br(ze.comparator),this.Na=new Map,this.La=new MB,this.Ba={},this.ka=new Map,this.qa=yu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function R8(t,e,r=!0){const n=UT(t);let A;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),A=i.view.Da()):A=await IT(n,e,r,!0),A}async function k8(t,e){const r=UT(t);await IT(r,e,!0,!1)}async function IT(t,e,r,n){const A=await i8(t.localStore,mi(e)),i=A.targetId,s=t.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await D8(t,e,i,s==="current",A.resumeToken)),t.isPrimaryClient&&r&&wT(t.remoteStore,A),o}async function D8(t,e,r,n,A){t.Ka=(d,p,g)=>async function(_,N,v,y){let T=N.view.ma(v);T.ns&&(T=await LE(_.localStore,N.query,!1).then(({documents:S})=>N.view.ma(S,T)));const V=y&&y.targetChanges.get(N.targetId),D=y&&y.targetMismatches.get(N.targetId)!=null,j=N.view.applyChanges(T,_.isPrimaryClient,V,D);return VE(_,N.targetId,j.wa),j.snapshot}(t,d,p,g);const i=await LE(t.localStore,e,!0),s=new N8(e,i.Ts),o=s.ma(i.documents),a=lp.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",A),l=s.applyChanges(o,t.isPrimaryClient,a);VE(t,r,l.wa);const h=new Q8(e,r,s);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function O8(t,e,r){const n=wt(t),A=n.Fa.get(e),i=n.Ma.get(A.targetId);if(i.length>1)return n.Ma.set(A.targetId,i.filter(s=>!q0(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(A.targetId),n.sharedClientState.isActiveQueryTarget(A.targetId)||await xy(n.localStore,A.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(A.targetId),r&&KB(n.remoteStore,A.targetId),Sy(n,A.targetId)}).catch(bu)):(Sy(n,A.targetId),await xy(n.localStore,A.targetId,!0))}async function M8(t,e){const r=wt(t),n=r.Fa.get(e),A=r.Ma.get(n.targetId);r.isPrimaryClient&&A.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),KB(r.remoteStore,n.targetId))}async function H8(t,e,r){const n=NT(t);try{const A=await function(s,o){const a=wt(s),l=er.now(),h=o.reduce((g,E)=>g.add(E.key),xt());let d,p;return a.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=KA(),_=xt();return a.cs.getEntries(g,h).next(N=>{E=N,E.forEach((v,y)=>{y.isValidDocument()||(_=_.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(g,E)).next(N=>{d=N;const v=[];for(const y of o){const T=iM(y,d.get(y.key).overlayedDocument);T!=null&&v.push(new Fo(y.key,T,wS(T.value.mapValue),_r.exists(!0)))}return a.mutationQueue.addMutationBatch(g,l,v,o)}).next(N=>{p=N;const v=N.applyToLocalDocumentSet(d,_);return a.documentOverlayCache.saveOverlays(g,N.batchId,v)})}).then(()=>({batchId:p.batchId,changes:TS(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(A.batchId),function(s,o,a){let l=s.Ba[s.currentUser.toKey()];l||(l=new br(_t)),l=l.insert(o,a),s.Ba[s.currentUser.toKey()]=l}(n,A.batchId,r),await hp(n,A.changes),await cp(n.remoteStore)}catch(A){const i=$B(A,"Failed to persist write");r.reject(i)}}async function xT(t,e){const r=wt(t);try{const n=await r8(r.localStore,e);e.targetChanges.forEach((A,i)=>{const s=r.Na.get(i);s&&(it(A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size<=1),A.addedDocuments.size>0?s.va=!0:A.modifiedDocuments.size>0?it(s.va):A.removedDocuments.size>0&&(it(s.va),s.va=!1))}),await hp(r,n,e)}catch(n){await bu(n)}}function HE(t,e,r){const n=wt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const A=[];n.Fa.forEach((i,s)=>{const o=s.view.Z_(e);o.snapshot&&A.push(o.snapshot)}),function(s,o){const a=wt(s);a.onlineState=o;let l=!1;a.queries.forEach((h,d)=>{for(const p of d.j_)p.Z_(o)&&(l=!0)}),l&&YB(a)}(n.eventManager,e),A.length&&n.Ca.d_(A),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function V8(t,e,r){const n=wt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const A=n.Na.get(e),i=A&&A.key;if(i){let s=new br(ze.comparator);s=s.insert(i,Cr.newNoDocument(i,ot.min()));const o=xt().add(i),a=new $0(ot.min(),new Map,new br(_t),s,o);await xT(n,a),n.Oa=n.Oa.remove(i),n.Na.delete(e),e5(n)}else await xy(n.localStore,e,!1).then(()=>Sy(n,e,r)).catch(bu)}async function j8(t,e){const r=wt(t),n=e.batch.batchId;try{const A=await t8(r.localStore,e);ST(r,n,null),FT(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await hp(r,A)}catch(A){await bu(A)}}async function K8(t,e,r){const n=wt(t);try{const A=await function(s,o){const a=wt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return a.mutationQueue.lookupMutationBatch(l,o).next(d=>(it(d!==null),h=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,h,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>a.localDocuments.getDocuments(l,h))})}(n.localStore,e);ST(n,e,r),FT(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await hp(n,A)}catch(A){await bu(A)}}function FT(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function ST(t,e,r){const n=wt(t);let A=n.Ba[n.currentUser.toKey()];if(A){const i=A.get(e);i&&(r?i.reject(r):i.resolve(),A=A.remove(e)),n.Ba[n.currentUser.toKey()]=A}}function Sy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||TT(t,n)})}function TT(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(KB(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),e5(t))}function VE(t,e,r){for(const n of r)n instanceof ET?(t.La.addReference(n.key,e),G8(t,n)):n instanceof bT?(De("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||TT(t,n.key)):nt()}function G8(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(De("SyncEngine","New document in limbo: "+r),t.xa.add(n),e5(t))}function e5(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ze(Ht.fromString(e)),n=t.qa.next();t.Na.set(n,new L8(r)),t.Oa=t.Oa.insert(r,n),wT(t.remoteStore,new lo(mi(op(r.path)),n,"TargetPurposeLimboResolution",di.oe))}}async function hp(t,e,r){const n=wt(t),A=[],i=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((o,a)=>{s.push(n.Ka(a,e,r).then(l=>{var h;if((l||r)&&n.isPrimaryClient){const d=l?!l.fromCache:(h=r==null?void 0:r.targetChanges.get(a.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(a.targetId,d?"current":"not-current")}if(l){A.push(l);const d=VB.Wi(a.targetId,l);i.push(d)}}))}),await Promise.all(s),n.Ca.d_(A),await async function(a,l){const h=wt(a);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Be.forEach(l,p=>Be.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>Be.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!ll(d))throw d;De("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const p=d.targetId;if(!d.fromCache){const g=h.os.get(p),E=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(p,_)}}}(n.localStore,i))}async function q8(t,e){const r=wt(t);if(!r.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const n=await fT(r.localStore,e);r.currentUser=e,function(i,s){i.ka.forEach(o=>{o.forEach(a=>{a.reject(new Me(Ie.CANCELLED,s))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await hp(r,n.hs)}}function z8(t,e){const r=wt(t),n=r.Na.get(e);if(n&&n.va)return xt().add(n.key);{let A=xt();const i=r.Ma.get(e);if(!i)return A;for(const s of i){const o=r.Fa.get(s);A=A.unionWith(o.view.Va)}return A}}function UT(t){const e=wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V8.bind(null,e),e.Ca.d_=T8.bind(null,e.eventManager),e.Ca.$a=U8.bind(null,e.eventManager),e}function NT(t){const e=wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K8.bind(null,e),e}class Of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Z0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return dT(this.persistence,new hT,e.initialUser,this.serializer)}Ga(e){return new cT(Y0.Zr,this.serializer)}Wa(e){return new gT}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Of.provider={build:()=>new Of};class W8 extends Of{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await NT(this.Ja.syncEngine),await cp(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return dT(this.persistence,new hT,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new RM(n,e.asyncQueue,r)}Ha(e,r){const n=new uO(r,this.persistence);return new lO(e.asyncQueue,n)}Ga(e){const r=YM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?CA.withCacheSize(this.cacheSizeBytes):CA.DEFAULT;return new HB(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,c8(),dm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new gT}}class i0{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>HE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=q8.bind(null,this.syncEngine),await x8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S8}()}createDatastore(e){const r=Z0(e.databaseInfo.databaseId),n=function(i){return new u8(i)}(e.databaseInfo);return function(i,s,o,a){return new f8(i,s,o,a)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,A,i,s,o){return new g8(n,A,i,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>HE(this.syncEngine,r,0),function(){return RE.D()?new RE:new o8}())}createSyncEngine(e,r){return function(A,i,s,o,a,l,h){const d=new P8(A,i,s,o,a,l);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(A){const i=wt(A);De("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await up(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}i0.provider={build:()=>new i0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):aA("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Me(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(A,i){const s=wt(A),o={documents:i.map(d=>kf(s.serializer,d))},a=await s.Lo("BatchGetDocuments",s.serializer.databaseId,Ht.emptyPath(),o,i.length),l=new Map;a.forEach(d=>{const p=gM(s.serializer,d);l.set(p.key.toString(),p)});const h=[];return i.forEach(d=>{const p=l.get(d.toString());it(!!p),h.push(p)}),h}(this.datastore,e);return r.forEach(n=>this.recordVersion(n)),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Eh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,n)=>{const A=ze.fromPath(n);this.mutations.push(new NB(A,this.precondition(A)))}),await async function(n,A){const i=wt(n),s={writes:A.map(o=>Df(i.serializer,o))};await i.Mo("Commit",i.serializer.databaseId,Ht.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw nt();r=ot.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new Me(Ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(ot.min())?_r.exists(!1):_r.updateTime(r):_r.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(ot.min()))throw new Me(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _r.updateTime(r)}return _r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e,r,n,A,i){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=A,this.deferred=i,this._u=n.maxAttempts,this.t_=new jB(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new $8(this.datastore),r=this.cu(e);r&&r.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(A=>{this.lu(A)}))}).catch(n=>{this.lu(n)})})}cu(e){try{const r=this.updateFunction(e);return!ip(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!OS(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,r,n,A,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=A,this.user=Sn.UNAUTHENTICATED,this.clientId=AS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{De("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(De("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=$B(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function I1(t,e){t.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async A=>{n.isEqual(A)||(await fT(e.localStore,A),n=A)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jE(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Y8(t);De("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>kE(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,A)=>kE(e.remoteStore,A)),t._onlineComponents=e}async function Y8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{await I1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(A){return A.name==="FirebaseError"?A.code===Ie.FAILED_PRECONDITION||A.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&A instanceof DOMException)||A.code===22||A.code===20||A.code===11}(r))throw r;fu("Error using user provided cache. Falling back to memory cache: "+r),await I1(t,new Of)}}else De("FirestoreClient","Using default OfflineComponentProvider"),await I1(t,new Of);return t._offlineComponents}async function r5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),await jE(t,t._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),await jE(t,new i0))),t._onlineComponents}function Z8(t){return r5(t).then(e=>e.syncEngine)}function eH(t){return r5(t).then(e=>e.datastore)}async function s0(t){const e=await r5(t),r=e.eventManager;return r.onListen=R8.bind(null,e.syncEngine),r.onUnlisten=O8.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=k8.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=M8.bind(null,e.syncEngine),r}function tH(t,e,r={}){const n=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const h=new t5({next:p=>{h.Za(),s.enqueueAndForget(()=>XB(i,d));const g=p.docs.has(o);!g&&p.fromCache?l.reject(new Me(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&a&&a.source==="server"?l.reject(new Me(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),d=new ZB(op(o.path),h,{includeMetadataChanges:!0,_a:!0});return JB(i,d)}(await s0(t),t.asyncQueue,e,r,n)),n.promise}function rH(t,e,r={}){const n=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const h=new t5({next:p=>{h.Za(),s.enqueueAndForget(()=>XB(i,d)),p.fromCache&&a.source==="server"?l.reject(new Me(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),d=new ZB(o,h,{includeMetadataChanges:!0,_a:!0});return JB(i,d)}(await s0(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e,r){if(!r)throw new Me(Ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nH(t,e,r,n){if(e===!0&&n===!0)throw new Me(Ie.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function GE(t){if(!ze.isDocumentKey(t))throw new Me(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qE(t){if(ze.isDocumentKey(t))throw new Me(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nt()}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=tw(t);throw new Me(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Me(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Me(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Me(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Me(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,A){return n.timeoutSeconds===A.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rw{constructor(e,r,n,A){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=A,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new X6;switch(n.type){case"firstParty":return new tO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Me(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=KE.get(r);n&&(De("ComponentProvider","Removing Datastore"),KE.delete(r),n.terminate())}(this),Promise.resolve()}}function AH(t,e,r,n={}){var A;const i=(t=Ln(t,rw))._getSettings(),s=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),n.mockUserToken){let o,a;if(typeof n.mockUserToken=="string")o=n.mockUserToken,a=Sn.MOCK_USER;else{o=pR(n.mockUserToken,(A=t._app)===null||A===void 0?void 0:A.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new Me(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Sn(l)}t._authCredentials=new Y6(new nS(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new cl(this.firestore,e,this._query)}}class Pn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Ga extends cl{constructor(e,r,n){super(e,r,op(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new ze(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function zr(t,e,...r){if(t=Rr(t),LT("collection","path",e),t instanceof rw){const n=Ht.fromString(e,...r);return qE(n),new Ga(t,null,n)}{if(!(t instanceof Pn||t instanceof Ga))throw new Me(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ht.fromString(e,...r));return qE(n),new Ga(t.firestore,null,n)}}function cn(t,e,...r){if(t=Rr(t),arguments.length===1&&(e=AS.newId()),LT("doc","path",e),t instanceof rw){const n=Ht.fromString(e,...r);return GE(n),new Pn(t,null,new ze(n))}{if(!(t instanceof Pn||t instanceof Ga))throw new Me(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ht.fromString(e,...r));return GE(n),new Pn(t.firestore,t instanceof Ga?t.converter:null,new ze(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jB(this,"async_queue_retry"),this.Vu=()=>{const n=dm();n&&De("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=dm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=dm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ki;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ll(e))throw e;De("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const A=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(n);throw aA("INTERNAL UNHANDLED ERROR: ",A),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const A=WB.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(A),A}fu(){this.Eu&&nt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function $E(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const A=r;for(const i of n)if(i in A&&typeof A[i]=="function")return!0;return!1}(t,["next","error","complete"])}class yi extends rw{constructor(e,r,n,A){super(e,r,n,A),this.type="firestore",this._queue=new WE,this._persistenceKey=(A==null?void 0:A.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function iH(t,e){const r=typeof t=="object"?t:dF(),n=typeof t=="string"?t:"(default)",A=fB(r,"firestore").getImmediate({identifier:n});if(!A._initialized){const i=dR("firestore");i&&AH(A,...i)}return A}function Ih(t){if(t._terminated)throw new Me(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PT(t),t._firestoreClient}function PT(t){var e,r,n;const A=t._freezeSettings(),i=function(o,a,l,h){return new NO(o,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,A);t._componentsProvider||!((r=A.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=A.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:A.localCache._offlineComponentProvider,_online:A.localCache._onlineComponentProvider}),t._firestoreClient=new X8(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(o){const a=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(a),_online:a}}(t._componentsProvider))}function sH(t,e){fu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return oH(t,i0.provider,{build:n=>new W8(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function oH(t,e,r){if((t=Ln(t,yi))._firestoreClient||t._terminated)throw new Me(Ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Me(Ie.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},PT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bu(rn.fromBase64String(e))}catch(r){throw new Me(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Bu(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Me(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Me(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Me(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,A){if(n.length!==A.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==A[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=/^__.*__$/;class lH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,r,this.fieldTransforms):new _h(e,this.data,r,this.fieldTransforms)}}class RT{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Fo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function kT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class s5{constructor(e,r,n,A,i,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=A,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new s5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),A=this.Fu({path:n,xu:!1});return A.Ou(e),A}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),A=this.Fu({path:n,xu:!1});return A.vu(),A}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return o0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(kT(this.Cu)&&aH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class uH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Z0(e)}Qu(e,r,n,A=!1){return new s5({Cu:e,methodName:r,qu:n,path:xr.emptyPath(),xu:!1,ku:A},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(t){const e=t._freezeSettings(),r=Z0(t._databaseId);return new uH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function nw(t,e,r,n,A,i={}){const s=t.Qu(i.merge||i.mergeFields?2:0,e,r,A);l5("Data must be an object, but it was:",s,n);const o=DT(n,s);let a,l;if(i.merge)a=new IA(s.fieldMask),l=s.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const p=Ty(e,d,r);if(!s.contains(p))throw new Me(Ie.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);MT(h,p)||h.push(p)}a=new IA(h),l=s.fieldTransforms.filter(d=>a.covers(d.field))}else a=null,l=s.fieldTransforms;return new lH(new Un(o),a,l)}class Aw extends n5{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Aw}}function o5(t,e,r,n){const A=t.Qu(1,e,r);l5("Data must be an object, but it was:",A,n);const i=[],s=Un.empty();Iu(n,(a,l)=>{const h=u5(e,a,r);l=Rr(l);const d=A.Nu(h);if(l instanceof Aw)i.push(h);else{const p=dp(l,d);p!=null&&(i.push(h),s.set(h,p))}});const o=new IA(i);return new RT(s,o,A.fieldTransforms)}function a5(t,e,r,n,A,i){const s=t.Qu(1,e,r),o=[Ty(e,n,r)],a=[A];if(i.length%2!=0)throw new Me(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)o.push(Ty(e,i[p])),a.push(i[p+1]);const l=[],h=Un.empty();for(let p=o.length-1;p>=0;--p)if(!MT(l,o[p])){const g=o[p];let E=a[p];E=Rr(E);const _=s.Nu(g);if(E instanceof Aw)l.push(g);else{const N=dp(E,_);N!=null&&(l.push(g),h.set(g,N))}}const d=new IA(l);return new RT(h,d,s.fieldTransforms)}function cH(t,e,r,n=!1){return dp(r,t.Qu(n?4:3,e))}function dp(t,e){if(OT(t=Rr(t)))return l5("Unsupported field value:",e,t),DT(t,e);if(t instanceof n5)return function(n,A){if(!kT(A.Cu))throw A.Bu(`${n._methodName}() can only be used with update() and set()`);if(!A.path)throw A.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(A);i&&A.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,A){const i=[];let s=0;for(const o of n){let a=dp(o,A.Lu(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,A){if((n=Rr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YO(A.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=er.fromDate(n);return{timestampValue:lh(A.serializer,i)}}if(n instanceof er){const i=new er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lh(A.serializer,i)}}if(n instanceof A5)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Bu)return{bytesValue:jS(A.serializer,n._byteString)};if(n instanceof Pn){const i=A.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw A.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kB(n.firestore._databaseId||A.databaseId,n._key.path)}}if(n instanceof i5)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(a=>{if(typeof a!="number")throw o.Bu("VectorValues must only contain numeric values.");return UB(o.serializer,a)})}}}}}}(n,A);throw A.Bu(`Unsupported field value: ${tw(n)}`)}(t,e)}function DT(t,e){const r={};return fS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Iu(t,(n,A)=>{const i=dp(A,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function OT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof er||t instanceof A5||t instanceof Bu||t instanceof Pn||t instanceof n5||t instanceof i5)}function l5(t,e,r){if(!OT(r)||!function(A){return typeof A=="object"&&A!==null&&(Object.getPrototypeOf(A)===Object.prototype||Object.getPrototypeOf(A)===null)}(r)){const n=tw(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Ty(t,e,r){if((e=Rr(e))instanceof xh)return e._internalPath;if(typeof e=="string")return u5(t,e);throw o0("Field path arguments must be of type string or ",t,!1,void 0,r)}const hH=new RegExp("[~\\*/\\[\\]]");function u5(t,e,r){if(e.search(hH)>=0)throw o0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new xh(...e.split("."))._internalPath}catch{throw o0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function o0(t,e,r,n,A){const i=n&&!n.isEmpty(),s=A!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let a="";return(i||s)&&(a+=" (found",i&&(a+=` in field ${n}`),s&&(a+=` in document ${A}`),a+=")"),new Me(Ie.INVALID_ARGUMENT,o+t+a)}function MT(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,r,n,A,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=A,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(iw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class dH extends a0{data(){return super.data()}}function iw(t,e){return typeof e=="string"?u5(t,e):e instanceof xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c5{}class VT extends c5{}function Eo(t,e,...r){let n=[];e instanceof c5&&n.push(e),n=n.concat(r),function(i){const s=i.filter(a=>a instanceof h5).length,o=i.filter(a=>a instanceof sw).length;if(s>1||s>0&&o>0)throw new Me(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const A of n)t=A._apply(t);return t}class sw extends VT{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new sw(e,r,n)}_apply(e){const r=this._parse(e);return jT(e._query,r),new cl(e.firestore,e.converter,wy(e._query,r))}_parse(e){const r=Fh(e.firestore);return function(i,s,o,a,l,h,d){let p;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Me(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){XE(d,h);const g=[];for(const E of d)g.push(JE(a,i,E));p={arrayValue:{values:g}}}else p=JE(a,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||XE(d,h),p=cH(o,s,d,h==="in"||h==="not-in");return Qt.create(l,h,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Hi(t,e,r){const n=e,A=iw("where",t);return sw._create(A,n,r)}class h5 extends c5{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new h5(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Xt.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(A,i){let s=A;const o=i.getFlattenedFilters();for(const a of o)jT(s,a),s=wy(s,a)}(e._query,r),new cl(e.firestore,e.converter,wy(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class d5 extends VT{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new d5(e,r)}_apply(e){const r=function(A,i,s){if(A.startAt!==null)throw new Me(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(A.endAt!==null)throw new Me(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lf(i,s)}(e._query,this._field,this._direction);return new cl(e.firestore,e.converter,function(A,i){const s=A.explicitOrderBy.concat([i]);return new Ch(A.path,A.collectionGroup,s,A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(e._query,r))}}function f5(t,e="asc"){const r=e,n=iw("orderBy",t);return d5._create(n,r)}function JE(t,e,r){if(typeof(r=Rr(r))=="string"){if(r==="")throw new Me(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IS(e)&&r.indexOf("/")!==-1)throw new Me(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ht.fromString(r));if(!ze.isDocumentKey(n))throw new Me(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Nf(t,new ze(n))}if(r instanceof Pn)return Nf(t,r._key);throw new Me(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tw(r)}.`)}function XE(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jT(t,e){const r=function(A,i){for(const s of A)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(A){switch(A){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Me(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class KT{convertValue(e,r="none"){switch(gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw nt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Iu(e,(A,i)=>{n[A]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,A;const i=(A=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||A===void 0?void 0:A.map(s=>yr(s.doubleValue));return new i5(i)}convertGeoPoint(e){return new A5(yr(e.latitude),yr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=SB(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Tf(e));default:return null}}convertTimestamp(e){const r=_o(e);return new er(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ht.fromString(e);it(ZS(n));const A=new pu(n.get(1),n.get(3)),i=new ze(n.popFirst(5));return A.isEqual(r)||aA(`Document ${i} contains a document reference within a different database (${A.projectId}/${A.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class fH extends KT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p5 extends a0{constructor(e,r,n,A,i,s){super(e,r,n,A,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(iw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class fm extends p5{data(e={}){return super.data(e)}}class GT{constructor(e,r,n,A){this._firestore=e,this._userDataWriter=r,this._snapshot=A,this.metadata=new Pc(A.hasPendingWrites,A.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new fm(this._firestore,this._userDataWriter,n.key,n,new Pc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Me(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(A,i){if(A._snapshot.oldDocs.isEmpty()){let s=0;return A._snapshot.docChanges.map(o=>{const a=new fm(A._firestore,A._userDataWriter,o.doc.key,o.doc,new Pc(A._snapshot.mutatedKeys.has(o.doc.key),A._snapshot.fromCache),A.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=A._snapshot.oldDocs;return A._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new fm(A._firestore,A._userDataWriter,o.doc.key,o.doc,new Pc(A._snapshot.mutatedKeys.has(o.doc.key),A._snapshot.fromCache),A.query.converter);let l=-1,h=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:pH(o.type),doc:a,oldIndex:l,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function pH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){t=Ln(t,Pn);const e=Ln(t.firestore,yi);return tH(Ih(e),t._key).then(r=>qT(e,t,r))}class lw extends KT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,r)}}function TA(t){t=Ln(t,cl);const e=Ln(t.firestore,yi),r=Ih(e),n=new lw(e);return HT(t._query),rH(r,t._query).then(A=>new GT(e,n,t,A))}function gH(t,e,r){t=Ln(t,Pn);const n=Ln(t.firestore,yi),A=ow(t.converter,e,r);return gp(n,[nw(Fh(n),"setDoc",t._key,A,t.converter!==null,r).toMutation(t._key,_r.none())])}function ch(t,e,r,...n){t=Ln(t,Pn);const A=Ln(t.firestore,yi),i=Fh(A);let s;return s=typeof(e=Rr(e))=="string"||e instanceof xh?a5(i,"updateDoc",t._key,e,r,n):o5(i,"updateDoc",t._key,e),gp(A,[s.toMutation(t._key,_r.exists(!0))])}function fp(t){return gp(Ln(t.firestore,yi),[new Eh(t._key,_r.none())])}function pp(t,e){const r=Ln(t.firestore,yi),n=cn(t),A=ow(t.converter,e);return gp(r,[nw(Fh(t.firestore),"addDoc",n._key,A,t.converter!==null,{}).toMutation(n._key,_r.exists(!1))]).then(()=>n)}function mH(t,...e){var r,n,A;t=Rr(t);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||$E(e[s])||(i=e[s],s++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if($E(e[s])){const d=e[s];e[s]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[s+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[s+2]=(A=d.complete)===null||A===void 0?void 0:A.bind(d)}let a,l,h;if(t instanceof Pn)l=Ln(t.firestore,yi),h=op(t._key.path),a={next:d=>{e[s]&&e[s](qT(l,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Ln(t,cl);l=Ln(d.firestore,yi),h=d._query;const p=new lw(l);a={next:g=>{e[s]&&e[s](new GT(l,p,d,g))},error:e[s+1],complete:e[s+2]},HT(t._query)}return function(p,g,E,_){const N=new t5(_),v=new ZB(g,N,E);return p.asyncQueue.enqueueAndForget(async()=>JB(await s0(p),v)),()=>{N.Za(),p.asyncQueue.enqueueAndForget(async()=>XB(await s0(p),v))}}(Ih(l),h,o,a)}function gp(t,e){return function(n,A){const i=new Ki;return n.asyncQueue.enqueueAndForget(async()=>H8(await Z8(n),A,i)),i.promise}(Ih(t),e)}function qT(t,e,r){const n=r.docs.get(e._key),A=new lw(t);return new p5(t,A,e._key,n,new Pc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Fh(e)}set(e,r,n){this._verifyNotCommitted();const A=Ea(e,this._firestore),i=ow(A.converter,r,n),s=nw(this._dataReader,"WriteBatch.set",A._key,i,A.converter!==null,n);return this._mutations.push(s.toMutation(A._key,_r.none())),this}update(e,r,n,...A){this._verifyNotCommitted();const i=Ea(e,this._firestore);let s;return s=typeof(r=Rr(r))=="string"||r instanceof xh?a5(this._dataReader,"WriteBatch.update",i._key,r,n,A):o5(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,_r.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Ea(e,this._firestore);return this._mutations=this._mutations.concat(new Eh(r._key,_r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ea(t,e){if((t=Rr(t)).firestore!==e)throw new Me(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=Fh(r)}get(r){const n=Ea(r,this._firestore),A=new fH(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return nt();const s=i[0];if(s.isFoundDocument())return new a0(this._firestore,A,s.key,s,n.converter);if(s.isNoDocument())return new a0(this._firestore,A,n._key,null,n.converter);throw nt()})}set(r,n,A){const i=Ea(r,this._firestore),s=ow(i.converter,n,A),o=nw(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,A);return this._transaction.set(i._key,o),this}update(r,n,A,...i){const s=Ea(r,this._firestore);let o;return o=typeof(n=Rr(n))=="string"||n instanceof xh?a5(this._dataReader,"Transaction.update",s._key,n,A,i):o5(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(r){const n=Ea(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Ea(e,this._firestore),n=new lw(this._firestore);return super.get(e).then(A=>new p5(this._firestore,n,r._key,A._document,new Pc(!1,!1),r.converter))}}function BH(t,e,r){t=Ln(t,yi);const n=Object.assign(Object.assign({},wH),r);return function(i){if(i.maxAttempts<1)throw new Me(Ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(i,s,o){const a=new Ki;return i.asyncQueue.enqueueAndForget(async()=>{const l=await eH(i);new J8(i.asyncQueue,l,o,s,a).au()}),a.promise}(Ih(t),A=>e(new yH(t,A)),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t){return Ih(t=Ln(t,yi)),new vH(t,e=>gp(t,e))}(function(e,r=!0){(function(A){Bh=A})(vh),rh(new uu("firestore",(n,{instanceIdentifier:A,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new yi(new Z6(n.getProvider("auth-internal")),new nO(n.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Me(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(l.options.projectId,h)}(s,A),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ja(j_,"4.7.3",e),ja(j_,"4.7.3","esm2017")})();const _H={apiKey:"AIzaSyA_ZzeP_DAoXeRuallrOaJ4xFaxjnuhw-8",authDomain:"posys-103de.firebaseapp.com",projectId:"posys-103de",storageBucket:"posys-103de.firebasestorage.app",messagingSenderId:"401054148688",appId:"1:401054148688:web:1c2aea9e8b40958b514955",measurementId:"G-Q2GWQXMFLX"},zT=hF(_H),It=iH(zT),mp=z6(zT);sH(It).catch(t=>{t.code==="failed-precondition"?console.warn("⚠️ Ya hay otra pestaña usando persistencia."):t.code==="unimplemented"?console.warn("⚠️ El navegador no soporta persistencia offline."):console.error("❌ Error en persistencia offline:",t)});function EH(){const[t,e]=te.useState(""),[r,n]=te.useState(""),[A,i]=te.useState(""),s=D0(),o=async a=>{a.preventDefault();try{const h=(await QD(mp,t,r)).user.uid,d=cn(It,"users",h),p=await aw(d);if(p.exists()){const E=p.data().role;E==="admin"?s("/admin"):E==="vendedor"?s("/ventas"):i("Rol no válido")}else i("No se encontró el perfil de usuario")}catch(l){console.error(l),i("Credenciales incorrectas o error de conexión")}};return B.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[B.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Iniciar Sesión"}),B.jsxs("form",{onSubmit:o,className:"space-y-4 w-64",children:[B.jsx("input",{type:"email",placeholder:"Correo",value:t,onChange:a=>e(a.target.value),className:"w-full p-2 border rounded",required:!0}),B.jsx("input",{type:"password",placeholder:"Contraseña",value:r,onChange:a=>n(a.target.value),className:"w-full p-2 border rounded",required:!0}),A&&B.jsx("p",{className:"text-red-600 text-sm",children:A}),B.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Entrar"})]})]})}function Qi({children:t,allowedRoles:e}){const[r,n]=te.useState(!0),[A,i]=te.useState(!1);return te.useEffect(()=>{const s=MF(mp,async o=>{if(o){const a=cn(It,"users",o.uid),l=await aw(a);if(l.exists()){const h=l.data().role;i(e.includes(h))}}n(!1)});return()=>s()},[e]),r?B.jsx("div",{className:"p-4",children:"Cargando..."}):A?t:B.jsx(Zv,{to:"/"})}function bH(){const t="/admin",e=({isActive:A})=>`block rounded px-3 py-2 text-sm ${A?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,r=D0(),n=async()=>{await RD(mp),r("/")};return B.jsxs("div",{className:"min-h-screen flex",children:[B.jsxs("aside",{className:"w-56 bg-gray-50 border-r p-3",children:[B.jsx("h3",{className:"text-sm font-semibold text-gray-500 mb-2",children:"Menú"}),B.jsxs("nav",{className:"space-y-1",children:[B.jsx(gs,{to:`${t}/financialDashboard`,className:e,children:"Dashboard Financiero"}),B.jsx(gs,{to:`${t}/salesV2`,className:e,children:"Venta"}),B.jsx(gs,{to:`${t}/bills`,className:e,children:"Cierre"}),B.jsx(gs,{to:`${t}/billhistoric`,className:e,children:"Historial de Cierres"}),B.jsx(gs,{to:`${t}/batches`,className:e,children:"Lotes"}),B.jsx(gs,{to:`${t}/transactionclose`,className:e,children:"Liquidaciones"}),B.jsx(gs,{to:`${t}/expenses`,className:e,children:"Gastos"}),B.jsx(gs,{to:`${t}/users`,className:e,children:"Usuarios"}),B.jsx(gs,{to:`${t}/products`,className:e,children:"Productos"})]}),B.jsx("button",{onClick:n,className:"mt-4 bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600",children:"Cerrar sesión"})]}),B.jsx("main",{className:"flex-1 p-6",children:B.jsx(IP,{})})]})}const WT=6048e5,IH=864e5,YE=Symbol.for("constructDateFrom");function Wi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&YE in t?t[YE](e):t instanceof Date?new t.constructor(e):new Date(e)}function dA(t,e){return Wi(e||t,t)}function xH(t,e,r){const n=dA(t,r==null?void 0:r.in);return isNaN(e)?Wi(t,NaN):(n.setDate(n.getDate()+e),n)}function FH(t,e,r){const n=dA(t,r==null?void 0:r.in);if(isNaN(e))return Wi(t,NaN);const A=n.getDate(),i=Wi(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return A>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),A),n)}let SH={};function uw(){return SH}function Mf(t,e){var o,a,l,h;const r=uw(),n=(e==null?void 0:e.weekStartsOn)??((a=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:a.weekStartsOn)??r.weekStartsOn??((h=(l=r.locale)==null?void 0:l.options)==null?void 0:h.weekStartsOn)??0,A=dA(t,e==null?void 0:e.in),i=A.getDay(),s=(i<n?7:0)+i-n;return A.setDate(A.getDate()-s),A.setHours(0,0,0,0),A}function l0(t,e){return Mf(t,{...e,weekStartsOn:1})}function $T(t,e){const r=dA(t,e==null?void 0:e.in),n=r.getFullYear(),A=Wi(r,0);A.setFullYear(n+1,0,4),A.setHours(0,0,0,0);const i=l0(A),s=Wi(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=l0(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function ZE(t){const e=dA(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function TH(t,...e){const r=Wi.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function eb(t,e){const r=dA(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function UH(t,e,r){const[n,A]=TH(r==null?void 0:r.in,t,e),i=eb(n),s=eb(A),o=+i-ZE(i),a=+s-ZE(s);return Math.round((o-a)/IH)}function NH(t,e){const r=$T(t,e),n=Wi(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),l0(n)}function QH(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function LH(t){return!(!QH(t)&&typeof t!="number"||isNaN(+dA(t)))}function PH(t,e){const r=dA(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function RH(t,e){const r=dA(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function kH(t,e){const r=dA(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const DH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OH=(t,e,r)=>{let n;const A=DH[t];return typeof A=="string"?n=A:e===1?n=A.one:n=A.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function x1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const MH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},HH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jH={date:x1({formats:MH,defaultWidth:"full"}),time:x1({formats:HH,defaultWidth:"full"}),dateTime:x1({formats:VH,defaultWidth:"full"})},KH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GH=(t,e,r,n)=>KH[t];function ad(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let A;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;A=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;A=t.values[o]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return A[i]}}const qH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$H={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YH=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ZH={ordinalNumber:YH,era:ad({values:qH,defaultWidth:"wide"}),quarter:ad({values:zH,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ad({values:WH,defaultWidth:"wide"}),day:ad({values:$H,defaultWidth:"wide"}),dayPeriod:ad({values:JH,defaultWidth:"wide",formattingValues:XH,defaultFormattingWidth:"wide"})};function ld(t){return(e,r={})=>{const n=r.width,A=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(A);if(!i)return null;const s=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],a=Array.isArray(o)?tV(o,d=>d.test(s)):eV(o,d=>d.test(s));let l;l=t.valueCallback?t.valueCallback(a):a,l=r.valueCallback?r.valueCallback(l):l;const h=e.slice(s.length);return{value:l,rest:h}}}function eV(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function tV(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function rV(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const A=n[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(A.length);return{value:s,rest:o}}}const nV=/^(\d+)(th|st|nd|rd)?/i,AV=/\d+/i,iV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sV={any:[/^b/i,/^(a|c)/i]},oV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aV={any:[/1/i,/2/i,/3/i,/4/i]},lV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pV={ordinalNumber:rV({matchPattern:nV,parsePattern:AV,valueCallback:t=>parseInt(t,10)}),era:ld({matchPatterns:iV,defaultMatchWidth:"wide",parsePatterns:sV,defaultParseWidth:"any"}),quarter:ld({matchPatterns:oV,defaultMatchWidth:"wide",parsePatterns:aV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ld({matchPatterns:lV,defaultMatchWidth:"wide",parsePatterns:uV,defaultParseWidth:"any"}),day:ld({matchPatterns:cV,defaultMatchWidth:"wide",parsePatterns:hV,defaultParseWidth:"any"}),dayPeriod:ld({matchPatterns:dV,defaultMatchWidth:"any",parsePatterns:fV,defaultParseWidth:"any"})},gV={code:"en-US",formatDistance:OH,formatLong:jH,formatRelative:GH,localize:ZH,match:pV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mV(t,e){const r=dA(t,e==null?void 0:e.in);return UH(r,kH(r))+1}function wV(t,e){const r=dA(t,e==null?void 0:e.in),n=+l0(r)-+NH(r);return Math.round(n/WT)+1}function JT(t,e){var h,d,p,g;const r=dA(t,e==null?void 0:e.in),n=r.getFullYear(),A=uw(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??A.firstWeekContainsDate??((g=(p=A.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,s=Wi((e==null?void 0:e.in)||t,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Mf(s,e),a=Wi((e==null?void 0:e.in)||t,0);a.setFullYear(n,0,i),a.setHours(0,0,0,0);const l=Mf(a,e);return+r>=+o?n+1:+r>=+l?n:n-1}function vV(t,e){var o,a,l,h;const r=uw(),n=(e==null?void 0:e.firstWeekContainsDate)??((a=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:a.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(l=r.locale)==null?void 0:l.options)==null?void 0:h.firstWeekContainsDate)??1,A=JT(t,e),i=Wi((e==null?void 0:e.in)||t,0);return i.setFullYear(A,0,n),i.setHours(0,0,0,0),Mf(i,e)}function yV(t,e){const r=dA(t,e==null?void 0:e.in),n=+Mf(r,e)-+vV(r,e);return Math.round(n/WT)+1}function Jt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const aa={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Jt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Jt(r+1,2)},d(t,e){return Jt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Jt(t.getHours()%12||12,e.length)},H(t,e){return Jt(t.getHours(),e.length)},m(t,e){return Jt(t.getMinutes(),e.length)},s(t,e){return Jt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),A=Math.trunc(n*Math.pow(10,r-3));return Jt(A,e.length)}},Ac={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tb={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),A=n>0?n:1-n;return r.ordinalNumber(A,{unit:"year"})}return aa.y(t,e)},Y:function(t,e,r,n){const A=JT(t,n),i=A>0?A:1-A;if(e==="YY"){const s=i%100;return Jt(s,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Jt(i,e.length)},R:function(t,e){const r=$T(t);return Jt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Jt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Jt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Jt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return aa.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Jt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const A=yV(t,n);return e==="wo"?r.ordinalNumber(A,{unit:"week"}):Jt(A,e.length)},I:function(t,e,r){const n=wV(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Jt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):aa.d(t,e)},D:function(t,e,r){const n=mV(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Jt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const A=t.getDay(),i=(A-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Jt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(A,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(A,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(A,{width:"short",context:"formatting"});case"eeee":default:return r.day(A,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const A=t.getDay(),i=(A-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Jt(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(A,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(A,{width:"narrow",context:"standalone"});case"cccccc":return r.day(A,{width:"short",context:"standalone"});case"cccc":default:return r.day(A,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),A=n===0?7:n;switch(e){case"i":return String(A);case"ii":return Jt(A,e.length);case"io":return r.ordinalNumber(A,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const A=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(A,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(A,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(A,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(A,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let A;switch(n===12?A=Ac.noon:n===0?A=Ac.midnight:A=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(A,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(A,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(A,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(A,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let A;switch(n>=17?A=Ac.evening:n>=12?A=Ac.afternoon:n>=4?A=Ac.morning:A=Ac.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(A,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(A,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(A,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return aa.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):aa.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Jt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Jt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):aa.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):aa.s(t,e)},S:function(t,e){return aa.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return nb(n);case"XXXX":case"XX":return Dl(n);case"XXXXX":case"XXX":default:return Dl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return nb(n);case"xxxx":case"xx":return Dl(n);case"xxxxx":case"xxx":default:return Dl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rb(n,":");case"OOOO":default:return"GMT"+Dl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rb(n,":");case"zzzz":default:return"GMT"+Dl(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Jt(n,e.length)},T:function(t,e,r){return Jt(+t,e.length)}};function rb(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),A=Math.trunc(n/60),i=n%60;return i===0?r+String(A):r+String(A)+e+Jt(i,2)}function nb(t,e){return t%60===0?(t>0?"-":"+")+Jt(Math.abs(t)/60,2):Dl(t,e)}function Dl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),A=Jt(Math.trunc(n/60),2),i=Jt(n%60,2);return r+A+e+i}const Ab=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},XT=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},BV=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],A=r[2];if(!A)return Ab(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Ab(n,e)).replace("{{time}}",XT(A,e))},CV={p:XT,P:BV},_V=/^D+$/,EV=/^Y+$/,bV=["D","DD","YY","YYYY"];function IV(t){return _V.test(t)}function xV(t){return EV.test(t)}function FV(t,e,r){const n=SV(t,e,r);if(console.warn(n),bV.includes(t))throw new RangeError(n)}function SV(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NV=/^'([^]*?)'?$/,QV=/''/g,LV=/[a-zA-Z]/;function zA(t,e,r){var h,d,p,g;const n=uw(),A=n.locale??gV,i=n.firstWeekContainsDate??((d=(h=n.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,s=n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,o=dA(t,r==null?void 0:r.in);if(!LH(o))throw new RangeError("Invalid time value");let a=e.match(UV).map(E=>{const _=E[0];if(_==="p"||_==="P"){const N=CV[_];return N(E,A.formatLong)}return E}).join("").match(TV).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const _=E[0];if(_==="'")return{isToken:!1,value:PV(E)};if(tb[_])return{isToken:!0,value:E};if(_.match(LV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:E}});A.localize.preprocessor&&(a=A.localize.preprocessor(o,a));const l={firstWeekContainsDate:i,weekStartsOn:s,locale:A};return a.map(E=>{if(!E.isToken)return E.value;const _=E.value;(xV(_)||IV(_))&&FV(_,e,String(t));const N=tb[_[0]];return N(o,_,A.localize,l)}).join("")}function PV(t){const e=t.match(NV);return e?e[1].replace(QV,"'"):t}function RV(t,e,r){return xH(t,-14,r)}function kV(t,e,r){return FH(t,-1,r)}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Uy=function(t,e){return Uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(r[A]=n[A])},Uy(t,e)};function Xi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Uy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ny=function(){return Ny=Object.assign||function(e){for(var r,n=1,A=arguments.length;n<A;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ny.apply(this,arguments)};function sA(t,e,r,n){function A(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(h){try{l(n.next(h))}catch(d){s(d)}}function a(h){try{l(n.throw(h))}catch(d){s(d)}}function l(h){h.done?i(h.value):A(h.value).then(o,a)}l((n=n.apply(t,[])).next())})}function Wn(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(h){return a([l,h])}}function a(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,A&&(i=l[0]&2?A.return:l[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,l[1])).done)return i;switch(A=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,A=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(h){l=[6,h],A=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function pg(t,e,r){if(arguments.length===2)for(var n=0,A=e.length,i;n<A;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var bo=function(){function t(e,r,n,A){this.left=e,this.top=r,this.width=n,this.height=A}return t.prototype.add=function(e,r,n,A){return new t(this.left+e,this.top+r,this.width+n,this.height+A)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(A){return A.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),cw=function(t,e){return bo.fromClientRect(t,e.getBoundingClientRect())},DV=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),A=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new bo(0,0,n,A)},hw=function(t){for(var e=[],r=0,n=t.length;r<n;){var A=t.charCodeAt(r++);if(A>=55296&&A<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((A&1023)<<10)+(i&1023)+65536):(e.push(A),r--)}else e.push(A)}return e},Vr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],A=-1,i="";++A<r;){var s=t[A];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(A+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},ib="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",OV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gg=0;gg<ib.length;gg++)OV[ib.charCodeAt(gg)]=gg;var sb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mg=0;mg<sb.length;mg++)xd[sb.charCodeAt(mg)]=mg;var MV=function(t){var e=t.length*.75,r=t.length,n,A=0,i,s,o,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)i=xd[t.charCodeAt(n)],s=xd[t.charCodeAt(n+1)],o=xd[t.charCodeAt(n+2)],a=xd[t.charCodeAt(n+3)],h[A++]=i<<2|s>>4,h[A++]=(s&15)<<4|o>>2,h[A++]=(o&3)<<6|a&63;return l},HV=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},VV=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Zl=5,g5=11,F1=2,jV=g5-Zl,YT=65536>>Zl,KV=1<<Zl,S1=KV-1,GV=1024>>Zl,qV=YT+GV,zV=qV,WV=32,$V=zV+WV,JV=65536>>g5,XV=1<<jV,YV=XV-1,ob=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},ZV=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},e7=function(t,e){var r=MV(t),n=Array.isArray(r)?VV(r):new Uint32Array(r),A=Array.isArray(r)?HV(r):new Uint16Array(r),i=24,s=ob(A,i/2,n[4]/2),o=n[5]===2?ob(A,(i+n[4])/2):ZV(n,Math.ceil((i+n[4])/4));return new t7(n[0],n[1],n[2],n[3],s,o)},t7=function(){function t(e,r,n,A,i,s){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=A,this.index=i,this.data=s}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Zl],r=(r<<F1)+(e&S1),this.data[r];if(e<=65535)return r=this.index[YT+(e-55296>>Zl)],r=(r<<F1)+(e&S1),this.data[r];if(e<this.highStart)return r=$V-JV+(e>>g5),r=this.index[r],r+=e>>Zl&YV,r=this.index[r],r=(r<<F1)+(e&S1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),ab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r7=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wg=0;wg<ab.length;wg++)r7[ab.charCodeAt(wg)]=wg;var n7="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",lb=50,A7=1,ZT=2,eU=3,i7=4,s7=5,ub=7,tU=8,cb=9,Sa=10,Qy=11,hb=12,Ly=13,o7=14,Fd=15,Py=16,vg=17,ud=18,a7=19,db=20,Ry=21,cd=22,T1=23,ic=24,HA=25,Sd=26,Td=27,sc=28,l7=29,Kl=30,u7=31,yg=32,Bg=33,ky=34,Dy=35,Oy=36,Hf=37,My=38,pm=39,gm=40,U1=41,rU=42,c7=43,h7=[9001,65288],nU="!",Ut="×",Cg="÷",Hy=e7(n7),Xs=[Kl,Oy],Vy=[A7,ZT,eU,s7],AU=[Sa,tU],fb=[Td,Sd],d7=Vy.concat(AU),pb=[My,pm,gm,ky,Dy],f7=[Fd,Ly],p7=function(t,e){e===void 0&&(e="strict");var r=[],n=[],A=[];return t.forEach(function(i,s){var o=Hy.get(i);if(o>lb?(A.push(!0),o-=lb):A.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(s),r.push(Py);if(o===i7||o===Qy){if(s===0)return n.push(s),r.push(Kl);var a=r[s-1];return d7.indexOf(a)===-1?(n.push(n[s-1]),r.push(a)):(n.push(s),r.push(Kl))}if(n.push(s),o===u7)return r.push(e==="strict"?Ry:Hf);if(o===rU||o===l7)return r.push(Kl);if(o===c7)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Hf):r.push(Kl);r.push(o)}),[n,r,A]},N1=function(t,e,r,n){var A=n[r];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var i=r;i<=n.length;){i++;var s=n[i];if(s===e)return!0;if(s!==Sa)break}if(A===Sa)for(var i=r;i>0;){i--;var o=n[i];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var a=r;a<=n.length;){a++;var s=n[a];if(s===e)return!0;if(s!==Sa)break}if(o!==Sa)break}return!1},gb=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Sa)r--;else return n}return 0},g7=function(t,e,r,n,A){if(r[n]===0)return Ut;var i=n-1;if(Array.isArray(A)&&A[i]===!0)return Ut;var s=i-1,o=i+1,a=e[i],l=s>=0?e[s]:0,h=e[o];if(a===ZT&&h===eU)return Ut;if(Vy.indexOf(a)!==-1)return nU;if(Vy.indexOf(h)!==-1||AU.indexOf(h)!==-1)return Ut;if(gb(i,e)===tU)return Cg;if(Hy.get(t[i])===Qy||(a===yg||a===Bg)&&Hy.get(t[o])===Qy||a===ub||h===ub||a===cb||[Sa,Ly,Fd].indexOf(a)===-1&&h===cb||[vg,ud,a7,ic,sc].indexOf(h)!==-1||gb(i,e)===cd||N1(T1,cd,i,e)||N1([vg,ud],Ry,i,e)||N1(hb,hb,i,e))return Ut;if(a===Sa)return Cg;if(a===T1||h===T1)return Ut;if(h===Py||a===Py)return Cg;if([Ly,Fd,Ry].indexOf(h)!==-1||a===o7||l===Oy&&f7.indexOf(a)!==-1||a===sc&&h===Oy||h===db||Xs.indexOf(h)!==-1&&a===HA||Xs.indexOf(a)!==-1&&h===HA||a===Td&&[Hf,yg,Bg].indexOf(h)!==-1||[Hf,yg,Bg].indexOf(a)!==-1&&h===Sd||Xs.indexOf(a)!==-1&&fb.indexOf(h)!==-1||fb.indexOf(a)!==-1&&Xs.indexOf(h)!==-1||[Td,Sd].indexOf(a)!==-1&&(h===HA||[cd,Fd].indexOf(h)!==-1&&e[o+1]===HA)||[cd,Fd].indexOf(a)!==-1&&h===HA||a===HA&&[HA,sc,ic].indexOf(h)!==-1)return Ut;if([HA,sc,ic,vg,ud].indexOf(h)!==-1)for(var d=i;d>=0;){var p=e[d];if(p===HA)return Ut;if([sc,ic].indexOf(p)!==-1)d--;else break}if([Td,Sd].indexOf(h)!==-1)for(var d=[vg,ud].indexOf(a)!==-1?s:i;d>=0;){var p=e[d];if(p===HA)return Ut;if([sc,ic].indexOf(p)!==-1)d--;else break}if(My===a&&[My,pm,ky,Dy].indexOf(h)!==-1||[pm,ky].indexOf(a)!==-1&&[pm,gm].indexOf(h)!==-1||[gm,Dy].indexOf(a)!==-1&&h===gm||pb.indexOf(a)!==-1&&[db,Sd].indexOf(h)!==-1||pb.indexOf(h)!==-1&&a===Td||Xs.indexOf(a)!==-1&&Xs.indexOf(h)!==-1||a===ic&&Xs.indexOf(h)!==-1||Xs.concat(HA).indexOf(a)!==-1&&h===cd&&h7.indexOf(t[o])===-1||Xs.concat(HA).indexOf(h)!==-1&&a===ud)return Ut;if(a===U1&&h===U1){for(var g=r[i],E=1;g>0&&(g--,e[g]===U1);)E++;if(E%2!==0)return Ut}return a===yg&&h===Bg?Ut:Cg},m7=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=p7(t,e.lineBreak),n=r[0],A=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(A=A.map(function(o){return[HA,Kl,rU].indexOf(o)!==-1?Hf:o}));var s=e.wordBreak==="keep-all"?i.map(function(o,a){return o&&t[a]>=19968&&t[a]<=40959}):void 0;return[n,A,s]},w7=function(){function t(e,r,n,A){this.codePoints=e,this.required=r===nU,this.start=n,this.end=A}return t.prototype.slice=function(){return Vr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),v7=function(t,e){var r=hw(t),n=m7(r,e),A=n[0],i=n[1],s=n[2],o=r.length,a=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var h=Ut;l<o&&(h=g7(r,i,A,++l,s))===Ut;);if(h!==Ut||l===o){var d=new w7(r,h,a,l);return a=l,{value:d,done:!1}}return{done:!0,value:null}}}},y7=1,B7=2,wp=4,mb=8,u0=10,wb=47,$d=92,C7=9,_7=32,_g=34,hd=61,E7=35,b7=36,I7=37,Eg=39,bg=40,dd=41,x7=95,_A=45,F7=33,S7=60,T7=62,U7=64,N7=91,Q7=93,L7=61,P7=123,Ig=63,R7=125,vb=124,k7=126,D7=128,yb=65533,Q1=42,Wl=43,O7=44,M7=58,H7=59,Vf=46,V7=0,j7=8,K7=11,G7=14,q7=31,z7=127,ps=-1,iU=48,sU=97,oU=101,W7=102,$7=117,J7=122,aU=65,lU=69,uU=70,X7=85,Y7=90,$n=function(t){return t>=iU&&t<=57},Z7=function(t){return t>=55296&&t<=57343},oc=function(t){return $n(t)||t>=aU&&t<=uU||t>=sU&&t<=W7},ej=function(t){return t>=sU&&t<=J7},tj=function(t){return t>=aU&&t<=Y7},rj=function(t){return ej(t)||tj(t)},nj=function(t){return t>=D7},xg=function(t){return t===u0||t===C7||t===_7},c0=function(t){return rj(t)||nj(t)||t===x7},Bb=function(t){return c0(t)||$n(t)||t===_A},Aj=function(t){return t>=V7&&t<=j7||t===K7||t>=G7&&t<=q7||t===z7},ga=function(t,e){return t!==$d?!1:e!==u0},Fg=function(t,e,r){return t===_A?c0(e)||ga(e,r):c0(t)?!0:!!(t===$d&&ga(t,e))},L1=function(t,e,r){return t===Wl||t===_A?$n(e)?!0:e===Vf&&$n(r):$n(t===Vf?e:t)},ij=function(t){var e=0,r=1;(t[e]===Wl||t[e]===_A)&&(t[e]===_A&&(r=-1),e++);for(var n=[];$n(t[e]);)n.push(t[e++]);var A=n.length?parseInt(Vr.apply(void 0,n),10):0;t[e]===Vf&&e++;for(var i=[];$n(t[e]);)i.push(t[e++]);var s=i.length,o=s?parseInt(Vr.apply(void 0,i),10):0;(t[e]===lU||t[e]===oU)&&e++;var a=1;(t[e]===Wl||t[e]===_A)&&(t[e]===_A&&(a=-1),e++);for(var l=[];$n(t[e]);)l.push(t[e++]);var h=l.length?parseInt(Vr.apply(void 0,l),10):0;return r*(A+o*Math.pow(10,-s))*Math.pow(10,a*h)},sj={type:2},oj={type:3},aj={type:4},lj={type:13},uj={type:8},cj={type:21},hj={type:9},dj={type:10},fj={type:11},pj={type:12},gj={type:14},Sg={type:23},mj={type:1},wj={type:25},vj={type:24},yj={type:26},Bj={type:27},Cj={type:28},_j={type:29},Ej={type:31},jy={type:32},cU=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(hw(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==jy;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case _g:return this.consumeStringToken(_g);case E7:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Bb(r)||ga(n,A)){var i=Fg(r,n,A)?B7:y7,s=this.consumeName();return{type:5,value:s,flags:i}}break;case b7:if(this.peekCodePoint(0)===hd)return this.consumeCodePoint(),lj;break;case Eg:return this.consumeStringToken(Eg);case bg:return sj;case dd:return oj;case Q1:if(this.peekCodePoint(0)===hd)return this.consumeCodePoint(),gj;break;case Wl:if(L1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case O7:return aj;case _A:var o=e,a=this.peekCodePoint(0),l=this.peekCodePoint(1);if(L1(o,a,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Fg(o,a,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===_A&&l===T7)return this.consumeCodePoint(),this.consumeCodePoint(),vj;break;case Vf:if(L1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case wb:if(this.peekCodePoint(0)===Q1)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===Q1&&(h=this.consumeCodePoint(),h===wb))return this.consumeToken();if(h===ps)return this.consumeToken()}break;case M7:return yj;case H7:return Bj;case S7:if(this.peekCodePoint(0)===F7&&this.peekCodePoint(1)===_A&&this.peekCodePoint(2)===_A)return this.consumeCodePoint(),this.consumeCodePoint(),wj;break;case U7:var d=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Fg(d,p,g)){var s=this.consumeName();return{type:7,value:s}}break;case N7:return Cj;case $d:if(ga(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Q7:return _j;case L7:if(this.peekCodePoint(0)===hd)return this.consumeCodePoint(),uj;break;case P7:return fj;case R7:return pj;case $7:case X7:var E=this.peekCodePoint(0),_=this.peekCodePoint(1);return E===Wl&&(oc(_)||_===Ig)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vb:if(this.peekCodePoint(0)===hd)return this.consumeCodePoint(),hj;if(this.peekCodePoint(0)===vb)return this.consumeCodePoint(),cj;break;case k7:if(this.peekCodePoint(0)===hd)return this.consumeCodePoint(),dj;break;case ps:return jy}return xg(e)?(this.consumeWhiteSpace(),Ej):$n(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):c0(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Vr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();oc(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Ig&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var A=parseInt(Vr.apply(void 0,e.map(function(a){return a===Ig?iU:a})),16),i=parseInt(Vr.apply(void 0,e.map(function(a){return a===Ig?uU:a})),16);return{type:30,start:A,end:i}}var s=parseInt(Vr.apply(void 0,e),16);if(this.peekCodePoint(0)===_A&&oc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];oc(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var i=parseInt(Vr.apply(void 0,o),16);return{type:30,start:s,end:i}}else return{type:30,start:s,end:s}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===bg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===bg?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ps)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Eg||r===_g){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ps||this.peekCodePoint(0)===dd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Sg)}for(;;){var A=this.consumeCodePoint();if(A===ps||A===dd)return{type:22,value:Vr.apply(void 0,e)};if(xg(A))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ps||this.peekCodePoint(0)===dd?(this.consumeCodePoint(),{type:22,value:Vr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Sg);if(A===_g||A===Eg||A===bg||Aj(A))return this.consumeBadUrlRemnants(),Sg;if(A===$d)if(ga(A,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Sg;else e.push(A)}},t.prototype.consumeWhiteSpace=function(){for(;xg(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===dd||e===ps)return;ga(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var A=Math.min(r,e);n+=Vr.apply(void 0,this._value.splice(0,A)),e-=A}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var A=this._value[n];if(A===ps||A===void 0||A===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(A===u0)return this._value.splice(0,n),mj;if(A===$d){var i=this._value[n+1];i!==ps&&i!==void 0&&(i===u0?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):ga(A,i)&&(r+=this.consumeStringSlice(n),r+=Vr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=wp,n=this.peekCodePoint(0);for((n===Wl||n===_A)&&e.push(this.consumeCodePoint());$n(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var A=this.peekCodePoint(1);if(n===Vf&&$n(A))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=mb;$n(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),A=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===lU||n===oU)&&((A===Wl||A===_A)&&$n(i)||$n(A)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=mb;$n(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[ij(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],A=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Fg(A,i,s)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return A===I7?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(oc(e)){for(var r=Vr(e);oc(this.peekCodePoint(0))&&r.length<6;)r+=Vr(this.consumeCodePoint());xg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Z7(n)||n>1114111?yb:n}return e===ps?yb:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(Bb(r))e+=Vr(r);else if(ga(r,this.peekCodePoint(0)))e+=Vr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),hU=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new cU;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Ij(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?jy:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),vp=function(t){return t.type===15},Sh=function(t){return t.type===17},rr=function(t){return t.type===20},bj=function(t){return t.type===0},Ky=function(t,e){return rr(t)&&t.value===e},dU=function(t){return t.type!==31},hh=function(t){return t.type!==31&&t.type!==4},Ts=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},Ij=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},el=function(t){return t.type===17||t.type===15},en=function(t){return t.type===16||el(t)},fU=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Nn={type:17,number:0,flags:wp},m5={type:16,number:50,flags:wp},Ta={type:16,number:100,flags:wp},Ud=function(t,e,r){var n=t[0],A=t[1];return[cr(n,e),cr(typeof A<"u"?A:n,r)]},cr=function(t,e){if(t.type===16)return t.number/100*e;if(vp(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},pU="deg",gU="grad",mU="rad",wU="turn",dw={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case pU:return Math.PI*e.number/180;case gU:return Math.PI/200*e.number;case mU:return e.number;case wU:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},vU=function(t){return t.type===15&&(t.unit===pU||t.unit===gU||t.unit===mU||t.unit===wU)},yU=function(t){var e=t.filter(rr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Nn,Nn];case"to top":case"bottom":return fi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Nn,Ta];case"to right":case"left":return fi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ta,Ta];case"to bottom":case"top":return fi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ta,Nn];case"to left":case"right":return fi(270)}return 0},fi=function(t){return Math.PI*t/180},qa={name:"color",parse:function(t,e){if(e.type===18){var r=xj[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),A=e.value.substring(1,2),i=e.value.substring(2,3);return Ua(parseInt(n+n,16),parseInt(A+A,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),A=e.value.substring(1,2),i=e.value.substring(2,3),s=e.value.substring(3,4);return Ua(parseInt(n+n,16),parseInt(A+A,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),A=e.value.substring(2,4),i=e.value.substring(4,6);return Ua(parseInt(n,16),parseInt(A,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),A=e.value.substring(2,4),i=e.value.substring(4,6),s=e.value.substring(6,8);return Ua(parseInt(n,16),parseInt(A,16),parseInt(i,16),parseInt(s,16)/255)}}if(e.type===20){var o=po[e.value.toUpperCase()];if(typeof o<"u")return o}return po.TRANSPARENT}},za=function(t){return(255&t)===0},gn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,A=255&t>>24;return e<255?"rgba("+A+","+n+","+r+","+e/255+")":"rgb("+A+","+n+","+r+")"},Ua=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},Cb=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},_b=function(t,e){var r=e.filter(hh);if(r.length===3){var n=r.map(Cb),A=n[0],i=n[1],s=n[2];return Ua(A,i,s,1)}if(r.length===4){var o=r.map(Cb),A=o[0],i=o[1],s=o[2],a=o[3];return Ua(A,i,s,a)}return 0};function P1(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var Eb=function(t,e){var r=e.filter(hh),n=r[0],A=r[1],i=r[2],s=r[3],o=(n.type===17?fi(n.number):dw.parse(t,n))/(Math.PI*2),a=en(A)?A.number/100:0,l=en(i)?i.number/100:0,h=typeof s<"u"&&en(s)?cr(s,1):1;if(a===0)return Ua(l*255,l*255,l*255,1);var d=l<=.5?l*(a+1):l+a-l*a,p=l*2-d,g=P1(p,d,o+1/3),E=P1(p,d,o),_=P1(p,d,o-1/3);return Ua(g*255,E*255,_*255,h)},xj={hsl:Eb,hsla:Eb,rgb:_b,rgba:_b},Jd=function(t,e){return qa.parse(t,hU.create(e).parseComponentValue())},po={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Fj={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(rr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Sj={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fw=function(t,e){var r=qa.parse(t,e[0]),n=e[1];return n&&en(n)?{color:r,stop:n}:{color:r,stop:null}},bb=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Nn),n.stop===null&&(n.stop=Ta);for(var A=[],i=0,s=0;s<t.length;s++){var o=t[s].stop;if(o!==null){var a=cr(o,e);a>i?A.push(a):A.push(i),i=a}else A.push(null)}for(var l=null,s=0;s<A.length;s++){var h=A[s];if(h===null)l===null&&(l=s);else if(l!==null){for(var d=s-l,p=A[l-1],g=(h-p)/(d+1),E=1;E<=d;E++)A[l+E-1]=g*E;l=null}}return t.map(function(_,N){var v=_.color;return{color:v,stop:Math.max(Math.min(1,A[N]/e),0)}})},Tj=function(t,e,r){var n=e/2,A=r/2,i=cr(t[0],e)-n,s=A-cr(t[1],r);return(Math.atan2(s,i)+Math.PI*2)%(Math.PI*2)},Uj=function(t,e,r){var n=typeof t=="number"?t:Tj(t,e,r),A=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,s=r/2,o=A/2,a=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[A,i-l,i+l,s-a,s+a]},Ri=function(t,e){return Math.sqrt(t*t+e*e)},Ib=function(t,e,r,n,A){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(s,o){var a=o[0],l=o[1],h=Ri(r-a,n-l);return(A?h<s.optimumDistance:h>s.optimumDistance)?{optimumCorner:o,optimumDistance:h}:s},{optimumDistance:A?1/0:-1/0,optimumCorner:null}).optimumCorner},Nj=function(t,e,r,n,A){var i=0,s=0;switch(t.size){case 0:t.shape===0?i=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-A)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(r),Math.abs(r-A)));break;case 2:if(t.shape===0)i=s=Math.min(Ri(e,r),Ri(e,r-A),Ri(e-n,r),Ri(e-n,r-A));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-A))/Math.min(Math.abs(e),Math.abs(e-n)),a=Ib(n,A,e,r,!0),l=a[0],h=a[1];i=Ri(l-e,(h-r)/o),s=o*i}break;case 1:t.shape===0?i=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-A)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(r),Math.abs(r-A)));break;case 3:if(t.shape===0)i=s=Math.max(Ri(e,r),Ri(e,r-A),Ri(e-n,r),Ri(e-n,r-A));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-A))/Math.max(Math.abs(e),Math.abs(e-n)),d=Ib(n,A,e,r,!1),l=d[0],h=d[1];i=Ri(l-e,(h-r)/o),s=o*i}break}return Array.isArray(t.size)&&(i=cr(t.size[0],n),s=t.size.length===2?cr(t.size[1],A):i),[i,s]},Qj=function(t,e){var r=fi(180),n=[];return Ts(e).forEach(function(A,i){if(i===0){var s=A[0];if(s.type===20&&s.value==="to"){r=yU(A);return}else if(vU(s)){r=dw.parse(t,s);return}}var o=fw(t,A);n.push(o)}),{angle:r,stops:n,type:1}},Tg=function(t,e){var r=fi(180),n=[];return Ts(e).forEach(function(A,i){if(i===0){var s=A[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){r=yU(A);return}else if(vU(s)){r=(dw.parse(t,s)+fi(270))%fi(360);return}}var o=fw(t,A);n.push(o)}),{angle:r,stops:n,type:1}},Lj=function(t,e){var r=fi(180),n=[],A=1,i=0,s=3,o=[];return Ts(e).forEach(function(a,l){var h=a[0];if(l===0){if(rr(h)&&h.value==="linear"){A=1;return}else if(rr(h)&&h.value==="radial"){A=2;return}}if(h.type===18){if(h.name==="from"){var d=qa.parse(t,h.values[0]);n.push({stop:Nn,color:d})}else if(h.name==="to"){var d=qa.parse(t,h.values[0]);n.push({stop:Ta,color:d})}else if(h.name==="color-stop"){var p=h.values.filter(hh);if(p.length===2){var d=qa.parse(t,p[1]),g=p[0];Sh(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),A===1?{angle:(r+fi(180))%fi(360),stops:n,type:A}:{size:s,shape:i,stops:n,position:o,type:A}},BU="closest-side",CU="farthest-side",_U="closest-corner",EU="farthest-corner",bU="circle",IU="ellipse",xU="cover",FU="contain",Pj=function(t,e){var r=0,n=3,A=[],i=[];return Ts(e).forEach(function(s,o){var a=!0;if(o===0){var l=!1;a=s.reduce(function(d,p){if(l)if(rr(p))switch(p.value){case"center":return i.push(m5),d;case"top":case"left":return i.push(Nn),d;case"right":case"bottom":return i.push(Ta),d}else(en(p)||el(p))&&i.push(p);else if(rr(p))switch(p.value){case bU:return r=0,!1;case IU:return r=1,!1;case"at":return l=!0,!1;case BU:return n=0,!1;case xU:case CU:return n=1,!1;case FU:case _U:return n=2,!1;case EU:return n=3,!1}else if(el(p)||en(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return d},a)}if(a){var h=fw(t,s);A.push(h)}}),{size:n,shape:r,stops:A,position:i,type:2}},Ug=function(t,e){var r=0,n=3,A=[],i=[];return Ts(e).forEach(function(s,o){var a=!0;if(o===0?a=s.reduce(function(h,d){if(rr(d))switch(d.value){case"center":return i.push(m5),!1;case"top":case"left":return i.push(Nn),!1;case"right":case"bottom":return i.push(Ta),!1}else if(en(d)||el(d))return i.push(d),!1;return h},a):o===1&&(a=s.reduce(function(h,d){if(rr(d))switch(d.value){case bU:return r=0,!1;case IU:return r=1,!1;case FU:case BU:return n=0,!1;case CU:return n=1,!1;case _U:return n=2,!1;case xU:case EU:return n=3,!1}else if(el(d)||en(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return h},a)),a){var l=fw(t,s);A.push(l)}}),{size:n,shape:r,stops:A,position:i,type:2}},Rj=function(t){return t.type===1},kj=function(t){return t.type===2},w5={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=SU[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Dj(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!SU[t.name])}var SU={"linear-gradient":Qj,"-moz-linear-gradient":Tg,"-ms-linear-gradient":Tg,"-o-linear-gradient":Tg,"-webkit-linear-gradient":Tg,"radial-gradient":Pj,"-moz-radial-gradient":Ug,"-ms-radial-gradient":Ug,"-o-radial-gradient":Ug,"-webkit-radial-gradient":Ug,"-webkit-gradient":Lj},Oj={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return hh(n)&&Dj(n)}).map(function(n){return w5.parse(t,n)})}},Mj={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(rr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Hj={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Ts(e).map(function(r){return r.filter(en)}).map(fU)}},Vj={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Ts(e).map(function(r){return r.filter(rr).map(function(n){return n.value}).join(" ")}).map(jj)}},jj=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},zc;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(zc||(zc={}));var Kj={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Ts(e).map(function(r){return r.filter(Gj)})}},Gj=function(t){return rr(t)||en(t)},pw=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},qj=pw("top"),zj=pw("right"),Wj=pw("bottom"),$j=pw("left"),gw=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return fU(r.filter(en))}}},Jj=gw("top-left"),Xj=gw("top-right"),Yj=gw("bottom-right"),Zj=gw("bottom-left"),mw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},e9=mw("top"),t9=mw("right"),r9=mw("bottom"),n9=mw("left"),ww=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return vp(r)?r.number:0}}},A9=ww("top"),i9=ww("right"),s9=ww("bottom"),o9=ww("left"),a9={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},l9={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},u9={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(rr).reduce(function(r,n){return r|c9(n.value)},0)}},c9=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},h9={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},d9={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},h0;(function(t){t.NORMAL="normal",t.STRICT="strict"})(h0||(h0={}));var f9={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return h0.STRICT;case"normal":default:return h0.NORMAL}}},p9={name:"line-height",initialValue:"normal",prefix:!1,type:4},xb=function(t,e){return rr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:en(t)?cr(t,e):e},g9={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:w5.parse(t,e)}},m9={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Gy={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},vw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},w9=vw("top"),v9=vw("right"),y9=vw("bottom"),B9=vw("left"),C9={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(rr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},_9={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},yw=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},E9=yw("top"),b9=yw("right"),I9=yw("bottom"),x9=yw("left"),F9={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},S9={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},T9={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ky(e[0],"none")?[]:Ts(e).map(function(r){for(var n={color:po.TRANSPARENT,offsetX:Nn,offsetY:Nn,blur:Nn},A=0,i=0;i<r.length;i++){var s=r[i];el(s)?(A===0?n.offsetX=s:A===1?n.offsetY=s:n.blur=s,A++):n.color=qa.parse(t,s)}return n})}},U9={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},N9={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=P9[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},Q9=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},L9=function(t){var e=t.filter(function(a){return a.type===17}).map(function(a){return a.number}),r=e[0],n=e[1];e[2],e[3];var A=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,A,i,s,o]:null},P9={matrix:Q9,matrix3d:L9},Fb={type:16,number:50,flags:wp},R9=[Fb,Fb],k9={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(en);return r.length!==2?R9:[r[0],r[1]]}},D9={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Xd;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Xd||(Xd={}));var O9={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Xd.BREAK_ALL;case"keep-all":return Xd.KEEP_ALL;case"normal":default:return Xd.NORMAL}}},M9={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Sh(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},TU={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},H9={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Sh(e)?e.number:1}},V9={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},j9={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(rr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},K9={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(A){switch(A.type){case 20:case 0:r.push(A.value);break;case 17:r.push(A.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(A){return A.indexOf(" ")===-1?A:"'"+A+"'"})}},G9={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},q9={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Sh(e))return e.number;if(rr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},z9={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(rr).map(function(r){return r.value})}},W9={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ln=function(t,e){return(t&e)!==0},$9={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},J9={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],A=e.filter(dU),i=0;i<A.length;i++){var s=A[i],o=A[i+1];if(s.type===20){var a=o&&Sh(o)?o.number:1;n.push({counter:s.value,increment:a})}}return n}},X9={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(dU),A=0;A<n.length;A++){var i=n[A],s=n[A+1];if(rr(i)&&i.value!=="none"){var o=s&&Sh(s)?s.number:0;r.push({counter:i.value,reset:o})}}return r}},Y9={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(vp).map(function(r){return TU.parse(t,r)})}},Z9={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],A=e.filter(bj);if(A.length%2!==0)return null;for(var i=0;i<A.length;i+=2){var s=A[i].value,o=A[i+1].value;n.push({open:s,close:o})}return n}},Sb=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},eK={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ky(e[0],"none")?[]:Ts(e).map(function(r){for(var n={color:255,offsetX:Nn,offsetY:Nn,blur:Nn,spread:Nn,inset:!1},A=0,i=0;i<r.length;i++){var s=r[i];Ky(s,"inset")?n.inset=!0:el(s)?(A===0?n.offsetX=s:A===1?n.offsetY=s:A===2?n.blur=s:n.spread=s,A++):n.color=qa.parse(t,s)}return n})}},tK={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(rr).forEach(function(A){switch(A.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(A){n.indexOf(A)===-1&&n.push(A)}),n}},rK={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},nK={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return vp(e)?e.number:0}},AK=function(){function t(e,r){var n,A;this.animationDuration=Ze(e,Y9,r.animationDuration),this.backgroundClip=Ze(e,Fj,r.backgroundClip),this.backgroundColor=Ze(e,Sj,r.backgroundColor),this.backgroundImage=Ze(e,Oj,r.backgroundImage),this.backgroundOrigin=Ze(e,Mj,r.backgroundOrigin),this.backgroundPosition=Ze(e,Hj,r.backgroundPosition),this.backgroundRepeat=Ze(e,Vj,r.backgroundRepeat),this.backgroundSize=Ze(e,Kj,r.backgroundSize),this.borderTopColor=Ze(e,qj,r.borderTopColor),this.borderRightColor=Ze(e,zj,r.borderRightColor),this.borderBottomColor=Ze(e,Wj,r.borderBottomColor),this.borderLeftColor=Ze(e,$j,r.borderLeftColor),this.borderTopLeftRadius=Ze(e,Jj,r.borderTopLeftRadius),this.borderTopRightRadius=Ze(e,Xj,r.borderTopRightRadius),this.borderBottomRightRadius=Ze(e,Yj,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ze(e,Zj,r.borderBottomLeftRadius),this.borderTopStyle=Ze(e,e9,r.borderTopStyle),this.borderRightStyle=Ze(e,t9,r.borderRightStyle),this.borderBottomStyle=Ze(e,r9,r.borderBottomStyle),this.borderLeftStyle=Ze(e,n9,r.borderLeftStyle),this.borderTopWidth=Ze(e,A9,r.borderTopWidth),this.borderRightWidth=Ze(e,i9,r.borderRightWidth),this.borderBottomWidth=Ze(e,s9,r.borderBottomWidth),this.borderLeftWidth=Ze(e,o9,r.borderLeftWidth),this.boxShadow=Ze(e,eK,r.boxShadow),this.color=Ze(e,a9,r.color),this.direction=Ze(e,l9,r.direction),this.display=Ze(e,u9,r.display),this.float=Ze(e,h9,r.cssFloat),this.fontFamily=Ze(e,K9,r.fontFamily),this.fontSize=Ze(e,G9,r.fontSize),this.fontStyle=Ze(e,W9,r.fontStyle),this.fontVariant=Ze(e,z9,r.fontVariant),this.fontWeight=Ze(e,q9,r.fontWeight),this.letterSpacing=Ze(e,d9,r.letterSpacing),this.lineBreak=Ze(e,f9,r.lineBreak),this.lineHeight=Ze(e,p9,r.lineHeight),this.listStyleImage=Ze(e,g9,r.listStyleImage),this.listStylePosition=Ze(e,m9,r.listStylePosition),this.listStyleType=Ze(e,Gy,r.listStyleType),this.marginTop=Ze(e,w9,r.marginTop),this.marginRight=Ze(e,v9,r.marginRight),this.marginBottom=Ze(e,y9,r.marginBottom),this.marginLeft=Ze(e,B9,r.marginLeft),this.opacity=Ze(e,H9,r.opacity);var i=Ze(e,C9,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ze(e,_9,r.overflowWrap),this.paddingTop=Ze(e,E9,r.paddingTop),this.paddingRight=Ze(e,b9,r.paddingRight),this.paddingBottom=Ze(e,I9,r.paddingBottom),this.paddingLeft=Ze(e,x9,r.paddingLeft),this.paintOrder=Ze(e,tK,r.paintOrder),this.position=Ze(e,S9,r.position),this.textAlign=Ze(e,F9,r.textAlign),this.textDecorationColor=Ze(e,V9,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Ze(e,j9,(A=r.textDecorationLine)!==null&&A!==void 0?A:r.textDecoration),this.textShadow=Ze(e,T9,r.textShadow),this.textTransform=Ze(e,U9,r.textTransform),this.transform=Ze(e,N9,r.transform),this.transformOrigin=Ze(e,k9,r.transformOrigin),this.visibility=Ze(e,D9,r.visibility),this.webkitTextStrokeColor=Ze(e,rK,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ze(e,nK,r.webkitTextStrokeWidth),this.wordBreak=Ze(e,O9,r.wordBreak),this.zIndex=Ze(e,M9,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return za(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ln(this.display,4)||ln(this.display,33554432)||ln(this.display,268435456)||ln(this.display,536870912)||ln(this.display,67108864)||ln(this.display,134217728)},t}(),iK=function(){function t(e,r){this.content=Ze(e,$9,r.content),this.quotes=Ze(e,Z9,r.quotes)}return t}(),Tb=function(){function t(e,r){this.counterIncrement=Ze(e,J9,r.counterIncrement),this.counterReset=Ze(e,X9,r.counterReset)}return t}(),Ze=function(t,e,r){var n=new cU,A=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(A);var i=new hU(n.read());switch(e.type){case 2:var s=i.parseComponentValue();return e.parse(t,rr(s)?s.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return dw.parse(t,i.parseComponentValue());case"color":return qa.parse(t,i.parseComponentValue());case"image":return w5.parse(t,i.parseComponentValue());case"length":var o=i.parseComponentValue();return el(o)?o:Nn;case"length-percentage":var a=i.parseComponentValue();return en(a)?a:Nn;case"time":return TU.parse(t,i.parseComponentValue())}break}},sK="data-html2canvas-debug",oK=function(t){var e=t.getAttribute(sK);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},qy=function(t,e){var r=oK(t);return r===1||e===r},Us=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,qy(r,3))debugger;this.styles=new AK(e,window.getComputedStyle(r,null)),$y(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=cw(this.context,r),qy(r,4)&&(this.flags|=16)}return t}(),aK="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ub="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ng=0;Ng<Ub.length;Ng++)Nd[Ub.charCodeAt(Ng)]=Ng;var lK=function(t){var e=t.length*.75,r=t.length,n,A=0,i,s,o,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)i=Nd[t.charCodeAt(n)],s=Nd[t.charCodeAt(n+1)],o=Nd[t.charCodeAt(n+2)],a=Nd[t.charCodeAt(n+3)],h[A++]=i<<2|s>>4,h[A++]=(s&15)<<4|o>>2,h[A++]=(o&3)<<6|a&63;return l},uK=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},cK=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},eu=5,v5=11,R1=2,hK=v5-eu,UU=65536>>eu,dK=1<<eu,k1=dK-1,fK=1024>>eu,pK=UU+fK,gK=pK,mK=32,wK=gK+mK,vK=65536>>v5,yK=1<<hK,BK=yK-1,Nb=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},CK=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},_K=function(t,e){var r=lK(t),n=Array.isArray(r)?cK(r):new Uint32Array(r),A=Array.isArray(r)?uK(r):new Uint16Array(r),i=24,s=Nb(A,i/2,n[4]/2),o=n[5]===2?Nb(A,(i+n[4])/2):CK(n,Math.ceil((i+n[4])/4));return new EK(n[0],n[1],n[2],n[3],s,o)},EK=function(){function t(e,r,n,A,i,s){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=A,this.index=i,this.data=s}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>eu],r=(r<<R1)+(e&k1),this.data[r];if(e<=65535)return r=this.index[UU+(e-55296>>eu)],r=(r<<R1)+(e&k1),this.data[r];if(e<this.highStart)return r=wK-vK+(e>>v5),r=this.index[r],r+=e>>eu&BK,r=this.index[r],r=(r<<R1)+(e&k1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Qb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bK=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qg=0;Qg<Qb.length;Qg++)bK[Qb.charCodeAt(Qg)]=Qg;var IK=1,D1=2,O1=3,Lb=4,Pb=5,xK=7,Rb=8,M1=9,H1=10,kb=11,Db=12,Ob=13,Mb=14,V1=15,FK=function(t){for(var e=[],r=0,n=t.length;r<n;){var A=t.charCodeAt(r++);if(A>=55296&&A<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((A&1023)<<10)+(i&1023)+65536):(e.push(A),r--)}else e.push(A)}return e},SK=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],A=-1,i="";++A<r;){var s=t[A];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(A+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},TK=_K(aK),ai="×",j1="÷",UK=function(t){return TK.get(t)},NK=function(t,e,r){var n=r-2,A=e[n],i=e[r-1],s=e[r];if(i===D1&&s===O1)return ai;if(i===D1||i===O1||i===Lb||s===D1||s===O1||s===Lb)return j1;if(i===Rb&&[Rb,M1,kb,Db].indexOf(s)!==-1||(i===kb||i===M1)&&(s===M1||s===H1)||(i===Db||i===H1)&&s===H1||s===Ob||s===Pb||s===xK||i===IK)return ai;if(i===Ob&&s===Mb){for(;A===Pb;)A=e[--n];if(A===Mb)return ai}if(i===V1&&s===V1){for(var o=0;A===V1;)o++,A=e[--n];if(o%2===0)return ai}return j1},QK=function(t){var e=FK(t),r=e.length,n=0,A=0,i=e.map(UK);return{next:function(){if(n>=r)return{done:!0,value:null};for(var s=ai;n<r&&(s=NK(e,i,++n))===ai;);if(s!==ai||n===r){var o=SK.apply(null,e.slice(A,n));return A=n,{value:o,done:!1}}return{done:!0,value:null}}}},LK=function(t){for(var e=QK(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},PK=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var A=r.getBoundingClientRect(),i=Math.round(A.height);if(t.body.removeChild(n),i===e)return!0}}return!1},RK=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,A=hw(n.data).map(function(a){return Vr(a)}),i=0,s={},o=A.every(function(a,l){r.setStart(n,i),r.setEnd(n,i+a.length);var h=r.getBoundingClientRect();i+=a.length;var d=h.x>s.x||h.y>s.y;return s=h,l===0?!0:d});return t.body.removeChild(e),o},kK=function(){return typeof new Image().crossOrigin<"u"},DK=function(){return typeof new XMLHttpRequest().responseType=="string"},OK=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Hb=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},MK=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var A=new Image,i=e.toDataURL();A.src=i;var s=zy(r,r,0,0,A);return n.fillStyle="red",n.fillRect(0,0,r,r),Vb(s).then(function(o){n.drawImage(o,0,0);var a=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+i+")",l.style.height=r+"px",Hb(a)?Vb(zy(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),Hb(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},zy=function(t,e,r,n,A){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(A),s},Vb=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Fn={get SUPPORT_RANGE_BOUNDS(){var t=PK(document);return Object.defineProperty(Fn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Fn.SUPPORT_RANGE_BOUNDS&&RK(document);return Object.defineProperty(Fn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=OK(document);return Object.defineProperty(Fn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?MK(document):Promise.resolve(!1);return Object.defineProperty(Fn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=kK();return Object.defineProperty(Fn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=DK();return Object.defineProperty(Fn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Fn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Yd=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),HK=function(t,e,r,n){var A=KK(e,r),i=[],s=0;return A.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Fn.SUPPORT_RANGE_BOUNDS){var a=jb(n,s,o.length).getClientRects();if(a.length>1){var l=y5(o),h=0;l.forEach(function(p){i.push(new Yd(p,bo.fromDOMRectList(t,jb(n,h+s,p.length).getClientRects()))),h+=p.length})}else i.push(new Yd(o,bo.fromDOMRectList(t,a)))}else{var d=n.splitText(o.length);i.push(new Yd(o,VK(t,n))),n=d}else Fn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));s+=o.length}),i},VK=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var A=e.parentNode;if(A){A.replaceChild(n,e);var i=cw(t,n);return n.firstChild&&A.replaceChild(n.firstChild,n),i}}return bo.EMPTY},jb=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var A=n.createRange();return A.setStart(t,e),A.setEnd(t,e+r),A},y5=function(t){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return LK(t)},jK=function(t,e){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return qK(t,e)},KK=function(t,e){return e.letterSpacing!==0?y5(t):jK(t,e)},GK=[32,160,4961,65792,65793,4153,4241],qK=function(t,e){for(var r=v7(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],A,i=function(){if(A.value){var s=A.value.slice(),o=hw(s),a="";o.forEach(function(l){GK.indexOf(l)===-1?a+=Vr(l):(a.length&&n.push(a),n.push(Vr(l)),a="")}),a.length&&n.push(a)}};!(A=r.next()).done;)i();return n},zK=function(){function t(e,r,n){this.text=WK(r.data,n.textTransform),this.textBounds=HK(e,this.text,n,r)}return t}(),WK=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace($K,JK);case 2:return t.toUpperCase();default:return t}},$K=/(^|\s|:|-|\(|\))([a-z])/g,JK=function(t,e,r){return t.length>0?e+r.toUpperCase():t},NU=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.src=n.currentSrc||n.src,A.intrinsicWidth=n.naturalWidth,A.intrinsicHeight=n.naturalHeight,A.context.cache.addImage(A.src),A}return e}(Us),QU=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.canvas=n,A.intrinsicWidth=n.width,A.intrinsicHeight=n.height,A}return e}(Us),LU=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this,i=new XMLSerializer,s=cw(r,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),A.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),A.intrinsicWidth=n.width.baseVal.value,A.intrinsicHeight=n.height.baseVal.value,A.context.cache.addImage(A.svg),A}return e}(Us),PU=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.value=n.value,A}return e}(Us),Wy=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.start=n.start,A.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,A}return e}(Us),XK=[{type:15,flags:0,unit:"px",number:3}],YK=[{type:16,flags:0,number:50}],ZK=function(t){return t.width>t.height?new bo(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new bo(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},eG=function(t){var e=t.type===tG?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},d0="checkbox",f0="radio",tG="password",Kb=707406591,B5=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this;switch(A.type=n.type.toLowerCase(),A.checked=n.checked,A.value=eG(n),(A.type===d0||A.type===f0)&&(A.styles.backgroundColor=3739148031,A.styles.borderTopColor=A.styles.borderRightColor=A.styles.borderBottomColor=A.styles.borderLeftColor=2779096575,A.styles.borderTopWidth=A.styles.borderRightWidth=A.styles.borderBottomWidth=A.styles.borderLeftWidth=1,A.styles.borderTopStyle=A.styles.borderRightStyle=A.styles.borderBottomStyle=A.styles.borderLeftStyle=1,A.styles.backgroundClip=[0],A.styles.backgroundOrigin=[0],A.bounds=ZK(A.bounds)),A.type){case d0:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=XK;break;case f0:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=YK;break}return A}return e}(Us),RU=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return A.value=i&&i.text||"",A}return e}(Us),kU=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.value=n.value,A}return e}(Us),DU=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this;A.src=n.src,A.width=parseInt(n.width,10)||0,A.height=parseInt(n.height,10)||0,A.backgroundColor=A.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){A.tree=MU(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Jd(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):po.TRANSPARENT,s=n.contentWindow.document.body?Jd(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):po.TRANSPARENT;A.backgroundColor=za(i)?za(s)?A.styles.backgroundColor:s:i}}catch{}return A}return e}(Us),rG=["OL","UL","MENU"],mm=function(t,e,r,n){for(var A=e.firstChild,i=void 0;A;A=i)if(i=A.nextSibling,HU(A)&&A.data.trim().length>0)r.textNodes.push(new zK(t,A,r.styles));else if(Rc(A))if(GU(A)&&A.assignedNodes)A.assignedNodes().forEach(function(o){return mm(t,o,r,n)});else{var s=OU(t,A);s.styles.isVisible()&&(nG(A,s,n)?s.flags|=4:AG(s.styles)&&(s.flags|=2),rG.indexOf(A.tagName)!==-1&&(s.flags|=8),r.elements.push(s),A.slot,A.shadowRoot?mm(t,A.shadowRoot,s,n):!p0(A)&&!VU(A)&&!g0(A)&&mm(t,A,s,n))}},OU=function(t,e){return Jy(e)?new NU(t,e):jU(e)?new QU(t,e):VU(e)?new LU(t,e):iG(e)?new PU(t,e):sG(e)?new Wy(t,e):oG(e)?new B5(t,e):g0(e)?new RU(t,e):p0(e)?new kU(t,e):KU(e)?new DU(t,e):new Us(t,e)},MU=function(t,e){var r=OU(t,e);return r.flags|=4,mm(t,e,r,r),r},nG=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||C5(t)&&r.styles.isTransparent()},AG=function(t){return t.isPositioned()||t.isFloating()},HU=function(t){return t.nodeType===Node.TEXT_NODE},Rc=function(t){return t.nodeType===Node.ELEMENT_NODE},$y=function(t){return Rc(t)&&typeof t.style<"u"&&!wm(t)},wm=function(t){return typeof t.className=="object"},iG=function(t){return t.tagName==="LI"},sG=function(t){return t.tagName==="OL"},oG=function(t){return t.tagName==="INPUT"},aG=function(t){return t.tagName==="HTML"},VU=function(t){return t.tagName==="svg"},C5=function(t){return t.tagName==="BODY"},jU=function(t){return t.tagName==="CANVAS"},Gb=function(t){return t.tagName==="VIDEO"},Jy=function(t){return t.tagName==="IMG"},KU=function(t){return t.tagName==="IFRAME"},qb=function(t){return t.tagName==="STYLE"},lG=function(t){return t.tagName==="SCRIPT"},p0=function(t){return t.tagName==="TEXTAREA"},g0=function(t){return t.tagName==="SELECT"},GU=function(t){return t.tagName==="SLOT"},zb=function(t){return t.tagName.indexOf("-")>0},uG=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,A=e.counterReset,i=!0;n!==null&&n.forEach(function(o){var a=r.counters[o.counter];a&&o.increment!==0&&(i=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=o.increment)});var s=[];return i&&A.forEach(function(o){var a=r.counters[o.counter];s.push(o.counter),a||(a=r.counters[o.counter]=[]),a.push(o.reset)}),s},t}(),Wb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},$b={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},cG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},hG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},ac=function(t,e,r,n,A,i){return t<e||t>r?jf(t,A,i.length>0):n.integers.reduce(function(s,o,a){for(;t>=o;)t-=o,s+=n.values[a];return s},"")+i},qU=function(t,e,r,n){var A="";do r||t--,A=n(t)+A,t/=e;while(t*e>=e);return A},Hr=function(t,e,r,n,A){var i=r-e+1;return(t<0?"-":"")+(qU(Math.abs(t),i,n,function(s){return Vr(Math.floor(s%i)+e)})+A)},Ql=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return qU(Math.abs(t),n,!1,function(A){return e[Math.floor(A%n)]})+r},wc=1,ha=2,da=4,Qd=8,Ys=function(t,e,r,n,A,i){if(t<-9999||t>9999)return jf(t,4,A.length>0);var s=Math.abs(t),o=A;if(s===0)return e[0]+o;for(var a=0;s>0&&a<=4;a++){var l=s%10;l===0&&ln(i,wc)&&o!==""?o=e[l]+o:l>1||l===1&&a===0||l===1&&a===1&&ln(i,ha)||l===1&&a===1&&ln(i,da)&&t>100||l===1&&a>1&&ln(i,Qd)?o=e[l]+(a>0?r[a-1]:"")+o:l===1&&a>0&&(o=r[a-1]+o),s=Math.floor(s/10)}return(t<0?n:"")+o},Jb="十百千萬",Xb="拾佰仟萬",Yb="マイナス",K1="마이너스",jf=function(t,e,r){var n=r?". ":"",A=r?"、":"",i=r?", ":"",s=r?" ":"";switch(e){case 0:return"•"+s;case 1:return"◦"+s;case 2:return"◾"+s;case 5:var o=Hr(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Ql(t,"〇一二三四五六七八九",A);case 6:return ac(t,1,3999,Wb,3,n).toLowerCase();case 7:return ac(t,1,3999,Wb,3,n);case 8:return Hr(t,945,969,!1,n);case 9:return Hr(t,97,122,!1,n);case 10:return Hr(t,65,90,!1,n);case 11:return Hr(t,1632,1641,!0,n);case 12:case 49:return ac(t,1,9999,$b,3,n);case 35:return ac(t,1,9999,$b,3,n).toLowerCase();case 13:return Hr(t,2534,2543,!0,n);case 14:case 30:return Hr(t,6112,6121,!0,n);case 15:return Ql(t,"子丑寅卯辰巳午未申酉戌亥",A);case 16:return Ql(t,"甲乙丙丁戊己庚辛壬癸",A);case 17:case 48:return Ys(t,"零一二三四五六七八九",Jb,"負",A,ha|da|Qd);case 47:return Ys(t,"零壹貳參肆伍陸柒捌玖",Xb,"負",A,wc|ha|da|Qd);case 42:return Ys(t,"零一二三四五六七八九",Jb,"负",A,ha|da|Qd);case 41:return Ys(t,"零壹贰叁肆伍陆柒捌玖",Xb,"负",A,wc|ha|da|Qd);case 26:return Ys(t,"〇一二三四五六七八九","十百千万",Yb,A,0);case 25:return Ys(t,"零壱弐参四伍六七八九","拾百千万",Yb,A,wc|ha|da);case 31:return Ys(t,"영일이삼사오육칠팔구","십백천만",K1,i,wc|ha|da);case 33:return Ys(t,"零一二三四五六七八九","十百千萬",K1,i,0);case 32:return Ys(t,"零壹貳參四五六七八九","拾百千",K1,i,wc|ha|da);case 18:return Hr(t,2406,2415,!0,n);case 20:return ac(t,1,19999,hG,3,n);case 21:return Hr(t,2790,2799,!0,n);case 22:return Hr(t,2662,2671,!0,n);case 22:return ac(t,1,10999,cG,3,n);case 23:return Ql(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Ql(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Hr(t,3302,3311,!0,n);case 28:return Ql(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",A);case 29:return Ql(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",A);case 34:return Hr(t,3792,3801,!0,n);case 37:return Hr(t,6160,6169,!0,n);case 38:return Hr(t,4160,4169,!0,n);case 39:return Hr(t,2918,2927,!0,n);case 40:return Hr(t,1776,1785,!0,n);case 43:return Hr(t,3046,3055,!0,n);case 44:return Hr(t,3174,3183,!0,n);case 45:return Hr(t,3664,3673,!0,n);case 46:return Hr(t,3872,3881,!0,n);case 3:default:return Hr(t,48,57,!0,n)}},zU="data-html2canvas-ignore",Zb=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new uG,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,A=dG(e,r);if(!A.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,o=A.contentWindow,a=o.document,l=gG(A).then(function(){return sA(n,void 0,void 0,function(){var h,d;return Wn(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(yG),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),h=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,pG(a)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(a,d)}).then(function(){return A})]:[2,A]}})})});return a.open(),a.write(wG(document.doctype)+"<html></html>"),vG(this.referenceElement.ownerDocument,i,s),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},t.prototype.createElementClone=function(e){if(qy(e,2))debugger;if(jU(e))return this.createCanvasClone(e);if(Gb(e))return this.createVideoClone(e);if(qb(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Jy(r)&&(Jy(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),zb(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return G1(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,s){return s&&typeof s.cssText=="string"?i+s.cssText:i},""),A=e.cloneNode(!1);return A.textContent=n,A}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var A=e.cloneNode(!1);try{A.width=e.width,A.height=e.height;var i=e.getContext("2d"),s=A.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var a=o.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return A}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return A},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var A=e.ownerDocument.createElement("canvas");return A.width=e.offsetWidth,A.height=e.offsetHeight,A},t.prototype.appendChildNode=function(e,r,n){(!Rc(r)||!lG(r)&&!r.hasAttribute(zU)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Rc(r)||!qb(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var A=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Rc(i)&&GU(i)&&typeof i.assignedNodes=="function"){var s=i.assignedNodes();s.length&&s.forEach(function(o){return A.appendChildNode(r,o,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(HU(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Rc(e)&&($y(e)||wm(e))){var A=this.createElementClone(e);A.style.transitionProperty="none";var i=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&$y(A)&&(this.clonedReferenceElement=A),C5(A)&&_G(A);var a=this.counters.parse(new Tb(this.context,i)),l=this.resolvePseudoContent(e,A,s,Zd.BEFORE);zb(e)&&(r=!0),Gb(e)||this.cloneChildNodes(e,A,r),l&&A.insertBefore(l,A.firstChild);var h=this.resolvePseudoContent(e,A,o,Zd.AFTER);return h&&A.appendChild(h),this.counters.pop(a),(i&&(this.options.copyStyles||wm(e))&&!KU(e)||r)&&G1(i,A),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([A,e.scrollLeft,e.scrollTop]),(p0(e)||g0(e))&&(p0(A)||g0(A))&&(A.value=e.value),A}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,A){var i=this;if(n){var s=n.content,o=r.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Tb(this.context,n));var a=new iK(this.context,n),l=o.createElement("html2canvaspseudoelement");G1(n,l),a.content.forEach(function(d){if(d.type===0)l.appendChild(o.createTextNode(d.value));else if(d.type===22){var p=o.createElement("img");p.src=d.value,p.style.opacity="1",l.appendChild(p)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(rr);g.length&&l.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var E=d.values.filter(hh),_=E[0],N=E[1];if(_&&rr(_)){var v=i.counters.getCounterValue(_.value),y=N&&rr(N)?Gy.parse(i.context,N.value):3;l.appendChild(o.createTextNode(jf(v,y,!1)))}}else if(d.name==="counters"){var T=d.values.filter(hh),_=T[0],V=T[1],N=T[2];if(_&&rr(_)){var D=i.counters.getCounterValues(_.value),j=N&&rr(N)?Gy.parse(i.context,N.value):3,S=V&&V.type===0?V.value:"",b=D.map(function(x){return jf(x,j,!1)}).join(S);l.appendChild(o.createTextNode(b))}}}else if(d.type===20)switch(d.value){case"open-quote":l.appendChild(o.createTextNode(Sb(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(Sb(a.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(d.value))}}),l.className=Xy+" "+Yy;var h=A===Zd.BEFORE?" "+Xy:" "+Yy;return wm(r)?r.className.baseValue+=h:r.className+=h,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Zd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Zd||(Zd={}));var dG=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(zU,"true"),t.body.appendChild(r),r},fG=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},pG=function(t){return Promise.all([].slice.call(t.images,0).map(fG))},gG=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var A=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){A.body.childNodes.length>0&&A.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},mG=["all","d","content"],G1=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);mG.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},wG=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},vG=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},yG=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},BG=":before",CG=":after",Xy="___html2canvas___pseudoelement_before",Yy="___html2canvas___pseudoelement_after",eI=`{
    content: "" !important;
    display: none !important;
}`,_G=function(t){EG(t,"."+Xy+BG+eI+`
         .`+Yy+CG+eI)},EG=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},WU=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),bG=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(z1(e)||SG(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return sA(this,void 0,void 0,function(){var r,n,A,i,s=this;return Wn(this,function(o){switch(o.label){case 0:return r=WU.isSameOrigin(e),n=!q1(e)&&this._options.useCORS===!0&&Fn.SUPPORT_CORS_IMAGES&&!r,A=!q1(e)&&!r&&!z1(e)&&typeof this._options.proxy=="string"&&Fn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!q1(e)&&!z1(e)&&!A&&!n?[2]:(i=e,A?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(a,l){var h=new Image;h.onload=function(){return a(h)},h.onerror=l,(TG(i)||n)&&(h.crossOrigin="anonymous"),h.src=i,h.complete===!0&&setTimeout(function(){return a(h)},500),s._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var A=e.substring(0,256);return new Promise(function(i,s){var o=Fn.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(o==="text")i(a.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(p){return s(p)},!1),d.readAsDataURL(a.response)}else s("Failed to proxy resource "+A+" with status code "+a.status)},a.onerror=s;var l=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=o),r._options.imageTimeout){var h=r._options.imageTimeout;a.timeout=h,a.ontimeout=function(){return s("Timed out ("+h+"ms) proxying "+A)}}a.send()})},t}(),IG=/^data:image\/svg\+xml/i,xG=/^data:image\/.*;base64,/i,FG=/^data:image\/.*/i,SG=function(t){return Fn.SUPPORT_SVG_DRAWING||!UG(t)},q1=function(t){return FG.test(t)},TG=function(t){return xG.test(t)},z1=function(t){return t.substr(0,4)==="blob"},UG=function(t){return t.substr(-3).toLowerCase()==="svg"||IG.test(t)},$e=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),lc=function(t,e,r){return new $e(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Lg=function(){function t(e,r,n,A){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=A}return t.prototype.subdivide=function(e,r){var n=lc(this.start,this.startControl,e),A=lc(this.startControl,this.endControl,e),i=lc(this.endControl,this.end,e),s=lc(n,A,e),o=lc(A,i,e),a=lc(s,o,e);return r?new t(this.start,n,s,a):new t(a,o,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ci=function(t){return t.type===1},NG=function(){function t(e){var r=e.styles,n=e.bounds,A=Ud(r.borderTopLeftRadius,n.width,n.height),i=A[0],s=A[1],o=Ud(r.borderTopRightRadius,n.width,n.height),a=o[0],l=o[1],h=Ud(r.borderBottomRightRadius,n.width,n.height),d=h[0],p=h[1],g=Ud(r.borderBottomLeftRadius,n.width,n.height),E=g[0],_=g[1],N=[];N.push((i+a)/n.width),N.push((E+d)/n.width),N.push((s+_)/n.height),N.push((l+p)/n.height);var v=Math.max.apply(Math,N);v>1&&(i/=v,s/=v,a/=v,l/=v,d/=v,p/=v,E/=v,_/=v);var y=n.width-a,T=n.height-p,V=n.width-d,D=n.height-_,j=r.borderTopWidth,S=r.borderRightWidth,b=r.borderBottomWidth,Q=r.borderLeftWidth,O=cr(r.paddingTop,e.bounds.width),x=cr(r.paddingRight,e.bounds.width),U=cr(r.paddingBottom,e.bounds.width),L=cr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?vr(n.left+Q/3,n.top+j/3,i-Q/3,s-j/3,qt.TOP_LEFT):new $e(n.left+Q/3,n.top+j/3),this.topRightBorderDoubleOuterBox=i>0||s>0?vr(n.left+y,n.top+j/3,a-S/3,l-j/3,qt.TOP_RIGHT):new $e(n.left+n.width-S/3,n.top+j/3),this.bottomRightBorderDoubleOuterBox=d>0||p>0?vr(n.left+V,n.top+T,d-S/3,p-b/3,qt.BOTTOM_RIGHT):new $e(n.left+n.width-S/3,n.top+n.height-b/3),this.bottomLeftBorderDoubleOuterBox=E>0||_>0?vr(n.left+Q/3,n.top+D,E-Q/3,_-b/3,qt.BOTTOM_LEFT):new $e(n.left+Q/3,n.top+n.height-b/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?vr(n.left+Q*2/3,n.top+j*2/3,i-Q*2/3,s-j*2/3,qt.TOP_LEFT):new $e(n.left+Q*2/3,n.top+j*2/3),this.topRightBorderDoubleInnerBox=i>0||s>0?vr(n.left+y,n.top+j*2/3,a-S*2/3,l-j*2/3,qt.TOP_RIGHT):new $e(n.left+n.width-S*2/3,n.top+j*2/3),this.bottomRightBorderDoubleInnerBox=d>0||p>0?vr(n.left+V,n.top+T,d-S*2/3,p-b*2/3,qt.BOTTOM_RIGHT):new $e(n.left+n.width-S*2/3,n.top+n.height-b*2/3),this.bottomLeftBorderDoubleInnerBox=E>0||_>0?vr(n.left+Q*2/3,n.top+D,E-Q*2/3,_-b*2/3,qt.BOTTOM_LEFT):new $e(n.left+Q*2/3,n.top+n.height-b*2/3),this.topLeftBorderStroke=i>0||s>0?vr(n.left+Q/2,n.top+j/2,i-Q/2,s-j/2,qt.TOP_LEFT):new $e(n.left+Q/2,n.top+j/2),this.topRightBorderStroke=i>0||s>0?vr(n.left+y,n.top+j/2,a-S/2,l-j/2,qt.TOP_RIGHT):new $e(n.left+n.width-S/2,n.top+j/2),this.bottomRightBorderStroke=d>0||p>0?vr(n.left+V,n.top+T,d-S/2,p-b/2,qt.BOTTOM_RIGHT):new $e(n.left+n.width-S/2,n.top+n.height-b/2),this.bottomLeftBorderStroke=E>0||_>0?vr(n.left+Q/2,n.top+D,E-Q/2,_-b/2,qt.BOTTOM_LEFT):new $e(n.left+Q/2,n.top+n.height-b/2),this.topLeftBorderBox=i>0||s>0?vr(n.left,n.top,i,s,qt.TOP_LEFT):new $e(n.left,n.top),this.topRightBorderBox=a>0||l>0?vr(n.left+y,n.top,a,l,qt.TOP_RIGHT):new $e(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||p>0?vr(n.left+V,n.top+T,d,p,qt.BOTTOM_RIGHT):new $e(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=E>0||_>0?vr(n.left,n.top+D,E,_,qt.BOTTOM_LEFT):new $e(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||s>0?vr(n.left+Q,n.top+j,Math.max(0,i-Q),Math.max(0,s-j),qt.TOP_LEFT):new $e(n.left+Q,n.top+j),this.topRightPaddingBox=a>0||l>0?vr(n.left+Math.min(y,n.width-S),n.top+j,y>n.width+S?0:Math.max(0,a-S),Math.max(0,l-j),qt.TOP_RIGHT):new $e(n.left+n.width-S,n.top+j),this.bottomRightPaddingBox=d>0||p>0?vr(n.left+Math.min(V,n.width-Q),n.top+Math.min(T,n.height-b),Math.max(0,d-S),Math.max(0,p-b),qt.BOTTOM_RIGHT):new $e(n.left+n.width-S,n.top+n.height-b),this.bottomLeftPaddingBox=E>0||_>0?vr(n.left+Q,n.top+Math.min(D,n.height-b),Math.max(0,E-Q),Math.max(0,_-b),qt.BOTTOM_LEFT):new $e(n.left+Q,n.top+n.height-b),this.topLeftContentBox=i>0||s>0?vr(n.left+Q+L,n.top+j+O,Math.max(0,i-(Q+L)),Math.max(0,s-(j+O)),qt.TOP_LEFT):new $e(n.left+Q+L,n.top+j+O),this.topRightContentBox=a>0||l>0?vr(n.left+Math.min(y,n.width+Q+L),n.top+j+O,y>n.width+Q+L?0:a-Q+L,l-(j+O),qt.TOP_RIGHT):new $e(n.left+n.width-(S+x),n.top+j+O),this.bottomRightContentBox=d>0||p>0?vr(n.left+Math.min(V,n.width-(Q+L)),n.top+Math.min(T,n.height+j+O),Math.max(0,d-(S+x)),p-(b+U),qt.BOTTOM_RIGHT):new $e(n.left+n.width-(S+x),n.top+n.height-(b+U)),this.bottomLeftContentBox=E>0||_>0?vr(n.left+Q+L,n.top+D,Math.max(0,E-(Q+L)),_-(b+U),qt.BOTTOM_LEFT):new $e(n.left+Q+L,n.top+n.height-(b+U))}return t}(),qt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(qt||(qt={}));var vr=function(t,e,r,n,A){var i=4*((Math.sqrt(2)-1)/3),s=r*i,o=n*i,a=t+r,l=e+n;switch(A){case qt.TOP_LEFT:return new Lg(new $e(t,l),new $e(t,l-o),new $e(a-s,e),new $e(a,e));case qt.TOP_RIGHT:return new Lg(new $e(t,e),new $e(t+s,e),new $e(a,l-o),new $e(a,l));case qt.BOTTOM_RIGHT:return new Lg(new $e(a,e),new $e(a,e+o),new $e(t+s,l),new $e(t,l));case qt.BOTTOM_LEFT:default:return new Lg(new $e(a,l),new $e(a-s,l),new $e(t,e+o),new $e(t,e))}},m0=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},QG=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},w0=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},LG=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Pg=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),PG=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),RG=function(t){return t.type===0},$U=function(t){return t.type===1},kG=function(t){return t.type===2},tI=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},DG=function(t,e,r,n,A){return t.map(function(i,s){switch(s){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+A);case 3:return i.add(e,r+A)}return i})},JU=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),XU=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new NG(this.container),this.container.styles.opacity<1&&this.effects.push(new PG(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,A=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new LG(n,A,i))}if(this.container.styles.overflowX!==0){var s=m0(this.curves),o=w0(this.curves);tI(s,o)?this.effects.push(new Pg(s,6)):(this.effects.push(new Pg(s,2)),this.effects.push(new Pg(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,A=this.effects.slice(0);n;){var i=n.effects.filter(function(a){return!$U(a)});if(r||n.container.styles.position!==0||!n.parent){if(A.unshift.apply(A,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=m0(n.curves),o=w0(n.curves);tI(s,o)||A.unshift(new Pg(o,6))}}else A.unshift.apply(A,i);n=n.parent}return A.filter(function(a){return ln(a.target,e)})},t}(),Zy=function(t,e,r,n){t.container.elements.forEach(function(A){var i=ln(A.flags,4),s=ln(A.flags,2),o=new XU(A,t);ln(A.styles.display,2048)&&n.push(o);var a=ln(A.flags,8)?[]:n;if(i||s){var l=i||A.styles.isPositioned()?r:e,h=new JU(o);if(A.styles.isPositioned()||A.styles.opacity<1||A.styles.isTransformed()){var d=A.styles.zIndex.order;if(d<0){var p=0;l.negativeZIndex.some(function(E,_){return d>E.element.container.styles.zIndex.order?(p=_,!1):p>0}),l.negativeZIndex.splice(p,0,h)}else if(d>0){var g=0;l.positiveZIndex.some(function(E,_){return d>=E.element.container.styles.zIndex.order?(g=_+1,!1):g>0}),l.positiveZIndex.splice(g,0,h)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else A.styles.isFloating()?l.nonPositionedFloats.push(h):l.nonPositionedInlineLevel.push(h);Zy(o,h,i?h:r,a)}else A.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Zy(o,e,r,a);ln(A.flags,8)&&YU(A,a)})},YU=function(t,e){for(var r=t instanceof Wy?t.start:1,n=t instanceof Wy?t.reversed:!1,A=0;A<e.length;A++){var i=e[A];i.container instanceof PU&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=jf(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},OG=function(t){var e=new XU(t,null),r=new JU(e),n=[];return Zy(e,r,r,n),YU(e.container,n),r},rI=function(t,e){switch(e){case 0:return pi(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return pi(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return pi(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return pi(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},MG=function(t,e){switch(e){case 0:return pi(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return pi(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return pi(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return pi(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},HG=function(t,e){switch(e){case 0:return pi(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return pi(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return pi(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return pi(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},VG=function(t,e){switch(e){case 0:return Rg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Rg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Rg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Rg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Rg=function(t,e){var r=[];return ci(t)?r.push(t.subdivide(.5,!1)):r.push(t),ci(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},pi=function(t,e,r,n){var A=[];return ci(t)?A.push(t.subdivide(.5,!1)):A.push(t),ci(r)?A.push(r.subdivide(.5,!0)):A.push(r),ci(n)?A.push(n.subdivide(.5,!0).reverse()):A.push(n),ci(e)?A.push(e.subdivide(.5,!1).reverse()):A.push(e),A},ZU=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},v0=function(t){var e=t.styles,r=t.bounds,n=cr(e.paddingLeft,r.width),A=cr(e.paddingRight,r.width),i=cr(e.paddingTop,r.width),s=cr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+A),-(e.borderTopWidth+e.borderBottomWidth+i+s))},jG=function(t,e){return t===0?e.bounds:t===2?v0(e):ZU(e)},KG=function(t,e){return t===0?e.bounds:t===2?v0(e):ZU(e)},W1=function(t,e,r){var n=jG(vc(t.styles.backgroundOrigin,e),t),A=KG(vc(t.styles.backgroundClip,e),t),i=GG(vc(t.styles.backgroundSize,e),r,n),s=i[0],o=i[1],a=Ud(vc(t.styles.backgroundPosition,e),n.width-s,n.height-o),l=qG(vc(t.styles.backgroundRepeat,e),a,i,n,A),h=Math.round(n.left+a[0]),d=Math.round(n.top+a[1]);return[l,h,d,s,o]},uc=function(t){return rr(t)&&t.value===zc.AUTO},kg=function(t){return typeof t=="number"},GG=function(t,e,r){var n=e[0],A=e[1],i=e[2],s=t[0],o=t[1];if(!s)return[0,0];if(en(s)&&o&&en(o))return[cr(s,r.width),cr(o,r.height)];var a=kg(i);if(rr(s)&&(s.value===zc.CONTAIN||s.value===zc.COVER)){if(kg(i)){var l=r.width/r.height;return l<i!=(s.value===zc.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var h=kg(n),d=kg(A),p=h||d;if(uc(s)&&(!o||uc(o))){if(h&&d)return[n,A];if(!a&&!p)return[r.width,r.height];if(p&&a){var g=h?n:A*i,E=d?A:n/i;return[g,E]}var _=h?n:r.width,N=d?A:r.height;return[_,N]}if(a){var v=0,y=0;return en(s)?v=cr(s,r.width):en(o)&&(y=cr(o,r.height)),uc(s)?v=y*i:(!o||uc(o))&&(y=v/i),[v,y]}var T=null,V=null;if(en(s)?T=cr(s,r.width):o&&en(o)&&(V=cr(o,r.height)),T!==null&&(!o||uc(o))&&(V=h&&d?T/n*A:r.height),V!==null&&uc(s)&&(T=h&&d?V/A*n:r.width),T!==null&&V!==null)return[T,V];throw new Error("Unable to calculate background-size for element")},vc=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},qG=function(t,e,r,n,A){var i=e[0],s=e[1],o=r[0],a=r[1];switch(t){case 2:return[new $e(Math.round(n.left),Math.round(n.top+s)),new $e(Math.round(n.left+n.width),Math.round(n.top+s)),new $e(Math.round(n.left+n.width),Math.round(a+n.top+s)),new $e(Math.round(n.left),Math.round(a+n.top+s))];case 3:return[new $e(Math.round(n.left+i),Math.round(n.top)),new $e(Math.round(n.left+i+o),Math.round(n.top)),new $e(Math.round(n.left+i+o),Math.round(n.height+n.top)),new $e(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new $e(Math.round(n.left+i),Math.round(n.top+s)),new $e(Math.round(n.left+i+o),Math.round(n.top+s)),new $e(Math.round(n.left+i+o),Math.round(n.top+s+a)),new $e(Math.round(n.left+i),Math.round(n.top+s+a))];default:return[new $e(Math.round(A.left),Math.round(A.top)),new $e(Math.round(A.left+A.width),Math.round(A.top)),new $e(Math.round(A.left+A.width),Math.round(A.height+A.top)),new $e(Math.round(A.left),Math.round(A.height+A.top))]}},zG="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",nI="Hidden Text",WG=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),A=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),A.src=zG,A.width=1,A.height=1,A.style.margin="0",A.style.padding="0",A.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(nI)),n.appendChild(i),n.appendChild(A);var o=A.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(nI)),n.style.lineHeight="normal",A.style.verticalAlign="super";var a=A.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:o,middle:a}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),eN=function(){function t(e,r){this.context=e,this.options=r}return t}(),$G=1e4,JG=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A._activeEffects=[],A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),n.canvas||(A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px"),A.fontMetrics=new WG(document),A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.ctx.textBaseline="bottom",A._activeEffects=[],A.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),A}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(A){return n.applyEffect(A)})},e.prototype.applyEffect=function(r){this.ctx.save(),kG(r)&&(this.ctx.globalAlpha=r.opacity),RG(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),$U(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return sA(this,void 0,void 0,function(){var n;return Wn(this,function(A){switch(A.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return sA(this,void 0,void 0,function(){return Wn(this,function(n){switch(n.label){case 0:if(ln(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,A){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+A);else{var s=y5(r.text);s.reduce(function(o,a){return i.ctx.fillText(a,o,r.bounds.top+A),o+i.ctx.measureText(a).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),A=tq(r.fontFamily).join(", "),i=vp(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,A].join(" "),A,i]},e.prototype.renderTextNode=function(r,n){return sA(this,void 0,void 0,function(){var A,i,s,o,a,l,h,d,p=this;return Wn(this,function(g){return A=this.createFontStyle(n),i=A[0],s=A[1],o=A[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),l=a.baseline,h=a.middle,d=n.paintOrder,r.textBounds.forEach(function(E){d.forEach(function(_){switch(_){case 0:p.ctx.fillStyle=gn(n.color),p.renderTextWithLetterSpacing(E,n.letterSpacing,l);var N=n.textShadow;N.length&&E.text.trim().length&&(N.slice(0).reverse().forEach(function(v){p.ctx.shadowColor=gn(v.color),p.ctx.shadowOffsetX=v.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=v.offsetY.number*p.options.scale,p.ctx.shadowBlur=v.blur.number,p.renderTextWithLetterSpacing(E,n.letterSpacing,l)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=gn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:p.ctx.fillRect(E.bounds.left,Math.round(E.bounds.top+l),E.bounds.width,1);break;case 2:p.ctx.fillRect(E.bounds.left,Math.round(E.bounds.top),E.bounds.width,1);break;case 3:p.ctx.fillRect(E.bounds.left,Math.ceil(E.bounds.top+h),E.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&E.text.trim().length&&(p.ctx.strokeStyle=gn(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(E.text,E.bounds.left,E.bounds.top+l)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,A){if(A&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=v0(r),s=w0(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return sA(this,void 0,void 0,function(){var n,A,i,s,o,a,y,y,l,h,d,p,V,g,E,D,_,N,v,y,T,V,D;return Wn(this,function(j){switch(j.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,A=r.curves,i=n.styles,s=0,o=n.textNodes,j.label=1;case 1:return s<o.length?(a=o[s],[4,this.renderTextNode(a,i)]):[3,4];case 2:j.sent(),j.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof NU))return[3,8];j.label=5;case 5:return j.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=j.sent(),this.renderReplacedElement(n,A,y),[3,8];case 7:return j.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof QU&&this.renderReplacedElement(n,A,n.canvas),!(n instanceof LU))return[3,12];j.label=9;case 9:return j.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=j.sent(),this.renderReplacedElement(n,A,y),[3,12];case 11:return j.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof DU&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:h=j.sent(),n.width&&n.height&&this.ctx.drawImage(h,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),j.label=14;case 14:if(n instanceof B5&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===d0?n.checked&&(this.ctx.save(),this.path([new $e(n.bounds.left+d*.39363,n.bounds.top+d*.79),new $e(n.bounds.left+d*.16,n.bounds.top+d*.5549),new $e(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new $e(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new $e(n.bounds.left+d*.72983,n.bounds.top+d*.23),new $e(n.bounds.left+d*.84,n.bounds.top+d*.34085),new $e(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=gn(Kb),this.ctx.fill(),this.ctx.restore()):n.type===f0&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=gn(Kb),this.ctx.fill(),this.ctx.restore())),XG(n)&&n.value.length){switch(p=this.createFontStyle(i),V=p[0],g=p[1],E=this.fontMetrics.getMetrics(V,g).baseline,this.ctx.font=V,this.ctx.fillStyle=gn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=ZG(n.styles.textAlign),D=v0(n),_=0,n.styles.textAlign){case 1:_+=D.width/2;break;case 2:_+=D.width;break}N=D.add(_,0,0,-D.height/2+1),this.ctx.save(),this.path([new $e(D.left,D.top),new $e(D.left+D.width,D.top),new $e(D.left+D.width,D.top+D.height),new $e(D.left,D.top+D.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Yd(n.value,N),i.letterSpacing,E),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ln(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];y=void 0,T=v.url,j.label=15;case 15:return j.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return y=j.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return j.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(V=this.createFontStyle(i)[0],this.ctx.font=V,this.ctx.fillStyle=gn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",D=new bo(n.bounds.left,n.bounds.top+cr(n.styles.paddingTop,n.bounds.width),n.bounds.width,xb(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Yd(r.listValue,D),i.letterSpacing,xb(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),j.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return sA(this,void 0,void 0,function(){var n,A,v,i,s,v,o,a,v,l,h,v,d,p,v,g,E,v,_,N,v;return Wn(this,function(y){switch(y.label){case 0:if(ln(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,A=r.negativeZIndex,y.label=2;case 2:return n<A.length?(v=A[n],[4,this.renderStack(v)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,s=r.nonInlineLevel,y.label=7;case 7:return i<s.length?(v=s[i],[4,this.renderNode(v)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:o=0,a=r.nonPositionedFloats,y.label=11;case 11:return o<a.length?(v=a[o],[4,this.renderStack(v)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:l=0,h=r.nonPositionedInlineLevel,y.label=15;case 15:return l<h.length?(v=h[l],[4,this.renderStack(v)]):[3,18];case 16:y.sent(),y.label=17;case 17:return l++,[3,15];case 18:d=0,p=r.inlineLevel,y.label=19;case 19:return d<p.length?(v=p[d],[4,this.renderNode(v)]):[3,22];case 20:y.sent(),y.label=21;case 21:return d++,[3,19];case 22:g=0,E=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return g<E.length?(v=E[g],[4,this.renderStack(v)]):[3,26];case 24:y.sent(),y.label=25;case 25:return g++,[3,23];case 26:_=0,N=r.positiveZIndex,y.label=27;case 27:return _<N.length?(v=N[_],[4,this.renderStack(v)]):[3,30];case 28:y.sent(),y.label=29;case 29:return _++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(A,i){var s=ci(A)?A.start:A;i===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),ci(A)&&n.ctx.bezierCurveTo(A.startControl.x,A.startControl.y,A.endControl.x,A.endControl.y,A.end.x,A.end.y)})},e.prototype.renderRepeat=function(r,n,A,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(A,i),this.ctx.fill(),this.ctx.translate(-A,-i)},e.prototype.resizeImage=function(r,n,A){var i;if(r.width===n&&r.height===A)return r;var s=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=s.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,A);var a=o.getContext("2d");return a.drawImage(r,0,0,r.width,r.height,0,0,n,A),o},e.prototype.renderBackgroundImage=function(r){return sA(this,void 0,void 0,function(){var n,A,i,s,o,a;return Wn(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,A=function(h){var d,p,g,O,se,ge,L,$,b,E,O,se,ge,L,$,_,N,v,y,T,V,D,j,S,b,Q,O,x,U,L,$,pe,se,ge,ee,le,he,Ue,k,W,Y,z;return Wn(this,function(re){switch(re.label){case 0:if(h.type!==0)return[3,5];d=void 0,p=h.url,re.label=1;case 1:return re.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return d=re.sent(),[3,4];case 3:return re.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return d&&(g=W1(r,n,[d.width,d.height,d.width/d.height]),O=g[0],se=g[1],ge=g[2],L=g[3],$=g[4],b=i.ctx.createPattern(i.resizeImage(d,L,$),"repeat"),i.renderRepeat(O,b,se,ge)),[3,6];case 5:Rj(h)?(E=W1(r,n,[null,null,null]),O=E[0],se=E[1],ge=E[2],L=E[3],$=E[4],_=Uj(h.angle,L,$),N=_[0],v=_[1],y=_[2],T=_[3],V=_[4],D=document.createElement("canvas"),D.width=L,D.height=$,j=D.getContext("2d"),S=j.createLinearGradient(v,T,y,V),bb(h.stops,N).forEach(function(fe){return S.addColorStop(fe.stop,gn(fe.color))}),j.fillStyle=S,j.fillRect(0,0,L,$),L>0&&$>0&&(b=i.ctx.createPattern(D,"repeat"),i.renderRepeat(O,b,se,ge))):kj(h)&&(Q=W1(r,n,[null,null,null]),O=Q[0],x=Q[1],U=Q[2],L=Q[3],$=Q[4],pe=h.position.length===0?[m5]:h.position,se=cr(pe[0],L),ge=cr(pe[pe.length-1],$),ee=Nj(h,se,ge,L,$),le=ee[0],he=ee[1],le>0&&he>0&&(Ue=i.ctx.createRadialGradient(x+se,U+ge,0,x+se,U+ge,le),bb(h.stops,le*2).forEach(function(fe){return Ue.addColorStop(fe.stop,gn(fe.color))}),i.path(O),i.ctx.fillStyle=Ue,le!==he?(k=r.bounds.left+.5*r.bounds.width,W=r.bounds.top+.5*r.bounds.height,Y=he/le,z=1/Y,i.ctx.save(),i.ctx.translate(k,W),i.ctx.transform(1,0,0,Y,0,0),i.ctx.translate(-k,-W),i.ctx.fillRect(x,z*(U-W)+W,L,$*z),i.ctx.restore()):i.ctx.fill())),re.label=6;case 6:return n--,[2]}})},i=this,s=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(a=o[s],[5,A(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,A){return sA(this,void 0,void 0,function(){return Wn(this,function(i){return this.path(rI(A,n)),this.ctx.fillStyle=gn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,A,i){return sA(this,void 0,void 0,function(){var s,o;return Wn(this,function(a){switch(a.label){case 0:return n<3?[4,this.renderSolidBorder(r,A,i)]:[3,2];case 1:return a.sent(),[2];case 2:return s=MG(i,A),this.path(s),this.ctx.fillStyle=gn(r),this.ctx.fill(),o=HG(i,A),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return sA(this,void 0,void 0,function(){var n,A,i,s,o,a,l,h,d=this;return Wn(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,A=!za(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=YG(vc(n.backgroundClip,0),r.curves),A||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),za(n.backgroundColor)||(this.ctx.fillStyle=gn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var E=m0(r.curves),_=g.inset?0:$G,N=DG(E,-_+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(E),d.ctx.clip(),d.mask(N)):(d.mask(E),d.ctx.clip(),d.path(N)),d.ctx.shadowOffsetX=g.offsetX.number+_,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=gn(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?gn(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),p.label=2;case 2:o=0,a=0,l=i,p.label=3;case 3:return a<l.length?(h=l[a],h.style!==0&&!za(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,o,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,o,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,o,r.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,A,i,s){return sA(this,void 0,void 0,function(){var o,a,l,h,d,p,g,E,_,N,v,y,T,V,D,j,D,j;return Wn(this,function(S){return this.ctx.save(),o=VG(i,A),a=rI(i,A),s===2&&(this.path(a),this.ctx.clip()),ci(a[0])?(l=a[0].start.x,h=a[0].start.y):(l=a[0].x,h=a[0].y),ci(a[1])?(d=a[1].end.x,p=a[1].end.y):(d=a[1].x,p=a[1].y),A===0||A===2?g=Math.abs(l-d):g=Math.abs(h-p),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(a.slice(0,2)),E=n<3?n*3:n*2,_=n<3?n*2:n,s===3&&(E=n,_=n),N=!0,g<=E*2?N=!1:g<=E*2+_?(v=g/(2*E+_),E*=v,_*=v):(y=Math.floor((g+_)/(E+_)),T=(g-y*E)/(y-1),V=(g-(y+1)*E)/y,_=V<=0||Math.abs(_-T)<Math.abs(_-V)?T:V),N&&(s===3?this.ctx.setLineDash([0,E+_]):this.ctx.setLineDash([E,_])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=gn(r),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(ci(a[0])&&(D=a[3],j=a[0],this.ctx.beginPath(),this.formatPath([new $e(D.end.x,D.end.y),new $e(j.start.x,j.start.y)]),this.ctx.stroke()),ci(a[1])&&(D=a[1],j=a[2],this.ctx.beginPath(),this.formatPath([new $e(D.end.x,D.end.y),new $e(j.start.x,j.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return sA(this,void 0,void 0,function(){var n;return Wn(this,function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=gn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=OG(r),[4,this.renderStack(n)];case 1:return A.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(eN),XG=function(t){return t instanceof kU||t instanceof RU?!0:t instanceof B5&&t.type!==f0&&t.type!==d0},YG=function(t,e){switch(t){case 0:return m0(e);case 2:return QG(e);case 1:default:return w0(e)}},ZG=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},eq=["-apple-system","system-ui"],tq=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return eq.indexOf(e)===-1}):t},rq=function(t){Xi(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),A.options=n,A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px",A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),A}return e.prototype.render=function(r){return sA(this,void 0,void 0,function(){var n,A;return Wn(this,function(i){switch(i.label){case 0:return n=zy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,nq(n)];case 1:return A=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=gn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(eN),nq=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Aq=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,pg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,pg([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,pg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,pg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),iq=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Aq({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new bG(this,e)}return t.instanceCount=1,t}(),tN=function(t,e){return e===void 0&&(e={}),sq(t,e)};typeof window<"u"&&WU.setContext(window);var sq=function(t,e){return sA(void 0,void 0,void 0,function(){var r,n,A,i,s,o,a,l,h,d,p,g,E,_,N,v,y,T,V,D,S,j,S,b,Q,O,x,U,L,$,pe,se,ge,ee,le,he,Ue,k,W,Y;return Wn(this,function(z){switch(z.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return A={allowTaint:(b=e.allowTaint)!==null&&b!==void 0?b:!1,imageTimeout:(Q=e.imageTimeout)!==null&&Q!==void 0?Q:15e3,proxy:e.proxy,useCORS:(O=e.useCORS)!==null&&O!==void 0?O:!1},i=Ny({logging:(x=e.logging)!==null&&x!==void 0?x:!0,cache:e.cache},A),s={windowWidth:(U=e.windowWidth)!==null&&U!==void 0?U:n.innerWidth,windowHeight:(L=e.windowHeight)!==null&&L!==void 0?L:n.innerHeight,scrollX:($=e.scrollX)!==null&&$!==void 0?$:n.pageXOffset,scrollY:(pe=e.scrollY)!==null&&pe!==void 0?pe:n.pageYOffset},o=new bo(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),a=new iq(i,o),l=(se=e.foreignObjectRendering)!==null&&se!==void 0?se:!1,h={allowTaint:(ge=e.allowTaint)!==null&&ge!==void 0?ge:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},a.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new Zb(a,t,h),p=d.clonedReferenceElement,p?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=z.sent(),E=C5(p)||aG(p)?DV(p.ownerDocument):cw(a,p),_=E.width,N=E.height,v=E.left,y=E.top,T=oq(a,p,e.backgroundColor),V={canvas:e.canvas,backgroundColor:T,scale:(le=(ee=e.scale)!==null&&ee!==void 0?ee:n.devicePixelRatio)!==null&&le!==void 0?le:1,x:((he=e.x)!==null&&he!==void 0?he:0)+v,y:((Ue=e.y)!==null&&Ue!==void 0?Ue:0)+y,width:(k=e.width)!==null&&k!==void 0?k:Math.ceil(_),height:(W=e.height)!==null&&W!==void 0?W:Math.ceil(N)},l?(a.logger.debug("Document cloned, using foreign object rendering"),S=new rq(a,V),[4,S.render(p)]):[3,3];case 2:return D=z.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+v+","+y+" with size "+_+"x"+N+" using computed rendering"),a.logger.debug("Starting DOM parsing"),j=MU(a,p),T===j.styles.backgroundColor&&(j.styles.backgroundColor=po.TRANSPARENT),a.logger.debug("Starting renderer for element at "+V.x+","+V.y+" with size "+V.width+"x"+V.height),S=new JG(a,V),[4,S.render(j)];case 4:D=z.sent(),z.label=5;case 5:return(!((Y=e.removeContainer)!==null&&Y!==void 0)||Y)&&(Zb.destroy(g)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,D]}})})},oq=function(t,e,r){var n=e.ownerDocument,A=n.documentElement?Jd(t,getComputedStyle(n.documentElement).backgroundColor):po.TRANSPARENT,i=n.body?Jd(t,getComputedStyle(n.body).backgroundColor):po.TRANSPARENT,s=typeof r=="string"?Jd(t,r):r===null?po.TRANSPARENT:4294967295;return e===n.documentElement?za(A)?za(i)?s:i:A:s};const rN=Object.freeze(Object.defineProperty({__proto__:null,default:tN},Symbol.toStringTag,{value:"Module"})),aq="modulepreload",lq=function(t){return"/"+t},AI={},Wc=function(e,r,n){let A=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));A=Promise.allSettled(r.map(a=>{if(a=lq(a),a in AI)return;AI[a]=!0;const l=a.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":aq,l||(d.as="script"),d.crossOrigin="",d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return A.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function Yt(t){"@babel/helpers - typeof";return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(t)}var Xn=Uint8Array,GA=Uint16Array,_5=Int32Array,Bw=new Xn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cw=new Xn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e2=new Xn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nN=function(t,e){for(var r=new GA(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var A=new _5(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)A[i]=i-r[n]<<5|n;return{b:r,r:A}},AN=nN(Bw,2),iN=AN.b,t2=AN.r;iN[28]=258,t2[258]=28;var sN=nN(Cw,0),uq=sN.b,iI=sN.r,r2=new GA(32768);for(var mr=0;mr<32768;++mr){var la=(mr&43690)>>1|(mr&21845)<<1;la=(la&52428)>>2|(la&13107)<<2,la=(la&61680)>>4|(la&3855)<<4,r2[mr]=((la&65280)>>8|(la&255)<<8)>>1}var Fs=function(t,e,r){for(var n=t.length,A=0,i=new GA(e);A<n;++A)t[A]&&++i[t[A]-1];var s=new GA(e);for(A=1;A<e;++A)s[A]=s[A-1]+i[A-1]<<1;var o;if(r){o=new GA(1<<e);var a=15-e;for(A=0;A<n;++A)if(t[A])for(var l=A<<4|t[A],h=e-t[A],d=s[t[A]-1]++<<h,p=d|(1<<h)-1;d<=p;++d)o[r2[d]>>a]=l}else for(o=new GA(n),A=0;A<n;++A)t[A]&&(o[A]=r2[s[t[A]-1]++]>>15-t[A]);return o},tl=new Xn(288);for(var mr=0;mr<144;++mr)tl[mr]=8;for(var mr=144;mr<256;++mr)tl[mr]=9;for(var mr=256;mr<280;++mr)tl[mr]=7;for(var mr=280;mr<288;++mr)tl[mr]=8;var Kf=new Xn(32);for(var mr=0;mr<32;++mr)Kf[mr]=5;var cq=Fs(tl,9,0),hq=Fs(tl,9,1),dq=Fs(Kf,5,0),fq=Fs(Kf,5,1),$1=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Li=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},J1=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},E5=function(t){return(t+7)/8|0},oN=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Xn(t.subarray(e,r))},pq=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Di=function(t,e,r){var n=new Error(e||pq[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Di),!r)throw n;return n},gq=function(t,e,r,n){var A=t.length,i=0;if(!A||e.f&&!e.l)return r||new Xn(0);var s=!r,o=s||e.i!=2,a=e.i;s&&(r=new Xn(A*3));var l=function(Ae){var xe=r.length;if(Ae>xe){var Ne=new Xn(Math.max(xe*2,Ae));Ne.set(r),r=Ne}},h=e.f||0,d=e.p||0,p=e.b||0,g=e.l,E=e.d,_=e.m,N=e.n,v=A*8;do{if(!g){h=Li(t,d,1);var y=Li(t,d+1,3);if(d+=3,y)if(y==1)g=hq,E=fq,_=9,N=5;else if(y==2){var j=Li(t,d,31)+257,S=Li(t,d+10,15)+4,b=j+Li(t,d+5,31)+1;d+=14;for(var Q=new Xn(b),O=new Xn(19),x=0;x<S;++x)O[e2[x]]=Li(t,d+x*3,7);d+=S*3;for(var U=$1(O),L=(1<<U)-1,$=Fs(O,U,1),x=0;x<b;){var pe=$[Li(t,d,L)];d+=pe&15;var T=pe>>4;if(T<16)Q[x++]=T;else{var se=0,ge=0;for(T==16?(ge=3+Li(t,d,3),d+=2,se=Q[x-1]):T==17?(ge=3+Li(t,d,7),d+=3):T==18&&(ge=11+Li(t,d,127),d+=7);ge--;)Q[x++]=se}}var ee=Q.subarray(0,j),le=Q.subarray(j);_=$1(ee),N=$1(le),g=Fs(ee,_,1),E=Fs(le,N,1)}else Di(1);else{var T=E5(d)+4,V=t[T-4]|t[T-3]<<8,D=T+V;if(D>A){a&&Di(0);break}o&&l(p+V),r.set(t.subarray(T,D),p),e.b=p+=V,e.p=d=D*8,e.f=h;continue}if(d>v){a&&Di(0);break}}o&&l(p+131072);for(var he=(1<<_)-1,Ue=(1<<N)-1,k=d;;k=d){var se=g[J1(t,d)&he],W=se>>4;if(d+=se&15,d>v){a&&Di(0);break}if(se||Di(2),W<256)r[p++]=W;else if(W==256){k=d,g=null;break}else{var Y=W-254;if(W>264){var x=W-257,z=Bw[x];Y=Li(t,d,(1<<z)-1)+iN[x],d+=z}var re=E[J1(t,d)&Ue],fe=re>>4;re||Di(3),d+=re&15;var le=uq[fe];if(fe>3){var z=Cw[fe];le+=J1(t,d)&(1<<z)-1,d+=z}if(d>v){a&&Di(0);break}o&&l(p+131072);var me=p+Y;if(p<le){var Ce=i-le,Re=Math.min(le,me);for(Ce+p<0&&Di(3);p<Re;++p)r[p]=n[Ce+p]}for(;p<me;++p)r[p]=r[p-le]}}e.l=g,e.p=k,e.b=p,e.f=h,g&&(h=1,e.m=_,e.d=E,e.n=N)}while(!h);return p!=r.length&&s?oN(r,0,p):r.subarray(0,p)},Zs=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},fd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},X1=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var A=r.length,i=r.slice();if(!A)return{t:lN,l:0};if(A==1){var s=new Xn(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(D,j){return D.f-j.f}),r.push({s:-1,f:25001});var o=r[0],a=r[1],l=0,h=1,d=2;for(r[0]={s:-1,f:o.f+a.f,l:o,r:a};h!=A-1;)o=r[r[l].f<r[d].f?l++:d++],a=r[l!=h&&r[l].f<r[d].f?l++:d++],r[h++]={s:-1,f:o.f+a.f,l:o,r:a};for(var p=i[0].s,n=1;n<A;++n)i[n].s>p&&(p=i[n].s);var g=new GA(p+1),E=n2(r[h-1],g,0);if(E>e){var n=0,_=0,N=E-e,v=1<<N;for(i.sort(function(j,S){return g[S.s]-g[j.s]||j.f-S.f});n<A;++n){var y=i[n].s;if(g[y]>e)_+=v-(1<<E-g[y]),g[y]=e;else break}for(_>>=N;_>0;){var T=i[n].s;g[T]<e?_-=1<<e-g[T]++-1:++n}for(;n>=0&&_;--n){var V=i[n].s;g[V]==e&&(--g[V],++_)}E=e}return{t:new Xn(g),l:E}},n2=function(t,e,r){return t.s==-1?Math.max(n2(t.l,e,r+1),n2(t.r,e,r+1)):e[t.s]=r},sI=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new GA(++e),n=0,A=t[0],i=1,s=function(a){r[n++]=a},o=1;o<=e;++o)if(t[o]==A&&o!=e)++i;else{if(!A&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(A),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(A);i=1,A=t[o]}return{c:r.subarray(0,n),n:e}},pd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},aN=function(t,e,r){var n=r.length,A=E5(e+2);t[A]=n&255,t[A+1]=n>>8,t[A+2]=t[A]^255,t[A+3]=t[A+1]^255;for(var i=0;i<n;++i)t[A+i+4]=r[i];return(A+4+n)*8},oI=function(t,e,r,n,A,i,s,o,a,l,h){Zs(e,h++,r),++A[256];for(var d=X1(A,15),p=d.t,g=d.l,E=X1(i,15),_=E.t,N=E.l,v=sI(p),y=v.c,T=v.n,V=sI(_),D=V.c,j=V.n,S=new GA(19),b=0;b<y.length;++b)++S[y[b]&31];for(var b=0;b<D.length;++b)++S[D[b]&31];for(var Q=X1(S,7),O=Q.t,x=Q.l,U=19;U>4&&!O[e2[U-1]];--U);var L=l+5<<3,$=pd(A,tl)+pd(i,Kf)+s,pe=pd(A,p)+pd(i,_)+s+14+3*U+pd(S,O)+2*S[16]+3*S[17]+7*S[18];if(a>=0&&L<=$&&L<=pe)return aN(e,h,t.subarray(a,a+l));var se,ge,ee,le;if(Zs(e,h,1+(pe<$)),h+=2,pe<$){se=Fs(p,g,0),ge=p,ee=Fs(_,N,0),le=_;var he=Fs(O,x,0);Zs(e,h,T-257),Zs(e,h+5,j-1),Zs(e,h+10,U-4),h+=14;for(var b=0;b<U;++b)Zs(e,h+3*b,O[e2[b]]);h+=3*U;for(var Ue=[y,D],k=0;k<2;++k)for(var W=Ue[k],b=0;b<W.length;++b){var Y=W[b]&31;Zs(e,h,he[Y]),h+=O[Y],Y>15&&(Zs(e,h,W[b]>>5&127),h+=W[b]>>12)}}else se=cq,ge=tl,ee=dq,le=Kf;for(var b=0;b<o;++b){var z=n[b];if(z>255){var Y=z>>18&31;fd(e,h,se[Y+257]),h+=ge[Y+257],Y>7&&(Zs(e,h,z>>23&31),h+=Bw[Y]);var re=z&31;fd(e,h,ee[re]),h+=le[re],re>3&&(fd(e,h,z>>5&8191),h+=Cw[re])}else fd(e,h,se[z]),h+=ge[z]}return fd(e,h,se[256]),h+ge[256]},mq=new _5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lN=new Xn(0),wq=function(t,e,r,n,A,i){var s=i.z||t.length,o=new Xn(n+s+5*(1+Math.ceil(s/7e3))+A),a=o.subarray(n,o.length-A),l=i.l,h=(i.r||0)&7;if(e){h&&(a[0]=i.r>>3);for(var d=mq[e-1],p=d>>13,g=d&8191,E=(1<<r)-1,_=i.p||new GA(32768),N=i.h||new GA(E+1),v=Math.ceil(r/3),y=2*v,T=function(Ye){return(t[Ye]^t[Ye+1]<<v^t[Ye+2]<<y)&E},V=new _5(25e3),D=new GA(288),j=new GA(32),S=0,b=0,Q=i.i||0,O=0,x=i.w||0,U=0;Q+2<s;++Q){var L=T(Q),$=Q&32767,pe=N[L];if(_[$]=pe,N[L]=$,x<=Q){var se=s-Q;if((S>7e3||O>24576)&&(se>423||!l)){h=oI(t,a,0,V,D,j,b,O,U,Q-U,h),O=S=b=0,U=Q;for(var ge=0;ge<286;++ge)D[ge]=0;for(var ge=0;ge<30;++ge)j[ge]=0}var ee=2,le=0,he=g,Ue=$-pe&32767;if(se>2&&L==T(Q-Ue))for(var k=Math.min(p,se)-1,W=Math.min(32767,Q),Y=Math.min(258,se);Ue<=W&&--he&&$!=pe;){if(t[Q+ee]==t[Q+ee-Ue]){for(var z=0;z<Y&&t[Q+z]==t[Q+z-Ue];++z);if(z>ee){if(ee=z,le=Ue,z>k)break;for(var re=Math.min(Ue,z-2),fe=0,ge=0;ge<re;++ge){var me=Q-Ue+ge&32767,Ce=_[me],Re=me-Ce&32767;Re>fe&&(fe=Re,pe=me)}}}$=pe,pe=_[$],Ue+=$-pe&32767}if(le){V[O++]=268435456|t2[ee]<<18|iI[le];var Ae=t2[ee]&31,xe=iI[le]&31;b+=Bw[Ae]+Cw[xe],++D[257+Ae],++j[xe],x=Q+ee,++S}else V[O++]=t[Q],++D[t[Q]]}}for(Q=Math.max(Q,x);Q<s;++Q)V[O++]=t[Q],++D[t[Q]];h=oI(t,a,l,V,D,j,b,O,U,Q-U,h),l||(i.r=h&7|a[h/8|0]<<3,h-=7,i.h=N,i.p=_,i.i=Q,i.w=x)}else{for(var Q=i.w||0;Q<s+l;Q+=65535){var Ne=Q+65535;Ne>=s&&(a[h/8|0]=l,Ne=s),h=aN(a,h+1,t.subarray(Q,Ne))}i.i=s}return oN(o,0,n+E5(h)+A)},uN=function(){var t=1,e=0;return{p:function(r){for(var n=t,A=e,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)A+=n+=r[s];n=(n&65535)+15*(n>>16),A=(A&65535)+15*(A>>16)}t=n,e=A},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},vq=function(t,e,r,n,A){if(!A&&(A={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Xn(i.length+t.length);s.set(i),s.set(t,i.length),t=s,A.w=i.length}return wq(t,e.level==null?6:e.level,e.mem==null?A.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,A)},cN=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},yq=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var A=uN();A.p(e.dictionary),cN(t,2,A.d())}},Bq=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Di(6,"invalid zlib data"),(t[1]>>5&1)==1&&Di(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function A2(t,e){e||(e={});var r=uN();r.p(t);var n=vq(t,e,e.dictionary?6:2,4);return yq(n,e),cN(n,n.length-4,r.d()),n}function Cq(t,e){return gq(t.subarray(Bq(t),-4),{i:2},e,e)}var _q=typeof TextDecoder<"u"&&new TextDecoder,Eq=0;try{_q.decode(lN,{stream:!0}),Eq=1}catch{}var ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Y1(){ft.console&&typeof ft.console.log=="function"&&ft.console.log.apply(ft.console,arguments)}var sr={log:Y1,warn:function(t){ft.console&&(typeof ft.console.warn=="function"?ft.console.warn.apply(ft.console,arguments):Y1.call(null,arguments))},error:function(t){ft.console&&(typeof ft.console.error=="function"?ft.console.error.apply(ft.console,arguments):Y1(t))}};function Z1(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ol(n.response,e,r)},n.onerror=function(){sr.error("could not download file")},n.send()}function aI(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Dg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ef,i2,Ol=ft.saveAs||((typeof window>"u"?"undefined":Yt(window))!=="object"||window!==ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ft.URL||ft.webkitURL,A=document.createElement("a");e=e||t.name||"download",A.download=e,A.rel="noopener",typeof t=="string"?(A.href=t,A.origin!==location.origin?aI(A.href)?Z1(t,e,r):Dg(A,A.target="_blank"):Dg(A)):(A.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(A.href)},4e4),setTimeout(function(){Dg(A)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(aI(t))Z1(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Dg(n)})}else navigator.msSaveOrOpenBlob(function(A,i){return i===void 0?i={autoBom:!1}:Yt(i)!=="object"&&(sr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob(["\uFEFF",A],{type:A.type}):A}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Z1(t,e,r);var A=t.type==="application/octet-stream",i=/constructor/i.test(ft.HTMLElement)||ft.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||A&&i)&&(typeof FileReader>"u"?"undefined":Yt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var a=ft.URL||ft.webkitURL,l=a.createObjectURL(t);n?n.location=l:location.href=l,n=null,setTimeout(function(){a.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var A=r[n].re,i=r[n].process,s=A.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),a=this.g.toString(16),l=this.b.toString(16);return o.length==1&&(o="0"+o),a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),"#"+o+a+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ev(t,e){var r=t[0],n=t[1],A=t[2],i=t[3];r=Kn(r,n,A,i,e[0],7,-680876936),i=Kn(i,r,n,A,e[1],12,-389564586),A=Kn(A,i,r,n,e[2],17,606105819),n=Kn(n,A,i,r,e[3],22,-1044525330),r=Kn(r,n,A,i,e[4],7,-176418897),i=Kn(i,r,n,A,e[5],12,1200080426),A=Kn(A,i,r,n,e[6],17,-1473231341),n=Kn(n,A,i,r,e[7],22,-45705983),r=Kn(r,n,A,i,e[8],7,1770035416),i=Kn(i,r,n,A,e[9],12,-1958414417),A=Kn(A,i,r,n,e[10],17,-42063),n=Kn(n,A,i,r,e[11],22,-1990404162),r=Kn(r,n,A,i,e[12],7,1804603682),i=Kn(i,r,n,A,e[13],12,-40341101),A=Kn(A,i,r,n,e[14],17,-1502002290),r=Gn(r,n=Kn(n,A,i,r,e[15],22,1236535329),A,i,e[1],5,-165796510),i=Gn(i,r,n,A,e[6],9,-1069501632),A=Gn(A,i,r,n,e[11],14,643717713),n=Gn(n,A,i,r,e[0],20,-373897302),r=Gn(r,n,A,i,e[5],5,-701558691),i=Gn(i,r,n,A,e[10],9,38016083),A=Gn(A,i,r,n,e[15],14,-660478335),n=Gn(n,A,i,r,e[4],20,-405537848),r=Gn(r,n,A,i,e[9],5,568446438),i=Gn(i,r,n,A,e[14],9,-1019803690),A=Gn(A,i,r,n,e[3],14,-187363961),n=Gn(n,A,i,r,e[8],20,1163531501),r=Gn(r,n,A,i,e[13],5,-1444681467),i=Gn(i,r,n,A,e[2],9,-51403784),A=Gn(A,i,r,n,e[7],14,1735328473),r=qn(r,n=Gn(n,A,i,r,e[12],20,-1926607734),A,i,e[5],4,-378558),i=qn(i,r,n,A,e[8],11,-2022574463),A=qn(A,i,r,n,e[11],16,1839030562),n=qn(n,A,i,r,e[14],23,-35309556),r=qn(r,n,A,i,e[1],4,-1530992060),i=qn(i,r,n,A,e[4],11,1272893353),A=qn(A,i,r,n,e[7],16,-155497632),n=qn(n,A,i,r,e[10],23,-1094730640),r=qn(r,n,A,i,e[13],4,681279174),i=qn(i,r,n,A,e[0],11,-358537222),A=qn(A,i,r,n,e[3],16,-722521979),n=qn(n,A,i,r,e[6],23,76029189),r=qn(r,n,A,i,e[9],4,-640364487),i=qn(i,r,n,A,e[12],11,-421815835),A=qn(A,i,r,n,e[15],16,530742520),r=zn(r,n=qn(n,A,i,r,e[2],23,-995338651),A,i,e[0],6,-198630844),i=zn(i,r,n,A,e[7],10,1126891415),A=zn(A,i,r,n,e[14],15,-1416354905),n=zn(n,A,i,r,e[5],21,-57434055),r=zn(r,n,A,i,e[12],6,1700485571),i=zn(i,r,n,A,e[3],10,-1894986606),A=zn(A,i,r,n,e[10],15,-1051523),n=zn(n,A,i,r,e[1],21,-2054922799),r=zn(r,n,A,i,e[8],6,1873313359),i=zn(i,r,n,A,e[15],10,-30611744),A=zn(A,i,r,n,e[6],15,-1560198380),n=zn(n,A,i,r,e[13],21,1309151649),r=zn(r,n,A,i,e[4],6,-145523070),i=zn(i,r,n,A,e[11],10,-1120210379),A=zn(A,i,r,n,e[2],15,718787259),n=zn(n,A,i,r,e[9],21,-343485551),t[0]=Na(r,t[0]),t[1]=Na(n,t[1]),t[2]=Na(A,t[2]),t[3]=Na(i,t[3])}function _w(t,e,r,n,A,i){return e=Na(Na(e,t),Na(n,i)),Na(e<<A|e>>>32-A,r)}function Kn(t,e,r,n,A,i,s){return _w(e&r|~e&n,t,e,A,i,s)}function Gn(t,e,r,n,A,i,s){return _w(e&n|r&~n,t,e,A,i,s)}function qn(t,e,r,n,A,i,s){return _w(e^r^n,t,e,A,i,s)}function zn(t,e,r,n,A,i,s){return _w(r^(e|~n),t,e,A,i,s)}function dN(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ev(n,bq(t.substring(e-64,e)));t=t.substring(e-64);var A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)A[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(A[e>>2]|=128<<(e%4<<3),e>55)for(ev(n,A),e=0;e<16;e++)A[e]=0;return A[14]=8*r,ev(n,A),n}function bq(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}ef=ft.atob.bind(ft),i2=ft.btoa.bind(ft);var lI="0123456789abcdef".split("");function Iq(t){for(var e="",r=0;r<4;r++)e+=lI[t>>8*r+4&15]+lI[t>>8*r&15];return e}function xq(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function s2(t){return dN(t).map(xq).join("")}var Fq=function(t){for(var e=0;e<t.length;e++)t[e]=Iq(t[e]);return t.join("")}(dN("hello"))!="5d41402abc4b2a76b9719d911017c592";function Na(t,e){if(Fq){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function o2(t,e){var r,n,A,i;if(t!==r){for(var s=(A=t,i=1+(256/t.length>>0),new Array(i+1).join(A)),o=[],a=0;a<256;a++)o[a]=a;var l=0;for(a=0;a<256;a++){var h=o[a];l=(l+h+s.charCodeAt(a))%256,o[a]=o[l],o[l]=h}r=t,n=o}else o=n;var d=e.length,p=0,g=0,E="";for(a=0;a<d;a++)g=(g+(h=o[p=(p+1)%256]))%256,o[p]=o[g],o[g]=h,s=o[(o[p]+o[g])%256],E+=String.fromCharCode(e.charCodeAt(a)^s);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var uI={print:4,modify:8,copy:16,"annot-forms":32};function yc(t,e,r,n){this.v=1,this.r=2;var A=192;t.forEach(function(o){if(uI.perm!==void 0)throw new Error("Invalid permission: "+o);A+=uI[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^A)),this.encryptionKey=s2(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=o2(this.encryptionKey,this.padding)}function Bc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var A=t.charCodeAt(n);A<33||A===35||A===37||A===40||A===41||A===47||A===60||A===62||A===91||A===93||A===123||A===125||A>126?e+="#"+("0"+A.toString(16)).slice(-2):e+=t[n]}return e}function cI(t){if(Yt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,A){if(A=A||!1,typeof r!="string"||typeof n!="function"||typeof A!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!A],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),A=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(o){ft.console&&sr.error("jsPDF PubSub Error",o.message,o)}s[1]&&A.push(i)}A.length&&A.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Gf(t){if(!(this instanceof Gf))return new Gf(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function fN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ba(t,e,r,n,A){if(!(this instanceof ba))return new ba(t,e,r,n,A);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,fN.call(this,n,A)}function $l(t,e,r,n,A){if(!(this instanceof $l))return new $l(t,e,r,n,A);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,fN.call(this,n,A)}function ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],A=arguments[2],i=arguments[3],s=[],o=1,a=16,l="S",h=null;Yt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,A=t.format||A,i=t.compress||t.compressPdf||i,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(a=t.floatPrecision),l=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=cI;var E="1.3",_=g.__private__.getPdfVersion=function(){return E};g.__private__.setPdfVersion=function(m){E=m};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var v=g.__private__.getPageFormat=function(m){return N[m]};A=A||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},T=y.COMPAT;function V(){this.saveGraphicsState(),Z(new et(We,0,0,-We,0,Mn()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),l="n",T=y.ADVANCED}function D(){this.restoreGraphicsState(),l="S",T=y.COMPAT}var j=g.__private__.combineFontStyleAndFontWeight=function(m,P){if(m=="bold"&&P=="normal"||m=="bold"&&P==400||m=="normal"&&P=="italic"||m=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(m=P==400||P==="normal"?m==="italic"?"italic":"normal":P!=700&&P!=="bold"||m!=="normal"?(P==700?"bold":P)+""+m:"bold"),m};g.advancedAPI=function(m){var P=T===y.COMPAT;return P&&V.call(this),typeof m!="function"||(m(this),P&&D.call(this)),this},g.compatAPI=function(m){var P=T===y.ADVANCED;return P&&D.call(this),typeof m!="function"||(m(this),P&&V.call(this)),this},g.isAdvancedAPI=function(){return T===y.ADVANCED};var S,b=function(m){if(T!==y.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=g.roundToPrecision=g.__private__.roundToPrecision=function(m,P){var X=e||P;if(isNaN(m)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(X).replace(/0+$/,"")};S=g.hpf=g.__private__.hpf=typeof a=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(m,a)}:a==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(m,16)};var O=g.f2=g.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return Q(m,2)},x=g.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return Q(m,3)},U=g.scale=g.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return T===y.COMPAT?m*We:T===y.ADVANCED?m:void 0},L=function(m){return T===y.COMPAT?Mn()-m:T===y.ADVANCED?m:void 0},$=function(m){return U(L(m))};g.__private__.setPrecision=g.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var pe,se="00000000000000000000000000000000",ge=g.__private__.getFileId=function(){return se},ee=g.__private__.setFileId=function(m){return se=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(pr=new yc(h.userPermissions,h.userPassword,h.ownerPassword,se)),se};g.setFileId=function(m){return ee(m),this},g.getFileId=function(){return ge()};var le=g.__private__.convertDateToPDFDate=function(m){var P=m.getTimezoneOffset(),X=P<0?"+":"-",ne=Math.floor(Math.abs(P/60)),ce=Math.abs(P%60),be=[X,Y(ne),"'",Y(ce),"'"].join("");return["D:",m.getFullYear(),Y(m.getMonth()+1),Y(m.getDate()),Y(m.getHours()),Y(m.getMinutes()),Y(m.getSeconds()),be].join("")},he=g.__private__.convertPDFDateToDate=function(m){var P=parseInt(m.substr(2,4),10),X=parseInt(m.substr(6,2),10)-1,ne=parseInt(m.substr(8,2),10),ce=parseInt(m.substr(10,2),10),be=parseInt(m.substr(12,2),10),Le=parseInt(m.substr(14,2),10);return new Date(P,X,ne,ce,be,Le,0)},Ue=g.__private__.setCreationDate=function(m){var P;if(m===void 0&&(m=new Date),m instanceof Date)P=le(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=m}return pe=P},k=g.__private__.getCreationDate=function(m){var P=pe;return m==="jsDate"&&(P=he(pe)),P};g.setCreationDate=function(m){return Ue(m),this},g.getCreationDate=function(m){return k(m)};var W,Y=g.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},z=g.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},re=0,fe=[],me=[],Ce=0,Re=[],Ae=[],xe=!1,Ne=me,Ye=function(){re=0,Ce=0,me=[],fe=[],Re=[],Bi=Ur(),On=Ur()};g.__private__.setCustomOutputDestination=function(m){xe=!0,Ne=m};var _e=function(m){xe||(Ne=m)};g.__private__.resetCustomOutputDestination=function(){xe=!1,Ne=me};var Z=g.__private__.out=function(m){return m=m.toString(),Ce+=m.length+1,Ne.push(m),Ne},Je=g.__private__.write=function(m){return Z(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},At=g.__private__.getArrayBuffer=function(m){for(var P=m.length,X=new ArrayBuffer(P),ne=new Uint8Array(X);P--;)ne[P]=m.charCodeAt(P);return X},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ke};var He=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(m){return He=T===y.ADVANCED?m/We:m,this};var qe,Ke=g.__private__.getFontSize=g.getFontSize=function(){return T===y.COMPAT?He:He*We},st=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(m){return st=m,this},g.__private__.getR2L=g.getR2L=function(){return st};var pt,vt=g.__private__.setZoomMode=function(m){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))qe=m;else if(isNaN(m)){if(P.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');qe=m}else qe=parseInt(m,10)};g.__private__.getZoomMode=function(){return qe};var at,dt=g.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');pt=m};g.__private__.getPageMode=function(){return pt};var kt=g.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');at=m};g.__private__.getLayoutMode=function(){return at},g.__private__.setDisplayMode=g.setDisplayMode=function(m,P,X){return vt(m),kt(P),dt(X),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(m){if(Object.keys(ht).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[m]},g.__private__.getDocumentProperties=function(){return ht},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(m){for(var P in ht)ht.hasOwnProperty(P)&&m[P]&&(ht[P]=m[P]);return this},g.__private__.setDocumentProperty=function(m,P){if(Object.keys(ht).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[m]=P};var bt,We,Tr,Lt,fA,Vt={},or={},YA=[],Pt={},es={},dr={},Bn={},NA=null,ar=0,lt=[],Dt=new cI(g),ZA=t.hotfixes||[],Wr={},kn={},QA=[],et=function m(P,X,ne,ce,be,Le){if(!(this instanceof m))return new m(P,X,ne,ce,be,Le);isNaN(P)&&(P=1),isNaN(X)&&(X=0),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=1),isNaN(be)&&(be=0),isNaN(Le)&&(Le=0),this._matrix=[P,X,ne,ce,be,Le]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(m)},et.prototype.multiply=function(m){var P=m.sx*this.sx+m.shy*this.shx,X=m.sx*this.shy+m.shy*this.sy,ne=m.shx*this.sx+m.sy*this.shx,ce=m.shx*this.shy+m.sy*this.sy,be=m.tx*this.sx+m.ty*this.shx+this.tx,Le=m.tx*this.shy+m.ty*this.sy+this.ty;return new et(P,X,ne,ce,be,Le)},et.prototype.decompose=function(){var m=this.sx,P=this.shy,X=this.shx,ne=this.sy,ce=this.tx,be=this.ty,Le=Math.sqrt(m*m+P*P),je=(m/=Le)*X+(P/=Le)*ne;X-=m*je,ne-=P*je;var c=Math.sqrt(X*X+ne*ne);return je/=c,m*(ne/=c)<P*(X/=c)&&(m=-m,P=-P,je=-je,Le=-Le),{scale:new et(Le,0,0,c,0,0),translate:new et(1,0,0,1,ce,be),rotate:new et(m,P,-P,m,0,0),skew:new et(1,0,je,1,0,0)}},et.prototype.toString=function(m){return this.join(" ")},et.prototype.inversed=function(){var m=this.sx,P=this.shy,X=this.shx,ne=this.sy,ce=this.tx,be=this.ty,Le=1/(m*ne-P*X),je=ne*Le,c=-P*Le,C=-X*Le,F=m*Le;return new et(je,c,C,F,-je*ce-C*be,-c*ce-F*be)},et.prototype.applyToPoint=function(m){var P=m.x*this.sx+m.y*this.shx+this.tx,X=m.x*this.shy+m.y*this.sy+this.ty;return new Vs(P,X)},et.prototype.applyToRectangle=function(m){var P=this.applyToPoint(m),X=this.applyToPoint(new Vs(m.x+m.w,m.y+m.h));return new jo(P.x,P.y,X.x-P.x,X.y-P.y)},et.prototype.clone=function(){var m=this.sx,P=this.shy,X=this.shx,ne=this.sy,ce=this.tx,be=this.ty;return new et(m,P,X,ne,ce,be)},g.Matrix=et;var pA=g.matrixMult=function(m,P){return P.multiply(m)},Dn=new et(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Dn;var $r=function(m,P){if(!es[m]){var X=(P instanceof ba?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);P.id=X,es[m]=X,Pt[X]=P,Dt.publish("addPattern",P)}};g.ShadingPattern=ba,g.TilingPattern=$l,g.addShadingPattern=function(m,P){return b("addShadingPattern()"),$r(m,P),this},g.beginTilingPattern=function(m){b("beginTilingPattern()"),Ko(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},g.endTilingPattern=function(m,P){b("endTilingPattern()"),P.stream=Ae[W].join(`
`),$r(m,P),Dt.publish("endTilingPattern",P),QA.pop().restore()};var kr=g.__private__.newObject=function(){var m=Ur();return Jr(m,!0),m},Ur=g.__private__.newObjectDeferred=function(){return re++,fe[re]=function(){return Ce},re},Jr=function(m,P){return P=typeof P=="boolean"&&P,fe[m]=Ce,P&&Z(m+" 0 obj"),m},So=g.__private__.newAdditionalObject=function(){var m={objId:Ur(),content:""};return Re.push(m),m},Bi=Ur(),On=Ur(),gA=g.__private__.decodeColorString=function(m){var P=m.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var X=parseFloat(P[0]);P=[X,X,X,"r"]}for(var ne="#",ce=0;ce<3;ce++)ne+=("0"+Math.floor(255*parseFloat(P[ce])).toString(16)).slice(-2);return ne},Zn=g.__private__.encodeColorString=function(m){var P;typeof m=="string"&&(m={ch1:m});var X=m.ch1,ne=m.ch2,ce=m.ch3,be=m.ch4,Le=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var je=new hN(X);if(je.ok)X=je.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var c=parseInt(X.substr(1),16);X=c>>16&255,ne=c>>8&255,ce=255&c}if(ne===void 0||be===void 0&&X===ne&&ne===ce)if(typeof X=="string")P=X+" "+Le[0];else switch(m.precision){case 2:P=O(X/255)+" "+Le[0];break;case 3:default:P=x(X/255)+" "+Le[0]}else if(be===void 0||Yt(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return P=["1.","1.","1.",Le[1]].join(" ");if(typeof X=="string")P=[X,ne,ce,Le[1]].join(" ");else switch(m.precision){case 2:P=[O(X/255),O(ne/255),O(ce/255),Le[1]].join(" ");break;default:case 3:P=[x(X/255),x(ne/255),x(ce/255),Le[1]].join(" ")}}else if(typeof X=="string")P=[X,ne,ce,be,Le[2]].join(" ");else switch(m.precision){case 2:P=[O(X),O(ne),O(ce),O(be),Le[2]].join(" ");break;case 3:default:P=[x(X),x(ne),x(ce),x(be),Le[2]].join(" ")}return P},eA=g.__private__.getFilters=function(){return s},Dr=g.__private__.putStream=function(m){var P=(m=m||{}).data||"",X=m.filters||eA(),ne=m.alreadyAppliedFilters||[],ce=m.addLength1||!1,be=P.length,Le=m.objectId,je=function(yt){return yt};if(h!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(je=pr.encryptor(Le,0));var c={};X===!0&&(X=["FlateEncode"]);var C=m.additionalKeyValues||[],F=(c=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(P,X):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ne)?ne.join(" "):ne.toString());if(c.data.length!==0&&(C.push({key:"Length",value:c.data.length}),ce===!0&&C.push({key:"Length1",value:be})),F.length!=0)if(F.split("/").length-1==1)C.push({key:"Filter",value:F});else{C.push({key:"Filter",value:"["+F+"]"});for(var K=0;K<C.length;K+=1)if(C[K].key==="DecodeParms"){for(var ue=[],ye=0;ye<c.reverseChain.split("/").length-1;ye+=1)ue.push("null");ue.push(C[K].value),C[K].value="["+ue.join(" ")+"]"}}Z("<<");for(var Pe=0;Pe<C.length;Pe++)Z("/"+C[Pe].key+" "+C[Pe].value);Z(">>"),c.data.length!==0&&(Z("stream"),Z(je(c.data)),Z("endstream"))},LA=g.__private__.putPage=function(m){var P=m.number,X=m.data,ne=m.objId,ce=m.contentsObjId;Jr(ne,!0),Z("<</Type /Page"),Z("/Parent "+m.rootDictionaryObjId+" 0 R"),Z("/Resources "+m.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(S(m.mediaBox.bottomLeftX))+" "+parseFloat(S(m.mediaBox.bottomLeftY))+" "+S(m.mediaBox.topRightX)+" "+S(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&Z("/CropBox ["+S(m.cropBox.bottomLeftX)+" "+S(m.cropBox.bottomLeftY)+" "+S(m.cropBox.topRightX)+" "+S(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&Z("/BleedBox ["+S(m.bleedBox.bottomLeftX)+" "+S(m.bleedBox.bottomLeftY)+" "+S(m.bleedBox.topRightX)+" "+S(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&Z("/TrimBox ["+S(m.trimBox.bottomLeftX)+" "+S(m.trimBox.bottomLeftY)+" "+S(m.trimBox.topRightX)+" "+S(m.trimBox.topRightY)+"]"),m.artBox!==null&&Z("/ArtBox ["+S(m.artBox.bottomLeftX)+" "+S(m.artBox.bottomLeftY)+" "+S(m.artBox.topRightX)+" "+S(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&Z("/UserUnit "+m.userUnit),Dt.publish("putPage",{objId:ne,pageContext:lt[P],pageNumber:P,page:X}),Z("/Contents "+ce+" 0 R"),Z(">>"),Z("endobj");var be=X.join(`
`);return T===y.ADVANCED&&(be+=`
Q`),Jr(ce,!0),Dr({data:be,filters:eA(),objectId:ce}),Z("endobj"),ne},ts=g.__private__.putPages=function(){var m,P,X=[];for(m=1;m<=ar;m++)lt[m].objId=Ur(),lt[m].contentsObjId=Ur();for(m=1;m<=ar;m++)X.push(LA({number:m,data:Ae[m],objId:lt[m].objId,contentsObjId:lt[m].contentsObjId,mediaBox:lt[m].mediaBox,cropBox:lt[m].cropBox,bleedBox:lt[m].bleedBox,trimBox:lt[m].trimBox,artBox:lt[m].artBox,userUnit:lt[m].userUnit,rootDictionaryObjId:Bi,resourceDictionaryObjId:On}));Jr(Bi,!0),Z("<</Type /Pages");var ne="/Kids [";for(P=0;P<ar;P++)ne+=X[P]+" 0 R ";Z(ne+"]"),Z("/Count "+ar),Z(">>"),Z("endobj"),Dt.publish("postPutPages")},rs=function(m){Dt.publish("putFont",{font:m,out:Z,newObject:kr,putStream:Dr}),m.isAlreadyPutted!==!0&&(m.objectNumber=kr(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Bc(m.postScriptName)),Z("/Subtype /Type1"),typeof m.encoding=="string"&&Z("/Encoding /"+m.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},ns=function(){for(var m in Vt)Vt.hasOwnProperty(m)&&(d===!1||d===!0&&p.hasOwnProperty(m))&&rs(Vt[m])},Qs=function(m){m.objectNumber=kr();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[S(m.x),S(m.y),S(m.x+m.width),S(m.y+m.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var X=m.pages[1].join(`
`);Dr({data:X,additionalKeyValues:P,objectId:m.objectNumber}),Z("endobj")},Ls=function(){for(var m in Wr)Wr.hasOwnProperty(m)&&Qs(Wr[m])},Su=function(m,P){var X,ne=[],ce=1/(P-1);for(X=0;X<1;X+=ce)ne.push(X);if(ne.push(1),m[0].offset!=0){var be={offset:0,color:m[0].color};m.unshift(be)}if(m[m.length-1].offset!=1){var Le={offset:1,color:m[m.length-1].color};m.push(Le)}for(var je="",c=0,C=0;C<ne.length;C++){for(X=ne[C];X>m[c+1].offset;)c++;var F=m[c].offset,K=(X-F)/(m[c+1].offset-F),ue=m[c].color,ye=m[c+1].color;je+=z(Math.round((1-K)*ue[0]+K*ye[0]).toString(16))+z(Math.round((1-K)*ue[1]+K*ye[1]).toString(16))+z(Math.round((1-K)*ue[2]+K*ye[2]).toString(16))}return je.trim()},To=function(m,P){P||(P=21);var X=kr(),ne=Su(m.colors,P),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+P+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Dr({data:ne,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),Z("endobj"),m.objectNumber=kr(),Z("<< /ShadingType "+m.type),Z("/ColorSpace /DeviceRGB");var be="/Coords ["+S(parseFloat(m.coords[0]))+" "+S(parseFloat(m.coords[1]))+" ";m.type===2?be+=S(parseFloat(m.coords[2]))+" "+S(parseFloat(m.coords[3])):be+=S(parseFloat(m.coords[2]))+" "+S(parseFloat(m.coords[3]))+" "+S(parseFloat(m.coords[4]))+" "+S(parseFloat(m.coords[5])),Z(be+="]"),m.matrix&&Z("/Matrix ["+m.matrix.toString()+"]"),Z("/Function "+X+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Tu=function(m,P){var X=Ur(),ne=kr();P.push({resourcesOid:X,objectOid:ne}),m.objectNumber=ne;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+m.boundingBox.map(S).join(" ")+"]"}),ce.push({key:"XStep",value:S(m.xStep)}),ce.push({key:"YStep",value:S(m.yStep)}),ce.push({key:"Resources",value:X+" 0 R"}),m.matrix&&ce.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Dr({data:m.stream,additionalKeyValues:ce,objectId:m.objectNumber}),Z("endobj")},As=function(m){var P;for(P in Pt)Pt.hasOwnProperty(P)&&(Pt[P]instanceof ba?To(Pt[P]):Pt[P]instanceof $l&&Tu(Pt[P],m))},is=function(m){for(var P in m.objectNumber=kr(),Z("<<"),m)switch(P){case"opacity":Z("/ca "+O(m[P]));break;case"stroke-opacity":Z("/CA "+O(m[P]))}Z(">>"),Z("endobj")},Ci=function(){var m;for(m in dr)dr.hasOwnProperty(m)&&is(dr[m])},Ps=function(){for(var m in Z("/XObject <<"),Wr)Wr.hasOwnProperty(m)&&Wr[m].objectNumber>=0&&Z("/"+m+" "+Wr[m].objectNumber+" 0 R");Dt.publish("putXobjectDict"),Z(">>")},Th=function(){pr.oid=kr(),Z("<<"),Z("/Filter /Standard"),Z("/V "+pr.v),Z("/R "+pr.r),Z("/U <"+pr.toHexString(pr.U)+">"),Z("/O <"+pr.toHexString(pr.O)+">"),Z("/P "+pr.P),Z(">>"),Z("endobj")},hl=function(){for(var m in Z("/Font <<"),Vt)Vt.hasOwnProperty(m)&&(d===!1||d===!0&&p.hasOwnProperty(m))&&Z("/"+m+" "+Vt[m].objectNumber+" 0 R");Z(">>")},Uu=function(){if(Object.keys(Pt).length>0){for(var m in Z("/Shading <<"),Pt)Pt.hasOwnProperty(m)&&Pt[m]instanceof ba&&Pt[m].objectNumber>=0&&Z("/"+m+" "+Pt[m].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),Z(">>")}},Rs=function(m){if(Object.keys(Pt).length>0){for(var P in Z("/Pattern <<"),Pt)Pt.hasOwnProperty(P)&&Pt[P]instanceof g.TilingPattern&&Pt[P].objectNumber>=0&&Pt[P].objectNumber<m&&Z("/"+P+" "+Pt[P].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),Z(">>")}},dl=function(){if(Object.keys(dr).length>0){var m;for(m in Z("/ExtGState <<"),dr)dr.hasOwnProperty(m)&&dr[m].objectNumber>=0&&Z("/"+m+" "+dr[m].objectNumber+" 0 R");Dt.publish("putGStateDict"),Z(">>")}},fr=function(m){Jr(m.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),hl(),Uu(),Rs(m.objectOid),dl(),Ps(),Z(">>"),Z("endobj")},fl=function(){var m=[];ns(),Ci(),Ls(),As(m),Dt.publish("putResources"),m.forEach(fr),fr({resourcesOid:On,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources")},pl=function(){Dt.publish("putAdditionalObjects");for(var m=0;m<Re.length;m++){var P=Re[m];Jr(P.objId,!0),Z(P.content),Z("endobj")}Dt.publish("postPutAdditionalObjects")},Nu=function(m){or[m.fontName]=or[m.fontName]||{},or[m.fontName][m.fontStyle]=m.id},gl=function(m,P,X,ne,ce){var be={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:m,fontName:P,fontStyle:X,encoding:ne,isStandardFont:ce||!1,metadata:{}};return Dt.publish("addFont",{font:be,instance:this}),Vt[be.id]=be,Nu(be),be.id},Qu=function(m){for(var P=0,X=ke.length;P<X;P++){var ne=gl.call(this,m[P][0],m[P][1],m[P][2],ke[P][3],!0);d===!1&&(p[ne]=!0);var ce=m[P][0].split("-");Nu({id:ne,fontName:ce[0],fontStyle:ce[1]||""})}Dt.publish("addFonts",{fonts:Vt,dictionary:or})},mA=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(ne){var P=ne.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var X="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ne.message;if(!ft.console)throw new Error(X);ft.console.error(X,ne),ft.alert&&alert(X)}},m.foo.bar=m,m.foo},Uo=function(m,P){var X,ne,ce,be,Le,je,c,C,F;if(ce=(P=P||{}).sourceEncoding||"Unicode",Le=P.outputEncoding,(P.autoencode||Le)&&Vt[bt].metadata&&Vt[bt].metadata[ce]&&Vt[bt].metadata[ce].encoding&&(be=Vt[bt].metadata[ce].encoding,!Le&&Vt[bt].encoding&&(Le=Vt[bt].encoding),!Le&&be.codePages&&(Le=be.codePages[0]),typeof Le=="string"&&(Le=be[Le]),Le)){for(c=!1,je=[],X=0,ne=m.length;X<ne;X++)(C=Le[m.charCodeAt(X)])?je.push(String.fromCharCode(C)):je.push(m[X]),je[X].charCodeAt(0)>>8&&(c=!0);m=je.join("")}for(X=m.length;c===void 0&&X!==0;)m.charCodeAt(X-1)>>8&&(c=!0),X--;if(!c)return m;for(je=P.noBOM?[]:[254,255],X=0,ne=m.length;X<ne;X++){if((F=(C=m.charCodeAt(X))>>8)>>8)throw new Error("Character at position "+X+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");je.push(F),je.push(C-(F<<8))}return String.fromCharCode.apply(void 0,je)},Nr=g.__private__.pdfEscape=g.pdfEscape=function(m,P){return Uo(m,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tA=g.__private__.beginPage=function(m){Ae[++ar]=[],lt[ar]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},ml(ar),_e(Ae[W])},ks=function(m,P){var X,ne,ce;switch(r=P||r,typeof m=="string"&&(X=v(m.toLowerCase()),Array.isArray(X)&&(ne=X[0],ce=X[1])),Array.isArray(m)&&(ne=m[0]*We,ce=m[1]*We),isNaN(ne)&&(ne=A[0],ce=A[1]),(ne>14400||ce>14400)&&(sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ne=Math.min(14400,ne),ce=Math.min(14400,ce)),A=[ne,ce],r.substr(0,1)){case"l":ce>ne&&(A=[ce,ne]);break;case"p":ne>ce&&(A=[ce,ne])}tA(A),Cl(Bl),Z(Cn),bl!==0&&Z(bl+" J"),Vo!==0&&Z(Vo+" j"),Dt.publish("addPage",{pageNumber:ar})},No=function(m){m>0&&m<=ar&&(Ae.splice(m,1),lt.splice(m,1),ar--,W>ar&&(W=ar),this.setPage(W))},ml=function(m){m>0&&m<=ar&&(W=m)},zt=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ae.length-1},Ds=function(m,P,X){var ne,ce=void 0;return X=X||{},m=m!==void 0?m:Vt[bt].fontName,P=P!==void 0?P:Vt[bt].fontStyle,ne=m.toLowerCase(),or[ne]!==void 0&&or[ne][P]!==void 0?ce=or[ne][P]:or[m]!==void 0&&or[m][P]!==void 0?ce=or[m][P]:X.disableWarning===!1&&sr.warn("Unable to look up font label for font '"+m+"', '"+P+"'. Refer to getFontList() for available fonts."),ce||X.noFallback||(ce=or.times[P])==null&&(ce=or.times.normal),ce},Os=g.__private__.putInfo=function(){var m=kr(),P=function(ne){return ne};for(var X in h!==null&&(P=pr.encryptor(m,0)),Z("<<"),Z("/Producer ("+Nr(P("jsPDF "+ct.version))+")"),ht)ht.hasOwnProperty(X)&&ht[X]&&Z("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+Nr(P(ht[X]))+")");Z("/CreationDate ("+Nr(P(pe))+")"),Z(">>"),Z("endobj")},_i=g.__private__.putCatalog=function(m){var P=(m=m||{}).rootDictionaryObjId||Bi;switch(kr(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+P+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+qe;X.substr(X.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+O(qe)+"]")}switch(at||(at="continuous"),at){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}pt&&Z("/PageMode /"+pt),Dt.publish("putCatalog"),Z(">>"),Z("endobj")},Uh=g.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(re+1)),Z("/Root "+re+" 0 R"),Z("/Info "+(re-1)+" 0 R"),h!==null&&Z("/Encrypt "+pr.oid+" 0 R"),Z("/ID [ <"+se+"> <"+se+"> ]"),Z(">>")},Lu=g.__private__.putHeader=function(){Z("%PDF-"+E),Z("%ºß¬à")},Nh=g.__private__.putXRef=function(){var m="0000000000";Z("xref"),Z("0 "+(re+1)),Z("0000000000 65535 f ");for(var P=1;P<=re;P++)typeof fe[P]=="function"?Z((m+fe[P]()).slice(-10)+" 00000 n "):fe[P]!==void 0?Z((m+fe[P]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Ei=g.__private__.buildDocument=function(){Ye(),_e(me),Dt.publish("buildDocument"),Lu(),ts(),pl(),fl(),h!==null&&Th(),Os(),_i();var m=Ce;return Nh(),Uh(),Z("startxref"),Z(""+m),Z("%%EOF"),_e(Ae[W]),me.join(`
`)},Qo=g.__private__.getBlob=function(m){return new Blob([At(m)],{type:"application/pdf"})},Lo=g.output=g.__private__.output=mA(function(m,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",m){case void 0:return Ei();case"save":g.save(P.filename);break;case"arraybuffer":return At(Ei());case"blob":return Qo(Ei());case"bloburi":case"bloburl":if(ft.URL!==void 0&&typeof ft.URL.createObjectURL=="function")return ft.URL&&ft.URL.createObjectURL(Qo(Ei()))||void 0;sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",ne=Ei();try{X=i2(ne)}catch{X=i2(unescape(encodeURIComponent(ne)))}return"data:application/pdf;filename="+P.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ft)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ce=P.pdfObjectUrl,be="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",je=ft.open();return je!==null&&je.document.write(Le),je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ft)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',C=ft.open();if(C!==null){C.document.write(c);var F=this;C.document.documentElement.querySelector("#pdfViewer").onload=function(){C.document.title=P.filename,C.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(F.output("bloburl"))}}return C}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var K='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',ue=ft.open();if(ue!==null&&(ue.document.write(K),ue.document.title=P.filename),ue||typeof safari>"u")return ue;break;case"datauri":case"dataurl":return ft.document.location.href=this.output("datauristring",P);default:return null}}),ss=function(m){return Array.isArray(ZA)===!0&&ZA.indexOf(m)>-1};switch(n){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=ss("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);We=n}var pr=null;Ue(),ee();var Pu=function(m){return h!==null?pr.encryptor(m,0):function(P){return P}},wl=g.__private__.getPageInfo=g.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[m].objId,pageNumber:m,pageContext:lt[m]}},gt=g.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in lt)if(lt[P].objId===m)break;return wl(P)},os=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:lt[W].objId,pageNumber:W,pageContext:lt[W]}};g.addPage=function(){return ks.apply(this,arguments),this},g.setPage=function(){return ml.apply(this,arguments),_e.call(this,Ae[W]),this},g.insertPage=function(m){return this.addPage(),this.movePage(W,m),this},g.movePage=function(m,P){var X,ne;if(m>P){X=Ae[m],ne=lt[m];for(var ce=m;ce>P;ce--)Ae[ce]=Ae[ce-1],lt[ce]=lt[ce-1];Ae[P]=X,lt[P]=ne,this.setPage(P)}else if(m<P){X=Ae[m],ne=lt[m];for(var be=m;be<P;be++)Ae[be]=Ae[be+1],lt[be]=lt[be+1];Ae[P]=X,lt[P]=ne,this.setPage(P)}return this},g.deletePage=function(){return No.apply(this,arguments),this},g.__private__.text=g.text=function(m,P,X,ne,ce){var be,Le,je,c,C,F,K,ue,ye,Pe=(ne=ne||{}).scope||this;if(typeof m=="number"&&typeof P=="number"&&(typeof X=="string"||Array.isArray(X))){var yt=X;X=P,P=m,m=yt}if(arguments[3]instanceof et?(b("The transform parameter of text() with a Matrix value"),ye=ce):(je=arguments[4],c=arguments[5],Yt(K=arguments[3])==="object"&&K!==null||(typeof je=="string"&&(c=je,je=null),typeof K=="string"&&(c=K,K=null),typeof K=="number"&&(je=K,K=null),ne={flags:K,angle:je,align:c})),isNaN(P)||isNaN(X)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return Pe;var St="",Bt=!1,Gt=typeof ne.lineHeightFactor=="number"?ne.lineHeightFactor:Kt,Ar=Pe.internal.scaleFactor;function Si(lr){return lr=lr.split("	").join(Array(ne.TabLen||9).join(" ")),Nr(lr,K)}function _n(lr){for(var ur,Mr=lr.concat(),An=[],zs=Mr.length;zs--;)typeof(ur=Mr.shift())=="string"?An.push(ur):Array.isArray(lr)&&(ur.length===1||ur[1]===void 0&&ur[2]===void 0)?An.push(ur[0]):An.push([ur[0],ur[1],ur[2]]);return An}function cs(lr,ur){var Mr;if(typeof lr=="string")Mr=ur(lr)[0];else if(Array.isArray(lr)){for(var An,zs,Hh=lr.concat(),Wu=[],Ep=Hh.length;Ep--;)typeof(An=Hh.shift())=="string"?Wu.push(ur(An)[0]):Array.isArray(An)&&typeof An[0]=="string"&&(zs=ur(An[0],An[1],An[2]),Wu.push([zs[0],zs[1],zs[2]]));Mr=Wu}return Mr}var hs=!1,Lh=!0;if(typeof m=="string")hs=!0;else if(Array.isArray(m)){var Ph=m.concat();Le=[];for(var Mu,En=Ph.length;En--;)(typeof(Mu=Ph.shift())!="string"||Array.isArray(Mu)&&typeof Mu[0]!="string")&&(Lh=!1);hs=Lh}if(hs===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Hu=He/Pe.internal.scaleFactor,Vu=Hu*(Gt-1);switch(ne.baseline){case"bottom":X-=Vu;break;case"top":X+=Hu-Vu;break;case"hanging":X+=Hu-2*Vu;break;case"middle":X+=Hu/2-Vu}if((F=ne.maxWidth||0)>0&&(typeof m=="string"?m=Pe.splitTextToSize(m,F):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(lr,ur){return lr.concat(Pe.splitTextToSize(ur,F))},[]))),be={text:m,x:P,y:X,options:ne,mutex:{pdfEscape:Nr,activeFontKey:bt,fonts:Vt,activeFontSize:He}},Dt.publish("preProcessText",be),m=be.text,je=(ne=be.options).angle,!(ye instanceof et)&&je&&typeof je=="number"){je*=Math.PI/180,ne.rotationDirection===0&&(je=-je),T===y.ADVANCED&&(je=-je);var ju=Math.cos(je),Rh=Math.sin(je);ye=new et(ju,Rh,-Rh,ju,0,0)}else je&&je instanceof et&&(ye=je);T!==y.ADVANCED||ye||(ye=Dn),(C=ne.charSpace||Hs)!==void 0&&(St+=S(U(C))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ue=ne.horizontalScale)!==void 0&&(St+=S(100*ue)+` Tz
`),ne.lang;var wA=-1,Ew=ne.renderingMode!==void 0?ne.renderingMode:ne.stroke,kh=Pe.internal.getCurrentPageInfo().pageContext;switch(Ew){case 0:case!1:case"fill":wA=0;break;case 1:case!0:case"stroke":wA=1;break;case 2:case"fillThenStroke":wA=2;break;case 3:case"invisible":wA=3;break;case 4:case"fillAndAddForClipping":wA=4;break;case 5:case"strokeAndAddPathForClipping":wA=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wA=6;break;case 7:case"addToPathForClipping":wA=7}var yp=kh.usedRenderingMode!==void 0?kh.usedRenderingMode:-1;wA!==-1?St+=wA+` Tr
`:yp!==-1&&(St+=`0 Tr
`),wA!==-1&&(kh.usedRenderingMode=wA),c=ne.align||"left";var ti,Ku=He*Gt,Bp=Pe.internal.pageSize.getWidth(),Cp=Vt[bt];C=ne.charSpace||Hs,F=ne.maxWidth||0,K=Object.assign({autoencode:!0,noBOM:!0},ne.flags);var zo=[],Il=function(lr){return Pe.getStringUnitWidth(lr,{font:Cp,charSpace:C,fontSize:He,doKerning:!1})*He/Ar};if(Object.prototype.toString.call(m)==="[object Array]"){var vA;Le=_n(m),c!=="left"&&(ti=Le.map(Il));var rA,Wo=0;if(c==="right"){P-=ti[0],m=[],En=Le.length;for(var Ks=0;Ks<En;Ks++)Ks===0?(rA=kA(P),vA=nn(X)):(rA=U(Wo-ti[Ks]),vA=-Ku),m.push([Le[Ks],rA,vA]),Wo=ti[Ks]}else if(c==="center"){P-=ti[0]/2,m=[],En=Le.length;for(var Gs=0;Gs<En;Gs++)Gs===0?(rA=kA(P),vA=nn(X)):(rA=U((Wo-ti[Gs])/2),vA=-Ku),m.push([Le[Gs],rA,vA]),Wo=ti[Gs]}else if(c==="left"){m=[],En=Le.length;for(var Gu=0;Gu<En;Gu++)m.push(Le[Gu])}else if(c==="justify"&&Cp.encoding==="Identity-H"){m=[],En=Le.length,F=F!==0?F:Bp;for(var qs=0,Or=0;Or<En;Or++)if(vA=Or===0?nn(X):-Ku,rA=Or===0?kA(P):qs,Or<En-1){var Dh=U((F-ti[Or])/(Le[Or].split(" ").length-1)),nA=Le[Or].split(" ");m.push([nA[0]+" ",rA,vA]),qs=0;for(var ri=1;ri<nA.length;ri++){var qu=(Il(nA[ri-1]+" "+nA[ri])-Il(nA[ri]))*Ar+Dh;ri==nA.length-1?m.push([nA[ri],qu,0]):m.push([nA[ri]+" ",qu,0]),qs-=qu}}else m.push([Le[Or],rA,vA]);m.push(["",qs,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],En=Le.length,F=F!==0?F:Bp,Or=0;Or<En;Or++)vA=Or===0?nn(X):-Ku,rA=Or===0?kA(P):0,Or<En-1?zo.push(S(U((F-ti[Or])/(Le[Or].split(" ").length-1)))):zo.push(0),m.push([Le[Or],rA,vA])}}var _p=typeof ne.R2L=="boolean"?ne.R2L:st;_p===!0&&(m=cs(m,function(lr,ur,Mr){return[lr.split("").reverse().join(""),ur,Mr]})),be={text:m,x:P,y:X,options:ne,mutex:{pdfEscape:Nr,activeFontKey:bt,fonts:Vt,activeFontSize:He}},Dt.publish("postProcessText",be),m=be.text,Bt=be.mutex.isHex||!1;var Oh=Vt[bt].encoding;Oh!=="WinAnsiEncoding"&&Oh!=="StandardEncoding"||(m=cs(m,function(lr,ur,Mr){return[Si(lr),ur,Mr]})),Le=_n(m),m=[];for(var xl,Fl,$o,Sl=0,zu=1,Tl=Array.isArray(Le[0])?zu:Sl,Jo="",Mh=function(lr,ur,Mr){var An="";return Mr instanceof et?(Mr=typeof ne.angle=="number"?pA(Mr,new et(1,0,0,1,lr,ur)):pA(new et(1,0,0,1,lr,ur),Mr),T===y.ADVANCED&&(Mr=pA(new et(1,0,0,-1,0,0),Mr)),An=Mr.join(" ")+` Tm
`):An=S(lr)+" "+S(ur)+` Td
`,An},ni=0;ni<Le.length;ni++){switch(Jo="",Tl){case zu:$o=(Bt?"<":"(")+Le[ni][0]+(Bt?">":")"),xl=parseFloat(Le[ni][1]),Fl=parseFloat(Le[ni][2]);break;case Sl:$o=(Bt?"<":"(")+Le[ni]+(Bt?">":")"),xl=kA(P),Fl=nn(X)}zo!==void 0&&zo[ni]!==void 0&&(Jo=zo[ni]+` Tw
`),ni===0?m.push(Jo+Mh(xl,Fl,ye)+$o):Tl===Sl?m.push(Jo+$o):Tl===zu&&m.push(Jo+Mh(xl,Fl,ye)+$o)}m=Tl===Sl?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Ai=`BT
/`;return Ai+=bt+" "+He+` Tf
`,Ai+=S(He*Gt)+` TL
`,Ai+=xi+`
`,Ai+=St,Ai+=m,Z(Ai+="ET"),p[bt]=!0,Pe};var Qh=g.__private__.clip=g.clip=function(m){return Z(m==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Qh("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Z("n"),this};var ei=g.__private__.isValidStyle=function(m){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(P=!0),P};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(m){return ei(m)&&(l=m),this};var Ru=g.__private__.getStyle=g.getStyle=function(m){var P=l;switch(m){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=m}return P},PA=g.close=function(){return Z("h"),this};g.stroke=function(){return Z("S"),this},g.fill=function(m){return Po("f",m),this},g.fillEvenOdd=function(m){return Po("f*",m),this},g.fillStroke=function(m){return Po("B",m),this},g.fillStrokeEvenOdd=function(m){return Po("B*",m),this};var Po=function(m,P){Yt(P)==="object"?ko(P,m):Z(m)},vl=function(m){m===null||T===y.ADVANCED&&m===void 0||(m=Ru(m),Z(m))};function Ro(m,P,X,ne,ce){var be=new $l(P||this.boundingBox,X||this.xStep,ne||this.yStep,this.gState,ce||this.matrix);be.stream=this.stream;var Le=m+"$$"+this.cloneIndex+++"$$";return $r(Le,be),be}var ko=function(m,P){var X=es[m.key],ne=Pt[X];if(ne instanceof ba)Z("q"),Z(ku(P)),ne.gState&&g.setGState(ne.gState),Z(m.matrix.toString()+" cm"),Z("/"+X+" sh"),Z("Q");else if(ne instanceof $l){var ce=new et(1,0,0,-1,0,Mn());m.matrix&&(ce=ce.multiply(m.matrix||Dn),X=Ro.call(ne,m.key,m.boundingBox,m.xStep,m.yStep,ce).id),Z("q"),Z("/Pattern cs"),Z("/"+X+" scn"),ne.gState&&g.setGState(ne.gState),Z(P),Z("Q")}},ku=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},bi=g.moveTo=function(m,P){return Z(S(U(m))+" "+S($(P))+" m"),this},RA=g.lineTo=function(m,P){return Z(S(U(m))+" "+S($(P))+" l"),this},Ii=g.curveTo=function(m,P,X,ne,ce,be){return Z([S(U(m)),S($(P)),S(U(X)),S($(ne)),S(U(ce)),S($(be)),"c"].join(" ")),this};g.__private__.line=g.line=function(m,P,X,ne,ce){if(isNaN(m)||isNaN(P)||isNaN(X)||isNaN(ne)||!ei(ce))throw new Error("Invalid arguments passed to jsPDF.line");return T===y.COMPAT?this.lines([[X-m,ne-P]],m,P,[1,1],ce||"S"):this.lines([[X-m,ne-P]],m,P,[1,1]).stroke()},g.__private__.lines=g.lines=function(m,P,X,ne,ce,be){var Le,je,c,C,F,K,ue,ye,Pe,yt,St,Bt;if(typeof m=="number"&&(Bt=X,X=P,P=m,m=Bt),ne=ne||[1,1],be=be||!1,isNaN(P)||isNaN(X)||!Array.isArray(m)||!Array.isArray(ne)||!ei(ce)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(bi(P,X),Le=ne[0],je=ne[1],C=m.length,yt=P,St=X,c=0;c<C;c++)(F=m[c]).length===2?(yt=F[0]*Le+yt,St=F[1]*je+St,RA(yt,St)):(K=F[0]*Le+yt,ue=F[1]*je+St,ye=F[2]*Le+yt,Pe=F[3]*je+St,yt=F[4]*Le+yt,St=F[5]*je+St,Ii(K,ue,ye,Pe,yt,St));return be&&PA(),vl(ce),this},g.path=function(m){for(var P=0;P<m.length;P++){var X=m[P],ne=X.c;switch(X.op){case"m":bi(ne[0],ne[1]);break;case"l":RA(ne[0],ne[1]);break;case"c":Ii.apply(this,ne);break;case"h":PA()}}return this},g.__private__.rect=g.rect=function(m,P,X,ne,ce){if(isNaN(m)||isNaN(P)||isNaN(X)||isNaN(ne)||!ei(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return T===y.COMPAT&&(ne=-ne),Z([S(U(m)),S($(P)),S(U(X)),S(U(ne)),"re"].join(" ")),vl(ce),this},g.__private__.triangle=g.triangle=function(m,P,X,ne,ce,be,Le){if(isNaN(m)||isNaN(P)||isNaN(X)||isNaN(ne)||isNaN(ce)||isNaN(be)||!ei(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-m,ne-P],[ce-X,be-ne],[m-ce,P-be]],m,P,[1,1],Le,!0),this},g.__private__.roundedRect=g.roundedRect=function(m,P,X,ne,ce,be,Le){if(isNaN(m)||isNaN(P)||isNaN(X)||isNaN(ne)||isNaN(ce)||isNaN(be)||!ei(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var je=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*X),be=Math.min(be,.5*ne),this.lines([[X-2*ce,0],[ce*je,0,ce,be-be*je,ce,be],[0,ne-2*be],[0,be*je,-ce*je,be,-ce,be],[2*ce-X,0],[-ce*je,0,-ce,-be*je,-ce,-be],[0,2*be-ne],[0,-be*je,ce*je,-be,ce,-be]],m+ce,P,[1,1],Le,!0),this},g.__private__.ellipse=g.ellipse=function(m,P,X,ne,ce){if(isNaN(m)||isNaN(P)||isNaN(X)||isNaN(ne)||!ei(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*X,Le=4/3*(Math.SQRT2-1)*ne;return bi(m+X,P),Ii(m+X,P-Le,m+be,P-ne,m,P-ne),Ii(m-be,P-ne,m-X,P-Le,m-X,P),Ii(m-X,P+Le,m-be,P+ne,m,P+ne),Ii(m+be,P+ne,m+X,P+Le,m+X,P),vl(ce),this},g.__private__.circle=g.circle=function(m,P,X,ne){if(isNaN(m)||isNaN(P)||isNaN(X)||!ei(ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,P,X,X,ne)},g.setFont=function(m,P,X){return X&&(P=j(P,X)),bt=Ds(m,P,{disableWarning:!1}),this};var yl=g.__private__.getFont=g.getFont=function(){return Vt[Ds.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var m,P,X={};for(m in or)if(or.hasOwnProperty(m))for(P in X[m]=[],or[m])or[m].hasOwnProperty(P)&&X[m].push(P);return X},g.addFont=function(m,P,X,ne,ce){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(X=j(X,ne)),ce=ce||"Identity-H",gl.call(this,m,P,X,ce)};var Kt,Bl=t.lineWidth||.200025,Do=g.__private__.getLineWidth=g.getLineWidth=function(){return Bl},Cl=g.__private__.setLineWidth=g.setLineWidth=function(m){return Bl=m,Z(S(U(m))+" w"),this};g.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(m,P){if(m=m||[],P=P||0,isNaN(P)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(X){return S(U(X))}).join(" "),P=S(U(P)),Z("["+m+"] "+P+" d"),this};var _l=g.__private__.getLineHeight=g.getLineHeight=function(){return He*Kt};g.__private__.getLineHeight=g.getLineHeight=function(){return He*Kt};var El=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Kt=m),this},Ms=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Kt};El(t.lineHeight);var kA=g.__private__.getHorizontalCoordinate=function(m){return U(m)},nn=g.__private__.getVerticalCoordinate=function(m){return T===y.ADVANCED?m:lt[W].mediaBox.topRightY-lt[W].mediaBox.bottomLeftY-U(m)},Du=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(m){return S(kA(m))},as=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(m){return S(nn(m))},Cn=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return gA(Cn)},g.__private__.setStrokeColor=g.setDrawColor=function(m,P,X,ne){return Cn=Zn({ch1:m,ch2:P,ch3:X,ch4:ne,pdfColorType:"draw",precision:2}),Z(Cn),this};var Oo=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return gA(Oo)},g.__private__.setFillColor=g.setFillColor=function(m,P,X,ne){return Oo=Zn({ch1:m,ch2:P,ch3:X,ch4:ne,pdfColorType:"fill",precision:2}),Z(Oo),this};var xi=t.textColor||"0 g",Mo=g.__private__.getTextColor=g.getTextColor=function(){return gA(xi)};g.__private__.setTextColor=g.setTextColor=function(m,P,X,ne){return xi=Zn({ch1:m,ch2:P,ch3:X,ch4:ne,pdfColorType:"text",precision:3}),this};var Hs=t.charSpace,Ho=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Hs||0)};g.__private__.setCharSpace=g.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hs=m,this};var bl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(m){var P=g.CapJoinStyles[m];if(P===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bl=P,Z(P+" J"),this};var Vo=0;g.__private__.setLineJoin=g.setLineJoin=function(m){var P=g.CapJoinStyles[m];if(P===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vo=P,Z(P+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(S(U(m))+" M"),this},g.GState=Gf,g.setGState=function(m){(m=typeof m=="string"?dr[Bn[m]]:ls(null,m)).equals(NA)||(Z("/"+m.id+" gs"),NA=m)};var ls=function(m,P){if(!m||!Bn[m]){var X=!1;for(var ne in dr)if(dr.hasOwnProperty(ne)&&dr[ne].equals(P)){X=!0;break}if(X)P=dr[ne];else{var ce="GS"+(Object.keys(dr).length+1).toString(10);dr[ce]=P,P.id=ce}return m&&(Bn[m]=P.id),Dt.publish("addGState",P),P}};g.addGState=function(m,P){return ls(m,P),this},g.saveGraphicsState=function(){return Z("q"),YA.push({key:bt,size:He,color:xi}),this},g.restoreGraphicsState=function(){Z("Q");var m=YA.pop();return bt=m.key,He=m.size,xi=m.color,NA=null,this},g.setCurrentTransformationMatrix=function(m){return Z(m.toString()+" cm"),this},g.comment=function(m){return Z("#"+m),this};var Vs=function(m,P){var X=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(be){isNaN(be)||(X=parseFloat(be))}});var ne=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ne},set:function(be){isNaN(be)||(ne=parseFloat(be))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(be){ce=be.toString()}}),this},jo=function(m,P,X,ne){Vs.call(this,m,P),this.type="rect";var ce=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Le){isNaN(Le)||(ce=parseFloat(Le))}});var be=ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(Le){isNaN(Le)||(be=parseFloat(Le))}}),this},js=function(){this.page=ar,this.currentPage=W,this.pages=Ae.slice(0),this.pagesContext=lt.slice(0),this.x=Tr,this.y=Lt,this.matrix=fA,this.width=us(W),this.height=Mn(W),this.outputDestination=Ne,this.id="",this.objectNumber=-1};js.prototype.restore=function(){ar=this.page,W=this.currentPage,lt=this.pagesContext,Ae=this.pages,Tr=this.x,Lt=this.y,fA=this.matrix,Go(W,this.width),qo(W,this.height),Ne=this.outputDestination};var Ko=function(m,P,X,ne,ce){QA.push(new js),ar=W=0,Ae=[],Tr=m,Lt=P,fA=ce,tA([X,ne])},Ou=function(m){if(kn[m])QA.pop().restore();else{var P=new js,X="Xo"+(Object.keys(Wr).length+1).toString(10);P.id=X,kn[m]=X,Wr[X]=P,Dt.publish("addFormObject",P),QA.pop().restore()}};for(var Fi in g.beginFormObject=function(m,P,X,ne,ce){return Ko(m,P,X,ne,ce),this},g.endFormObject=function(m){return Ou(m),this},g.doFormObject=function(m,P){var X=Wr[kn[m]];return Z("q"),Z(P.toString()+" cm"),Z("/"+X.id+" Do"),Z("Q"),this},g.getFormObject=function(m){var P=Wr[kn[m]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},g.save=function(m,P){return m=m||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Ol(Qo(Ei()),m),typeof Ol.unload=="function"&&ft.setTimeout&&setTimeout(Ol.unload,911),this):new Promise(function(X,ne){try{var ce=Ol(Qo(Ei()),m);typeof Ol.unload=="function"&&ft.setTimeout&&setTimeout(Ol.unload,911),X(ce)}catch(be){ne(be.message)}})},ct.API)ct.API.hasOwnProperty(Fi)&&(Fi==="events"&&ct.API.events.length?function(m,P){var X,ne,ce;for(ce=P.length-1;ce!==-1;ce--)X=P[ce][0],ne=P[ce][1],m.subscribe.apply(m,[X].concat(typeof ne=="function"?[ne]:ne))}(Dt,ct.API.events):g[Fi]=ct.API[Fi]);var us=g.getPageWidth=function(m){return(lt[m=m||W].mediaBox.topRightX-lt[m].mediaBox.bottomLeftX)/We},Go=g.setPageWidth=function(m,P){lt[m].mediaBox.topRightX=P*We+lt[m].mediaBox.bottomLeftX},Mn=g.getPageHeight=function(m){return(lt[m=m||W].mediaBox.topRightY-lt[m].mediaBox.bottomLeftY)/We},qo=g.setPageHeight=function(m,P){lt[m].mediaBox.topRightY=P*We+lt[m].mediaBox.bottomLeftY};return g.internal={pdfEscape:Nr,getStyle:Ru,getFont:yl,getFontSize:Ke,getCharSpace:Ho,getTextColor:Mo,getLineHeight:_l,getLineHeightFactor:Ms,getLineWidth:Do,write:Je,getHorizontalCoordinate:kA,getVerticalCoordinate:nn,getCoordinateString:Du,getVerticalCoordinateString:as,collections:{},newObject:kr,newAdditionalObject:So,newObjectDeferred:Ur,newObjectDeferredBegin:Jr,getFilters:eA,putStream:Dr,events:Dt,scaleFactor:We,pageSize:{getWidth:function(){return us(W)},setWidth:function(m){Go(W,m)},getHeight:function(){return Mn(W)},setHeight:function(m){qo(W,m)}},encryptionOptions:h,encryption:pr,getEncryptor:Pu,output:Lo,getNumberOfPages:zt,pages:Ae,out:Z,f2:O,f3:x,getPageInfo:wl,getPageInfoByObjId:gt,getCurrentPageInfo:os,getPDFVersion:_,Point:Vs,Rectangle:jo,Matrix:et,hasHotfix:ss},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return us(W)},set:function(m){Go(W,m)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Mn(W)},set:function(m){qo(W,m)},enumerable:!0,configurable:!0}),Qu.call(g,ke),bt="F1",ks(A,r),Dt.publish("initialized"),g}yc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},yc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},yc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},yc.prototype.processOwnerPassword=function(t,e){return o2(s2(e).substr(0,5),t)},yc.prototype.encryptor=function(t,e){var r=s2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return o2(r,n)}},Gf.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Yt(t)!==Yt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ct.API={events:[]},ct.version="3.0.1";var Lr=ct.API,b5=1,Fu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ct=function(t){return t.toFixed(2)},ua=function(t){return t.toFixed(5)};Lr.__acroform__={};var UA=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},hI=function(t){return t*b5},ms=function(t){var e=new gN,r=rt.internal.getHeight(t)||0,n=rt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ct(n)),Number(Ct(r))],e},Sq=Lr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Tq=Lr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Uq=Lr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Kr=Lr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Uq(t,e-1)},Gr=Lr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Sq(t,e-1)},qr=Lr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Tq(t,e-1)},Nq=Lr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,A=t[0],i=t[1],s=t[2],o=t[3],a={};return a.lowerLeft_X=r(A)||0,a.lowerLeft_Y=n(i+o)||0,a.upperRight_X=r(A+s)||0,a.upperRight_Y=n(i)||0,[Number(Ct(a.lowerLeft_X)),Number(Ct(a.lowerLeft_Y)),Number(Ct(a.upperRight_X)),Number(Ct(a.upperRight_Y))]},Qq=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=a2(t,r),A=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+A+" "+Ct(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=ms(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},a2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},A=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");A=t.multiline?A.map(function(x){return x.split(`
`)}):A.map(function(x){return[x]});var i=r,s=rt.internal.getHeight(t)||0;s=s<0?-s:s;var o=rt.internal.getWidth(t)||0;o=o<0?-o:o;var a=function(x,U,L){if(x+1<A.length){var $=U+" "+A[x+1][0];return Og($,t,L).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var l,h,d=Og("3",t,i).height,p=t.multiline?s-i:(s-d)/2,g=p+=2,E=0,_=0,N=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Og(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var v="",y=0,T=0;T<A.length;T++)if(A.hasOwnProperty(T)){var V=!1;if(A[T].length!==1&&N!==A[T].length-1){if((d+2)*(y+2)+2>s)continue e;v+=A[T][N],V=!0,_=T,T--}else{v=(v+=A[T][N]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var D=parseInt(T),j=a(D,v,i),S=T>=A.length-1;if(j&&!S){v+=" ",N=0;continue}if(j||S){if(S)_=D;else if(t.multiline&&(d+2)*(y+2)+2>s)continue e}else{if(!t.multiline||(d+2)*(y+2)+2>s)continue e;_=D}}for(var b="",Q=E;Q<=_;Q++){var O=A[Q];if(t.multiline){if(Q===_){b+=O[N]+" ",N=(N+1)%O.length;continue}if(Q===E){b+=O[O.length-1]+" ";continue}}b+=O[0]+" "}switch(b=b.substr(b.length-1)==" "?b.substr(0,b.length-1):b,h=Og(b,t,i).width,t.textAlign){case"right":l=o-h-2;break;case"center":l=(o-h)/2;break;case"left":default:l=2}e+=Ct(l)+" "+Ct(g)+` Td
`,e+="("+Fu(b)+`) Tj
`,e+=-Ct(l)+` 0 Td
`,g=-(i+2),h=0,E=V?_:_+1,y++,v=""}break}return n.text=e,n.fontSize=i,n},Og=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),A=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:A}},Lq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Pq=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Rq=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,A=t[r];e.internal.newObjectDeferredBegin(A.objId,!0),Yt(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete t[n]}},kq=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Yi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Lq)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");b5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new mN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var A in n)if(n.hasOwnProperty(A)){var i=n[A];i.objId=void 0,i.hasAnnotation&&Pq(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,A){var i=!n;for(var s in n||(A.internal.newObjectDeferredBegin(A.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),A.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||A.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],a=[],l=o.Rect;if(o.Rect&&(o.Rect=Nq(o.Rect,A)),A.internal.newObjectDeferredBegin(o.objId,!0),o.DA=rt.createDefaultAppearanceStream(o),Yt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(a=o.getKeyValueListForStream()),o.Rect=l,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=Qq(o);a.push({key:"AP",value:"<</N "+h+">>"}),A.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var d="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var g=o.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var E=g[s];typeof E=="function"&&(E=E.call(A,o)),d+="/"+s+" "+E+" ",A.internal.acroformPlugin.xForms.indexOf(E)>=0||A.internal.acroformPlugin.xForms.push(E)}}else typeof(E=g)=="function"&&(E=E.call(A,o)),d+="/"+s+" "+E,A.internal.acroformPlugin.xForms.indexOf(E)>=0||A.internal.acroformPlugin.xForms.push(E);d+=">>"}a.push({key:"AP",value:`<<
`+d+">>"})}A.internal.putStream({additionalKeyValues:a,objectId:o.objId}),A.internal.out("endobj")}i&&Rq(A.internal.acroformPlugin.xForms,A)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},pN=Lr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var A="[",i=0;i<t.length;i++)switch(i!==0&&(A+=" "),Yt(t[i])){case"boolean":case"number":case"object":A+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),A+="("+Fu(n(t[i].toString()))+")"):A+=t[i].toString()}return A+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},tv=function(t,e,r){var n=function(A){return A};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Fu(n(t))+")"},_s=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_s.prototype.toString=function(){return this.objId+" 0 R"},_s.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},_s.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],A=this[n];A&&(Array.isArray(A)?t.push({key:n,value:pN(A,this.objId,this.scope)}):A instanceof _s?(A.scope=this.scope,t.push({key:n,value:A.objId+" 0 R"})):typeof A!="function"&&t.push({key:n,value:A}))}return t};var gN=function(){_s.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};UA(gN,_s);var mN=function(){_s.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Fu(r(t))+")"}},set:function(r){t=r}})};UA(mN,_s);var Yi=function t(){_s.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kr(e,3)},set:function(v){v?this.F=Gr(e,3):this.F=qr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var A="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return A},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":A=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof y0)return;i="FieldObject"+t.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Fu(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/b5:l},set:function(v){l=v}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(v){h=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof y0||this instanceof Wa))return tv(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof an?p:tv(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof an?v:v.substr(0,1)==="("?cc(v.substr(1,v.length-2)):cc(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof an?cc(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof an?"/"+v:v}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof an?g:tv(g,this.objId,this.scope)},set:function(v){v=v.toString(),g=this instanceof an?v:v.substr(0,1)==="("?cc(v.substr(1,v.length-2)):cc(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof an?cc(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof an?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(v){v=!!v,_=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(v){E=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,1)},set:function(v){v?this.Ff=Gr(this.Ff,1):this.Ff=qr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,2)},set:function(v){v?this.Ff=Gr(this.Ff,2):this.Ff=qr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,3)},set:function(v){v?this.Ff=Gr(this.Ff,3):this.Ff=qr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');N=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(N){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};UA(Yi,_s);var tu=function(){Yi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pN(e,this.objId,this.scope)},set:function(r){var n,A;A=[],typeof(n=r)=="string"&&(A=function(i,s,o){o||(o=1);for(var a,l=[];a=s.exec(i);)l.push(a[o]);return l}(n,/\((.*?)\)/g)),e=A}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,18)},set:function(r){r?this.Ff=Gr(this.Ff,18):this.Ff=qr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Gr(this.Ff,19):this.Ff=qr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,20)},set:function(r){r?(this.Ff=Gr(this.Ff,20),e.sort()):this.Ff=qr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,22)},set:function(r){r?this.Ff=Gr(this.Ff,22):this.Ff=qr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(r){r?this.Ff=Gr(this.Ff,23):this.Ff=qr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,27)},set:function(r){r?this.Ff=Gr(this.Ff,27):this.Ff=qr(this.Ff,27)}}),this.hasAppearanceStream=!1};UA(tu,Yi);var ru=function(){tu.call(this),this.fontName="helvetica",this.combo=!1};UA(ru,tu);var nu=function(){ru.call(this),this.combo=!0};UA(nu,ru);var tf=function(){nu.call(this),this.edit=!0};UA(tf,nu);var an=function(){Yi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,15)},set:function(r){r?this.Ff=Gr(this.Ff,15):this.Ff=qr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,16)},set:function(r){r?this.Ff=Gr(this.Ff,16):this.Ff=qr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,17)},set:function(r){r?this.Ff=Gr(this.Ff,17):this.Ff=qr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(r){r?this.Ff=Gr(this.Ff,26):this.Ff=qr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,A=[];for(n in A.push("<<"),e)A.push("/"+n+" ("+Fu(r(e[n]))+")");return A.push(">>"),A.join(`
`)}},set:function(r){Yt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};UA(an,Yi);var rf=function(){an.call(this),this.pushButton=!0};UA(rf,an);var Au=function(){an.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};UA(Au,an);var y0=function(){var t,e;Yi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){t=A}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(A){e=A}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var A=function(o){return o};this.scope&&(A=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Fu(A(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(A){Yt(A)==="object"&&(n=A)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(A){typeof A=="string"&&(n.CA=A)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){r=A}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(A){r="/"+A}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};UA(y0,Yi),Au.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Au.prototype.createOption=function(t){var e=new y0;return e.Parent=this,e.optionName=t,this.Kids.push(e),Dq.call(this.scope,e),e};var nf=function(){an.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};UA(nf,an);var Wa=function(){Yi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,13)},set:function(e){e?this.Ff=Gr(this.Ff,13):this.Ff=qr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,21)},set:function(e){e?this.Ff=Gr(this.Ff,21):this.Ff=qr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(e){e?this.Ff=Gr(this.Ff,23):this.Ff=qr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,24)},set:function(e){e?this.Ff=Gr(this.Ff,24):this.Ff=qr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,25)},set:function(e){e?this.Ff=Gr(this.Ff,25):this.Ff=qr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(e){e?this.Ff=Gr(this.Ff,26):this.Ff=qr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};UA(Wa,Yi);var Af=function(){Wa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,14)},set:function(t){t?this.Ff=Gr(this.Ff,14):this.Ff=qr(this.Ff,14)}}),this.password=!0};UA(Af,Wa);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ms(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,A=t.scope.__private__.encodeColorString(t.color),i=a2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ct(rt.internal.getWidth(t))+" "+Ct(rt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ct(i.fontSize)+" Tf "+A),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ms(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),A=[],i=rt.internal.getHeight(t),s=rt.internal.getWidth(t),o=a2(t,t.caption);return A.push("1 g"),A.push("0 0 "+Ct(s)+" "+Ct(i)+" re"),A.push("f"),A.push("q"),A.push("0 0 1 rg"),A.push("0 0 "+Ct(s-1)+" "+Ct(i-1)+" re"),A.push("W"),A.push("n"),A.push("0 g"),A.push("BT"),A.push("/"+r+" "+Ct(o.fontSize)+" Tf "+n),A.push(o.text),A.push("ET"),A.push("Q"),e.stream=A.join(`
`),e},OffPushDown:function(t){var e=ms(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ct(rt.internal.getWidth(t))+" "+Ct(rt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Circle.YesNormal,e.D[t]=rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ms(t);e.scope=t.scope;var r=[],n=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var A=rt.internal.Bezier_C,i=Number((n*A).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ua(rt.internal.getWidth(t)/2)+" "+ua(rt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ms(t);e.scope=t.scope;var r=[],n=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var A=Number((2*n).toFixed(5)),i=Number((A*rt.internal.Bezier_C).toFixed(5)),s=Number((n*rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ua(rt.internal.getWidth(t)/2)+" "+ua(rt.internal.getHeight(t)/2)+" cm"),r.push(A+" 0 m"),r.push(A+" "+i+" "+i+" "+A+" 0 "+A+" c"),r.push("-"+i+" "+A+" -"+A+" "+i+" -"+A+" 0 c"),r.push("-"+A+" -"+i+" -"+i+" -"+A+" 0 -"+A+" c"),r.push(i+" -"+A+" "+A+" -"+i+" "+A+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ua(rt.internal.getWidth(t)/2)+" "+ua(rt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ms(t);e.scope=t.scope;var r=[],n=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var A=Number((2*n).toFixed(5)),i=Number((A*rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ua(rt.internal.getWidth(t)/2)+" "+ua(rt.internal.getHeight(t)/2)+" cm"),r.push(A+" 0 m"),r.push(A+" "+i+" "+i+" "+A+" 0 "+A+" c"),r.push("-"+i+" "+A+" -"+A+" "+i+" -"+A+" 0 c"),r.push("-"+A+" -"+i+" -"+i+" -"+A+" 0 -"+A+" c"),r.push(i+" -"+A+" "+A+" -"+i+" "+A+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Cross.YesNormal,e.D[t]=rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ms(t);e.scope=t.scope;var r=[],n=rt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ct(rt.internal.getWidth(t)-2)+" "+Ct(rt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ct(n.x1.x)+" "+Ct(n.x1.y)+" m"),r.push(Ct(n.x2.x)+" "+Ct(n.x2.y)+" l"),r.push(Ct(n.x4.x)+" "+Ct(n.x4.y)+" m"),r.push(Ct(n.x3.x)+" "+Ct(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ms(t);e.scope=t.scope;var r=rt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ct(rt.internal.getWidth(t))+" "+Ct(rt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ct(rt.internal.getWidth(t)-2)+" "+Ct(rt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ct(r.x1.x)+" "+Ct(r.x1.y)+" m"),n.push(Ct(r.x2.x)+" "+Ct(r.x2.y)+" l"),n.push(Ct(r.x4.x)+" "+Ct(r.x4.y)+" m"),n.push(Ct(r.x3.x)+" "+Ct(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ms(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ct(rt.internal.getWidth(t))+" "+Ct(rt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};rt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=rt.internal.getWidth(t),r=rt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},rt.internal.getWidth=function(t){var e=0;return Yt(t)==="object"&&(e=hI(t.Rect[2])),e},rt.internal.getHeight=function(t){var e=0;return Yt(t)==="object"&&(e=hI(t.Rect[3])),e};var Dq=Lr.addField=function(t){if(kq(this,t),!(t instanceof Yi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Lr.AcroFormChoiceField=tu,Lr.AcroFormListBox=ru,Lr.AcroFormComboBox=nu,Lr.AcroFormEditBox=tf,Lr.AcroFormButton=an,Lr.AcroFormPushButton=rf,Lr.AcroFormRadioButton=Au,Lr.AcroFormCheckBox=nf,Lr.AcroFormTextField=Wa,Lr.AcroFormPasswordField=Af,Lr.AcroFormAppearance=rt,Lr.AcroForm={ChoiceField:tu,ListBox:ru,ComboBox:nu,EditBox:tf,Button:an,PushButton:rf,RadioButton:Au,CheckBox:nf,TextField:Wa,PasswordField:Af,Appearance:rt},ct.AcroForm={ChoiceField:tu,ListBox:ru,ComboBox:nu,EditBox:tf,Button:an,PushButton:rf,RadioButton:Au,CheckBox:nf,TextField:Wa,PasswordField:Af,Appearance:rt};var Oq=ct.AcroForm;function wN(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(x,U){var L,$,pe,se,ge,ee=e;if((U=U||e)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(j(x))for(ge in r)for(pe=r[ge],L=0;L<pe.length;L+=1){for(se=!0,$=0;$<pe[L].length;$+=1)if(pe[L][$]!==void 0&&pe[L][$]!==x[$]){se=!1;break}if(se===!0){ee=ge;break}}else for(ge in r)for(pe=r[ge],L=0;L<pe.length;L+=1){for(se=!0,$=0;$<pe[L].length;$+=1)if(pe[L][$]!==void 0&&pe[L][$]!==x.charCodeAt($)){se=!1;break}if(se===!0){ee=ge;break}}return ee===e&&U!==e&&(ee=U),ee},A=function x(U){for(var L=this.internal.write,$=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:U.width}),se.push({key:"Height",value:U.height}),U.colorSpace===N.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===N.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var ge="",ee=0,le=U.transparency.length;ee<le;ee++)ge+=U.transparency[ee]+" "+U.transparency[ee]+" ";se.push({key:"Mask",value:"["+ge+"]"})}U.sMask!==void 0&&se.push({key:"SMask",value:U.objectId+1+" 0 R"});var he=U.filter!==void 0?["/"+U.filter]:void 0;if($({data:U.data,additionalKeyValues:se,alreadyAppliedFilters:he,objectId:U.objectId}),L("endobj"),"sMask"in U&&U.sMask!==void 0){var Ue="/Predictor "+U.predictor+" /Colors 1 /BitsPerComponent "+U.bitsPerComponent+" /Columns "+U.width,k={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:Ue,data:U.sMask};"filter"in U&&(k.filter=U.filter),x.call(this,k)}if(U.colorSpace===N.INDEXED){var W=this.internal.newObject();$({data:b(new Uint8Array(U.palette)),objectId:W}),L("endobj")}},i=function(){var x=this.internal.collections.addImage_images;for(var U in x)A.call(this,x[U])},s=function(){var x,U=this.internal.collections.addImage_images,L=this.internal.write;for(var $ in U)L("/I"+(x=U[$]).index,x.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},a=function(){var x=this.internal.collections.addImage_images;return o.call(this),x},l=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(x){return typeof t["process"+x.toUpperCase()]=="function"},d=function(x){return Yt(x)==="object"&&x.nodeType===1},p=function(x,U){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var L=""+x.getAttribute("src");if(L.indexOf("data:image/")===0)return ef(unescape(L).split("base64,").pop());var $=t.loadFile(L,!0);if($!==void 0)return $}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var pe;switch(U){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return ef(x.toDataURL(pe,1).split("base64,").pop())}},g=function(x){var U=this.internal.collections.addImage_images;if(U){for(var L in U)if(x===U[L].alias)return U[L]}},E=function(x,U,L){return x||U||(x=-96,U=-96),x<0&&(x=-1*L.width*72/x/this.internal.scaleFactor),U<0&&(U=-1*L.height*72/U/this.internal.scaleFactor),x===0&&(x=U*L.width/L.height),U===0&&(U=x*L.height/L.width),[x,U]},_=function(x,U,L,$,pe,se){var ge=E.call(this,L,$,pe),ee=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,he=a.call(this);if(L=ge[0],$=ge[1],he[pe.index]=pe,se){se*=Math.PI/180;var Ue=Math.cos(se),k=Math.sin(se),W=function(z){return z.toFixed(4)},Y=[W(Ue),W(k),W(-1*k),W(Ue),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,ee(x),le(U+$),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([ee(L),"0","0",ee($),"0","0","cm"].join(" "))):this.internal.write([ee(L),"0","0",ee($),ee(x),le(U+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(x){var U,L,$=0;if(typeof x=="string")for(L=x.length,U=0;U<L;U++)$=($<<5)-$+x.charCodeAt(U),$|=0;else if(j(x))for(L=x.byteLength/2,U=0;U<L;U++)$=($<<5)-$+x[U],$|=0;return $},T=t.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var U=!0;return x.length===0&&(U=!1),x.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(U=!1),U},V=t.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var U=x.indexOf(",");return U<0?null:x.substring(0,U).trim().endsWith("base64")?x.substring(U+1):null},D=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(x){return D()&&x instanceof ArrayBuffer};var j=t.__addimage__.isArrayBufferView=function(x){return D()&&typeof Uint32Array<"u"&&(x instanceof Int8Array||x instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)},S=t.__addimage__.binaryStringToUint8Array=function(x){for(var U=x.length,L=new Uint8Array(U),$=0;$<U;$++)L[$]=x.charCodeAt($);return L},b=t.__addimage__.arrayBufferToBinaryString=function(x){for(var U="",L=j(x)?x:new Uint8Array(x),$=0;$<L.length;$+=8192)U+=String.fromCharCode.apply(null,L.subarray($,$+8192));return U};t.addImage=function(){var x,U,L,$,pe,se,ge,ee,le;if(typeof arguments[1]=="number"?(U=e,L=arguments[1],$=arguments[2],pe=arguments[3],se=arguments[4],ge=arguments[5],ee=arguments[6],le=arguments[7]):(U=arguments[1],L=arguments[2],$=arguments[3],pe=arguments[4],se=arguments[5],ge=arguments[6],ee=arguments[7],le=arguments[8]),Yt(x=arguments[0])==="object"&&!d(x)&&"imageData"in x){var he=x;x=he.imageData,U=he.format||U||e,L=he.x||L||0,$=he.y||$||0,pe=he.w||he.width||pe,se=he.h||he.height||se,ge=he.alias||ge,ee=he.compression||ee,le=he.rotation||he.angle||le}var Ue=this.internal.getFilters();if(ee===void 0&&Ue.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(L)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var k=Q.call(this,x,U,ge,ee);return _.call(this,L,$,pe,se,k,le),this};var Q=function(x,U,L,$){var pe,se,ge;if(typeof x=="string"&&n(x)===e){x=unescape(x);var ee=O(x,!1);(ee!==""||(ee=t.loadFile(x,!0))!==void 0)&&(x=ee)}if(d(x)&&(x=p(x,U)),U=n(x,U),!h(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ge=L)==null||ge.length===0)&&(L=function(le){return typeof le=="string"||j(le)?y(le):j(le.data)?y(le.data):null}(x)),(pe=g.call(this,L))||(D()&&(x instanceof Uint8Array||U==="RGBA"||(se=x,x=S(x))),pe=this["process"+U.toUpperCase()](x,l.call(this),L,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:v.NONE}($),se)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},O=t.__addimage__.convertBase64ToBinaryString=function(x,U){U=typeof U!="boolean"||U;var L,$="";if(typeof x=="string"){var pe;L=(pe=V(x))!==null&&pe!==void 0?pe:x;try{$=ef(L)}catch(se){if(U)throw T(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(x){var U,L,$="";if(d(x)&&(x=p(x)),typeof x=="string"&&n(x)===e&&(($=O(x,!1))===""&&($=t.loadFile(x)||""),x=$),L=n(x),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!D()||x instanceof Uint8Array||(x=S(x)),!(U=this["process"+L.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=L,U}})(ct.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,A,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(r.objId),l=r.pageContext.annotations,h=!1,d=0;d<l.length&&!h;d++)switch((n=l[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<l.length;p++){n=l[p];var g=this.internal.pdfEscape,E=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(_.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(A="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(v(n.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+a.objId+" 0 R",i+=" /T ("+g(v(y))+") >>",_.content=i;var T=_.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(A="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(_.objId,"0 R",N.objId,"0 R");break;case"freetext":A="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var V=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+A+"/Contents ("+g(E(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(A="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+A+"/Border [0 0 0] /A <</S /URI /URI ("+g(E(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+A+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,A,i,s){var o=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:a(r),y:l(n),w:a(r+A),h:l(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,A,i){var s,o,a=this.getTextWidth(r),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(r,o).length;s=Math.ceil(l*h)}else o=a,s=l;return this.text(r,n,A,i),A+=.2*l,i.align==="center"&&(n-=a/2),i.align==="right"&&(n-=a),this.link(n,A-l,o,s,i),a},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},A=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},o=t.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&i(_)&&e[_.charCodeAt(0)].length<=2},a=t.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&A.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&i(_)&&e[_.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&i(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&i(_)&&e[_.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&i(_)&&e[_.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(_){var N=0,v=r,y="",T=0;for(N=0;N<_.length;N+=1)v[_.charCodeAt(N)]!==void 0?(T++,typeof(v=v[_.charCodeAt(N)])=="number"&&(y+=String.fromCharCode(v),v=r,T=0),N===_.length-1&&(v=r,y+=_.charAt(N-(T-1)),N-=T-1,T=0)):(v=r,y+=_.charAt(N-T),N-=T,T=0);return y};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(_,N,v){return s(_)?i(_)===!1?-1:!l(_)||!s(N)&&!s(v)||!s(v)&&o(N)||o(_)&&!s(N)||o(_)&&a(N)||o(_)&&o(N)?0:h(_)&&s(N)&&!o(N)&&s(v)&&l(v)?3:o(_)||!s(v)?1:2:-1},g=function(_){var N=0,v=0,y=0,T="",V="",D="",j=(_=_||"").split("\\s+"),S=[];for(N=0;N<j.length;N+=1){for(S.push(""),v=0;v<j[N].length;v+=1)T=j[N][v],V=j[N][v-1],D=j[N][v+1],s(T)?(y=p(T,V,D),S[N]+=y!==-1?String.fromCharCode(e[T.charCodeAt(0)][y]):T):S[N]+=T;S[N]=d(S[N])}return S.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var _,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(N)){var y=0;for(v=[],y=0;y<N.length;y+=1)Array.isArray(N[y])?v.push([g(N[y][0]),N[y][1],N[y][2]]):v.push([g(N[y])]);_=v}else _=g(N);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",E])}(ct.API),ct.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var A=300;Object.defineProperty(this,"height",{get:function(){return A},set:function(o){A=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=A+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var A;if((r=r||"2d")!=="2d")return null;for(A in n)this.pdf.context2d.hasOwnProperty(A)&&(this.pdf.context2d[A]=n[A]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),A.call(this))},A=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var a=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return a},set:function(_){a=_}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(_){E=_}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(a){return n.call(this),this.internal.__cell__.headerFunction=typeof a=="function"?a:void 0,this},t.getTextDimensions=function(a,l){n.call(this);var h=(l=l||{}).fontSize||this.getFontSize(),d=l.font||this.getFont(),p=l.scaleFactor||this.internal.scaleFactor,g=0,E=0,_=0,N=this;if(!Array.isArray(a)&&typeof a!="string"){if(typeof a!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");a=String(a)}var v=l.maxWidth;v>0?typeof a=="string"?a=this.splitTextToSize(a,v):Object.prototype.toString.call(a)==="[object Array]"&&(a=a.reduce(function(T,V){return T.concat(N.splitTextToSize(V,v))},[])):a=Array.isArray(a)?a:[a];for(var y=0;y<a.length;y++)g<(_=this.getStringUnitWidth(a[y],{font:d})*h)&&(g=_);return g!==0&&(E=a.length),{w:g/=p,h:Math.max((E*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var a=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(a.left,a.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var a;a=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===a.lineNumber?(a.x=(l.x||0)+(l.width||0),a.y=l.y||0):l.y+l.height+a.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),a.y=d.top,g&&p&&(this.printHeaderRow(a.lineNumber,!0),a.y+=p[0].height)):a.y=l.y+l.height||a.y),a.text[0]!==void 0&&(this.rect(a.x,a.y,a.width,a.height,r===!0?"FD":void 0),a.align==="right"?this.text(a.text,a.x+a.width-h,a.y+h,{align:"right",baseline:"top"}):a.align==="center"?this.text(a.text,a.x+a.width/2,a.y+h,{align:"center",baseline:"top",maxWidth:a.width-h-h}):this.text(a.text,a.x+h,a.y+h,{align:"left",baseline:"top",maxWidth:a.width-h-h})),this.internal.__cell__.lastCell=a,this};t.table=function(a,l,h,d,p){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,E,_,N,v=[],y=[],T=[],V={},D={},j=[],S=[],b=(p=p||{}).autoSize||!1,Q=p.printHeaders!==!1,O=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,x=p.margins||Object.assign({width:this.getPageWidth()},e),U=typeof p.padding=="number"?p.padding:3,L=p.headerBackgroundColor||"#c8c8c8",$=p.headerTextColor||"#000";if(A.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=$,this.setFontSize(O),d==null)y=v=Object.keys(h[0]),T=v.map(function(){return"left"});else if(Array.isArray(d)&&Yt(d[0])==="object")for(v=d.map(function(he){return he.name}),y=d.map(function(he){return he.prompt||he.name||""}),T=d.map(function(he){return he.align||"left"}),g=0;g<d.length;g+=1)D[d[g].name]=d[g].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(y=v=d,T=v.map(function(){return"left"}));if(b||Array.isArray(d)&&typeof d[0]=="string")for(g=0;g<v.length;g+=1){for(V[N=v[g]]=h.map(function(he){return he[N]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=V[N],this.setFont(void 0,"normal"),_=0;_<E.length;_+=1)j.push(this.getTextDimensions(E[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[N]=Math.max.apply(null,j)+U+U,j=[]}if(Q){var pe={};for(g=0;g<v.length;g+=1)pe[v[g]]={},pe[v[g]].text=y[g],pe[v[g]].align=T[g];var se=o.call(this,pe,D);S=v.map(function(he){return new i(a,l,D[he],se,pe[he].text,void 0,pe[he].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var ge=d.reduce(function(he,Ue){return he[Ue.name]=Ue.align,he},{});for(g=0;g<h.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:h[g]},this);var ee=o.call(this,h[g],D);for(_=0;_<v.length;_+=1){var le=h[g][v[_]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:_,data:le},this),s.call(this,new i(a,l,D[v[_]],ee,le,g+2,ge[v[_]]))}}return this.internal.__cell__.table_x=a,this.internal.__cell__.table_y=l,this};var o=function(a,l){var h=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(a).map(function(g){var E=a[g];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,l[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*d/p+h+h},this).reduce(function(g,E){return Math.max(g,E)},0)};t.setTableHeaderRow=function(a){n.call(this),this.internal.__cell__.tableHeaderRow=a},t.printHeaderRow=function(a,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),l&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=a;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(E)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(ct.API);var vN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],l2=wN(yN),BN=[100,200,300,400,500,600,700,800,900],Mq=wN(BN);function u2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return vN[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),A=function(i){return typeof l2[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:A,src:t.src||[],ref:t.ref||{name:e,style:[A,r,n].join(" ")}}}function dI(t,e,r,n){var A;for(A=r;A>=0&&A<e.length;A+=n)if(t[e[A]])return t[e[A]];for(A=r;A>=0&&A<e.length;A-=n)if(t[e[A]])return t[e[A]]}var Hq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function pI(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Vq(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",A=Object.assign({},Hq,r.genericFontFamilies||{}),i=null,s=null,o=0;o<e.length;++o)if(A[(i=u2(e[o])).family]&&(i.family=A[i.family]),t.hasOwnProperty(i.family)){s=t[i.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+pI(i)+"' and default family '"+n+"'.");if(s=function(a,l){if(l[a])return l[a];var h=l2[a],d=h<=l2.normal?-1:1,p=dI(l,yN,h,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+a);return p}(i.stretch,s),s=function(a,l){if(l[a])return l[a];for(var h=vN[a],d=0;d<h.length;++d)if(l[h[d]])return l[h[d]];throw new Error("Could not find a matching font-style for "+a)}(i.style,s),!(s=function(a,l){if(l[a])return l[a];if(a===400&&l[500])return l[500];if(a===500&&l[400])return l[400];var h=Mq[a],d=dI(l,BN,h,a<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+a);return d}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+pI(i)+"'.");return s}function gI(t){return t.trimLeft()}function jq(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Kq(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Mg,mI,wI,rv=["times"];(function(t){var e,r,n,A,i,s,o,a,l,h=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new a,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new s,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new s,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,A=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,a=this.internal.Matrix,l=new h}]);var d=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=k;Object.defineProperty(this,"pdf",{get:function(){return W}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(_e){Y=!!_e}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(_e){z=!!_e}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(_e){isNaN(_e)||(re=_e)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(_e){isNaN(_e)||(fe=_e)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(_e){var Z;typeof _e=="number"?Z=[_e,_e,_e,_e]:((Z=new Array(4))[0]=_e[0],Z[1]=_e.length>=2?_e[1]:Z[0],Z[2]=_e.length>=3?_e[2]:Z[0],Z[3]=_e.length>=4?_e[3]:Z[1]),l.margin=Z}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(_e){me=_e}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(_e){Ce=_e}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(_e){Re=_e}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(_e){_e instanceof h&&(l=_e)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(_e){l.path=_e}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(_e){Ae=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var Z;Z=p(_e),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var Z=p(_e);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var xe=null;function Ne(_e,Z){if(xe===null){var Je=function(At){var ke=[];return Object.keys(At).forEach(function(He){At[He].forEach(function(qe){var Ke=null;switch(qe){case"bold":Ke={family:He,weight:"bold"};break;case"italic":Ke={family:He,style:"italic"};break;case"bolditalic":Ke={family:He,weight:"bold",style:"italic"};break;case"":case"normal":Ke={family:He}}Ke!==null&&(Ke.ref={name:He,style:qe},ke.push(Ke))})}),ke}(_e.getFontList());xe=function(At){for(var ke={},He=0;He<At.length;++He){var qe=u2(At[He]),Ke=qe.family,st=qe.stretch,pt=qe.style,vt=qe.weight;ke[Ke]=ke[Ke]||{},ke[Ke][st]=ke[Ke][st]||{},ke[Ke][st][pt]=ke[Ke][st][pt]||{},ke[Ke][st][pt][vt]=qe}return ke}(Je.concat(Z))}return xe}var Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(_e){xe=null,Ye=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var Z;if(this.ctx.font=_e,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var Je=Z[1];Z[2];var At=Z[3],ke=Z[4];Z[5];var He=Z[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(qe==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ke=function(ht){var bt,We,Tr=[],Lt=ht.trim();if(Lt==="")return rv;if(Lt in fI)return[fI[Lt]];for(;Lt!=="";){switch(We=null,bt=(Lt=gI(Lt)).charAt(0)){case'"':case"'":We=jq(Lt.substring(1),bt);break;default:We=Kq(Lt)}if(We===null||(Tr.push(We[0]),(Lt=gI(We[1]))!==""&&Lt.charAt(0)!==","))return rv;Lt=Lt.replace(/^,/,"")}return Tr}(He);if(this.fontFaces){var st=Vq(Ne(this.pdf,this.fontFaces),Ke.map(function(ht){return{family:ht,stretch:"normal",weight:At,style:Je}}));this.pdf.setFont(st.ref.name,st.ref.style)}else{var pt="";(At==="bold"||parseInt(At,10)>=700||Je==="bold")&&(pt="bold"),Je==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var vt="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<Ke.length;dt++){if(this.pdf.internal.getFont(Ke[dt],pt,{noFallback:!0,disableWarning:!0})!==void 0){vt=Ke[dt];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(Ke[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)vt=Ke[dt],pt="bold";else if(this.pdf.internal.getFont(Ke[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){vt=Ke[dt],pt="normal";break}}if(vt===""){for(var kt=0;kt<Ke.length;kt++)if(at[Ke[kt]]){vt=at[Ke[kt]];break}}vt=vt===""?"Times":vt,this.pdf.setFont(vt,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,Ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,Ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};d.prototype.setLineDash=function(k){this.lineDash=k},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){V.call(this,"fill",!1)},d.prototype.stroke=function(){V.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(k,W){if(isNaN(k)||isNaN(W))throw sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new s(k,W));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(k,W)},d.prototype.closePath=function(){var k=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Yt(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){k=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(k.x,k.y)},d.prototype.lineTo=function(k,W){if(isNaN(k)||isNaN(W))throw sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new s(k,W));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(Y.x,Y.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},d.prototype.quadraticCurveTo=function(k,W,Y,z){if(isNaN(Y)||isNaN(z)||isNaN(k)||isNaN(W))throw sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new s(Y,z)),fe=this.ctx.transform.applyToPoint(new s(k,W));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},d.prototype.bezierCurveTo=function(k,W,Y,z,re,fe){if(isNaN(re)||isNaN(fe)||isNaN(k)||isNaN(W)||isNaN(Y)||isNaN(z))throw sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new s(re,fe)),Ce=this.ctx.transform.applyToPoint(new s(k,W)),Re=this.ctx.transform.applyToPoint(new s(Y,z));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Re.x,y2:Re.y,x:me.x,y:me.y}),this.ctx.lastPoint=new s(me.x,me.y)},d.prototype.arc=function(k,W,Y,z,re,fe){if(isNaN(k)||isNaN(W)||isNaN(Y)||isNaN(z)||isNaN(re))throw sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new s(k,W));k=me.x,W=me.y;var Ce=this.ctx.transform.applyToPoint(new s(0,Y)),Re=this.ctx.transform.applyToPoint(new s(0,0));Y=Math.sqrt(Math.pow(Ce.x-Re.x,2)+Math.pow(Ce.y-Re.y,2))}Math.abs(re-z)>=2*Math.PI&&(z=0,re=2*Math.PI),this.path.push({type:"arc",x:k,y:W,radius:Y,startAngle:z,endAngle:re,counterclockwise:fe})},d.prototype.arcTo=function(k,W,Y,z,re){throw new Error("arcTo not implemented.")},d.prototype.rect=function(k,W,Y,z){if(isNaN(k)||isNaN(W)||isNaN(Y)||isNaN(z))throw sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,W),this.lineTo(k+Y,W),this.lineTo(k+Y,W+z),this.lineTo(k,W+z),this.lineTo(k,W),this.lineTo(k+Y,W),this.lineTo(k,W)},d.prototype.fillRect=function(k,W,Y,z){if(isNaN(k)||isNaN(W)||isNaN(Y)||isNaN(z))throw sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,W,Y,z),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},d.prototype.strokeRect=function(k,W,Y,z){if(isNaN(k)||isNaN(W)||isNaN(Y)||isNaN(z))throw sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(k,W,Y,z),this.stroke())},d.prototype.clearRect=function(k,W,Y,z){if(isNaN(k)||isNaN(W)||isNaN(Y)||isNaN(z))throw sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,W,Y,z))},d.prototype.save=function(k){k=typeof k!="boolean"||k;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},d.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(W),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(k){var W,Y,z,re;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))W=0,Y=0,z=0,re=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(fe!==null)W=parseInt(fe[1]),Y=parseInt(fe[2]),z=parseInt(fe[3]),re=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)W=parseInt(fe[1]),Y=parseInt(fe[2]),z=parseInt(fe[3]),re=parseFloat(fe[4]);else{if(re=1,typeof k=="string"&&k.charAt(0)!=="#"){var me=new hN(k);k=me.ok?me.toHex():"#000000"}k.length===4?(W=k.substring(1,2),W+=W,Y=k.substring(2,3),Y+=Y,z=k.substring(3,4),z+=z):(W=k.substring(1,3),Y=k.substring(3,5),z=k.substring(5,7)),W=parseInt(W,16),Y=parseInt(Y,16),z=parseInt(z,16)}}return{r:W,g:Y,b:z,a:re,style:k}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(k,W,Y,z){if(isNaN(W)||isNaN(Y)||typeof k!="string")throw sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!g.call(this)){var re=ee(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;U.call(this,{text:k,x:W,y:Y,scale:fe,angle:re,align:this.textAlign,maxWidth:z})}},d.prototype.strokeText=function(k,W,Y,z){if(isNaN(W)||isNaN(Y)||typeof k!="string")throw sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){z=isNaN(z)?void 0:z;var re=ee(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;U.call(this,{text:k,x:W,y:Y,scale:fe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:z})}},d.prototype.measureText=function(k){if(typeof k!="string")throw sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Y=this.pdf.internal.scaleFactor,z=W.internal.getFontSize(),re=W.getStringUnitWidth(k)*z/W.internal.scaleFactor,fe=function(me){var Ce=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this};return new fe({width:re*=Math.round(96*Y/72*1e4)/1e4})},d.prototype.scale=function(k,W){if(isNaN(k)||isNaN(W))throw sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new a(k,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.rotate=function(k){if(isNaN(k))throw sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new a(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},d.prototype.translate=function(k,W){if(isNaN(k)||isNaN(W))throw sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new a(1,0,0,1,k,W);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.transform=function(k,W,Y,z,re,fe){if(isNaN(k)||isNaN(W)||isNaN(Y)||isNaN(z)||isNaN(re)||isNaN(fe))throw sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new a(k,W,Y,z,re,fe);this.ctx.transform=this.ctx.transform.multiply(me)},d.prototype.setTransform=function(k,W,Y,z,re,fe){k=isNaN(k)?1:k,W=isNaN(W)?0:W,Y=isNaN(Y)?0:Y,z=isNaN(z)?1:z,re=isNaN(re)?0:re,fe=isNaN(fe)?0:fe,this.ctx.transform=new a(k,W,Y,z,re,fe)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(k,W,Y,z,re,fe,me,Ce,Re){var Ae=this.pdf.getImageProperties(k),xe=1,Ne=1,Ye=1,_e=1;z!==void 0&&Ce!==void 0&&(Ye=Ce/z,_e=Re/re,xe=Ae.width/z*Ce/z,Ne=Ae.height/re*Re/re),fe===void 0&&(fe=W,me=Y,W=0,Y=0),z!==void 0&&Ce===void 0&&(Ce=z,Re=re),z===void 0&&Ce===void 0&&(Ce=Ae.width,Re=Ae.height);for(var Z,Je=this.ctx.transform.decompose(),At=ee(Je.rotate.shx),ke=new a,He=(ke=(ke=(ke=ke.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new o(fe-W*Ye,me-Y*_e,z*xe,re*Ne)),qe=N.call(this,He),Ke=[],st=0;st<qe.length;st+=1)Ke.indexOf(qe[st])===-1&&Ke.push(qe[st]);if(T(Ke),this.autoPaging)for(var pt=Ke[0],vt=Ke[Ke.length-1],at=pt;at<vt+1;at++){this.pdf.setPage(at);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=at===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=at===1?0:ht+(at-2)*bt;if(this.ctx.clip_path.length!==0){var Tr=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Z,this.posX+this.margin[3],-We+kt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Tr}var Lt=JSON.parse(JSON.stringify(He));Lt=y([Lt],this.posX+this.margin[3],-We+kt+this.ctx.prevPageLastElemOffset)[0];var fA=(at>pt||at<vt)&&_.call(this);fA&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,bt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,At),fA&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",He.x,He.y,He.w,He.h,null,null,At)};var N=function(k,W,Y){var z=[];W=W||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":z.push(Math.floor((k.y+re)/Y)+1);break;case"arc":z.push(Math.floor((k.y+re-k.radius)/Y)+1),z.push(Math.floor((k.y+re+k.radius)/Y)+1);break;case"qct":var fe=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);z.push(Math.floor((fe.y+re)/Y)+1),z.push(Math.floor((fe.y+fe.h+re)/Y)+1);break;case"bct":var me=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);z.push(Math.floor((me.y+re)/Y)+1),z.push(Math.floor((me.y+me.h+re)/Y)+1);break;case"rect":z.push(Math.floor((k.y+re)/Y)+1),z.push(Math.floor((k.y+k.h+re)/Y)+1)}for(var Ce=0;Ce<z.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<z[Ce];)v.call(this);return z},v=function(){var k=this.fillStyle,W=this.strokeStyle,Y=this.font,z=this.lineCap,re=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=W,this.font=Y,this.lineCap=z,this.lineWidth=re,this.lineJoin=fe},y=function(k,W,Y){for(var z=0;z<k.length;z++)switch(k[z].type){case"bct":k[z].x2+=W,k[z].y2+=Y;case"qct":k[z].x1+=W,k[z].y1+=Y;case"mt":case"lt":case"arc":default:k[z].x+=W,k[z].y+=Y}return k},T=function(k){return k.sort(function(W,Y){return W-Y})},V=function(k,W){for(var Y,z,re=this.fillStyle,fe=this.strokeStyle,me=this.lineCap,Ce=this.lineWidth,Re=Math.abs(Ce*this.ctx.transform.scaleX),Ae=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),Ye=[],_e=0;_e<Ne.length;_e++)if(Ne[_e].x!==void 0)for(var Z=N.call(this,Ne[_e]),Je=0;Je<Z.length;Je+=1)Ye.indexOf(Z[Je])===-1&&Ye.push(Z[Je]);for(var At=0;At<Ye.length;At++)for(;this.pdf.internal.getNumberOfPages()<Ye[At];)v.call(this);if(T(Ye),this.autoPaging)for(var ke=Ye[0],He=Ye[Ye.length-1],qe=ke;qe<He+1;qe++){this.pdf.setPage(qe),this.fillStyle=re,this.strokeStyle=fe,this.lineCap=me,this.lineWidth=Re,this.lineJoin=Ae;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=qe===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=qe===1?0:pt+(qe-2)*vt;if(this.ctx.clip_path.length!==0){var dt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Y,this.posX+this.margin[3],-at+st+this.ctx.prevPageLastElemOffset),D.call(this,k,!0),this.path=dt}if(z=JSON.parse(JSON.stringify(xe)),this.path=y(z,this.posX+this.margin[3],-at+st+this.ctx.prevPageLastElemOffset),W===!1||qe===0){var kt=(qe>ke||qe<He)&&_.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,vt,null).clip().discardPath()),D.call(this,k,W),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=Re,D.call(this,k,W),this.lineWidth=Ce;this.path=xe},D=function(k,W){if((k!=="stroke"||W||!E.call(this))&&(k==="stroke"||W||!g.call(this))){for(var Y,z,re=[],fe=this.path,me=0;me<fe.length;me++){var Ce=fe[me];switch(Ce.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Re=re.length;if(fe[me-1]&&!isNaN(fe[me-1].x)&&(Y=[Ce.x-fe[me-1].x,Ce.y-fe[me-1].y],Re>0)){for(;Re>=0;Re--)if(re[Re-1].close!==!0&&re[Re-1].begin!==!0){re[Re-1].deltas.push(Y),re[Re-1].abs.push(Ce);break}}break;case"bct":Y=[Ce.x1-fe[me-1].x,Ce.y1-fe[me-1].y,Ce.x2-fe[me-1].x,Ce.y2-fe[me-1].y,Ce.x-fe[me-1].x,Ce.y-fe[me-1].y],re[re.length-1].deltas.push(Y);break;case"qct":var Ae=fe[me-1].x+2/3*(Ce.x1-fe[me-1].x),xe=fe[me-1].y+2/3*(Ce.y1-fe[me-1].y),Ne=Ce.x+2/3*(Ce.x1-Ce.x),Ye=Ce.y+2/3*(Ce.y1-Ce.y),_e=Ce.x,Z=Ce.y;Y=[Ae-fe[me-1].x,xe-fe[me-1].y,Ne-fe[me-1].x,Ye-fe[me-1].y,_e-fe[me-1].x,Z-fe[me-1].y],re[re.length-1].deltas.push(Y);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(Ce)}}z=W?null:k==="stroke"?"stroke":"fill";for(var Je=!1,At=0;At<re.length;At++)if(re[At].arc)for(var ke=re[At].abs,He=0;He<ke.length;He++){var qe=ke[He];qe.type==="arc"?b.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,W,!Je):L.call(this,qe.x,qe.y),Je=!0}else if(re[At].close===!0)this.pdf.internal.out("h"),Je=!1;else if(re[At].begin!==!0){var Ke=re[At].start.x,st=re[At].start.y;$.call(this,re[At].deltas,Ke,st),Je=!0}z&&Q.call(this,z),W&&O.call(this)}},j=function(k){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-Y;case"top":return k+W-Y;case"hanging":return k+W-2*Y;case"middle":return k+W/2-Y;case"ideographic":return k;case"alphabetic":default:return k}},S=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(W,Y){this.colorStops.push([W,Y])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(k,W,Y,z,re,fe,me,Ce,Re){for(var Ae=se.call(this,Y,z,re,fe),xe=0;xe<Ae.length;xe++){var Ne=Ae[xe];xe===0&&(Re?x.call(this,Ne.x1+k,Ne.y1+W):L.call(this,Ne.x1+k,Ne.y1+W)),pe.call(this,k,W,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}Ce?O.call(this):Q.call(this,me)},Q=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(k,W){this.pdf.internal.out(r(k)+" "+n(W)+" m")},U=function(k){var W;switch(k.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Y=this.pdf.getTextDimensions(k.text),z=j.call(this,k.y),re=S.call(this,z)-Y.h,fe=this.ctx.transform.applyToPoint(new s(k.x,z)),me=this.ctx.transform.decompose(),Ce=new a;Ce=(Ce=(Ce=Ce.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Re,Ae,xe,Ne=this.ctx.transform.applyToRectangle(new o(k.x,z,Y.w,Y.h)),Ye=Ce.applyToRectangle(new o(k.x,re,Y.w,Y.h)),_e=N.call(this,Ye),Z=[],Je=0;Je<_e.length;Je+=1)Z.indexOf(_e[Je])===-1&&Z.push(_e[Je]);if(T(Z),this.autoPaging)for(var At=Z[0],ke=Z[Z.length-1],He=At;He<ke+1;He++){this.pdf.setPage(He);var qe=He===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[2],pt=st-this.margin[0],vt=this.pdf.internal.pageSize.width-this.margin[1],at=vt-this.margin[3],dt=He===1?0:Ke+(He-2)*pt;if(this.ctx.clip_path.length!==0){var kt=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Re,this.posX+this.margin[3],-1*dt+qe),D.call(this,"fill",!0),this.path=kt}var ht=y([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-dt+qe+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*k.scale),xe=this.lineWidth,this.lineWidth=xe*k.scale);var bt=this.autoPaging!=="text";if(bt||ht.y+ht.h<=st){if(bt||ht.y>=qe&&ht.x<=vt){var We=bt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||vt-ht.x)[0],Tr=y([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-dt+qe+this.ctx.prevPageLastElemOffset)[0],Lt=bt&&(He>At||He<ke)&&_.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,pt,null).clip().discardPath()),this.pdf.text(We,Tr.x,Tr.y,{angle:k.angle,align:W,renderingMode:k.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else ht.y<st&&(this.ctx.prevPageLastElemOffset+=st-ht.y);k.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=xe)}else k.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*k.scale),xe=this.lineWidth,this.lineWidth=xe*k.scale),this.pdf.text(k.text,fe.x+this.posX,fe.y+this.posY,{angle:k.angle,align:W,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=xe)},L=function(k,W,Y,z){Y=Y||0,z=z||0,this.pdf.internal.out(r(k+Y)+" "+n(W+z)+" l")},$=function(k,W,Y){return this.pdf.lines(k,W,Y,null,null)},pe=function(k,W,Y,z,re,fe,me,Ce){this.pdf.internal.out([e(A(Y+k)),e(i(z+W)),e(A(re+k)),e(i(fe+W)),e(A(me+k)),e(i(Ce+W)),"c"].join(" "))},se=function(k,W,Y,z){for(var re=2*Math.PI,fe=Math.PI/2;W>Y;)W-=re;var me=Math.abs(Y-W);me<re&&z&&(me=re-me);for(var Ce=[],Re=z?-1:1,Ae=W;me>1e-5;){var xe=Ae+Re*Math.min(me,fe);Ce.push(ge.call(this,k,Ae,xe)),me-=Math.abs(xe-Ae),Ae=xe}return Ce},ge=function(k,W,Y){var z=(Y-W)/2,re=k*Math.cos(z),fe=k*Math.sin(z),me=re,Ce=-fe,Re=me*me+Ce*Ce,Ae=Re+me*re+Ce*fe,xe=4/3*(Math.sqrt(2*Re*Ae)-Ae)/(me*fe-Ce*re),Ne=me-xe*Ce,Ye=Ce+xe*me,_e=Ne,Z=-Ye,Je=z+W,At=Math.cos(Je),ke=Math.sin(Je);return{x1:k*Math.cos(W),y1:k*Math.sin(W),x2:Ne*At-Ye*ke,y2:Ne*ke+Ye*At,x3:_e*At-Z*ke,y3:_e*ke+Z*At,x4:k*Math.cos(Y),y4:k*Math.sin(Y)}},ee=function(k){return 180*k/Math.PI},le=function(k,W,Y,z,re,fe){var me=k+.5*(Y-k),Ce=W+.5*(z-W),Re=re+.5*(Y-re),Ae=fe+.5*(z-fe),xe=Math.min(k,re,me,Re),Ne=Math.max(k,re,me,Re),Ye=Math.min(W,fe,Ce,Ae),_e=Math.max(W,fe,Ce,Ae);return new o(xe,Ye,Ne-xe,_e-Ye)},he=function(k,W,Y,z,re,fe,me,Ce){var Re,Ae,xe,Ne,Ye,_e,Z,Je,At,ke,He,qe,Ke,st,pt=Y-k,vt=z-W,at=re-Y,dt=fe-z,kt=me-re,ht=Ce-fe;for(Ae=0;Ae<41;Ae++)At=(Z=(xe=k+(Re=Ae/40)*pt)+Re*((Ye=Y+Re*at)-xe))+Re*(Ye+Re*(re+Re*kt-Ye)-Z),ke=(Je=(Ne=W+Re*vt)+Re*((_e=z+Re*dt)-Ne))+Re*(_e+Re*(fe+Re*ht-_e)-Je),Ae==0?(He=At,qe=ke,Ke=At,st=ke):(He=Math.min(He,At),qe=Math.min(qe,ke),Ke=Math.max(Ke,At),st=Math.max(st,ke));return new o(Math.round(He),Math.round(qe),Math.round(Ke-He),Math.round(st-qe))},Ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,W,Y=(k=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:W}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(ct.API),function(t){var e=function(i){var s,o,a,l,h,d,p,g,E,_;for(o=[],a=0,l=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;l>a;a+=4)(h=(i.charCodeAt(a)<<24)+(i.charCodeAt(a+1)<<16)+(i.charCodeAt(a+2)<<8)+i.charCodeAt(a+3))!==0?(d=(h=((h=((h=((h=(h-(_=h%85))/85)-(E=h%85))/85)-(g=h%85))/85)-(p=h%85))/85)%85,o.push(d+33,p+33,g+33,E+33,_+33)):o.push(122);return function(N,v){for(var y=v;y>0;y--)N.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,a,l,h,d=String,p="length",g=255,E="charCodeAt",_="slice",N="replace";for(i[_](-2),i=i[_](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),a=[],l=0,h=(i+=s="uuuuu"[_](i[p]%5||5))[p];h>l;l+=5)o=52200625*(i[E](l)-33)+614125*(i[E](l+1)-33)+7225*(i[E](l+2)-33)+85*(i[E](l+3)-33)+(i[E](l+4)-33),a.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(v,y){for(var T=y;T>0;T--)v.pop()}(a,s[p]),d.fromCharCode.apply(d,a)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",a=0;a<i.length;a+=2)o+=String.fromCharCode("0x"+(i[a]+i[a+1]));return o},A=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=A2(s)).reduce(function(a,l){return a+String.fromCharCode(l)},"")};t.processDataByFilters=function(i,s){var o=0,a=i||"",l=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":a=r(a),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=e(a),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=n(a),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=A(a),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:a,reverseChain:l.reverse().join(" ")}}}(ct.API),function(t){t.loadFile=function(e,r,n){return function(A,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(a,l,h){var d=new XMLHttpRequest,p=0,g=function(E){var _=E.length,N=[],v=String.fromCharCode;for(p=0;p<_;p+=1)N.push(v(255&E.charCodeAt(p)));return N.join("")};if(d.open("GET",a,!l),d.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(d.onload=function(){d.status===200?h(g(this.responseText)):h(void 0)}),d.send(null),l&&d.status===200)return g(d.responseText)}(A,i,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(ct.API),function(t){function e(){return(ft.html2canvas?Promise.resolve(ft.html2canvas):Wc(()=>Promise.resolve().then(()=>rN),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(ft.DOMPurify?Promise.resolve(ft.DOMPurify):Wc(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Yt(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},A=function(s,o){var a=document.createElement(s);for(var l in o.className&&(a.className=o.className),o.innerHTML&&o.dompurify&&(a.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)a.style[l]=o.style[l];return a},i=function s(o){var a=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),l=s.convert(Promise.resolve(),a);return l=(l=l.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(a){switch(n(a)){case"string":return"string";case"element":return a.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(a){return this.set({src:A("div",{innerHTML:s,dompurify:a})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function a(l,h){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(a(p,h));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=A("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=A("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(A("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,o(this.prop.container,a)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var a=this.opt.jsPDF,l=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,a.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,a.context2d.margin=this.opt.margin,a.context2d.fontFaces=l,l)for(var p=0;p<l.length;++p){var g=l[p],E=g.src.find(function(_){return _.format==="truetype"});E&&a.addFont(E.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,a.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,a){return(a=a||"pdf").toLowerCase()==="img"||a.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(a){if(a in i.template.prop)return function(){this.prop[a]=s[a]};switch(a){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[a]=s[a]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var a=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(a):a})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(a,l){return Math.floor(a*l/72*96)}return this.then(function(){(s=s||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,a,l){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),a!=null&&(this.progress.n=a),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,a,l){return this.setProgress(s?this.progress.val+s:null,o||null,a?this.progress.n+a:null,l?this.progress.stack.concat(l):null)},i.prototype.then=function(s,o){var a=this;return this.thenCore(s,o,function(l,h){return a.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(d){return a.updateProgress(null,l),d}).then(l,h).then(function(d){return a.updateProgress(1),d})})},i.prototype.thenCore=function(s,o,a){a=a||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),h=a.call(l,s,o);return i.convert(h,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(a){o=o.thenCore(a)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ct.getPageSize=function(s,o,a){if(Yt(s)==="object"){var l=s;s=l.orientation,o=l.unit||o,a=l.format||a}o=o||"mm",a=a||"a4",s=(""+(s||"P")).toLowerCase();var h,d=(""+a).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+o}var g,E=0,_=0;if(p.hasOwnProperty(d))E=p[d][1]/h,_=p[d][0]/h;else try{E=a[1],_=a[0]}catch{throw new Error("Invalid format: "+a)}if(s==="p"||s==="portrait")s="p",_>E&&(g=_,_=E,E=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",E>_&&(g=_,_=E,E=g)}return{width:_,height:E,unit:o,k:h,orientation:s}},t.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(u2):null;var a=new i(o);return o.worker?a:a.from(s).doCallback()}}(ct.API),ct.API.addJS=function(t){return wI=t,this.internal.events.subscribe("postPutResources",function(){Mg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Mg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Mg!==void 0&&mI!==void 0&&this.internal.out("/Names <</JavaScript "+Mg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var A=r.outline.render().split(/\r\n/),i=0;i<A.length;i++){var s=A[i],o=n.exec(s);if(o!=null){var a=o[1];r.internal.newObjectDeferredBegin(a,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,h=[];for(i=0;i<l;i++){var d=r.internal.newObject();h.push(d);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,A,i){var s={title:A,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var A=0;A<n.children.length;A++)this.genIds_r(n.children[A])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var A=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var a=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+A(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,A){for(var i=0;i<A.children.length;i++)n.count++,this.count_r(n,A.children[i]);return n.count}}])}(ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,A,i,s,o){var a,l=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(a=function(d){for(var p,g=256*d.charCodeAt(4)+d.charCodeAt(5),E=d.length,_={width:0,height:0,numcomponents:1},N=4;N<E;N+=2){if(N+=g,e.indexOf(d.charCodeAt(N+1))!==-1){p=256*d.charCodeAt(N+5)+d.charCodeAt(N+6),_={width:256*d.charCodeAt(N+7)+d.charCodeAt(N+8),height:p,numcomponents:d.charCodeAt(N+9)};break}g=256*d.charCodeAt(N+2)+d.charCodeAt(N+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:a.width,height:a.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:A}}return h}}(ct.API);var hc,Hg,vI,yI,BI,Gq=function(){var t,e,r;function n(i){var s,o,a,l,h,d,p,g,E,_,N,v,y,T;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),E=(function(){var V,D;for(D=[],V=0;V<4;++V)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),l=this.readUInt16()||100,d.delay=1e3*h/l,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,s-=4),i=(d!=null?d.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(a=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>a)throw new Error("More transparent colors than palette size");if((_=a-this.transparency.indexed.length)>0)for(y=0;0<=_?y<_:y>_;0<=_?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":p=(N=this.read(s)).indexOf(0),g=String.fromCharCode.apply(String,N.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,N.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),a=0,l=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function h(d,p,g,E){var _,N,v,y,T,V,D,j,S,b,Q,O,x,U,L,$,pe,se,ge,ee,le,he=Math.ceil((l.width-d)/g),Ue=Math.ceil((l.height-p)/E),k=l.width==he&&l.height==Ue;for(U=s*he,O=k?o:new Uint8Array(U*Ue),V=i.length,x=0,N=0;x<Ue&&a<V;){switch(i[a++]){case 0:for(y=pe=0;pe<U;y=pe+=1)O[N++]=i[a++];break;case 1:for(y=se=0;se<U;y=se+=1)_=i[a++],T=y<s?0:O[N-s],O[N++]=(_+T)%256;break;case 2:for(y=ge=0;ge<U;y=ge+=1)_=i[a++],v=(y-y%s)/s,L=x&&O[(x-1)*U+v*s+y%s],O[N++]=(L+_)%256;break;case 3:for(y=ee=0;ee<U;y=ee+=1)_=i[a++],v=(y-y%s)/s,T=y<s?0:O[N-s],L=x&&O[(x-1)*U+v*s+y%s],O[N++]=(_+Math.floor((T+L)/2))%256;break;case 4:for(y=le=0;le<U;y=le+=1)_=i[a++],v=(y-y%s)/s,T=y<s?0:O[N-s],x===0?L=$=0:(L=O[(x-1)*U+v*s+y%s],$=v&&O[(x-1)*U+(v-1)*s+y%s]),D=T+L-$,j=Math.abs(D-T),b=Math.abs(D-L),Q=Math.abs(D-$),S=j<=b&&j<=Q?T:b<=Q?L:$,O[N++]=(_+S)%256;break;default:throw new Error("Invalid filter algorithm: "+i[a-1])}if(!k){var W=((p+x*E)*l.width+d)*s,Y=x*U;for(y=0;y<he;y+=1){for(var z=0;z<s;z+=1)o[W++]=O[Y++];W+=(g-1)*s}}x++}}return i=Cq(i),l.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,a,l,h,d,p,g;for(o=this.palette,h=this.transparency.indexed||[],l=new Uint8Array((h.length||0)+o.length),a=0,i=0,s=d=0,p=o.length;d<p;s=d+=3)l[a++]=o[s],l[a++]=o[s+1],l[a++]=o[s+2],l[a++]=(g=h[i++])!=null?g:255;return l},n.prototype.copyToImageData=function(i,s){var o,a,l,h,d,p,g,E,_,N,v;if(a=this.colors,_=null,o=this.hasAlphaChannel,this.palette.length&&(_=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),a=4,o=!0),E=(l=i.data||i).length,d=_||s,h=p=0,a===1)for(;h<E;)g=_?4*s[h/4]:p,N=d[g++],l[h++]=N,l[h++]=N,l[h++]=N,l[h++]=o?d[g++]:255,p=g;else for(;h<E;)g=_?4*s[h/4]:p,l[h++]=d[g++],l[h++]=d[g++],l[h++]=d[g++],l[h++]=o?d[g++]:255,p=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var A=function(){if(Object.prototype.toString.call(ft)==="[object Window]"){try{e=ft.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return A(),t=function(i){var s;if(A()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,a,l,h,d,p,g;if(this.animation){for(g=[],o=h=0,d=(p=this.animation.frames).length;h<d;o=++h)s=p[o],a=i.createImageData(s.width,s.height),l=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(a,l),s.imageData=a,g.push(s.image=t(a));return g}},n.prototype.renderFrame=function(i,s){var o,a,l;return o=(a=this.animation.frames)[s],l=a[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?i.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&i.putImageData(l.imageData,l.xOffset,l.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,a,l,h,d,p=this;return o=0,d=this.animation,l=d.numFrames,a=d.frames,h=d.numPlays,(s=function(){var g,E;if(g=o++%l,E=a[g],p.renderFrame(i,g),l>1&&o/l<h)return p.animation._timeout=setTimeout(s,E.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function qq(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,A=t[e++],i=A>>7,s=1<<(7&A)+1;t[e++],t[e++];var o=null,a=null;i&&(o=e,a=s,e+=3*s);var l=!0,h=[],d=0,p=null,g=0,E=null;for(this.width=r,this.height=n;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];d=t[e++]|t[e++]<<8,p=t[e++],!(1&_)&&(p=null),g=_>>2&7,e++;break;case 254:for(;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,V=t[e++],D=V>>6&1,j=1<<(7&V)+1,S=o,b=a,Q=!1;V>>7&&(Q=!0,S=e,b=j,e+=3*j);var O=e;for(e++;;){var x;if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}h.push({x:N,y:v,width:y,height:T,has_local_palette:Q,palette_offset:S,palette_size:b,data_offset:O,data_length:e-O,transparent_index:p,interlaced:!!D,delay:d,disposal:g});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return E},this.frameInfo=function(U){if(U<0||U>=h.length)throw new Error("Frame index out of range.");return h[U]},this.decodeAndBlitFrameBGRA=function(U,L){var $=this.frameInfo(U),pe=$.width*$.height,se=new Uint8Array(pe);CI(t,$.data_offset,se,pe);var ge=$.palette_offset,ee=$.transparent_index;ee===null&&(ee=256);var le=$.width,he=r-le,Ue=le,k=4*($.y*r+$.x),W=4*(($.y+$.height)*r+$.x),Y=k,z=4*he;$.interlaced===!0&&(z+=4*r*7);for(var re=8,fe=0,me=se.length;fe<me;++fe){var Ce=se[fe];if(Ue===0&&(Ue=le,(Y+=z)>=W&&(z=4*he+4*r*(re-1),Y=k+(le+he)*(re<<1),re>>=1)),Ce===ee)Y+=4;else{var Re=t[ge+3*Ce],Ae=t[ge+3*Ce+1],xe=t[ge+3*Ce+2];L[Y++]=xe,L[Y++]=Ae,L[Y++]=Re,L[Y++]=255}--Ue}},this.decodeAndBlitFrameRGBA=function(U,L){var $=this.frameInfo(U),pe=$.width*$.height,se=new Uint8Array(pe);CI(t,$.data_offset,se,pe);var ge=$.palette_offset,ee=$.transparent_index;ee===null&&(ee=256);var le=$.width,he=r-le,Ue=le,k=4*($.y*r+$.x),W=4*(($.y+$.height)*r+$.x),Y=k,z=4*he;$.interlaced===!0&&(z+=4*r*7);for(var re=8,fe=0,me=se.length;fe<me;++fe){var Ce=se[fe];if(Ue===0&&(Ue=le,(Y+=z)>=W&&(z=4*he+4*r*(re-1),Y=k+(le+he)*(re<<1),re>>=1)),Ce===ee)Y+=4;else{var Re=t[ge+3*Ce],Ae=t[ge+3*Ce+1],xe=t[ge+3*Ce+2];L[Y++]=Re,L[Y++]=Ae,L[Y++]=xe,L[Y++]=255}--Ue}}}function CI(t,e,r,n){for(var A=t[e++],i=1<<A,s=i+1,o=s+1,a=A+1,l=(1<<a)-1,h=0,d=0,p=0,g=t[e++],E=new Int32Array(4096),_=null;;){for(;h<16&&g!==0;)d|=t[e++]<<h,h+=8,g===1?g=t[e++]:--g;if(h<a)break;var N=d&l;if(d>>=a,h-=a,N!==i){if(N===s)break;for(var v=N<o?N:_,y=0,T=v;T>i;)T=E[T]>>8,++y;var V=T;if(p+y+(v!==N?1:0)>n)return void sr.log("Warning, gif stream longer than expected.");r[p++]=V;var D=p+=y;for(v!==N&&(r[p++]=V),T=v;y--;)T=E[T],r[--D]=255&T,T>>=8;_!==null&&o<4096&&(E[o++]=_<<8|V,o>=l+1&&a<12&&(++a,l=l<<1|1)),_=N}else o=s+1,l=(1<<(a=A+1))-1,_=null}return p!==n&&sr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function nv(t){var e,r,n,A,i,s=Math.floor,o=new Array(64),a=new Array(64),l=new Array(64),h=new Array(64),d=new Array(65535),p=new Array(65535),g=new Array(64),E=new Array(64),_=[],N=0,v=7,y=new Array(64),T=new Array(64),V=new Array(64),D=new Array(256),j=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],b=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(k,W){for(var Y=0,z=0,re=new Array,fe=1;fe<=16;fe++){for(var me=1;me<=k[fe];me++)re[W[z]]=[],re[W[z]][0]=Y,re[W[z]][1]=fe,z++,Y++;Y*=2}return re}function ge(k){for(var W=k[0],Y=k[1]-1;Y>=0;)W&1<<Y&&(N|=1<<v),Y--,--v<0&&(N==255?(ee(255),ee(0)):ee(N),v=7,N=0)}function ee(k){_.push(k)}function le(k){ee(k>>8&255),ee(255&k)}function he(k,W,Y,z,re){for(var fe,me=re[0],Ce=re[240],Re=function(ke,He){var qe,Ke,st,pt,vt,at,dt,kt,ht,bt,We=0;for(ht=0;ht<8;++ht){qe=ke[We],Ke=ke[We+1],st=ke[We+2],pt=ke[We+3],vt=ke[We+4],at=ke[We+5],dt=ke[We+6];var Tr=qe+(kt=ke[We+7]),Lt=qe-kt,fA=Ke+dt,Vt=Ke-dt,or=st+at,YA=st-at,Pt=pt+vt,es=pt-vt,dr=Tr+Pt,Bn=Tr-Pt,NA=fA+or,ar=fA-or;ke[We]=dr+NA,ke[We+4]=dr-NA;var lt=.707106781*(ar+Bn);ke[We+2]=Bn+lt,ke[We+6]=Bn-lt;var Dt=.382683433*((dr=es+YA)-(ar=Vt+Lt)),ZA=.5411961*dr+Dt,Wr=1.306562965*ar+Dt,kn=.707106781*(NA=YA+Vt),QA=Lt+kn,et=Lt-kn;ke[We+5]=et+ZA,ke[We+3]=et-ZA,ke[We+1]=QA+Wr,ke[We+7]=QA-Wr,We+=8}for(We=0,ht=0;ht<8;++ht){qe=ke[We],Ke=ke[We+8],st=ke[We+16],pt=ke[We+24],vt=ke[We+32],at=ke[We+40],dt=ke[We+48];var pA=qe+(kt=ke[We+56]),Dn=qe-kt,$r=Ke+dt,kr=Ke-dt,Ur=st+at,Jr=st-at,So=pt+vt,Bi=pt-vt,On=pA+So,gA=pA-So,Zn=$r+Ur,eA=$r-Ur;ke[We]=On+Zn,ke[We+32]=On-Zn;var Dr=.707106781*(eA+gA);ke[We+16]=gA+Dr,ke[We+48]=gA-Dr;var LA=.382683433*((On=Bi+Jr)-(eA=kr+Dn)),ts=.5411961*On+LA,rs=1.306562965*eA+LA,ns=.707106781*(Zn=Jr+kr),Qs=Dn+ns,Ls=Dn-ns;ke[We+40]=Ls+ts,ke[We+24]=Ls-ts,ke[We+8]=Qs+rs,ke[We+56]=Qs-rs,We++}for(ht=0;ht<64;++ht)bt=ke[ht]*He[ht],g[ht]=bt>0?bt+.5|0:bt-.5|0;return g}(k,W),Ae=0;Ae<64;++Ae)E[S[Ae]]=Re[Ae];var xe=E[0]-Y;Y=E[0],xe==0?ge(z[0]):(ge(z[p[fe=32767+xe]]),ge(d[fe]));for(var Ne=63;Ne>0&&E[Ne]==0;)Ne--;if(Ne==0)return ge(me),Y;for(var Ye,_e=1;_e<=Ne;){for(var Z=_e;E[_e]==0&&_e<=Ne;)++_e;var Je=_e-Z;if(Je>=16){Ye=Je>>4;for(var At=1;At<=Ye;++At)ge(Ce);Je&=15}fe=32767+E[_e],ge(re[(Je<<4)+p[fe]]),ge(d[fe]),_e++}return Ne!=63&&ge(me),Y}function Ue(k){k=Math.min(Math.max(k,1),100),i!=k&&(function(W){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var re=s((Y[z]*W+50)/100);re=Math.min(Math.max(re,1),255),o[S[z]]=re}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var Ce=s((fe[me]*W+50)/100);Ce=Math.min(Math.max(Ce,1),255),a[S[me]]=Ce}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,xe=0;xe<8;xe++)for(var Ne=0;Ne<8;Ne++)l[Ae]=1/(o[S[Ae]]*Re[xe]*Re[Ne]*8),h[Ae]=1/(a[S[Ae]]*Re[xe]*Re[Ne]*8),Ae++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,W){W&&Ue(W),_=new Array,N=0,v=7,le(65496),le(65504),le(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),le(1),le(1),ee(0),ee(0),function(){le(65499),le(132),ee(0);for(var Ke=0;Ke<64;Ke++)ee(o[Ke]);ee(1);for(var st=0;st<64;st++)ee(a[st])}(),function(Ke,st){le(65472),le(17),ee(8),le(st),le(Ke),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(k.width,k.height),function(){le(65476),le(418),ee(0);for(var Ke=0;Ke<16;Ke++)ee(b[Ke+1]);for(var st=0;st<=11;st++)ee(Q[st]);ee(16);for(var pt=0;pt<16;pt++)ee(O[pt+1]);for(var vt=0;vt<=161;vt++)ee(x[vt]);ee(1);for(var at=0;at<16;at++)ee(U[at+1]);for(var dt=0;dt<=11;dt++)ee(L[dt]);ee(17);for(var kt=0;kt<16;kt++)ee($[kt+1]);for(var ht=0;ht<=161;ht++)ee(pe[ht])}(),le(65498),le(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var Y=0,z=0,re=0;N=0,v=7,this.encode.displayName="_encode_";for(var fe,me,Ce,Re,Ae,xe,Ne,Ye,_e,Z=k.data,Je=k.width,At=k.height,ke=4*Je,He=0;He<At;){for(fe=0;fe<ke;){for(Ae=ke*He+fe,Ne=-1,Ye=0,_e=0;_e<64;_e++)xe=Ae+(Ye=_e>>3)*ke+(Ne=4*(7&_e)),He+Ye>=At&&(xe-=ke*(He+1+Ye-At)),fe+Ne>=ke&&(xe-=fe+Ne-ke+4),me=Z[xe++],Ce=Z[xe++],Re=Z[xe++],y[_e]=(j[me]+j[Ce+256>>0]+j[Re+512>>0]>>16)-128,T[_e]=(j[me+768>>0]+j[Ce+1024>>0]+j[Re+1280>>0]>>16)-128,V[_e]=(j[me+1280>>0]+j[Ce+1536>>0]+j[Re+1792>>0]>>16)-128;Y=he(y,l,Y,e,n),z=he(T,h,z,r,A),re=he(V,h,re,r,A),fe+=32}He+=8}if(v>=0){var qe=[];qe[1]=v+1,qe[0]=(1<<v+1)-1,ge(qe)}return le(65497),new Uint8Array(_)},t=t||50,function(){for(var k=String.fromCharCode,W=0;W<256;W++)D[W]=k(W)}(),e=se(b,Q),r=se(U,L),n=se(O,x),A=se($,pe),function(){for(var k=1,W=2,Y=1;Y<=15;Y++){for(var z=k;z<W;z++)p[32767+z]=Y,d[32767+z]=[],d[32767+z][1]=Y,d[32767+z][0]=z;for(var re=-(W-1);re<=-k;re++)p[32767+re]=Y,d[32767+re]=[],d[32767+re][1]=Y,d[32767+re][0]=W-1+re;k<<=1,W<<=1}}(),function(){for(var k=0;k<256;k++)j[k]=19595*k,j[k+256>>0]=38470*k,j[k+512>>0]=7471*k+32768,j[k+768>>0]=-11059*k,j[k+1024>>0]=-21709*k,j[k+1280>>0]=32768*k+8421375,j[k+1536>>0]=-27439*k,j[k+1792>>0]=-5329*k}(),Ue(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _I(t){function e(b){if(!b)throw Error("assert :P")}function r(b,Q,O){for(var x=0;4>x;x++)if(b[Q+x]!=O.charCodeAt(x))return!0;return!1}function n(b,Q,O,x,U){for(var L=0;L<U;L++)b[Q+L]=O[x+L]}function A(b,Q,O,x){for(var U=0;U<x;U++)b[Q+U]=O}function i(b){return new Int32Array(b)}function s(b,Q){for(var O=[],x=0;x<b;x++)O.push(new Q);return O}function o(b,Q){var O=[];return function x(U,L,$){for(var pe=$[L],se=0;se<pe&&(U.push($.length>L+1?[]:new Q),!($.length<L+1));se++)x(U[se],L+1,$)}(O,0,b),O}var a=function(){var b=this;function Q(u,f){for(var w=1<<f-1>>>0;u&w;)w>>>=1;return w?(u&w-1)+w:u}function O(u,f,w,I,R){e(!(I%w));do u[f+(I-=w)]=R;while(0<I)}function x(u,f,w,I,R){if(e(2328>=R),512>=R)var M=i(512);else if((M=i(R))==null)return 0;return function(H,G,q,J,ie,we){var ve,de,Te=G,Ee=1<<q,oe=i(16),ae=i(16);for(e(ie!=0),e(J!=null),e(H!=null),e(0<q),de=0;de<ie;++de){if(15<J[de])return 0;++oe[J[de]]}if(oe[0]==ie)return 0;for(ae[1]=0,ve=1;15>ve;++ve){if(oe[ve]>1<<ve)return 0;ae[ve+1]=ae[ve]+oe[ve]}for(de=0;de<ie;++de)ve=J[de],0<J[de]&&(we[ae[ve]++]=de);if(ae[15]==1)return(J=new U).g=0,J.value=we[0],O(H,Te,1,Ee,J),Ee;var Fe,Qe=-1,Se=Ee-1,Xe=0,Ve=1,ut=1,Ge=1<<q;for(de=0,ve=1,ie=2;ve<=q;++ve,ie<<=1){if(Ve+=ut<<=1,0>(ut-=oe[ve]))return 0;for(;0<oe[ve];--oe[ve])(J=new U).g=ve,J.value=we[de++],O(H,Te+Xe,ie,Ge,J),Xe=Q(Xe,ve)}for(ve=q+1,ie=2;15>=ve;++ve,ie<<=1){if(Ve+=ut<<=1,0>(ut-=oe[ve]))return 0;for(;0<oe[ve];--oe[ve]){if(J=new U,(Xe&Se)!=Qe){for(Te+=Ge,Fe=1<<(Qe=ve)-q;15>Qe&&!(0>=(Fe-=oe[Qe]));)++Qe,Fe<<=1;Ee+=Ge=1<<(Fe=Qe-q),H[G+(Qe=Xe&Se)].g=Fe+q,H[G+Qe].value=Te-G-Qe}J.g=ve-q,J.value=we[de++],O(H,Te+(Xe>>q),ie,Ge,J),Xe=Q(Xe,ve)}}return Ve!=2*ae[15]-1?0:Ee}(u,f,w,I,R,M)}function U(){this.value=this.g=0}function L(){this.value=this.g=0}function $(){this.G=s(5,U),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(En,L)}function pe(u,f,w,I){e(u!=null),e(f!=null),e(2147483648>I),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=w,u.Jd=f,u.Yc=w+I,u.Zc=4<=I?w+I-4+1:w,fe(u)}function se(u,f){for(var w=0;0<f--;)w|=Ce(u,128)<<f;return w}function ge(u,f){var w=se(u,f);return me(u)?-w:w}function ee(u,f,w,I){var R,M=0;for(e(u!=null),e(f!=null),e(4294967288>I),u.Sb=I,u.Ra=0,u.u=0,u.h=0,4<I&&(I=4),R=0;R<I;++R)M+=f[w+R]<<8*R;u.Ra=M,u.bb=I,u.oa=f,u.pa=w}function le(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<ju-8>>>0,++u.bb,u.u-=8;Y(u)&&(u.h=1,u.u=0)}function he(u,f){if(e(0<=f),!u.h&&f<=Vu){var w=W(u)&Hu[f];return u.u+=f,le(u),w}return u.h=1,u.u=0}function Ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(u){return u.Ra>>>(u.u&ju-1)>>>0}function Y(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>ju}function z(u,f){u.u=f,u.h=Y(u)}function re(u){u.u>=Rh&&(e(u.u>=Rh),le(u))}function fe(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function me(u){return se(u,1)}function Ce(u,f){var w=u.Ca;0>u.b&&fe(u);var I=u.b,R=w*f>>>8,M=(u.I>>>I>R)+0;for(M?(w-=R,u.I-=R+1<<I>>>0):w=R+1,I=w,R=0;256<=I;)R+=8,I>>=8;return I=7^R+wA[I],u.b-=I,u.Ca=(w<<I)-1,M}function Re(u,f,w){u[f+0]=w>>24&255,u[f+1]=w>>16&255,u[f+2]=w>>8&255,u[f+3]=w>>0&255}function Ae(u,f){return u[f+0]<<0|u[f+1]<<8}function xe(u,f){return Ae(u,f)|u[f+2]<<16}function Ne(u,f){return Ae(u,f)|Ae(u,f+2)<<16}function Ye(u,f){var w=1<<f;return e(u!=null),e(0<f),u.X=i(w),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function _e(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),n(f.X,0,u.X,0,1<<f.Xa)}function Z(){this.X=[],this.Xa=this.Mb=0}function Je(u,f,w,I){e(w!=null),e(I!=null);var R=w[0],M=I[0];return R==0&&(R=(u*M+f/2)/f),M==0&&(M=(f*R+u/2)/u),0>=R||0>=M?0:(w[0]=R,I[0]=M,1)}function At(u,f){return u+(1<<f)-1>>>f}function ke(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function He(u,f){b[f]=function(w,I,R,M,H,G,q){var J;for(J=0;J<H;++J){var ie=b[u](G[q+J-1],R,M+J);G[q+J]=ke(w[I+J],ie)}}}function qe(){this.ud=this.hd=this.jd=0}function Ke(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function st(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function pt(u,f){return st(u+(u-f+.5>>1))}function vt(u,f,w){return Math.abs(f-w)-Math.abs(u-w)}function at(u,f,w,I,R,M,H){for(I=M[H-1],w=0;w<R;++w)M[H+w]=I=ke(u[f+w],I)}function dt(u,f,w,I,R){var M;for(M=0;M<w;++M){var H=u[f+M],G=H>>8&255,q=16711935&(q=(q=16711935&H)+((G<<16)+G));I[R+M]=(4278255360&H)+q>>>0}}function kt(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function ht(u,f,w,I,R,M){var H;for(H=0;H<I;++H){var G=f[w+H],q=G>>>8,J=G,ie=255&(ie=(ie=G>>>16)+((u.jd<<24>>24)*(q<<24>>24)>>>5));J=255&(J=(J=J+((u.hd<<24>>24)*(q<<24>>24)>>>5))+((u.ud<<24>>24)*(ie<<24>>24)>>>5)),R[M+H]=(4278255360&G)+(ie<<16)+J}}function bt(u,f,w,I,R){b[f]=function(M,H,G,q,J,ie,we,ve,de){for(q=we;q<ve;++q)for(we=0;we<de;++we)J[ie++]=R(G[I(M[H++])])},b[u]=function(M,H,G,q,J,ie,we){var ve=8>>M.b,de=M.Ea,Te=M.K[0],Ee=M.w;if(8>ve)for(M=(1<<M.b)-1,Ee=(1<<ve)-1;H<G;++H){var oe,ae=0;for(oe=0;oe<de;++oe)oe&M||(ae=I(q[J++])),ie[we++]=R(Te[ae&Ee]),ae>>=ve}else b["VP8LMapColor"+w](q,J,Te,Ee,ie,we,H,G,de)}}function We(u,f,w,I,R){for(w=f+w;f<w;){var M=u[f++];I[R++]=M>>16&255,I[R++]=M>>8&255,I[R++]=M>>0&255}}function Tr(u,f,w,I,R){for(w=f+w;f<w;){var M=u[f++];I[R++]=M>>16&255,I[R++]=M>>8&255,I[R++]=M>>0&255,I[R++]=M>>24&255}}function Lt(u,f,w,I,R){for(w=f+w;f<w;){var M=(H=u[f++])>>16&240|H>>12&15,H=H>>0&240|H>>28&15;I[R++]=M,I[R++]=H}}function fA(u,f,w,I,R){for(w=f+w;f<w;){var M=(H=u[f++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;I[R++]=M,I[R++]=H}}function Vt(u,f,w,I,R){for(w=f+w;f<w;){var M=u[f++];I[R++]=M>>0&255,I[R++]=M>>8&255,I[R++]=M>>16&255}}function or(u,f,w,I,R,M){if(M==0)for(w=f+w;f<w;)Re(I,((M=u[f++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),R+=32;else n(I,R,u,f,w)}function YA(u,f){b[f][0]=b[u+"0"],b[f][1]=b[u+"1"],b[f][2]=b[u+"2"],b[f][3]=b[u+"3"],b[f][4]=b[u+"4"],b[f][5]=b[u+"5"],b[f][6]=b[u+"6"],b[f][7]=b[u+"7"],b[f][8]=b[u+"8"],b[f][9]=b[u+"9"],b[f][10]=b[u+"10"],b[f][11]=b[u+"11"],b[f][12]=b[u+"12"],b[f][13]=b[u+"13"],b[f][14]=b[u+"0"],b[f][15]=b[u+"0"]}function Pt(u){return u==xw||u==Fw||u==Tp||u==Sw}function es(){this.eb=[],this.size=this.A=this.fb=0}function dr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new es,this.f.kb=new dr,this.sd=null}function NA(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ar(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Dt(u,f){var w=u.T,I=f.ba.f.RGBA,R=I.eb,M=I.fb+u.ka*I.A,H=si[f.ba.S],G=u.y,q=u.O,J=u.f,ie=u.N,we=u.ea,ve=u.W,de=f.cc,Te=f.dc,Ee=f.Mc,oe=f.Nc,ae=u.ka,Fe=u.ka+u.T,Qe=u.U,Se=Qe+1>>1;for(ae==0?H(G,q,null,null,J,ie,we,ve,J,ie,we,ve,R,M,null,null,Qe):(H(f.ec,f.fc,G,q,de,Te,Ee,oe,J,ie,we,ve,R,M-I.A,R,M,Qe),++w);ae+2<Fe;ae+=2)de=J,Te=ie,Ee=we,oe=ve,ie+=u.Rc,ve+=u.Rc,M+=2*I.A,H(G,(q+=2*u.fa)-u.fa,G,q,de,Te,Ee,oe,J,ie,we,ve,R,M-I.A,R,M,Qe);return q+=u.fa,u.j+Fe<u.o?(n(f.ec,f.fc,G,q,Qe),n(f.cc,f.dc,J,ie,Se),n(f.Mc,f.Nc,we,ve,Se),w--):1&Fe||H(G,q,null,null,J,ie,we,ve,J,ie,we,ve,R,M+I.A,null,null,Qe),w}function ZA(u,f,w){var I=u.F,R=[u.J];if(I!=null){var M=u.U,H=f.ba.S,G=H==Sp||H==Tp;f=f.ba.f.RGBA;var q=[0],J=u.ka;q[0]=u.T,u.Kb&&(J==0?--q[0]:(--J,R[0]-=u.width),u.j+u.ka+u.T==u.o&&(q[0]=u.o-u.j-J));var ie=f.eb;J=f.fb+J*f.A,u=ur(I,R[0],u.width,M,q,ie,J+(G?0:3),f.A),e(w==q),u&&Pt(H)&&Ai(ie,J,G,M,q,f.A)}return 0}function Wr(u){var f=u.ma,w=f.ba.S,I=11>w,R=w==xp||w==Fp||w==Sp||w==Iw||w==12||Pt(w);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Lh(f.Oa,u,R?11:12))return 0;if(R&&Pt(w)&&Le(),u.da)alert("todo:use_scaling");else{if(I){if(f.Ib=lt,u.Kb){if(w=u.U+1>>1,f.memory=i(u.U+2*w),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+w,f.Ib=Dt,Le()}}else alert("todo:EmitYUV");R&&(f.Jb=ZA,I&&ce())}if(I&&!P5){for(u=0;256>u;++u)jN[u]=89858*(u-128)+Np>>Up,qN[u]=-22014*(u-128)+Np,GN[u]=-45773*(u-128),KN[u]=113618*(u-128)+Np>>Up;for(u=jh;u<Nw;++u)f=76283*(u-16)+Np>>Up,zN[u-jh]=Gt(f,255),WN[u-jh]=Gt(f+8>>4,15);P5=1}return 1}function kn(u){var f=u.ma,w=u.U,I=u.T;return e(!(1&u.ka)),0>=w||0>=I?0:(w=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,w),f.Dc+=w,1)}function QA(u){u.ma.memory=null}function et(u,f,w,I){return he(u,8)!=47?0:(f[0]=he(u,14)+1,w[0]=he(u,14)+1,I[0]=he(u,1),he(u,3)!=0?0:!u.h)}function pA(u,f){if(4>u)return u+1;var w=u-2>>1;return(2+(1&u)<<w)+he(f,w)+1}function Dn(u,f){return 120<f?f-120:1<=(w=((w=SN[f-1])>>4)*u+(8-(15&w)))?w:1;var w}function $r(u,f,w){var I=W(w),R=u[f+=255&I].g-8;return 0<R&&(z(w,w.u+8),I=W(w),f+=u[f].value,f+=I&(1<<R)-1),z(w,w.u+u[f].g),u[f].value}function kr(u,f,w){return w.g+=u.g,w.value+=u.value<<f>>>0,e(8>=w.g),u.g}function Ur(u,f,w){var I=u.xc;return e((f=I==0?0:u.vc[u.md*(w>>I)+(f>>I)])<u.Wb),u.Ya[f]}function Jr(u,f,w,I){var R=u.ab,M=u.c*f,H=u.C;f=H+f;var G=w,q=I;for(I=u.Ta,w=u.Ua;0<R--;){var J=u.gc[R],ie=H,we=f,ve=G,de=q,Te=(q=I,G=w,J.Ea);switch(e(ie<we),e(we<=J.nc),J.hc){case 2:yp(ve,de,(we-ie)*Te,q,G);break;case 0:var Ee=ie,oe=we,ae=q,Fe=G,Qe=(Ge=J).Ea;Ee==0&&(Ew(ve,de,null,null,1,ae,Fe),at(ve,de+1,0,0,Qe-1,ae,Fe+1),de+=Qe,Fe+=Qe,++Ee);for(var Se=1<<Ge.b,Xe=Se-1,Ve=At(Qe,Ge.b),ut=Ge.K,Ge=Ge.w+(Ee>>Ge.b)*Ve;Ee<oe;){var jt=ut,Wt=Ge,Ot=1;for(kh(ve,de,ae,Fe-Qe,1,ae,Fe);Ot<Qe;){var Tt=(Ot&~Xe)+Se;Tt>Qe&&(Tt=Qe),(0,zo[jt[Wt++]>>8&15])(ve,de+ +Ot,ae,Fe+Ot-Qe,Tt-Ot,ae,Fe+Ot),Ot=Tt}de+=Qe,Fe+=Qe,++Ee&Xe||(Ge+=Ve)}we!=J.nc&&n(q,G-Te,q,G+(we-ie-1)*Te,Te);break;case 1:for(Te=ve,oe=de,Qe=(ve=J.Ea)-(Fe=ve&~(ae=(de=1<<J.b)-1)),Ee=At(ve,J.b),Se=J.K,J=J.w+(ie>>J.b)*Ee;ie<we;){for(Xe=Se,Ve=J,ut=new qe,Ge=oe+Fe,jt=oe+ve;oe<Ge;)kt(Xe[Ve++],ut),Il(ut,Te,oe,de,q,G),oe+=de,G+=de;oe<jt&&(kt(Xe[Ve++],ut),Il(ut,Te,oe,Qe,q,G),oe+=Qe,G+=Qe),++ie&ae||(J+=Ee)}break;case 3:if(ve==q&&de==G&&0<J.b){for(oe=q,ve=Te=G+(we-ie)*Te-(Fe=(we-ie)*At(J.Ea,J.b)),de=q,ae=G,Ee=[],Fe=(Qe=Fe)-1;0<=Fe;--Fe)Ee[Fe]=de[ae+Fe];for(Fe=Qe-1;0<=Fe;--Fe)oe[ve+Fe]=Ee[Fe];ti(J,ie,we,q,Te,q,G)}else ti(J,ie,we,ve,de,q,G)}G=I,q=w}q!=w&&n(I,w,G,q,M)}function So(u,f){var w=u.V,I=u.Ba+u.c*u.C,R=f-u.C;if(e(f<=u.l.o),e(16>=R),0<R){var M=u.l,H=u.Ta,G=u.Ua,q=M.width;if(Jr(u,R,w,I),R=G=[G],e((w=u.C)<(I=f)),e(M.v<M.va),I>M.o&&(I=M.o),w<M.j){var J=M.j-w;w=M.j,R[0]+=J*q}if(w>=I?w=0:(R[0]+=4*M.v,M.ka=w-M.j,M.U=M.va-M.v,M.T=I-w,w=1),w){if(G=G[0],11>(w=u.ca).S){var ie=w.f.RGBA,we=(I=w.S,R=M.U,M=M.T,J=ie.eb,ie.A),ve=M;for(ie=ie.fb+u.Ma*ie.A;0<ve--;){var de=H,Te=G,Ee=R,oe=J,ae=ie;switch(I){case Ip:vA(de,Te,Ee,oe,ae);break;case xp:rA(de,Te,Ee,oe,ae);break;case xw:rA(de,Te,Ee,oe,ae),Ai(oe,ae,0,Ee,1,0);break;case I5:Gs(de,Te,Ee,oe,ae);break;case Fp:or(de,Te,Ee,oe,ae,1);break;case Fw:or(de,Te,Ee,oe,ae,1),Ai(oe,ae,0,Ee,1,0);break;case Sp:or(de,Te,Ee,oe,ae,0);break;case Tp:or(de,Te,Ee,oe,ae,0),Ai(oe,ae,1,Ee,1,0);break;case Iw:Wo(de,Te,Ee,oe,ae);break;case Sw:Wo(de,Te,Ee,oe,ae),lr(oe,ae,Ee,1,0);break;case x5:Ks(de,Te,Ee,oe,ae);break;default:e(0)}G+=q,ie+=we}u.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=w.height)}}u.C=f,e(u.C<=u.i)}function Bi(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var w=u.Ya[f].G,I=u.Ya[f].H;if(0<w[1][I[1]+0].g||0<w[2][I[2]+0].g||0<w[3][I[3]+0].g)return 0}return 1}function On(u,f,w,I,R,M){if(u.Z!=0){var H=u.qd,G=u.rd;for(e(Yo[u.Z]!=null);f<w;++f)Yo[u.Z](H,G,I,R,I,R,M),H=I,G=R,R+=M;u.qd=H,u.rd=G}}function gA(u,f){var w=u.l.ma,I=w.Z==0||w.Z==1?u.l.j:u.C;if(I=u.C<I?I:u.C,e(f<=u.l.o),f>I){var R=u.l.width,M=w.ca,H=w.tb+R*I,G=u.V,q=u.Ba+u.c*I,J=u.gc;e(u.ab==1),e(J[0].hc==3),Bp(J[0],I,f,G,q,M,H),On(w,I,f,M,H,R)}u.C=u.Ma=f}function Zn(u,f,w,I,R,M,H){var G=u.$/I,q=u.$%I,J=u.m,ie=u.s,we=w+u.$,ve=we;R=w+I*R;var de=w+I*M,Te=280+ie.ua,Ee=u.Pb?G:16777216,oe=0<ie.ua?ie.Wa:null,ae=ie.wc,Fe=we<de?Ur(ie,q,G):null;e(u.C<M),e(de<=R);var Qe=!1;e:for(;;){for(;Qe||we<de;){var Se=0;if(G>=Ee){var Xe=we-w;e((Ee=u).Pb),Ee.wd=Ee.m,Ee.xd=Xe,0<Ee.s.ua&&_e(Ee.s.Wa,Ee.s.vb),Ee=G+UN}if(q&ae||(Fe=Ur(ie,q,G)),e(Fe!=null),Fe.Qb&&(f[we]=Fe.qb,Qe=!0),!Qe)if(re(J),Fe.jc){Se=J,Xe=f;var Ve=we,ut=Fe.pd[W(Se)&En-1];e(Fe.jc),256>ut.g?(z(Se,Se.u+ut.g),Xe[Ve]=ut.value,Se=0):(z(Se,Se.u+ut.g-256),e(256<=ut.value),Se=ut.value),Se==0&&(Qe=!0)}else Se=$r(Fe.G[0],Fe.H[0],J);if(J.h)break;if(Qe||256>Se){if(!Qe)if(Fe.nd)f[we]=(Fe.qb|Se<<8)>>>0;else{if(re(J),Qe=$r(Fe.G[1],Fe.H[1],J),re(J),Xe=$r(Fe.G[2],Fe.H[2],J),Ve=$r(Fe.G[3],Fe.H[3],J),J.h)break;f[we]=(Ve<<24|Qe<<16|Se<<8|Xe)>>>0}if(Qe=!1,++we,++q>=I&&(q=0,++G,H!=null&&G<=M&&!(G%16)&&H(u,G),oe!=null))for(;ve<we;)Se=f[ve++],oe.X[(506832829*Se&4294967295)>>>oe.Mb]=Se}else if(280>Se){if(Se=pA(Se-256,J),Xe=$r(Fe.G[4],Fe.H[4],J),re(J),Xe=Dn(I,Xe=pA(Xe,J)),J.h)break;if(we-w<Xe||R-we<Se)break e;for(Ve=0;Ve<Se;++Ve)f[we+Ve]=f[we+Ve-Xe];for(we+=Se,q+=Se;q>=I;)q-=I,++G,H!=null&&G<=M&&!(G%16)&&H(u,G);if(e(we<=R),q&ae&&(Fe=Ur(ie,q,G)),oe!=null)for(;ve<we;)Se=f[ve++],oe.X[(506832829*Se&4294967295)>>>oe.Mb]=Se}else{if(!(Se<Te))break e;for(Qe=Se-280,e(oe!=null);ve<we;)Se=f[ve++],oe.X[(506832829*Se&4294967295)>>>oe.Mb]=Se;Se=we,e(!(Qe>>>(Xe=oe).Xa)),f[Se]=Xe.X[Qe],Qe=!0}Qe||e(J.h==Y(J))}if(u.Pb&&J.h&&we<R)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&_e(u.s.vb,u.s.Wa);else{if(J.h)break e;H!=null&&H(u,G>M?M:G),u.a=0,u.$=we-w}return 1}return u.a=3,0}function eA(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function Dr(){var u=new Ou;return u==null?null:(u.a=0,u.xb=T5,YA("Predictor","VP8LPredictors"),YA("Predictor","VP8LPredictors_C"),YA("PredictorAdd","VP8LPredictorsAdd"),YA("PredictorAdd","VP8LPredictorsAdd_C"),yp=dt,Il=ht,vA=We,rA=Tr,Wo=Lt,Ks=fA,Gs=Vt,b.VP8LMapColor32b=Ku,b.VP8LMapColor8b=Cp,u)}function LA(u,f,w,I,R){var M=1,H=[u],G=[f],q=I.m,J=I.s,ie=null,we=0;e:for(;;){if(w)for(;M&&he(q,1);){var ve=H,de=G,Te=I,Ee=1,oe=Te.m,ae=Te.gc[Te.ab],Fe=he(oe,2);if(Te.Oc&1<<Fe)M=0;else{switch(Te.Oc|=1<<Fe,ae.hc=Fe,ae.Ea=ve[0],ae.nc=de[0],ae.K=[null],++Te.ab,e(4>=Te.ab),Fe){case 0:case 1:ae.b=he(oe,3)+2,Ee=LA(At(ae.Ea,ae.b),At(ae.nc,ae.b),0,Te,ae.K),ae.K=ae.K[0];break;case 3:var Qe,Se=he(oe,8)+1,Xe=16<Se?0:4<Se?1:2<Se?2:3;if(ve[0]=At(ae.Ea,Xe),ae.b=Xe,Qe=Ee=LA(Se,1,0,Te,ae.K)){var Ve,ut=Se,Ge=ae,jt=1<<(8>>Ge.b),Wt=i(jt);if(Wt==null)Qe=0;else{var Ot=Ge.K[0],Tt=Ge.w;for(Wt[0]=Ge.K[0][0],Ve=1;Ve<1*ut;++Ve)Wt[Ve]=ke(Ot[Tt+Ve],Wt[Ve-1]);for(;Ve<4*jt;++Ve)Wt[Ve]=0;Ge.K[0]=null,Ge.K[0]=Wt,Qe=1}}Ee=Qe;break;case 2:break;default:e(0)}M=Ee}}if(H=H[0],G=G[0],M&&he(q,1)&&!(M=1<=(we=he(q,4))&&11>=we)){I.a=3;break e}var ir;if(ir=M)t:{var tr,Et,Xr,yA=I,Yr=H,BA=G,$t=we,OA=w,MA=yA.m,fn=yA.s,bn=[null],AA=1,oi=0,ds=TN[$t];r:for(;;){if(OA&&he(MA,1)){var pn=he(MA,3)+2,$s=At(Yr,pn),Ul=At(BA,pn),$u=$s*Ul;if(!LA($s,Ul,0,yA,bn))break r;for(bn=bn[0],fn.xc=pn,tr=0;tr<$u;++tr){var Zo=bn[tr]>>8&65535;bn[tr]=Zo,Zo>=AA&&(AA=Zo+1)}}if(MA.h)break r;for(Et=0;5>Et;++Et){var Qr=F5[Et];!Et&&0<$t&&(Qr+=1<<$t),oi<Qr&&(oi=Qr)}var Qw=s(AA*ds,U),D5=AA,O5=s(D5,$);if(O5==null)var Lp=null;else e(65536>=D5),Lp=O5;var Kh=i(oi);if(Lp==null||Kh==null||Qw==null){yA.a=1;break r}var Pp=Qw;for(tr=Xr=0;tr<AA;++tr){var Ui=Lp[tr],Ju=Ui.G,Xu=Ui.H,M5=0,Rp=1,H5=0;for(Et=0;5>Et;++Et){Qr=F5[Et],Ju[Et]=Pp,Xu[Et]=Xr,!Et&&0<$t&&(Qr+=1<<$t);A:{var kp,Lw=Qr,Dp=yA,Gh=Kh,XN=Pp,YN=Xr,Pw=0,ea=Dp.m,ZN=he(ea,1);if(A(Gh,0,0,Lw),ZN){var eQ=he(ea,1)+1,tQ=he(ea,1),V5=he(ea,tQ==0?1:8);Gh[V5]=1,eQ==2&&(Gh[V5=he(ea,8)]=1);var Op=1}else{var j5=i(19),K5=he(ea,4)+4;if(19<K5){Dp.a=3;var Mp=0;break A}for(kp=0;kp<K5;++kp)j5[FN[kp]]=he(ea,3);var Rw=void 0,qh=void 0,G5=Dp,rQ=j5,Hp=Lw,q5=Gh,kw=0,ta=G5.m,z5=8,W5=s(128,U);n:for(;x(W5,0,7,rQ,19);){if(he(ta,1)){var nQ=2+2*he(ta,3);if((Rw=2+he(ta,nQ))>Hp)break n}else Rw=Hp;for(qh=0;qh<Hp&&Rw--;){re(ta);var $5=W5[0+(127&W(ta))];z(ta,ta.u+$5.g);var Yu=$5.value;if(16>Yu)q5[qh++]=Yu,Yu!=0&&(z5=Yu);else{var AQ=Yu==16,J5=Yu-16,iQ=IN[J5],X5=he(ta,bN[J5])+iQ;if(qh+X5>Hp)break n;for(var sQ=AQ?z5:0;0<X5--;)q5[qh++]=sQ}}kw=1;break n}kw||(G5.a=3),Op=kw}(Op=Op&&!ea.h)&&(Pw=x(XN,YN,8,Gh,Lw)),Op&&Pw!=0?Mp=Pw:(Dp.a=3,Mp=0)}if(Mp==0)break r;if(Rp&&xN[Et]==1&&(Rp=Pp[Xr].g==0),M5+=Pp[Xr].g,Xr+=Mp,3>=Et){var zh,Dw=Kh[0];for(zh=1;zh<Qr;++zh)Kh[zh]>Dw&&(Dw=Kh[zh]);H5+=Dw}}if(Ui.nd=Rp,Ui.Qb=0,Rp&&(Ui.qb=(Ju[3][Xu[3]+0].value<<24|Ju[1][Xu[1]+0].value<<16|Ju[2][Xu[2]+0].value)>>>0,M5==0&&256>Ju[0][Xu[0]+0].value&&(Ui.Qb=1,Ui.qb+=Ju[0][Xu[0]+0].value<<8)),Ui.jc=!Ui.Qb&&6>H5,Ui.jc){var Vp,Js=Ui;for(Vp=0;Vp<En;++Vp){var ra=Vp,na=Js.pd[ra],jp=Js.G[0][Js.H[0]+ra];256<=jp.value?(na.g=jp.g+256,na.value=jp.value):(na.g=0,na.value=0,ra>>=kr(jp,8,na),ra>>=kr(Js.G[1][Js.H[1]+ra],16,na),ra>>=kr(Js.G[2][Js.H[2]+ra],0,na),kr(Js.G[3][Js.H[3]+ra],24,na))}}}fn.vc=bn,fn.Wb=AA,fn.Ya=Lp,fn.yc=Qw,ir=1;break t}ir=0}if(!(M=ir)){I.a=3;break e}if(0<we){if(J.ua=1<<we,!Ye(J.Wa,we)){I.a=1,M=0;break e}}else J.ua=0;var Ow=I,Y5=H,oQ=G,Mw=Ow.s,Hw=Mw.xc;if(Ow.c=Y5,Ow.i=oQ,Mw.md=At(Y5,Hw),Mw.wc=Hw==0?-1:(1<<Hw)-1,w){I.xb=DN;break e}if((ie=i(H*G))==null){I.a=1,M=0;break e}M=(M=Zn(I,ie,0,H,G,G,null))&&!q.h;break e}return M?(R!=null?R[0]=ie:(e(ie==null),e(w)),I.$=0,w||eA(J)):eA(J),M}function ts(u,f){var w=u.c*u.i,I=w+f+16*f;return e(u.c<=f),u.V=i(I),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+w+f,1)}function rs(u,f){var w=u.C,I=f-w,R=u.V,M=u.Ba+u.c*w;for(e(f<=u.l.o);0<I;){var H=16<I?16:I,G=u.l.ma,q=u.l.width,J=q*H,ie=G.ca,we=G.tb+q*w,ve=u.Ta,de=u.Ua;Jr(u,H,R,M),Mr(ve,de,ie,we,J),On(G,w,w+H,ie,we,q),I-=H,R+=H*u.c,w+=H}e(w==f),u.C=u.Ma=f}function ns(){this.ub=this.yd=this.td=this.Rb=0}function Qs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ls(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Su(){this.Yb=function(){var u=[];return function f(w,I,R){for(var M=R[I],H=0;H<M&&(w.push(R.length>I+1?[]:0),!(R.length<I+1));H++)f(w[H],I+1,R)}(u,0,[3,11]),u}()}function To(){this.jb=i(3),this.Wc=o([4,8],Su),this.Xc=o([4,17],Su)}function Tu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function As(){this.ld=this.La=this.dd=this.tc=0}function is(){this.Na=this.la=0}function Ci(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ps(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Th(){this.uc=this.M=this.Nb=0,this.wa=Array(new As),this.Y=0,this.ya=Array(new Ps),this.aa=0,this.l=new Rs}function hl(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Uu(){this.cb=this.a=0,this.sc="",this.m=new Ue,this.Od=new ns,this.Kc=new Qs,this.ed=new Tu,this.Qa=new Ls,this.Ic=this.$c=this.Aa=0,this.D=new Th,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Ue),this.ia=0,this.pb=s(4,Ci),this.Pa=new To,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hl),this.Hd=0,this.rb=Array(new is),this.sb=0,this.wa=Array(new As),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ps),this.L=this.aa=0,this.gd=o([4,2],As),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function dl(){var u=new Uu;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Vh||(Vh=Nu)),u}function fr(u,f,w){return u.a==0&&(u.a=f,u.sc=w,u.cb=0),0}function fl(u,f,w){return 3<=w&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function pl(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return fr(u,2,"null VP8Io passed to VP8GetHeaders()");var w=f.data,I=f.w,R=f.ha;if(4>R)return fr(u,7,"Truncated header.");var M=w[I+0]|w[I+1]<<8|w[I+2]<<16,H=u.Od;if(H.Rb=!(1&M),H.td=M>>1&7,H.yd=M>>4&1,H.ub=M>>5,3<H.td)return fr(u,3,"Incorrect keyframe parameters.");if(!H.yd)return fr(u,4,"Frame not displayable.");I+=3,R-=3;var G=u.Kc;if(H.Rb){if(7>R)return fr(u,7,"cannot parse picture header");if(!fl(w,I,R))return fr(u,3,"Bad code word");G.c=16383&(w[I+4]<<8|w[I+3]),G.Td=w[I+4]>>6,G.i=16383&(w[I+6]<<8|w[I+5]),G.Ud=w[I+6]>>6,I+=7,R-=7,u.za=G.c+15>>4,u.Ub=G.i+15>>4,f.width=G.c,f.height=G.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,A((M=u.Pa).jb,0,255,M.jb.length),e((M=u.Qa)!=null),M.Cb=0,M.Bb=0,M.Fb=1,A(M.Zb,0,0,M.Zb.length),A(M.Lb,0,0,M.Lb)}if(H.ub>R)return fr(u,7,"bad partition length");pe(M=u.m,w,I,H.ub),I+=H.ub,R-=H.ub,H.Rb&&(G.Ld=me(M),G.Kd=me(M)),G=u.Qa;var q,J=u.Pa;if(e(M!=null),e(G!=null),G.Cb=me(M),G.Cb){if(G.Bb=me(M),me(M)){for(G.Fb=me(M),q=0;4>q;++q)G.Zb[q]=me(M)?ge(M,7):0;for(q=0;4>q;++q)G.Lb[q]=me(M)?ge(M,6):0}if(G.Bb)for(q=0;3>q;++q)J.jb[q]=me(M)?se(M,8):255}else G.Bb=0;if(M.Ka)return fr(u,3,"cannot parse segment header");if((G=u.ed).zd=me(M),G.Tb=se(M,6),G.wb=se(M,3),G.Pc=me(M),G.Pc&&me(M)){for(J=0;4>J;++J)me(M)&&(G.vd[J]=ge(M,6));for(J=0;4>J;++J)me(M)&&(G.od[J]=ge(M,6))}if(u.L=G.Tb==0?0:G.zd?1:2,M.Ka)return fr(u,3,"cannot parse filter header");var ie=R;if(R=q=I,I=q+ie,G=ie,u.Xb=(1<<se(u.m,2))-1,ie<3*(J=u.Xb))w=7;else{for(q+=3*J,G-=3*J,ie=0;ie<J;++ie){var we=w[R+0]|w[R+1]<<8|w[R+2]<<16;we>G&&(we=G),pe(u.Jc[+ie],w,q,we),q+=we,G-=we,R+=3}pe(u.Jc[+J],w,q,G),w=q<I?0:5}if(w!=0)return fr(u,w,"cannot parse partitions");for(w=se(q=u.m,7),R=me(q)?ge(q,4):0,I=me(q)?ge(q,4):0,G=me(q)?ge(q,4):0,J=me(q)?ge(q,4):0,q=me(q)?ge(q,4):0,ie=u.Qa,we=0;4>we;++we){if(ie.Cb){var ve=ie.Zb[we];ie.Fb||(ve+=w)}else{if(0<we){u.pb[we]=u.pb[0];continue}ve=w}var de=u.pb[we];de.Sc[0]=Tw[Gt(ve+R,127)],de.Sc[1]=Uw[Gt(ve+0,127)],de.Eb[0]=2*Tw[Gt(ve+I,127)],de.Eb[1]=101581*Uw[Gt(ve+G,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=Tw[Gt(ve+J,117)],de.Qc[1]=Uw[Gt(ve+q,127)],de.lc=ve+q}if(!H.Rb)return fr(u,4,"Not a key frame.");for(me(M),H=u.Pa,w=0;4>w;++w){for(R=0;8>R;++R)for(I=0;3>I;++I)for(G=0;11>G;++G)J=Ce(M,RN[w][R][I][G])?se(M,8):LN[w][R][I][G],H.Wc[w][R].Yb[I][G]=J;for(R=0;17>R;++R)H.Xc[w][R]=H.Wc[w][kN[R]]}return u.kc=me(M),u.kc&&(u.Bd=se(M,8)),u.cb=1}function Nu(u,f,w,I,R,M,H){var G=f[R].Yb[w];for(w=0;16>R;++R){if(!Ce(u,G[w+0]))return R;for(;!Ce(u,G[w+1]);)if(G=f[++R].Yb[0],w=0,R==16)return 16;var q=f[R+1].Yb;if(Ce(u,G[w+2])){var J=u,ie=0;if(Ce(J,(ve=G)[(we=w)+3]))if(Ce(J,ve[we+6])){for(G=0,we=2*(ie=Ce(J,ve[we+8]))+(ve=Ce(J,ve[we+9+ie])),ie=0,ve=NN[we];ve[G];++G)ie+=ie+Ce(J,ve[G]);ie+=3+(8<<we)}else Ce(J,ve[we+7])?(ie=7+2*Ce(J,165),ie+=Ce(J,145)):ie=5+Ce(J,159);else ie=Ce(J,ve[we+4])?3+Ce(J,ve[we+5]):2;G=q[2]}else ie=1,G=q[1];q=H+QN[R],0>(J=u).b&&fe(J);var we,ve=J.b,de=(we=J.Ca>>1)-(J.I>>ve)>>31;--J.b,J.Ca+=de,J.Ca|=1,J.I-=(we+1&de)<<ve,M[q]=((ie^de)-de)*I[(0<R)+0]}return 16}function gl(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,A(u.zc,0,0,u.zc.length),u.ja=0}function Qu(u,f){if(u==null)return 0;if(f==null)return fr(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!pl(u,f))return 0;if(e(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var w=Qp[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-w>>4,u.zb=f.j-w>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+w>>4,u.Hb=f.va+15+w>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var I=u.ed;for(w=0;4>w;++w){var R;if(u.Qa.Cb){var M=u.Qa.Lb[w];u.Qa.Fb||(M+=I.Tb)}else M=I.Tb;for(R=0;1>=R;++R){var H=u.gd[w][R],G=M;if(I.Pc&&(G+=I.vd[0],R&&(G+=I.od[0])),0<(G=0>G?0:63<G?63:G)){var q=G;0<I.wb&&(q=4<I.wb?q>>2:q>>1)>9-I.wb&&(q=9-I.wb),1>q&&(q=1),H.dd=q,H.tc=2*G+q,H.ld=40<=G?2:15<=G?1:0}else H.tc=0;H.La=R}}}w=0}else fr(u,6,"Frame setup failed"),w=u.a;if(w=w==0){if(w){u.$c=0,0<u.Aa||(u.Ic=JN);e:{w=u.Ic,I=4*(q=u.za);var J=32*q,ie=q+1,we=0<u.L?q*(0<u.Aa?2:1):0,ve=(u.Aa==2?2:1)*q;if((H=I+832+(R=3*(16*w+Qp[u.L])/2*J)+(M=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=H)w=0;else{if(H>u.Vb){if(u.Vb=0,u.Ec=i(H),u.Fc=0,u.Ec==null){w=fr(u,1,"no memory during frame initialization.");break e}u.Vb=H}H=u.Ec,G=u.Fc,u.Ac=H,u.Bc=G,G+=I,u.Gd=s(J,hl),u.Hd=0,u.rb=s(ie+1,is),u.sb=1,u.wa=we?s(we,As):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=q),e(!0),u.oc=H,u.pc=G,G+=832,u.ya=s(ve,Ps),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=q),u.R=16*q,u.B=8*q,q=(J=Qp[u.L])*u.R,J=J/2*u.B,u.sa=H,u.ta=G+q,u.qa=u.sa,u.ra=u.ta+16*w*u.R+J,u.Ha=u.qa,u.Ia=u.ra+8*w*u.B+J,u.$c=0,G+=R,u.mb=M?H:null,u.nb=M?G:null,e(G+M<=u.Fc+u.Vb),gl(u),A(u.Ac,u.Bc,0,I),w=1}}if(w){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!Ep){for(w=-255;255>=w;++w)An[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)zs[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)Hh[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)Wu[255+w]=0>w?0:255<w?255:w;Ep=1}Gu=Os,qs=No,Dh=ml,nA=zt,ri=Ds,Or=ks,qu=Oo,_p=xi,Oh=Ho,xl=bl,Fl=Mo,$o=Hs,Sl=Vo,zu=ls,Tl=Ms,Jo=kA,Mh=nn,ni=Du,Ti[0]=ei,Ti[1]=Uh,Ti[2]=os,Ti[3]=Qh,Ti[4]=Ru,Ti[5]=Po,Ti[6]=PA,Ti[7]=vl,Ti[8]=ko,Ti[9]=Ro,Xo[0]=ss,Xo[1]=Nh,Xo[2]=Ei,Xo[3]=Qo,Xo[4]=pr,Xo[5]=Pu,Xo[6]=wl,Ws[0]=Ii,Ws[1]=Lu,Ws[2]=ku,Ws[3]=bi,Ws[4]=Kt,Ws[5]=yl,Ws[6]=Bl,w=1}else w=0}w&&(w=function(de,Te){for(de.M=0;de.M<de.Va;++de.M){var Ee,oe=de.Jc[de.M&de.Xb],ae=de.m,Fe=de;for(Ee=0;Ee<Fe.za;++Ee){var Qe=ae,Se=Fe,Xe=Se.Ac,Ve=Se.Bc+4*Ee,ut=Se.zc,Ge=Se.ya[Se.aa+Ee];if(Se.Qa.Bb?Ge.$b=Ce(Qe,Se.Pa.jb[0])?2+Ce(Qe,Se.Pa.jb[2]):Ce(Qe,Se.Pa.jb[1]):Ge.$b=0,Se.kc&&(Ge.Ad=Ce(Qe,Se.Bd)),Ge.Za=!Ce(Qe,145)+0,Ge.Za){var jt=Ge.Ob,Wt=0;for(Se=0;4>Se;++Se){var Ot,Tt=ut[0+Se];for(Ot=0;4>Ot;++Ot){Tt=PN[Xe[Ve+Ot]][Tt];for(var ir=S5[Ce(Qe,Tt[0])];0<ir;)ir=S5[2*ir+Ce(Qe,Tt[ir])];Tt=-ir,Xe[Ve+Ot]=Tt}n(jt,Wt,Xe,Ve,4),Wt+=4,ut[0+Se]=Tt}}else Tt=Ce(Qe,156)?Ce(Qe,128)?1:3:Ce(Qe,163)?2:0,Ge.Ob[0]=Tt,A(Xe,Ve,Tt,4),A(ut,0,Tt,4);Ge.Dd=Ce(Qe,142)?Ce(Qe,114)?Ce(Qe,183)?1:3:2:0}if(Fe.m.Ka)return fr(de,7,"Premature end-of-partition0 encountered.");for(;de.ja<de.za;++de.ja){if(Fe=oe,Qe=(ae=de).rb[ae.sb-1],Xe=ae.rb[ae.sb+ae.ja],Ee=ae.ya[ae.aa+ae.ja],Ve=ae.kc?Ee.Ad:0)Qe.la=Xe.la=0,Ee.Za||(Qe.Na=Xe.Na=0),Ee.Hc=0,Ee.Gc=0,Ee.ia=0;else{var tr,Et;if(Qe=Xe,Xe=Fe,Ve=ae.Pa.Xc,ut=ae.ya[ae.aa+ae.ja],Ge=ae.pb[ut.$b],Se=ut.ad,jt=0,Wt=ae.rb[ae.sb-1],Tt=Ot=0,A(Se,jt,0,384),ut.Za)var Xr=0,yA=Ve[3];else{ir=i(16);var Yr=Qe.Na+Wt.Na;if(Yr=Vh(Xe,Ve[1],Yr,Ge.Eb,0,ir,0),Qe.Na=Wt.Na=(0<Yr)+0,1<Yr)Gu(ir,0,Se,jt);else{var BA=ir[0]+3>>3;for(ir=0;256>ir;ir+=16)Se[jt+ir]=BA}Xr=1,yA=Ve[0]}var $t=15&Qe.la,OA=15&Wt.la;for(ir=0;4>ir;++ir){var MA=1&OA;for(BA=Et=0;4>BA;++BA)$t=$t>>1|(MA=(Yr=Vh(Xe,yA,Yr=MA+(1&$t),Ge.Sc,Xr,Se,jt))>Xr)<<7,Et=Et<<2|(3<Yr?3:1<Yr?2:Se[jt+0]!=0),jt+=16;$t>>=4,OA=OA>>1|MA<<7,Ot=(Ot<<8|Et)>>>0}for(yA=$t,Xr=OA>>4,tr=0;4>tr;tr+=2){for(Et=0,$t=Qe.la>>4+tr,OA=Wt.la>>4+tr,ir=0;2>ir;++ir){for(MA=1&OA,BA=0;2>BA;++BA)Yr=MA+(1&$t),$t=$t>>1|(MA=0<(Yr=Vh(Xe,Ve[2],Yr,Ge.Qc,0,Se,jt)))<<3,Et=Et<<2|(3<Yr?3:1<Yr?2:Se[jt+0]!=0),jt+=16;$t>>=2,OA=OA>>1|MA<<5}Tt|=Et<<4*tr,yA|=$t<<4<<tr,Xr|=(240&OA)<<tr}Qe.la=yA,Wt.la=Xr,ut.Hc=Ot,ut.Gc=Tt,ut.ia=43690&Tt?0:Ge.ia,Ve=!(Ot|Tt)}if(0<ae.L&&(ae.wa[ae.Y+ae.ja]=ae.gd[Ee.$b][Ee.Za],ae.wa[ae.Y+ae.ja].La|=!Ve),Fe.Ka)return fr(de,7,"Premature end-of-file encountered.")}if(gl(de),ae=Te,Fe=1,Ee=(oe=de).D,Qe=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(Ee.M=oe.M,Ee.uc=Qe,cs(oe,Ee),Fe=1,Ee=(Et=oe.D).Nb,Qe=(Tt=Qp[oe.L])*oe.R,Xe=Tt/2*oe.B,ir=16*Ee*oe.R,BA=8*Ee*oe.B,Ve=oe.sa,ut=oe.ta-Qe+ir,Ge=oe.qa,Se=oe.ra-Xe+BA,jt=oe.Ha,Wt=oe.Ia-Xe+BA,OA=($t=Et.M)==0,Ot=$t>=oe.Va-1,oe.Aa==2&&cs(oe,Et),Et.uc)for(MA=(Yr=oe).D.M,e(Yr.D.uc),Et=Yr.yb;Et<Yr.Hb;++Et){Xr=Et,yA=MA;var fn=(bn=(Qr=Yr).D).Nb;tr=Qr.R;var bn=bn.wa[bn.Y+Xr],AA=Qr.sa,oi=Qr.ta+16*fn*tr+16*Xr,ds=bn.dd,pn=bn.tc;if(pn!=0)if(e(3<=pn),Qr.L==1)0<Xr&&Jo(AA,oi,tr,pn+4),bn.La&&ni(AA,oi,tr,pn),0<yA&&Tl(AA,oi,tr,pn+4),bn.La&&Mh(AA,oi,tr,pn);else{var $s=Qr.B,Ul=Qr.qa,$u=Qr.ra+8*fn*$s+8*Xr,Zo=Qr.Ha,Qr=Qr.Ia+8*fn*$s+8*Xr;fn=bn.ld,0<Xr&&(_p(AA,oi,tr,pn+4,ds,fn),xl(Ul,$u,Zo,Qr,$s,pn+4,ds,fn)),bn.La&&($o(AA,oi,tr,pn,ds,fn),zu(Ul,$u,Zo,Qr,$s,pn,ds,fn)),0<yA&&(qu(AA,oi,tr,pn+4,ds,fn),Oh(Ul,$u,Zo,Qr,$s,pn+4,ds,fn)),bn.La&&(Fl(AA,oi,tr,pn,ds,fn),Sl(Ul,$u,Zo,Qr,$s,pn,ds,fn))}}if(oe.ia&&alert("todo:DitherRow"),ae.put!=null){if(Et=16*$t,$t=16*($t+1),OA?(ae.y=oe.sa,ae.O=oe.ta+ir,ae.f=oe.qa,ae.N=oe.ra+BA,ae.ea=oe.Ha,ae.W=oe.Ia+BA):(Et-=Tt,ae.y=Ve,ae.O=ut,ae.f=Ge,ae.N=Se,ae.ea=jt,ae.W=Wt),Ot||($t-=Tt),$t>ae.o&&($t=ae.o),ae.F=null,ae.J=null,oe.Fa!=null&&0<oe.Fa.length&&Et<$t&&(ae.J=qo(oe,ae,Et,$t-Et),ae.F=oe.mb,ae.F==null&&ae.F.length==0)){Fe=fr(oe,3,"Could not decode alpha data.");break e}Et<ae.j&&(Tt=ae.j-Et,Et=ae.j,e(!(1&Tt)),ae.O+=oe.R*Tt,ae.N+=oe.B*(Tt>>1),ae.W+=oe.B*(Tt>>1),ae.F!=null&&(ae.J+=ae.width*Tt)),Et<$t&&(ae.O+=ae.v,ae.N+=ae.v>>1,ae.W+=ae.v>>1,ae.F!=null&&(ae.J+=ae.v),ae.ka=Et-ae.j,ae.U=ae.va-ae.v,ae.T=$t-Et,Fe=ae.put(ae))}Ee+1!=oe.Ic||Ot||(n(oe.sa,oe.ta-Qe,Ve,ut+16*oe.R,Qe),n(oe.qa,oe.ra-Xe,Ge,Se+8*oe.B,Xe),n(oe.Ha,oe.Ia-Xe,jt,Wt+8*oe.B,Xe))}if(!Fe)return fr(de,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),w&=1}return w?(u.cb=0,w):0}function mA(u,f,w,I,R){R=u[f+w+32*I]+(R>>3),u[f+w+32*I]=-256&R?0>R?0:255:R}function Uo(u,f,w,I,R,M){mA(u,f,0,w,I+R),mA(u,f,1,w,I+M),mA(u,f,2,w,I-M),mA(u,f,3,w,I-R)}function Nr(u){return(20091*u>>16)+u}function tA(u,f,w,I){var R,M=0,H=i(16);for(R=0;4>R;++R){var G=u[f+0]+u[f+8],q=u[f+0]-u[f+8],J=(35468*u[f+4]>>16)-Nr(u[f+12]),ie=Nr(u[f+4])+(35468*u[f+12]>>16);H[M+0]=G+ie,H[M+1]=q+J,H[M+2]=q-J,H[M+3]=G-ie,M+=4,f++}for(R=M=0;4>R;++R)G=(u=H[M+0]+4)+H[M+8],q=u-H[M+8],J=(35468*H[M+4]>>16)-Nr(H[M+12]),mA(w,I,0,0,G+(ie=Nr(H[M+4])+(35468*H[M+12]>>16))),mA(w,I,1,0,q+J),mA(w,I,2,0,q-J),mA(w,I,3,0,G-ie),M++,I+=32}function ks(u,f,w,I){var R=u[f+0]+4,M=35468*u[f+4]>>16,H=Nr(u[f+4]),G=35468*u[f+1]>>16;Uo(w,I,0,R+H,u=Nr(u[f+1]),G),Uo(w,I,1,R+M,u,G),Uo(w,I,2,R-M,u,G),Uo(w,I,3,R-H,u,G)}function No(u,f,w,I,R){tA(u,f,w,I),R&&tA(u,f+16,w,I+4)}function ml(u,f,w,I){qs(u,f+0,w,I,1),qs(u,f+32,w,I+128,1)}function zt(u,f,w,I){var R;for(u=u[f+0]+4,R=0;4>R;++R)for(f=0;4>f;++f)mA(w,I,f,R,u)}function Ds(u,f,w,I){u[f+0]&&nA(u,f+0,w,I),u[f+16]&&nA(u,f+16,w,I+4),u[f+32]&&nA(u,f+32,w,I+128),u[f+48]&&nA(u,f+48,w,I+128+4)}function Os(u,f,w,I){var R,M=i(16);for(R=0;4>R;++R){var H=u[f+0+R]+u[f+12+R],G=u[f+4+R]+u[f+8+R],q=u[f+4+R]-u[f+8+R],J=u[f+0+R]-u[f+12+R];M[0+R]=H+G,M[8+R]=H-G,M[4+R]=J+q,M[12+R]=J-q}for(R=0;4>R;++R)H=(u=M[0+4*R]+3)+M[3+4*R],G=M[1+4*R]+M[2+4*R],q=M[1+4*R]-M[2+4*R],J=u-M[3+4*R],w[I+0]=H+G>>3,w[I+16]=J+q>>3,w[I+32]=H-G>>3,w[I+48]=J-q>>3,I+=64}function _i(u,f,w){var I,R=f-32,M=DA,H=255-u[R-1];for(I=0;I<w;++I){var G,q=M,J=H+u[f-1];for(G=0;G<w;++G)u[f+G]=q[J+u[R+G]];f+=32}}function Uh(u,f){_i(u,f,4)}function Lu(u,f){_i(u,f,8)}function Nh(u,f){_i(u,f,16)}function Ei(u,f){var w;for(w=0;16>w;++w)n(u,f+32*w,u,f-32,16)}function Qo(u,f){var w;for(w=16;0<w;--w)A(u,f,u[f-1],16),f+=32}function Lo(u,f,w){var I;for(I=0;16>I;++I)A(f,w+32*I,u,16)}function ss(u,f){var w,I=16;for(w=0;16>w;++w)I+=u[f-1+32*w]+u[f+w-32];Lo(I>>5,u,f)}function pr(u,f){var w,I=8;for(w=0;16>w;++w)I+=u[f-1+32*w];Lo(I>>4,u,f)}function Pu(u,f){var w,I=8;for(w=0;16>w;++w)I+=u[f+w-32];Lo(I>>4,u,f)}function wl(u,f){Lo(128,u,f)}function gt(u,f,w){return u+2*f+w+2>>2}function os(u,f){var w,I=f-32;for(I=new Uint8Array([gt(u[I-1],u[I+0],u[I+1]),gt(u[I+0],u[I+1],u[I+2]),gt(u[I+1],u[I+2],u[I+3]),gt(u[I+2],u[I+3],u[I+4])]),w=0;4>w;++w)n(u,f+32*w,I,0,I.length)}function Qh(u,f){var w=u[f-1],I=u[f-1+32],R=u[f-1+64],M=u[f-1+96];Re(u,f+0,16843009*gt(u[f-1-32],w,I)),Re(u,f+32,16843009*gt(w,I,R)),Re(u,f+64,16843009*gt(I,R,M)),Re(u,f+96,16843009*gt(R,M,M))}function ei(u,f){var w,I=4;for(w=0;4>w;++w)I+=u[f+w-32]+u[f-1+32*w];for(I>>=3,w=0;4>w;++w)A(u,f+32*w,I,4)}function Ru(u,f){var w=u[f-1+0],I=u[f-1+32],R=u[f-1+64],M=u[f-1-32],H=u[f+0-32],G=u[f+1-32],q=u[f+2-32],J=u[f+3-32];u[f+0+96]=gt(I,R,u[f-1+96]),u[f+1+96]=u[f+0+64]=gt(w,I,R),u[f+2+96]=u[f+1+64]=u[f+0+32]=gt(M,w,I),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=gt(H,M,w),u[f+3+64]=u[f+2+32]=u[f+1+0]=gt(G,H,M),u[f+3+32]=u[f+2+0]=gt(q,G,H),u[f+3+0]=gt(J,q,G)}function PA(u,f){var w=u[f+1-32],I=u[f+2-32],R=u[f+3-32],M=u[f+4-32],H=u[f+5-32],G=u[f+6-32],q=u[f+7-32];u[f+0+0]=gt(u[f+0-32],w,I),u[f+1+0]=u[f+0+32]=gt(w,I,R),u[f+2+0]=u[f+1+32]=u[f+0+64]=gt(I,R,M),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=gt(R,M,H),u[f+3+32]=u[f+2+64]=u[f+1+96]=gt(M,H,G),u[f+3+64]=u[f+2+96]=gt(H,G,q),u[f+3+96]=gt(G,q,q)}function Po(u,f){var w=u[f-1+0],I=u[f-1+32],R=u[f-1+64],M=u[f-1-32],H=u[f+0-32],G=u[f+1-32],q=u[f+2-32],J=u[f+3-32];u[f+0+0]=u[f+1+64]=M+H+1>>1,u[f+1+0]=u[f+2+64]=H+G+1>>1,u[f+2+0]=u[f+3+64]=G+q+1>>1,u[f+3+0]=q+J+1>>1,u[f+0+96]=gt(R,I,w),u[f+0+64]=gt(I,w,M),u[f+0+32]=u[f+1+96]=gt(w,M,H),u[f+1+32]=u[f+2+96]=gt(M,H,G),u[f+2+32]=u[f+3+96]=gt(H,G,q),u[f+3+32]=gt(G,q,J)}function vl(u,f){var w=u[f+0-32],I=u[f+1-32],R=u[f+2-32],M=u[f+3-32],H=u[f+4-32],G=u[f+5-32],q=u[f+6-32],J=u[f+7-32];u[f+0+0]=w+I+1>>1,u[f+1+0]=u[f+0+64]=I+R+1>>1,u[f+2+0]=u[f+1+64]=R+M+1>>1,u[f+3+0]=u[f+2+64]=M+H+1>>1,u[f+0+32]=gt(w,I,R),u[f+1+32]=u[f+0+96]=gt(I,R,M),u[f+2+32]=u[f+1+96]=gt(R,M,H),u[f+3+32]=u[f+2+96]=gt(M,H,G),u[f+3+64]=gt(H,G,q),u[f+3+96]=gt(G,q,J)}function Ro(u,f){var w=u[f-1+0],I=u[f-1+32],R=u[f-1+64],M=u[f-1+96];u[f+0+0]=w+I+1>>1,u[f+2+0]=u[f+0+32]=I+R+1>>1,u[f+2+32]=u[f+0+64]=R+M+1>>1,u[f+1+0]=gt(w,I,R),u[f+3+0]=u[f+1+32]=gt(I,R,M),u[f+3+32]=u[f+1+64]=gt(R,M,M),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=M}function ko(u,f){var w=u[f-1+0],I=u[f-1+32],R=u[f-1+64],M=u[f-1+96],H=u[f-1-32],G=u[f+0-32],q=u[f+1-32],J=u[f+2-32];u[f+0+0]=u[f+2+32]=w+H+1>>1,u[f+0+32]=u[f+2+64]=I+w+1>>1,u[f+0+64]=u[f+2+96]=R+I+1>>1,u[f+0+96]=M+R+1>>1,u[f+3+0]=gt(G,q,J),u[f+2+0]=gt(H,G,q),u[f+1+0]=u[f+3+32]=gt(w,H,G),u[f+1+32]=u[f+3+64]=gt(I,w,H),u[f+1+64]=u[f+3+96]=gt(R,I,w),u[f+1+96]=gt(M,R,I)}function ku(u,f){var w;for(w=0;8>w;++w)n(u,f+32*w,u,f-32,8)}function bi(u,f){var w;for(w=0;8>w;++w)A(u,f,u[f-1],8),f+=32}function RA(u,f,w){var I;for(I=0;8>I;++I)A(f,w+32*I,u,8)}function Ii(u,f){var w,I=8;for(w=0;8>w;++w)I+=u[f+w-32]+u[f-1+32*w];RA(I>>4,u,f)}function yl(u,f){var w,I=4;for(w=0;8>w;++w)I+=u[f+w-32];RA(I>>3,u,f)}function Kt(u,f){var w,I=4;for(w=0;8>w;++w)I+=u[f-1+32*w];RA(I>>3,u,f)}function Bl(u,f){RA(128,u,f)}function Do(u,f,w){var I=u[f-w],R=u[f+0],M=3*(R-I)+bw[1020+u[f-2*w]-u[f+w]],H=bp[112+(M+4>>3)];u[f-w]=DA[255+I+bp[112+(M+3>>3)]],u[f+0]=DA[255+R-H]}function Cl(u,f,w,I){var R=u[f+0],M=u[f+w];return ii[255+u[f-2*w]-u[f-w]]>I||ii[255+M-R]>I}function _l(u,f,w,I){return 4*ii[255+u[f-w]-u[f+0]]+ii[255+u[f-2*w]-u[f+w]]<=I}function El(u,f,w,I,R){var M=u[f-3*w],H=u[f-2*w],G=u[f-w],q=u[f+0],J=u[f+w],ie=u[f+2*w],we=u[f+3*w];return 4*ii[255+G-q]+ii[255+H-J]>I?0:ii[255+u[f-4*w]-M]<=R&&ii[255+M-H]<=R&&ii[255+H-G]<=R&&ii[255+we-ie]<=R&&ii[255+ie-J]<=R&&ii[255+J-q]<=R}function Ms(u,f,w,I){var R=2*I+1;for(I=0;16>I;++I)_l(u,f+I,w,R)&&Do(u,f+I,w)}function kA(u,f,w,I){var R=2*I+1;for(I=0;16>I;++I)_l(u,f+I*w,1,R)&&Do(u,f+I*w,1)}function nn(u,f,w,I){var R;for(R=3;0<R;--R)Ms(u,f+=4*w,w,I)}function Du(u,f,w,I){var R;for(R=3;0<R;--R)kA(u,f+=4,w,I)}function as(u,f,w,I,R,M,H,G){for(M=2*M+1;0<R--;){if(El(u,f,w,M,H))if(Cl(u,f,w,G))Do(u,f,w);else{var q=u,J=f,ie=w,we=q[J-2*ie],ve=q[J-ie],de=q[J+0],Te=q[J+ie],Ee=q[J+2*ie],oe=27*(Fe=bw[1020+3*(de-ve)+bw[1020+we-Te]])+63>>7,ae=18*Fe+63>>7,Fe=9*Fe+63>>7;q[J-3*ie]=DA[255+q[J-3*ie]+Fe],q[J-2*ie]=DA[255+we+ae],q[J-ie]=DA[255+ve+oe],q[J+0]=DA[255+de-oe],q[J+ie]=DA[255+Te-ae],q[J+2*ie]=DA[255+Ee-Fe]}f+=I}}function Cn(u,f,w,I,R,M,H,G){for(M=2*M+1;0<R--;){if(El(u,f,w,M,H))if(Cl(u,f,w,G))Do(u,f,w);else{var q=u,J=f,ie=w,we=q[J-ie],ve=q[J+0],de=q[J+ie],Te=bp[112+((Ee=3*(ve-we))+4>>3)],Ee=bp[112+(Ee+3>>3)],oe=Te+1>>1;q[J-2*ie]=DA[255+q[J-2*ie]+oe],q[J-ie]=DA[255+we+Ee],q[J+0]=DA[255+ve-Te],q[J+ie]=DA[255+de-oe]}f+=I}}function Oo(u,f,w,I,R,M){as(u,f,w,1,16,I,R,M)}function xi(u,f,w,I,R,M){as(u,f,1,w,16,I,R,M)}function Mo(u,f,w,I,R,M){var H;for(H=3;0<H;--H)Cn(u,f+=4*w,w,1,16,I,R,M)}function Hs(u,f,w,I,R,M){var H;for(H=3;0<H;--H)Cn(u,f+=4,1,w,16,I,R,M)}function Ho(u,f,w,I,R,M,H,G){as(u,f,R,1,8,M,H,G),as(w,I,R,1,8,M,H,G)}function bl(u,f,w,I,R,M,H,G){as(u,f,1,R,8,M,H,G),as(w,I,1,R,8,M,H,G)}function Vo(u,f,w,I,R,M,H,G){Cn(u,f+4*R,R,1,8,M,H,G),Cn(w,I+4*R,R,1,8,M,H,G)}function ls(u,f,w,I,R,M,H,G){Cn(u,f+4,1,R,8,M,H,G),Cn(w,I+4,1,R,8,M,H,G)}function Vs(){this.ba=new Bn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ar,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function jo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function js(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ko(){this.ua=0,this.Wa=new Z,this.vb=new Z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new U}function Ou(){this.xb=this.a=0,this.l=new Rs,this.ca=new Bn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ko,this.ab=0,this.gc=s(4,js),this.Oc=0}function Fi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Rs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function us(u,f,w,I,R,M,H){for(u=u==null?0:u[f+0],f=0;f<H;++f)R[M+f]=u+w[I+f]&255,u=R[M+f]}function Go(u,f,w,I,R,M,H){var G;if(u==null)us(null,null,w,I,R,M,H);else for(G=0;G<H;++G)R[M+G]=u[f+G]+w[I+G]&255}function Mn(u,f,w,I,R,M,H){if(u==null)us(null,null,w,I,R,M,H);else{var G,q=u[f+0],J=q,ie=q;for(G=0;G<H;++G)J=ie+(q=u[f+G])-J,ie=w[I+G]+(-256&J?0>J?0:255:J)&255,J=q,R[M+G]=ie}}function qo(u,f,w,I){var R=f.width,M=f.o;if(e(u!=null&&f!=null),0>w||0>=I||w+I>M)return null;if(!u.Cc){if(u.ga==null){var H;if(u.ga=new Fi,(H=u.ga==null)||(H=f.width*f.o,e(u.Gb.length==0),u.Gb=i(H),u.Uc=0,u.Gb==null?H=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,H=1),H=!H),!H){H=u.ga;var G=u.Fa,q=u.P,J=u.qc,ie=u.mb,we=u.nb,ve=q+1,de=J-1,Te=H.l;if(e(G!=null&&ie!=null&&f!=null),Yo[0]=null,Yo[1]=us,Yo[2]=Go,Yo[3]=Mn,H.ca=ie,H.tb=we,H.c=f.width,H.i=f.height,e(0<H.c&&0<H.i),1>=J)f=0;else if(H.$a=G[q+0]>>0&3,H.Z=G[q+0]>>2&3,H.Lc=G[q+0]>>4&3,q=G[q+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||q)f=0;else if(Te.put=kn,Te.ac=Wr,Te.bc=QA,Te.ma=H,Te.width=f.width,Te.height=f.height,Te.Da=f.Da,Te.v=f.v,Te.va=f.va,Te.j=f.j,Te.o=f.o,H.$a)e:{e(H.$a==1),f=Dr();t:for(;;){if(f==null){f=0;break e}if(e(H!=null),H.mc=f,f.c=H.c,f.i=H.i,f.l=H.l,f.l.ma=H,f.l.width=H.c,f.l.height=H.i,f.a=0,ee(f.m,G,ve,de),!LA(H.c,H.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Bi(f.s)?(H.ic=1,G=f.c*f.i,f.Ta=null,f.Ua=0,f.V=i(G),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(H.ic=0,f=ts(f,H.c)),!f))break t;f=1;break e}H.mc=null,f=0}else f=de>=H.c*H.i;H=!f}if(H)return null;u.ga.Lc!=1?u.Ga=0:I=M-w}e(u.ga!=null),e(w+I<=M);e:{if(f=(G=u.ga).c,M=G.l.o,G.$a==0){if(ve=u.rc,de=u.Vc,Te=u.Fa,q=u.P+1+w*f,J=u.mb,ie=u.nb+w*f,e(q<=u.P+u.qc),G.Z!=0)for(e(Yo[G.Z]!=null),H=0;H<I;++H)Yo[G.Z](ve,de,Te,q,J,ie,f),ve=J,de=ie,ie+=f,q+=f;else for(H=0;H<I;++H)n(J,ie,Te,q,f),ve=J,de=ie,ie+=f,q+=f;u.rc=ve,u.Vc=de}else{if(e(G.mc!=null),f=w+I,e((H=G.mc)!=null),e(f<=H.i),H.C>=f)f=1;else if(G.ic||ce(),G.ic){G=H.V,ve=H.Ba,de=H.c;var Ee=H.i,oe=(Te=1,q=H.$/de,J=H.$%de,ie=H.m,we=H.s,H.$),ae=de*Ee,Fe=de*f,Qe=we.wc,Se=oe<Fe?Ur(we,J,q):null;e(oe<=ae),e(f<=Ee),e(Bi(we));t:for(;;){for(;!ie.h&&oe<Fe;){if(J&Qe||(Se=Ur(we,J,q)),e(Se!=null),re(ie),256>(Ee=$r(Se.G[0],Se.H[0],ie)))G[ve+oe]=Ee,++oe,++J>=de&&(J=0,++q<=f&&!(q%16)&&gA(H,q));else{if(!(280>Ee)){Te=0;break t}Ee=pA(Ee-256,ie);var Xe,Ve=$r(Se.G[4],Se.H[4],ie);if(re(ie),!(oe>=(Ve=Dn(de,Ve=pA(Ve,ie)))&&ae-oe>=Ee)){Te=0;break t}for(Xe=0;Xe<Ee;++Xe)G[ve+oe+Xe]=G[ve+oe+Xe-Ve];for(oe+=Ee,J+=Ee;J>=de;)J-=de,++q<=f&&!(q%16)&&gA(H,q);oe<Fe&&J&Qe&&(Se=Ur(we,J,q))}e(ie.h==Y(ie))}gA(H,q>f?f:q);break t}!Te||ie.h&&oe<ae?(Te=0,H.a=ie.h?5:3):H.$=oe,f=Te}else f=Zn(H,H.V,H.Ba,H.c,H.i,f,rs);if(!f){I=0;break e}}w+I>=M&&(u.Cc=1),I=1}if(!I)return null;if(u.Cc&&((I=u.ga)!=null&&(I.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+w*R}function m(u,f,w,I,R,M){for(;0<R--;){var H,G=u,q=f+(w?1:0),J=u,ie=f+(w?0:3);for(H=0;H<I;++H){var we=J[ie+4*H];we!=255&&(we*=32897,G[q+4*H+0]=G[q+4*H+0]*we>>23,G[q+4*H+1]=G[q+4*H+1]*we>>23,G[q+4*H+2]=G[q+4*H+2]*we>>23)}f+=M}}function P(u,f,w,I,R){for(;0<I--;){var M;for(M=0;M<w;++M){var H=u[f+2*M+0],G=15&(J=u[f+2*M+1]),q=4369*G,J=(240&J|J>>4)*q>>16;u[f+2*M+0]=(240&H|H>>4)*q>>16&240|(15&H|H<<4)*q>>16>>4&15,u[f+2*M+1]=240&J|G}f+=R}}function X(u,f,w,I,R,M,H,G){var q,J,ie=255;for(J=0;J<R;++J){for(q=0;q<I;++q){var we=u[f+q];M[H+4*q]=we,ie&=we}f+=w,H+=G}return ie!=255}function ne(u,f,w,I,R){var M;for(M=0;M<R;++M)w[I+M]=u[f+M]>>8}function ce(){Ai=m,lr=P,ur=X,Mr=ne}function be(u,f,w){b[u]=function(I,R,M,H,G,q,J,ie,we,ve,de,Te,Ee,oe,ae,Fe,Qe){var Se,Xe=Qe-1>>1,Ve=G[q+0]|J[ie+0]<<16,ut=we[ve+0]|de[Te+0]<<16;e(I!=null);var Ge=3*Ve+ut+131074>>2;for(f(I[R+0],255&Ge,Ge>>16,Ee,oe),M!=null&&(Ge=3*ut+Ve+131074>>2,f(M[H+0],255&Ge,Ge>>16,ae,Fe)),Se=1;Se<=Xe;++Se){var jt=G[q+Se]|J[ie+Se]<<16,Wt=we[ve+Se]|de[Te+Se]<<16,Ot=Ve+jt+ut+Wt+524296,Tt=Ot+2*(jt+ut)>>3;Ge=Tt+Ve>>1,Ve=(Ot=Ot+2*(Ve+Wt)>>3)+jt>>1,f(I[R+2*Se-1],255&Ge,Ge>>16,Ee,oe+(2*Se-1)*w),f(I[R+2*Se-0],255&Ve,Ve>>16,Ee,oe+(2*Se-0)*w),M!=null&&(Ge=Ot+ut>>1,Ve=Tt+Wt>>1,f(M[H+2*Se-1],255&Ge,Ge>>16,ae,Fe+(2*Se-1)*w),f(M[H+2*Se+0],255&Ve,Ve>>16,ae,Fe+(2*Se+0)*w)),Ve=jt,ut=Wt}1&Qe||(Ge=3*Ve+ut+131074>>2,f(I[R+Qe-1],255&Ge,Ge>>16,Ee,oe+(Qe-1)*w),M!=null&&(Ge=3*ut+Ve+131074>>2,f(M[H+Qe-1],255&Ge,Ge>>16,ae,Fe+(Qe-1)*w)))}}function Le(){si[Ip]=ON,si[xp]=U5,si[I5]=MN,si[Fp]=N5,si[Sp]=Q5,si[Iw]=L5,si[x5]=HN,si[xw]=U5,si[Fw]=N5,si[Tp]=Q5,si[Sw]=L5}function je(u){return u&-16384?0>u?0:255:u>>VN}function c(u,f){return je((19077*u>>8)+(26149*f>>8)-14234)}function C(u,f,w){return je((19077*u>>8)-(6419*f>>8)-(13320*w>>8)+8708)}function F(u,f){return je((19077*u>>8)+(33050*f>>8)-17685)}function K(u,f,w,I,R){I[R+0]=c(u,w),I[R+1]=C(u,f,w),I[R+2]=F(u,f)}function ue(u,f,w,I,R){I[R+0]=F(u,f),I[R+1]=C(u,f,w),I[R+2]=c(u,w)}function ye(u,f,w,I,R){var M=C(u,f,w);f=M<<3&224|F(u,f)>>3,I[R+0]=248&c(u,w)|M>>5,I[R+1]=f}function Pe(u,f,w,I,R){var M=240&F(u,f)|15;I[R+0]=240&c(u,w)|C(u,f,w)>>4,I[R+1]=M}function yt(u,f,w,I,R){I[R+0]=255,K(u,f,w,I,R+1)}function St(u,f,w,I,R){ue(u,f,w,I,R),I[R+3]=255}function Bt(u,f,w,I,R){K(u,f,w,I,R),I[R+3]=255}function Gt(u,f){return 0>u?0:u>f?f:u}function Ar(u,f,w){b[u]=function(I,R,M,H,G,q,J,ie,we){for(var ve=ie+(-2&we)*w;ie!=ve;)f(I[R+0],M[H+0],G[q+0],J,ie),f(I[R+1],M[H+0],G[q+0],J,ie+w),R+=2,++H,++q,ie+=2*w;1&we&&f(I[R+0],M[H+0],G[q+0],J,ie)}}function Si(u,f,w){return w==0?u==0?f==0?6:5:f==0?4:0:w}function _n(u,f,w,I,R){switch(u>>>30){case 3:qs(f,w,I,R,0);break;case 2:Or(f,w,I,R);break;case 1:nA(f,w,I,R)}}function cs(u,f){var w,I,R=f.M,M=f.Nb,H=u.oc,G=u.pc+40,q=u.oc,J=u.pc+584,ie=u.oc,we=u.pc+600;for(w=0;16>w;++w)H[G+32*w-1]=129;for(w=0;8>w;++w)q[J+32*w-1]=129,ie[we+32*w-1]=129;for(0<R?H[G-1-32]=q[J-1-32]=ie[we-1-32]=129:(A(H,G-32-1,127,21),A(q,J-32-1,127,9),A(ie,we-32-1,127,9)),I=0;I<u.za;++I){var ve=f.ya[f.aa+I];if(0<I){for(w=-1;16>w;++w)n(H,G+32*w-4,H,G+32*w+12,4);for(w=-1;8>w;++w)n(q,J+32*w-4,q,J+32*w+4,4),n(ie,we+32*w-4,ie,we+32*w+4,4)}var de=u.Gd,Te=u.Hd+I,Ee=ve.ad,oe=ve.Hc;if(0<R&&(n(H,G-32,de[Te].y,0,16),n(q,J-32,de[Te].f,0,8),n(ie,we-32,de[Te].ea,0,8)),ve.Za){var ae=H,Fe=G-32+16;for(0<R&&(I>=u.za-1?A(ae,Fe,de[Te].y[15],4):n(ae,Fe,de[Te+1].y,0,4)),w=0;4>w;w++)ae[Fe+128+w]=ae[Fe+256+w]=ae[Fe+384+w]=ae[Fe+0+w];for(w=0;16>w;++w,oe<<=2)ae=H,Fe=G+R5[w],Ti[ve.Ob[w]](ae,Fe),_n(oe,Ee,16*+w,ae,Fe)}else if(ae=Si(I,R,ve.Ob[0]),Xo[ae](H,G),oe!=0)for(w=0;16>w;++w,oe<<=2)_n(oe,Ee,16*+w,H,G+R5[w]);for(w=ve.Gc,ae=Si(I,R,ve.Dd),Ws[ae](q,J),Ws[ae](ie,we),oe=Ee,ae=q,Fe=J,255&(ve=w>>0)&&(170&ve?Dh(oe,256,ae,Fe):ri(oe,256,ae,Fe)),ve=ie,oe=we,255&(w>>=8)&&(170&w?Dh(Ee,320,ve,oe):ri(Ee,320,ve,oe)),R<u.Ub-1&&(n(de[Te].y,0,H,G+480,16),n(de[Te].f,0,q,J+224,8),n(de[Te].ea,0,ie,we+224,8)),w=8*M*u.B,de=u.sa,Te=u.ta+16*I+16*M*u.R,Ee=u.qa,ve=u.ra+8*I+w,oe=u.Ha,ae=u.Ia+8*I+w,w=0;16>w;++w)n(de,Te+w*u.R,H,G+32*w,16);for(w=0;8>w;++w)n(Ee,ve+w*u.B,q,J+32*w,8),n(oe,ae+w*u.B,ie,we+32*w,8)}}function hs(u,f,w,I,R,M,H,G,q){var J=[0],ie=[0],we=0,ve=q!=null?q.kd:0,de=q??new jo;if(u==null||12>w)return 7;de.data=u,de.w=f,de.ha=w,f=[f],w=[w],de.gb=[de.gb];e:{var Te=f,Ee=w,oe=de.gb;if(e(u!=null),e(Ee!=null),e(oe!=null),oe[0]=0,12<=Ee[0]&&!r(u,Te[0],"RIFF")){if(r(u,Te[0]+8,"WEBP")){oe=3;break e}var ae=Ne(u,Te[0]+4);if(12>ae||4294967286<ae){oe=3;break e}if(ve&&ae>Ee[0]-8){oe=7;break e}oe[0]=ae,Te[0]+=12,Ee[0]-=12}oe=0}if(oe!=0)return oe;for(ae=0<de.gb[0],w=w[0];;){e:{var Fe=u;Ee=f,oe=w;var Qe=J,Se=ie,Xe=Te=[0];if((Ge=we=[we])[0]=0,8>oe[0])oe=7;else{if(!r(Fe,Ee[0],"VP8X")){if(Ne(Fe,Ee[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var Ve=Ne(Fe,Ee[0]+8),ut=1+xe(Fe,Ee[0]+12);if(2147483648<=ut*(Fe=1+xe(Fe,Ee[0]+15))){oe=3;break e}Xe!=null&&(Xe[0]=Ve),Qe!=null&&(Qe[0]=ut),Se!=null&&(Se[0]=Fe),Ee[0]+=18,oe[0]-=18,Ge[0]=1}oe=0}}if(we=we[0],Te=Te[0],oe!=0)return oe;if(Ee=!!(2&Te),!ae&&we)return 3;if(M!=null&&(M[0]=!!(16&Te)),H!=null&&(H[0]=Ee),G!=null&&(G[0]=0),H=J[0],Te=ie[0],we&&Ee&&q==null){oe=0;break}if(4>w){oe=7;break}if(ae&&we||!ae&&!we&&!r(u,f[0],"ALPH")){w=[w],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{Ve=u,oe=f,ae=w;var Ge=de.gb;Qe=de.na,Se=de.P,Xe=de.Sa,ut=22,e(Ve!=null),e(ae!=null),Fe=oe[0];var jt=ae[0];for(e(Qe!=null),e(Xe!=null),Qe[0]=null,Se[0]=null,Xe[0]=0;;){if(oe[0]=Fe,ae[0]=jt,8>jt){oe=7;break e}var Wt=Ne(Ve,Fe+4);if(4294967286<Wt){oe=3;break e}var Ot=8+Wt+1&-2;if(ut+=Ot,0<Ge&&ut>Ge){oe=3;break e}if(!r(Ve,Fe,"VP8 ")||!r(Ve,Fe,"VP8L")){oe=0;break e}if(jt[0]<Ot){oe=7;break e}r(Ve,Fe,"ALPH")||(Qe[0]=Ve,Se[0]=Fe+8,Xe[0]=Wt),Fe+=Ot,jt-=Ot}}if(w=w[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],oe!=0)break}w=[w],de.Ja=[de.Ja],de.xa=[de.xa];e:if(Ge=u,oe=f,ae=w,Qe=de.gb[0],Se=de.Ja,Xe=de.xa,Ve=oe[0],Fe=!r(Ge,Ve,"VP8 "),ut=!r(Ge,Ve,"VP8L"),e(Ge!=null),e(ae!=null),e(Se!=null),e(Xe!=null),8>ae[0])oe=7;else{if(Fe||ut){if(Ge=Ne(Ge,Ve+4),12<=Qe&&Ge>Qe-12){oe=3;break e}if(ve&&Ge>ae[0]-8){oe=7;break e}Se[0]=Ge,oe[0]+=8,ae[0]-=8,Xe[0]=ut}else Xe[0]=5<=ae[0]&&Ge[Ve+0]==47&&!(Ge[Ve+4]>>5),Se[0]=ae[0];oe=0}if(w=w[0],de.Ja=de.Ja[0],de.xa=de.xa[0],f=f[0],oe!=0)break;if(4294967286<de.Ja)return 3;if(G==null||Ee||(G[0]=de.xa?2:1),H=[H],Te=[Te],de.xa){if(5>w){oe=7;break}G=H,ve=Te,Ee=M,u==null||5>w?u=0:5<=w&&u[f+0]==47&&!(u[f+4]>>5)?(ae=[0],Ge=[0],Qe=[0],ee(Se=new k,u,f,w),et(Se,ae,Ge,Qe)?(G!=null&&(G[0]=ae[0]),ve!=null&&(ve[0]=Ge[0]),Ee!=null&&(Ee[0]=Qe[0]),u=1):u=0):u=0}else{if(10>w){oe=7;break}G=Te,u==null||10>w||!fl(u,f+3,w-3)?u=0:(ve=u[f+0]|u[f+1]<<8|u[f+2]<<16,Ee=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=de.Ja||!Ee||!u?u=0:(H&&(H[0]=Ee),G&&(G[0]=u),u=1))}if(!u||(H=H[0],Te=Te[0],we&&(J[0]!=H||ie[0]!=Te)))return 3;q!=null&&(q[0]=de,q.offset=f-q.w,e(4294967286>f-q.w),e(q.offset==q.ha-w));break}return oe==0||oe==7&&we&&q==null?(M!=null&&(M[0]|=de.na!=null&&0<de.na.length),I!=null&&(I[0]=H),R!=null&&(R[0]=Te),0):oe}function Lh(u,f,w){var I=f.width,R=f.height,M=0,H=0,G=I,q=R;if(f.Da=u!=null&&0<u.Da,f.Da&&(G=u.cd,q=u.bd,M=u.v,H=u.j,11>w||(M&=-2,H&=-2),0>M||0>H||0>=G||0>=q||M+G>I||H+q>R))return 0;if(f.v=M,f.j=H,f.va=M+G,f.o=H+q,f.U=G,f.T=q,f.da=u!=null&&0<u.da,f.da){if(!Je(G,q,w=[u.ib],M=[u.hb]))return 0;f.ib=w[0],f.hb=M[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*I/4&&f.hb<3*R/4,f.Kb=0),1}function Ph(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function Mu(u,f,w,I){if(I==null||0>=u||0>=f)return 2;if(w!=null){if(w.Da){var R=w.cd,M=w.bd,H=-2&w.v,G=-2&w.j;if(0>H||0>G||0>=R||0>=M||H+R>u||G+M>f)return 2;u=R,f=M}if(w.da){if(!Je(u,f,R=[w.ib],M=[w.hb]))return 2;u=R[0],f=M[0]}}I.width=u,I.height=f;e:{var q=I.width,J=I.height;if(u=I.S,0>=q||0>=J||!(u>=Ip&&13>u))u=2;else{if(0>=I.Rd&&I.sd==null){H=M=R=f=0;var ie=(G=q*k5[u])*J;if(11>u||(M=(J+1)/2*(f=(q+1)/2),u==12&&(H=(R=q)*J)),(J=i(ie+2*M+H))==null){u=1;break e}I.sd=J,11>u?((q=I.f.RGBA).eb=J,q.fb=0,q.A=G,q.size=ie):((q=I.f.kb).y=J,q.O=0,q.fa=G,q.Fd=ie,q.f=J,q.N=0+ie,q.Ab=f,q.Cd=M,q.ea=J,q.W=0+ie+M,q.Db=f,q.Ed=M,u==12&&(q.F=J,q.J=0+ie+2*M),q.Tc=H,q.lb=R)}if(f=1,R=I.S,M=I.width,H=I.height,R>=Ip&&13>R)if(11>R)u=I.f.RGBA,f&=(G=Math.abs(u.A))*(H-1)+M<=u.size,f&=G>=M*k5[R],f&=u.eb!=null;else{u=I.f.kb,G=(M+1)/2,ie=(H+1)/2,q=Math.abs(u.fa),J=Math.abs(u.Ab);var we=Math.abs(u.Db),ve=Math.abs(u.lb),de=ve*(H-1)+M;f&=q*(H-1)+M<=u.Fd,f&=J*(ie-1)+G<=u.Cd,f=(f&=we*(ie-1)+G<=u.Ed)&q>=M&J>=G&we>=G,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,R==12&&(f&=ve>=M,f&=de<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||w!=null&&w.fd&&(u=Ph(I)),u}var En=64,Hu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vu=24,ju=32,Rh=8,wA=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];He("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(u){return u},b.Predictor2=function(u,f,w){return f[w+0]},b.Predictor3=function(u,f,w){return f[w+1]},b.Predictor4=function(u,f,w){return f[w-1]},b.Predictor5=function(u,f,w){return Ke(Ke(u,f[w+1]),f[w+0])},b.Predictor6=function(u,f,w){return Ke(u,f[w-1])},b.Predictor7=function(u,f,w){return Ke(u,f[w+0])},b.Predictor8=function(u,f,w){return Ke(f[w-1],f[w+0])},b.Predictor9=function(u,f,w){return Ke(f[w+0],f[w+1])},b.Predictor10=function(u,f,w){return Ke(Ke(u,f[w-1]),Ke(f[w+0],f[w+1]))},b.Predictor11=function(u,f,w){var I=f[w+0];return 0>=vt(I>>24&255,u>>24&255,(f=f[w-1])>>24&255)+vt(I>>16&255,u>>16&255,f>>16&255)+vt(I>>8&255,u>>8&255,f>>8&255)+vt(255&I,255&u,255&f)?I:u},b.Predictor12=function(u,f,w){var I=f[w+0];return(st((u>>24&255)+(I>>24&255)-((f=f[w-1])>>24&255))<<24|st((u>>16&255)+(I>>16&255)-(f>>16&255))<<16|st((u>>8&255)+(I>>8&255)-(f>>8&255))<<8|st((255&u)+(255&I)-(255&f)))>>>0},b.Predictor13=function(u,f,w){var I=f[w-1];return(pt((u=Ke(u,f[w+0]))>>24&255,I>>24&255)<<24|pt(u>>16&255,I>>16&255)<<16|pt(u>>8&255,I>>8&255)<<8|pt(u>>0&255,I>>0&255))>>>0};var Ew=b.PredictorAdd0;b.PredictorAdd1=at,He("Predictor2","PredictorAdd2"),He("Predictor3","PredictorAdd3"),He("Predictor4","PredictorAdd4"),He("Predictor5","PredictorAdd5"),He("Predictor6","PredictorAdd6"),He("Predictor7","PredictorAdd7"),He("Predictor8","PredictorAdd8"),He("Predictor9","PredictorAdd9"),He("Predictor10","PredictorAdd10"),He("Predictor11","PredictorAdd11"),He("Predictor12","PredictorAdd12"),He("Predictor13","PredictorAdd13");var kh=b.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var yp,ti=b.ColorIndexInverseTransform,Ku=b.MapARGB,Bp=b.VP8LColorIndexInverseTransformAlpha,Cp=b.MapAlpha,zo=b.VP8LPredictorsAdd=[];zo.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var Il,vA,rA,Wo,Ks,Gs,Gu,qs,Or,Dh,nA,ri,qu,_p,Oh,xl,Fl,$o,Sl,zu,Tl,Jo,Mh,ni,Ai,lr,ur,Mr,An=i(511),zs=i(2041),Hh=i(225),Wu=i(767),Ep=0,bw=zs,bp=Hh,DA=Wu,ii=An,Ip=0,xp=1,I5=2,Fp=3,Sp=4,Iw=5,x5=6,xw=7,Fw=8,Tp=9,Sw=10,bN=[2,3,7],IN=[3,3,11],F5=[280,256,256,256,40],xN=[0,1,1,1,0],FN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],SN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],TN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],UN=8,Tw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Uw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vh=null,NN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],QN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],S5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],LN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],PN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],RN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xo=[],Ti=[],Ws=[],DN=1,T5=2,Yo=[],si=[];be("UpsampleRgbLinePair",K,3),be("UpsampleBgrLinePair",ue,3),be("UpsampleRgbaLinePair",Bt,4),be("UpsampleBgraLinePair",St,4),be("UpsampleArgbLinePair",yt,4),be("UpsampleRgba4444LinePair",Pe,2),be("UpsampleRgb565LinePair",ye,2);var ON=b.UpsampleRgbLinePair,MN=b.UpsampleBgrLinePair,U5=b.UpsampleRgbaLinePair,N5=b.UpsampleBgraLinePair,Q5=b.UpsampleArgbLinePair,L5=b.UpsampleRgba4444LinePair,HN=b.UpsampleRgb565LinePair,Up=16,Np=1<<Up-1,jh=-227,Nw=482,VN=6,P5=0,jN=i(256),KN=i(256),GN=i(256),qN=i(256),zN=i(Nw-jh),WN=i(Nw-jh);Ar("YuvToRgbRow",K,3),Ar("YuvToBgrRow",ue,3),Ar("YuvToRgbaRow",Bt,4),Ar("YuvToBgraRow",St,4),Ar("YuvToArgbRow",yt,4),Ar("YuvToRgba4444Row",Pe,2),Ar("YuvToRgb565Row",ye,2);var R5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qp=[0,2,8],$N=[8,7,6,4,4,2,2,2,1,1,1,1],JN=1;this.WebPDecodeRGBA=function(u,f,w,I,R){var M=xp,H=new Vs,G=new Bn;H.ba=G,G.S=M,G.width=[G.width],G.height=[G.height];var q=G.width,J=G.height,ie=new NA;if(ie==null||u==null)var we=2;else e(ie!=null),we=hs(u,f,w,ie.width,ie.height,ie.Pd,ie.Qd,ie.format,null);if(we!=0?q=0:(q!=null&&(q[0]=ie.width[0]),J!=null&&(J[0]=ie.height[0]),q=1),q){G.width=G.width[0],G.height=G.height[0],I!=null&&(I[0]=G.width),R!=null&&(R[0]=G.height);e:{if(I=new Rs,(R=new jo).data=u,R.w=f,R.ha=w,R.kd=1,f=[0],e(R!=null),((u=hs(R.data,R.w,R.ha,null,null,null,f,null,R))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(H!=null),I.data=R.data,I.w=R.w+R.offset,I.ha=R.ha-R.offset,I.put=kn,I.ac=Wr,I.bc=QA,I.ma=H,R.xa){if((u=Dr())==null){H=1;break e}if(function(ve,de){var Te=[0],Ee=[0],oe=[0];t:for(;;){if(ve==null)return 0;if(de==null)return ve.a=2,0;if(ve.l=de,ve.a=0,ee(ve.m,de.data,de.w,de.ha),!et(ve.m,Te,Ee,oe)){ve.a=3;break t}if(ve.xb=T5,de.width=Te[0],de.height=Ee[0],!LA(Te[0],Ee[0],1,ve,null))break t;return 1}return e(ve.a!=0),0}(u,I)){if(I=(f=Mu(I.width,I.height,H.Oa,H.ba))==0){t:{I=u;r:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((w=I.l)!=null),e((R=w.ma)!=null),I.xb!=0){if(I.ca=R.ba,I.tb=R.tb,e(I.ca!=null),!Lh(R.Oa,w,Fp)){I.a=2;break r}if(!ts(I,w.width)||w.da)break r;if((w.da||Pt(I.ca.S))&&ce(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&ce()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!Ye(I.s.vb,I.s.Wa.Xa)){I.a=1;break r}I.xb=0}if(!Zn(I,I.V,I.Ba,I.c,I.i,w.o,So))break r;R.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(f=u.a)}else f=u.a}else{if((u=new dl)==null){H=1;break e}if(u.Fa=R.na,u.P=R.P,u.qc=R.Sa,pl(u,I)){if((f=Mu(I.width,I.height,H.Oa,H.ba))==0){if(u.Aa=0,w=H.Oa,e((R=u)!=null),w!=null){if(0<(q=0>(q=w.Md)?0:100<q?255:255*q/100)){for(J=ie=0;4>J;++J)12>(we=R.pb[J]).lc&&(we.ia=q*$N[0>we.lc?0:we.lc]>>3),ie|=we.ia;ie&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=w.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}Qu(u,I)||(f=u.a)}}else f=u.a}f==0&&H.Oa!=null&&H.Oa.fd&&(f=Ph(H.ba))}H=f}M=H!=0?null:11>M?G.f.RGBA.eb:G.f.kb.y}else M=null;return M};var k5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(b,Q){for(var O="",x=0;x<4;x++)O+=String.fromCharCode(b[Q++]);return O}function h(b,Q){return(b[Q+0]<<0|b[Q+1]<<8|b[Q+2]<<16)>>>0}function d(b,Q){return(b[Q+0]<<0|b[Q+1]<<8|b[Q+2]<<16|b[Q+3]<<24)>>>0}new a;var p=[0],g=[0],E=[],_=new a,N=t,v=function(b,Q){var O={},x=0,U=!1,L=0,$=0;if(O.frames=[],!function(W,Y,z,re){for(var fe=0;fe<re;fe++)if(W[Y+fe]!=z.charCodeAt(fe))return!0;return!1}(b,Q,"RIFF",4)){for(d(b,Q+=4),Q+=8;Q<b.length;){var pe=l(b,Q),se=d(b,Q+=4);Q+=4;var ge=se+(1&se);switch(pe){case"VP8 ":case"VP8L":O.frames[x]===void 0&&(O.frames[x]={}),(he=O.frames[x]).src_off=U?$:Q-8,he.src_size=L+se+8,x++,U&&(U=!1,L=0,$=0);break;case"VP8X":(he=O.header={}).feature_flags=b[Q];var ee=Q+4;he.canvas_width=1+h(b,ee),ee+=3,he.canvas_height=1+h(b,ee),ee+=3;break;case"ALPH":U=!0,L=ge+8,$=Q-8;break;case"ANIM":(he=O.header).bgcolor=d(b,Q),ee=Q+4,he.loop_count=(Ue=b)[(k=ee)+0]<<0|Ue[k+1]<<8,ee+=2;break;case"ANMF":var le,he;(he=O.frames[x]={}).offset_x=2*h(b,Q),Q+=3,he.offset_y=2*h(b,Q),Q+=3,he.width=1+h(b,Q),Q+=3,he.height=1+h(b,Q),Q+=3,he.duration=h(b,Q),Q+=3,le=b[Q++],he.dispose=1&le,he.blend=le>>1&1}pe!="ANMF"&&(Q+=ge)}var Ue,k;return O}}(N,0);v.response=N,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,T=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],g=[y.canvas_width];for(var V=0;V<T.length&&T[V].blend!=0;V++);}var D=T[0],j=_.WebPDecodeRGBA(N,D.src_off,D.src_size,g,p);D.rgba=j,D.imgwidth=g[0],D.imgheight=p[0];for(var S=0;S<g[0]*p[0]*4;S++)E[S]=j[S];return this.width=g,this.height=p,this.data=E,this}(function(t){var e=function(){return typeof A2=="function"},r=function(p,g,E,_){var N=4,v=s;switch(_){case t.image_compression.FAST:N=1,v=i;break;case t.image_compression.MEDIUM:N=6,v=o;break;case t.image_compression.SLOW:N=9,v=a}p=n(p,g,E,v);var y=A2(p,{level:N});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(p,g,E,_){for(var N,v,y,T=p.length/g,V=new Uint8Array(p.length+T),D=h(),j=0;j<T;j+=1){if(y=j*g,N=p.subarray(y,y+g),_)V.set(_(N,E,v),y+j);else{for(var S,b=D.length,Q=[];S<b;S+=1)Q[S]=D[S](N,E,v);var O=d(Q.concat());V.set(Q[O],y+j)}v=N}return V},A=function(p){var g=Array.apply([],p);return g.unshift(0),g},i=function(p,g){var E,_=[],N=p.length;_[0]=1;for(var v=0;v<N;v+=1)E=p[v-g]||0,_[v+1]=p[v]-E+256&255;return _},s=function(p,g,E){var _,N=[],v=p.length;N[0]=2;for(var y=0;y<v;y+=1)_=E&&E[y]||0,N[y+1]=p[y]-_+256&255;return N},o=function(p,g,E){var _,N,v=[],y=p.length;v[0]=3;for(var T=0;T<y;T+=1)_=p[T-g]||0,N=E&&E[T]||0,v[T+1]=p[T]+256-(_+N>>>1)&255;return v},a=function(p,g,E){var _,N,v,y,T=[],V=p.length;T[0]=4;for(var D=0;D<V;D+=1)_=p[D-g]||0,N=E&&E[D]||0,v=E&&E[D-g]||0,y=l(_,N,v),T[D+1]=p[D]-y+256&255;return T},l=function(p,g,E){if(p===g&&g===E)return p;var _=Math.abs(g-E),N=Math.abs(p-E),v=Math.abs(p+g-E-E);return _<=N&&_<=v?p:N<=v?g:E},h=function(){return[A,i,s,o,a]},d=function(p){var g=p.map(function(E){return E.reduce(function(_,N){return _+Math.abs(N)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,E,_){var N,v,y,T,V,D,j,S,b,Q,O,x,U,L,$,pe=this.decode.FLATE_DECODE,se="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(y=new Gq(p)).imgData,v=y.bits,N=y.colorSpace,V=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){b=(S=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,O=new Uint8Array(b*y.colors),Q=new Uint8Array(b);var ge,ee=y.pixelBitlength-y.bits;for(L=0,$=0;L<b;L++){for(U=S[L],ge=0;ge<ee;)O[$++]=U>>>ge&255,ge+=y.bits;Q[L]=U>>>ge&255}}if(y.bits===16){b=(S=new Uint32Array(y.decodePixels().buffer)).length,O=new Uint8Array(b*(32/y.pixelBitlength)*y.colors),Q=new Uint8Array(b*(32/y.pixelBitlength)),x=y.colors>1,L=0,$=0;for(var le=0;L<b;)U=S[L++],O[$++]=U>>>0&255,x&&(O[$++]=U>>>16&255,U=S[L++],O[$++]=U>>>0&255),Q[le++]=U>>>16&255;v=8}_!==t.image_compression.NONE&&e()?(p=r(O,y.width*y.colors,y.colors,_),j=r(Q,y.width,1,_)):(p=O,j=Q,pe=void 0)}if(y.colorType===3&&(N=this.color_spaces.INDEXED,D=y.palette,y.transparency.indexed)){var he=y.transparency.indexed,Ue=0;for(L=0,b=he.length;L<b;++L)Ue+=he[L];if((Ue/=255)===b-1&&he.indexOf(0)!==-1)T=[he.indexOf(0)];else if(Ue!==b){for(S=y.decodePixels(),Q=new Uint8Array(S.length),L=0,b=S.length;L<b;L++)Q[L]=he[S[L]];j=r(Q,y.width,1)}}var k=function(W){var Y;switch(W){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(_);return pe===this.decode.FLATE_DECODE&&(se="/Predictor "+k+" "),se+="/Colors "+V+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:E,data:p,index:g,filter:pe,decodeParameters:se,transparency:T,palette:D,sMask:j,predictor:k,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:N}}}})(ct.API),function(t){t.processGIF89A=function(e,r,n,A){var i=new qq(e),s=i.width,o=i.height,a=[];i.decodeAndBlitFrameRGBA(0,a);var l={data:a,width:s,height:o},h=new nv(100).encode(l,100);return t.processJPEG.call(this,h,r,n,A)},t.processGIF87A=t.processGIF89A}(ct.API),Pi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:A,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){sr.log("bit decode error:"+r)}},Pi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,A=0;A<e;A++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*A*4,o=0;o<8&&8*A+o<this.width;o++){var a=this.palette[i>>7-o&1];this.data[s+4*o]=a.blue,this.data[s+4*o+1]=a.green,this.data[s+4*o+2]=a.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Pi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,A=0;A<t;A++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*A*4,o=i>>4,a=15&i,l=this.palette[o];if(this.data[s]=l.blue,this.data[s+1]=l.green,this.data[s+2]=l.red,this.data[s+3]=255,2*A+1>=this.width)break;l=this.palette[a],this.data[s+4]=l.blue,this.data[s+4+1]=l.green,this.data[s+4+2]=l.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Pi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var A=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(A<this.palette.length){var s=this.palette[A];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Pi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,A=0;A<this.width;A++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,a=(i>>10&e)/e*255|0,l=i>>15?255:0,h=n*this.width*4+4*A;this.data[h]=a,this.data[h+1]=o,this.data[h+2]=s,this.data[h+3]=l}this.pos+=t}},Pi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var A=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&r)/r*255|0,l=(s>>11)/e*255|0,h=A*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},Pi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=A,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Pi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=A,this.data[o+2]=n,this.data[o+3]=s}},Pi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,A){var i=new Pi(e,!1),s=i.width,o=i.height,a={data:i.getData(),width:s,height:o},l=new nv(100).encode(a,100);return t.processJPEG.call(this,l,r,n,A)}}(ct.API),_I.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,A){var i=new _I(e),s=i.width,o=i.height,a={data:i.getData(),width:s,height:o},l=new nv(100).encode(a,100);return t.processJPEG.call(this,l,r,n,A)}}(ct.API),ct.API.processRGBA=function(t,e,r){for(var n=t.data,A=n.length,i=new Uint8Array(A/4*3),s=new Uint8Array(A/4),o=0,a=0,l=0;l<A;l+=4){var h=n[l],d=n[l+1],p=n[l+2],g=n[l+3];i[o++]=h,i[o++]=d,i[o++]=p,s[a++]=g}var E=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:E,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hc=ct.API,Hg=hc.getCharWidthsArray=function(t,e){var r,n,A=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:A.metadata.Unicode.widths,a=o.fof?o.fof:1,l=e.kerning?e.kerning:A.metadata.Unicode.kerning,h=l.fof?l.fof:1,d=e.doKerning!==!1,p=0,g=t.length,E=0,_=o[0]||a,N=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof A.metadata.widthOfString=="function"?N.push((A.metadata.widthOfGlyph(A.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(p=d&&Yt(l[n])==="object"&&!isNaN(parseInt(l[n][E],10))?l[n][E]/h:0,N.push((o[n]||_)/a+p)),E=n;return N},vI=hc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),A=e.charSpace||this.internal.getCharSpace();return hc.processArabic&&(t=hc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,A)/r:Hg.apply(this,arguments).reduce(function(i,s){return i+s},0)},yI=function(t,e,r,n){for(var A=[],i=0,s=t.length,o=0;i!==s&&o+e[i]<r;)o+=e[i],i++;A.push(t.slice(0,i));var a=i;for(o=0;i!==s;)o+e[i]>n&&(A.push(t.slice(a,i)),o=0,a=i),o+=e[i],i++;return a!==i&&A.push(t.slice(a,i)),A},BI=function(t,e,r){r||(r={});var n,A,i,s,o,a,l,h=[],d=[h],p=r.textIndent||0,g=0,E=0,_=t.split(" "),N=Hg.apply(this,[" ",r])[0];if(a=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var v=Array(a).join(" "),y=[];_.map(function(V){(V=V.split(/\s*\n/)).length>1?y=y.concat(V.map(function(D,j){return(j&&D.length?`
`:"")+D})):y.push(V[0])}),_=y,a=vI.apply(this,[v,r])}for(i=0,s=_.length;i<s;i++){var T=0;if(n=_[i],a&&n[0]==`
`&&(n=n.substr(1),T=1),p+g+(E=(A=Hg.apply(this,[n,r])).reduce(function(V,D){return V+D},0))>e||T){if(E>e){for(o=yI.apply(this,[n,A,e-(p+g),e]),h.push(o.shift()),h=[o.pop()];o.length;)d.push([o.shift()]);E=A.slice(n.length-(h[0]?h[0].length:0)).reduce(function(V,D){return V+D},0)}else h=[n];d.push(h),p=E+a,g=N}else h.push(n),p+=g+E,g=N}return l=a?function(V,D){return(D?v:"")+V.join(" ")}:function(V){return V.join(" ")},d.map(l)},hc.splitTextToSize=function(t,e,r){var n,A=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var d=this.internal.getFont(h.fontName,h.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/A;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/A:0,i.lineIndent=r.lineIndent;var o,a,l=[];for(o=0,a=n.length;o<a;o++)l=l.concat(BI.apply(this,[n[o],s,i]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},A=0;A<e.length;A++)r[e[A]]="0123456789abcdef"[A],n["0123456789abcdef"[A]]=e[A];var i=function(d){return"0x"+parseInt(d,10).toString(16)},s=t.__fontmetrics__.compress=function(d){var p,g,E,_,N=["{"];for(var v in d){if(p=d[v],isNaN(parseInt(v,10))?g="'"+v+"'":(v=parseInt(v,10),g=(g=i(v).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof p=="number")p<0?(E=i(p).slice(3),_="-"):(E=i(p).slice(2),_=""),E=_+E.slice(0,-1)+n[E.slice(-1)];else{if(Yt(p)!=="object")throw new Error("Don't know what to do with value type "+Yt(p)+".");E=s(p)}N.push(g+E)}return N.push("}"),N.join("")},o=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,E,_,N={},v=1,y=N,T=[],V="",D="",j=d.length-1,S=1;S<j;S+=1)(_=d[S])=="'"?p?(E=p.join(""),p=void 0):p=[]:p?p.push(_):_=="{"?(T.push([y,E]),y={},E=void 0):_=="}"?((g=T.pop())[0][g[1]]=y,E=void 0,y=g[0]):_=="-"?v=-1:E===void 0?r.hasOwnProperty(_)?(V+=r[_],E=parseInt(V,16)*v,v=1,V=""):V+=_:r.hasOwnProperty(_)?(D+=r[_],y[E]=parseInt(D,16)*v,v=1,E=void 0,D=""):D+=_;return N},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},h={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var p=d.font,g=h.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var E=l.Unicode[p.postScriptName];E&&(p.metadata.Unicode.encoding=E,p.encoding=E.codePages[0])}])}(ct.API),function(t){var e=function(r){for(var n=r.length,A=new Uint8Array(n),i=0;i<n;i++)A[i]=r.charCodeAt(i);return A};t.API.events.push(["addFont",function(r){var n=void 0,A=r.font,i=r.instance;if(!A.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+A.postScriptName+"').");if(typeof(n=i.existsFileInVFS(A.postScriptName)===!1?i.loadFile(A.postScriptName):i.getFileFromVFS(A.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+A.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(ef(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(A,n)}}])}(ct),function(t){function e(){return(ft.canvg?Promise.resolve(ft.canvg):Wc(()=>import("./index.es-GjU0k4AS.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ct.API.addSvgAsImage=function(r,n,A,i,s,o,a,l){if(isNaN(n)||isNaN(A))throw sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=s;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(E){return E.fromString(d,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(p)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),n,A,i,s,a,l)})}}(),ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var A=0;A<this.internal.pages[n].length;A++)this.internal.pages[n][A]=this.internal.pages[n][A].replace(e,r);return this},ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,A,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),a=[],l=0,h=0,d=0;function p(E,_){var N,v=!1;for(N=0;N<E.length;N+=1)E[N]===_&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(d=0;d<g;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(Yt(t)==="object"){for(A in t)if(i=t[A],p(o,A)&&i!==void 0){if(r[A].type==="boolean"&&typeof i=="boolean")r[A].value=i;else if(r[A].type==="name"&&p(r[A].valueSet,i))r[A].value=i;else if(r[A].type==="integer"&&Number.isInteger(i))r[A].value=i;else if(r[A].type==="array"){for(l=0;l<i.length;l+=1)if(n=!0,i[l].length===1&&typeof i[l][0]=="number")a.push(String(i[l]-1));else if(i[l].length>1){for(h=0;h<i[l].length;h+=1)typeof i[l][h]!="number"&&(n=!1);n===!0&&a.push([i[l][0]-1,i[l][1]-1].join(" "))}r[A].value="["+a.join(" ")+"]"}else r[A].value=r[A].defaultValue;r[A].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,_=[];for(E in r)r[E].explicitSet===!0&&(r[E].type==="name"?_.push("/"+E+" /"+r[E].value):_.push("/"+E+" "+r[E].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',A=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),l=i.length+s.length+o.length+A.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(A+i+s+o+a),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,A){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:A||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var o,a=s.metadata.Unicode.widths,l=["","0","00","000","0000"],h=[""],d=0,p=i.length;d<p;++d){if(o=s.metadata.characterToGlyph(i.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(d),a.indexOf(o)==-1&&(a.push(o),a.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(l[4-o.length],o)}return h.join("")},n=function(i){var s,o,a,l,h,d,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,a=[],d=0,p=(o=Object.keys(i).sort(function(g,E){return g-E})).length;d<p;d++)s=o[d],a.length>=100&&(h+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar`,a=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(l=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),a.push("<"+s+"><"+l+">"));return a.length&&(h+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var o=s.font,a=s.out,l=s.newObject,h=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",E=0;E<p.length;E++)g+=String.fromCharCode(p[E]);var _=l();h({data:g,addLength1:!0,objectId:_}),a("endobj");var N=l();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:N}),a("endobj");var v=l();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Bc(o.fontName)),a("/FontFile2 "+_+" 0 R"),a("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),a("/Flags "+o.metadata.flags),a("/StemV "+o.metadata.stemV),a("/ItalicAngle "+o.metadata.italicAngle),a("/Ascent "+o.metadata.ascender),a("/Descent "+o.metadata.decender),a("/CapHeight "+o.metadata.capHeight),a(">>"),a("endobj");var y=l();a("<<"),a("/Type /Font"),a("/BaseFont /"+Bc(o.fontName)),a("/FontDescriptor "+v+" 0 R"),a("/W "+t.API.PDFObject.convert(d)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+o.encoding+")"),a(">>"),a(">>"),a("endobj"),o.objectNumber=l(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+N+" 0 R"),a("/BaseFont /"+Bc(o.fontName)),a("/Encoding /"+o.encoding),a("/DescendantFonts ["+y+" 0 R]"),a(">>"),a("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var o=s.font,a=s.out,l=s.newObject,h=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,p="",g=0;g<d.length;g++)p+=String.fromCharCode(d[g]);var E=l();h({data:p,addLength1:!0,objectId:E}),a("endobj");var _=l();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),a("endobj");var N=l();a("<<"),a("/Descent "+o.metadata.decender),a("/CapHeight "+o.metadata.capHeight),a("/StemV "+o.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+E+" 0 R"),a("/Flags 96"),a("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),a("/FontName /"+Bc(o.fontName)),a("/ItalicAngle "+o.metadata.italicAngle),a("/Ascent "+o.metadata.ascender),a(">>"),a("endobj"),o.objectNumber=l();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Bc(o.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),a("endobj"),o.isAlreadyPutted=!0}})(i)}]);var A=function(i){var s,o=i.text||"",a=i.x,l=i.y,h=i.options||{},d=i.mutex||{},p=d.pdfEscape,g=d.activeFontKey,E=d.fonts,_=g,N="",v=0,y="",T=E[_].encoding;if(E[_].encoding!=="Identity-H")return{text:o,x:a,y:l,options:h,mutex:d};for(y=o,_=g,Array.isArray(o)&&(y=o[0]),v=0;v<y.length;v+=1)E[_].metadata.hasOwnProperty("cmap")&&(s=E[_].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),s||y[v].charCodeAt(0)<256&&E[_].metadata.hasOwnProperty("Unicode")?N+=y[v]:N+="";var V="";return parseInt(_.slice(1))<14||T==="WinAnsiEncoding"?V=p(N,_).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(V=r(N,E[_])),d.isHex=!0,{text:V,x:a,y:l,options:h,mutex:d}};e.events.push(["postProcessText",function(i){var s=i.text||"",o=[],a={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var l=0;for(l=0;l<s.length;l+=1)Array.isArray(s[l])&&s[l].length===3?o.push([A(Object.assign({},a,{text:s[l][0]})).text,s[l][1],s[l][2]]):o.push(A(Object.assign({},a,{text:s[l]})).text);i.text=o}else i.text=A(Object.assign({},a,{text:s})).text}])}(ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var A,i,s,o,a,l,h,d=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,T=0;this.__bidiEngine__={};var V=function(x){var U=x.charCodeAt(),L=U>>8,$=_[L];return $!==void 0?d[256*$+(255&U)]:L===252||L===253?"AL":v.test(L)?"L":L===8?"R":"N"},D=function(x){for(var U,L=0;L<x.length;L++){if((U=V(x.charAt(L)))==="L")return!1;if(U==="R")return!0}return!1},j=function(x,U,L,$){var pe,se,ge,ee,le=U[$];switch(le){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(le="AN");break;case"AL":y=!0,le="R";break;case"WS":le="N";break;case"CS":$<1||$+1>=U.length||(pe=L[$-1])!=="EN"&&pe!=="AN"||(se=U[$+1])!=="EN"&&se!=="AN"?le="N":y&&(se="AN"),le=se===pe?se:"N";break;case"ES":le=(pe=$>0?L[$-1]:"B")==="EN"&&$+1<U.length&&U[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&L[$-1]==="EN"){le="EN";break}if(y){le="N";break}for(ge=$+1,ee=U.length;ge<ee&&U[ge]==="ET";)ge++;le=ge<ee&&U[ge]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(ee=U.length,ge=$+1;ge<ee&&U[ge]==="NSM";)ge++;if(ge<ee){var he=x[$],Ue=he>=1425&&he<=2303||he===64286;if(pe=U[ge],Ue&&(pe==="R"||pe==="AL")){le="R";break}}}le=$<1||(pe=U[$-1])==="B"?"N":L[$-1];break;case"B":y=!1,A=!0,le=T;break;case"S":i=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":le="N"}return le},S=function(x,U,L){var $=x.split("");return L&&b($,L,{hiLevel:T}),$.reverse(),U&&U.reverse(),$.join("")},b=function(x,U,L){var $,pe,se,ge,ee,le=-1,he=x.length,Ue=0,k=[],W=T?g:p,Y=[];for(y=!1,A=!1,i=!1,pe=0;pe<he;pe++)Y[pe]=V(x[pe]);for(se=0;se<he;se++){if(ee=Ue,k[se]=j(x,Y,k,se),$=240&(Ue=W[ee][E[k[se]]]),Ue&=15,U[se]=ge=W[Ue][5],$>0)if($===16){for(pe=le;pe<se;pe++)U[pe]=1;le=-1}else le=-1;if(W[Ue][6])le===-1&&(le=se);else if(le>-1){for(pe=le;pe<se;pe++)U[pe]=ge;le=-1}Y[se]==="B"&&(U[se]=0),L.hiLevel|=ge}i&&function(z,re,fe){for(var me=0;me<fe;me++)if(z[me]==="S"){re[me]=T;for(var Ce=me-1;Ce>=0&&z[Ce]==="WS";Ce--)re[Ce]=T}}(Y,U,he)},Q=function(x,U,L,$,pe){if(!(pe.hiLevel<x)){if(x===1&&T===1&&!A)return U.reverse(),void(L&&L.reverse());for(var se,ge,ee,le,he=U.length,Ue=0;Ue<he;){if($[Ue]>=x){for(ee=Ue+1;ee<he&&$[ee]>=x;)ee++;for(le=Ue,ge=ee-1;le<ge;le++,ge--)se=U[le],U[le]=U[ge],U[ge]=se,L&&(se=L[le],L[le]=L[ge],L[ge]=se);Ue=ee}Ue++}}},O=function(x,U,L){var $=x.split(""),pe={hiLevel:T};return L||(L=[]),b($,L,pe),function(se,ge,ee){if(ee.hiLevel!==0&&h)for(var le,he=0;he<se.length;he++)ge[he]===1&&(le=N.indexOf(se[he]))>=0&&(se[he]=N[le+1])}($,L,pe),Q(2,$,U,L,pe),Q(1,$,U,L,pe),$.join("")};return this.__bidiEngine__.doBidiReorder=function(x,U,L){if(function(pe,se){if(se)for(var ge=0;ge<pe.length;ge++)se[ge]=ge;o===void 0&&(o=D(pe)),l===void 0&&(l=D(pe))}(x,U),s||!a||l)if(s&&a&&o^l)T=o?1:0,x=S(x,U,L);else if(!s&&a&&l)T=o?1:0,x=O(x,U,L),x=S(x,U);else if(!s||o||a||l){if(s&&!a&&o^l)x=S(x,U),o?(T=0,x=O(x,U,L)):(T=1,x=O(x,U,L),x=S(x,U));else if(s&&o&&!a&&l)T=1,x=O(x,U,L),x=S(x,U);else if(!s&&!a&&o^l){var $=h;o?(T=1,x=O(x,U,L),T=0,h=!1,x=O(x,U,L),h=$):(T=0,x=O(x,U,L),x=S(x,U),T=1,h=!1,x=O(x,U,L),h=$,x=S(x,U))}}else T=0,x=O(x,U,L);else T=o?1:0,x=O(x,U,L);return x},this.__bidiEngine__.setOptions=function(x){x&&(s=x.isInputVisual,a=x.isOutputVisual,o=x.isInputRtl,l=x.isOutputRtl,h=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var A=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(A)==="[object Array]"){var o=0;for(s=[],o=0;o<A.length;o+=1)Object.prototype.toString.call(A[o])==="[object Array]"?s.push([r.doBidiReorder(A[o][0]),A[o][1],A[o][2]]):s.push([r.doBidiReorder(A[o])]);n.text=s}else n.text=r.doBidiReorder(A);r.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new rl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new oz(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new zq(this.contents),this.head=new $q(this),this.name=new ez(this),this.cmap=new CN(this),this.toUnicode={},this.hhea=new Jq(this),this.maxp=new tz(this),this.hmtx=new rz(this),this.post=new Yq(this),this.os2=new Xq(this),this.loca=new sz(this),this.glyf=new nz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,A,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,a,l;for(l=[],s=0,o=(a=this.bbox).length;s<o;s++)e=a[s],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(A=this.post.italic_angle),32768&(r=A>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var A,i,s,o;for(s=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)A=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(A))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Zi,rl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,A;for(A=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)A.push(this.writeByte(e.charCodeAt(r)));return A},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,A,i,s,o,a;return e=this.readByte(),r=this.readByte(),n=this.readByte(),A=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^A)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^a)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*A+16777216*i+65536*s+256*o+a},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,A,i;for(i=[],n=0,A=e.length;n<A;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),zq=function(){var t;function e(r){var n,A,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},A=0,i=this.tableCount;0<=i?A<i:A>i;A=0<=i?++A:--A)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,A,i,s,o,a,l,h,d,p,g,E,_;for(_ in g=Object.keys(r).length,a=Math.log(2),d=16*Math.floor(Math.log(g)/a),s=Math.floor(d/a),h=16*g-d,(A=new rl).writeInt(this.scalarType),A.writeShort(g),A.writeShort(d),A.writeShort(s),A.writeShort(h),i=16*g,l=A.pos+i,o=null,E=[],r)for(p=r[_],A.writeString(_),A.writeInt(t(p)),A.writeInt(l),A.writeInt(p.length),E=E.concat(p),_==="head"&&(o=l),l+=p.length;l%4;)E.push(0),l++;return A.write(E),n=2981146554-t(A.data),A.pos=o+8,A.writeUInt32(n),A.data},t=function(r){var n,A,i,s;for(r=_N.call(r);r.length%4;)r.push(0);for(i=new rl(r),A=0,n=0,s=r.length;n<s;n=n+=4)A+=i.readUInt32();return 4294967295&A},e}(),Wq={}.hasOwnProperty,Ns=function(t,e){for(var r in e)Wq.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Zi=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var $q=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new rl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),EI=function(){function t(e,r){var n,A,i,s,o,a,l,h,d,p,g,E,_,N,v,y,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,i=function(){var V,D;for(D=[],a=V=0;0<=p?V<p:V>p;a=0<=p?++V:--V)D.push(e.readUInt16());return D}(),e.pos+=2,_=function(){var V,D;for(D=[],a=V=0;0<=p?V<p:V>p;a=0<=p?++V:--V)D.push(e.readUInt16());return D}(),l=function(){var V,D;for(D=[],a=V=0;0<=p?V<p:V>p;a=0<=p?++V:--V)D.push(e.readUInt16());return D}(),h=function(){var V,D;for(D=[],a=V=0;0<=p?V<p:V>p;a=0<=p?++V:--V)D.push(e.readUInt16());return D}(),A=(this.length-e.pos+this.offset)/2,o=function(){var V,D;for(D=[],a=V=0;0<=A?V<A:V>A;a=0<=A?++V:--V)D.push(e.readUInt16());return D}(),a=v=0,T=i.length;v<T;a=++v)for(N=i[a],n=y=E=_[a];E<=N?y<=N:y>=N;n=E<=N?++y:--y)h[a]===0?s=n+l[a]:(s=o[h[a]/2+(n-E)-(p-a)]||0)!==0&&(s+=l[a]),this.codeMap[n]=65535&s}e.pos=d}return t.encode=function(e,r){var n,A,i,s,o,a,l,h,d,p,g,E,_,N,v,y,T,V,D,j,S,b,Q,O,x,U,L,$,pe,se,ge,ee,le,he,Ue,k,W,Y,z,re,fe,me,Ce,Re,Ae,xe;switch($=new rl,s=Object.keys(e).sort(function(Ne,Ye){return Ne-Ye}),r){case"macroman":for(_=0,N=function(){var Ne=[];for(E=0;E<256;++E)Ne.push(0);return Ne}(),y={0:0},i={},pe=0,le=s.length;pe<le;pe++)y[Ce=e[A=s[pe]]]==null&&(y[Ce]=++_),i[A]={old:e[A],new:y[e[A]]},N[A]=y[e[A]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(N),{charMap:i,subtable:$.data,maxGlyphID:_+1};case"unicode":for(U=[],d=[],T=0,y={},n={},v=l=null,se=0,he=s.length;se<he;se++)y[D=e[A=s[se]]]==null&&(y[D]=++T),n[A]={old:D,new:y[D]},o=y[D]-A,v!=null&&o===l||(v&&d.push(v),U.push(A),l=o),v=A;for(v&&d.push(v),d.push(65535),U.push(65535),O=2*(Q=U.length),b=2*Math.pow(Math.log(Q)/Math.LN2,2),p=Math.log(b/2)/Math.LN2,S=2*Q-b,a=[],j=[],g=[],E=ge=0,Ue=U.length;ge<Ue;E=++ge){if(x=U[E],h=d[E],x===65535){a.push(0),j.push(0);break}if(x-(L=n[x].new)>=32768)for(a.push(0),j.push(2*(g.length+Q-E)),A=ee=x;x<=h?ee<=h:ee>=h;A=x<=h?++ee:--ee)g.push(n[A].new);else a.push(L-x),j.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*Q+2*g.length),$.writeUInt16(0),$.writeUInt16(O),$.writeUInt16(b),$.writeUInt16(p),$.writeUInt16(S),fe=0,k=d.length;fe<k;fe++)A=d[fe],$.writeUInt16(A);for($.writeUInt16(0),me=0,W=U.length;me<W;me++)A=U[me],$.writeUInt16(A);for(Re=0,Y=a.length;Re<Y;Re++)o=a[Re],$.writeUInt16(o);for(Ae=0,z=j.length;Ae<z;Ae++)V=j[Ae],$.writeUInt16(V);for(xe=0,re=g.length;xe<re;xe++)_=g[xe],$.writeUInt16(_);return{charMap:n,subtable:$.data,maxGlyphID:T+1}}},t}(),CN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,A,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,A=0;0<=i?A<i:A>i;A=0<=i?++A:--A)n=new EI(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var A,i;return n==null&&(n="macroman"),A=EI.encode(r,n),(i=new rl).writeUInt16(0),i.writeUInt16(1),A.table=i.data.concat(A.subtable),A},e}(),Jq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),Xq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,A;for(A=[],n=0;n<10;++n)A.push(r.readByte());return A}(),this.charRange=function(){var n,A;for(A=[],n=0;n<4;++n)A.push(r.readInt());return A}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,A;for(A=[],n=0;n<2;n=++n)A.push(r.readInt());return A}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),Yq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="post",e.prototype.parse=function(r){var n,A,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(A=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=A?s<A:s>A;s=0<=A?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return A=r.readUInt16(),this.offsets=r.read(A);case 196608:break;case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(r.readUInt32());return l}).call(this)}},e}(),Zq=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ez=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="name",e.prototype.parse=function(r){var n,A,i,s,o,a,l,h,d,p,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),a=r.readShort(),A=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)A.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+a+r.readShort()});for(l={},s=d=0,p=A.length;d<p;s=++d)i=A[s],r.pos=i.offset,h=r.readString(i.length),o=new Zq(h,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),tz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),rz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,A,i,s,o,a,l;for(r.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,d;for(d=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)d.push(r.readInt16());return d}(),this.widths=(function(){var h,d,p,g;for(g=[],h=0,d=(p=this.metrics).length;h<d;h++)s=p[h],g.push(s.advance);return g}).call(this),A=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(A));return l},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),_N=[].slice,nz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,A,i,s,o,a,l,h,d,p;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,A=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+A,o=(a=new rl(n.read(i))).readShort(),h=a.readShort(),p=a.readShort(),l=a.readShort(),d=a.readShort(),this.cache[r]=o===-1?new iz(a,h,p,l,d):new Az(a,o,h,p,l,d),this.cache[r]))},e.prototype.encode=function(r,n,A){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=r[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(A)));return s.push(o.length),{table:o,offsets:s}},e}(),Az=function(){function t(e,r,n,A,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=A,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),iz=function(){function t(e,r,n,A,i){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=A,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new rl(_N.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),sz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="loca",e.prototype.parse=function(r){var n,A;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],A=0,i=this.length;A<i;A+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],A=0,i=this.length;A<i;A+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var A=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<A.length;++o)if(A[o]=i,s<n.length&&n[s]==o){++s,A[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var h=new Array(4*A.length),d=0;d<A.length;++d)h[4*d+3]=255&A[d],h[4*d+2]=(65280&A[d])>>8,h[4*d+1]=(16711680&A[d])>>16,h[4*d]=(4278190080&A[d])>>24;return h},e}(),oz=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,A,i;for(r in A=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=A[n];return e},t.prototype.glyphsFor=function(e){var r,n,A,i,s,o,a;for(A={},s=0,o=e.length;s<o;s++)A[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],A)(n=A[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in a=this.glyphsFor(r))n=a[i],A[i]=n;return A},t.prototype.encode=function(e,r){var n,A,i,s,o,a,l,h,d,p,g,E,_,N,v;for(A in n=CN.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),g={0:0},v=n.charMap)g[(a=v[A]).old]=a.new;for(E in p=n.maxGlyphID,s)E in g||(g[E]=p++);return h=function(y){var T,V;for(T in V={},y)V[y[T]]=T;return V}(g),d=Object.keys(h).sort(function(y,T){return y-T}),_=function(){var y,T,V;for(V=[],y=0,T=d.length;y<T;y++)o=d[y],V.push(h[o]);return V}(),i=this.font.glyf.encode(s,_,g),l=this.font.loca.encode(i.offsets,_),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t}();ct.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,A,i,s;if(Array.isArray(r))return"["+function(){var o,a,l;for(l=[],o=0,a=r.length;o<a;o++)n=r[o],l.push(e.convert(n));return l}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(A in i=["<<"],r)s=r[A],i.push("/"+A+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e}();const bI=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Oq,AcroFormAppearance:rt,AcroFormButton:an,AcroFormCheckBox:nf,AcroFormChoiceField:tu,AcroFormComboBox:nu,AcroFormEditBox:tf,AcroFormListBox:ru,AcroFormPasswordField:Af,AcroFormPushButton:rf,AcroFormRadioButton:Au,AcroFormTextField:Wa,GState:Gf,ShadingPattern:ba,TilingPattern:$l,default:ct,jsPDF:ct},Symbol.toStringTag,{value:"Module"})),ca=t=>Number(t??0).toFixed(2),az=(t,e)=>{var n;const r=t.date??((n=t.timestamp)!=null&&n.toDate?zA(t.timestamp.toDate(),"yyyy-MM-dd"):void 0);return r?{id:e,productName:t.productName??"(sin nombre)",quantity:Number(t.quantity??0),amount:Number(t.amount??t.amountCharged??0),amountSuggested:Number(t.amountSuggested??0),date:r,userEmail:t.userEmail??t.vendor??"(sin usuario)",clientName:t.clientName??"",amountReceived:Number(t.amountReceived??0),change:String(t.change??"0"),status:t.status??"FLOTANTE",allocations:t.allocations,avgUnitCost:t.avgUnitCost,cogsAmount:t.cogsAmount}:null};function lz({role:t}){const[e,r]=te.useState([]),[n,A]=te.useState(null),[i,s]=te.useState(!0),[o,a]=te.useState(""),[l,h]=te.useState("ALL"),[d,p]=te.useState(null),[g,E]=te.useState(0),[_,N]=te.useState(0),[v,y]=te.useState(""),[T,V]=te.useState(0),[D,j]=te.useState("0"),S=zA(new Date,"yyyy-MM-dd"),b=te.useRef(null);te.useEffect(()=>{const z=Eo(zr(It,"salesV2"),Hi("date","==",S)),re=mH(z,fe=>{const me=[];fe.forEach(Ce=>{const Re=az(Ce.data(),Ce.id);Re&&me.push(Re)}),r(me),s(!1)});return()=>re()},[S]),te.useEffect(()=>{(async()=>{const re=Eo(zr(It,"daily_closures"),Hi("date","==",S)),fe=await TA(re);if(fe.empty)A(null);else{const me=fe.docs[0];A({id:me.id,...me.data()})}})()},[S]);const Q=l==="ALL"?e:e.filter(z=>z.status===l),O=Q.reduce((z,re)=>z+(re.amountSuggested||0),0),x=Q.reduce((z,re)=>z+(re.amount||0),0),U=x-O,L=Q.reduce((z,re)=>z+(re.quantity||0),0),$=Q.reduce((z,re)=>z+Number(re.cogsAmount??0),0),pe=x-$,se={};e.forEach(z=>{const re=z.productName||"(sin nombre)";se[re]||(se[re]={totalQuantity:0,totalAmount:0}),se[re].totalQuantity+=z.quantity||0,se[re].totalAmount+=z.amount||0});const ge=Object.entries(se).map(([z,re])=>({productName:z,totalQuantity:re.totalQuantity,totalAmount:re.totalAmount})),ee=async()=>{try{const z=e.filter(Ae=>Ae.status!=="PROCESADA");if(z.length===0){a("No hay ventas FLOTANTE para procesar.");return}const re={totalCharged:z.reduce((Ae,xe)=>Ae+(xe.amount||0),0),totalSuggested:z.reduce((Ae,xe)=>Ae+(xe.amountSuggested||0),0),totalUnits:z.reduce((Ae,xe)=>Ae+(xe.quantity||0),0),totalCOGS:z.reduce((Ae,xe)=>Ae+Number(xe.cogsAmount??0),0)},fe=re.totalCharged-re.totalSuggested,me=re.totalCharged-re.totalCOGS,Ce=await pp(zr(It,"daily_closures"),{date:S,createdAt:er.now(),totalCharged:re.totalCharged,totalSuggested:re.totalSuggested,totalDifference:fe,totalUnits:re.totalUnits,totalCOGS:re.totalCOGS,grossProfit:me,products:z.map(Ae=>({productName:Ae.productName,quantity:Ae.quantity,amount:Ae.amount})),salesV2:z.map(Ae=>({id:Ae.id,productName:Ae.productName,quantity:Ae.quantity,amount:Ae.amount,amountSuggested:Ae.amountSuggested,userEmail:Ae.userEmail,clientName:Ae.clientName,amountReceived:Ae.amountReceived,change:Ae.change,status:Ae.status,cogsAmount:Ae.cogsAmount??0,avgUnitCost:Ae.avgUnitCost??null,allocations:Ae.allocations??[]})),productSummary:ge}),Re=CH(It);z.forEach(Ae=>{Re.update(cn(It,"salesV2",Ae.id),{status:"PROCESADA",closureId:Ce.id,closureDate:S})}),await Re.commit(),a("✅ Cierre guardado y ventas marcadas como PROCESADA.")}catch(z){console.error(z),a("❌ Error al guardar el cierre.")}},le=async z=>{if(window.confirm("¿Revertir esta venta? Esta acción no se puede deshacer."))try{await ch(cn(It,"salesV2",z),{status:"FLOTANTE",closureId:null,closureDate:null}),a("↩️ Venta revertida a FLOTANTE.")}catch(re){console.error(re),a("❌ No se pudo revertir la venta.")}},he=z=>{p(z),E(z.quantity),N(z.amount),y(z.clientName),V(z.amountReceived),j(z.change)},Ue=async()=>{if(d)try{await ch(cn(It,"salesV2",d.id),{quantity:g,amount:_,amountCharged:_,clientName:v,amountReceived:T,change:D}),p(null),a("✅ Venta actualizada.")}catch(z){console.error(z),a("❌ No se pudo actualizar la venta.")}},k=async z=>{if(window.confirm("¿Eliminar esta venta FLOTANTE? Esta acción no se puede deshacer."))try{await fp(cn(It,"salesV2",z)),a("🗑️ Venta eliminada.")}catch(re){console.error(re),a("❌ No se pudo eliminar la venta.")}},W=async()=>{if(b.current){b.current.classList.add("force-pdf-colors");try{const re=(await tN(b.current,{backgroundColor:"#ffffff",onclone:me=>{const Ce=me.defaultView;me.body.querySelectorAll("*").forEach(Ae=>{const xe=Ce.getComputedStyle(Ae);xe.color&&(Ae.style.color=xe.color),xe.backgroundColor&&xe.backgroundColor!=="rgba(0, 0, 0, 0)"&&(Ae.style.backgroundColor=xe.backgroundColor),xe.borderColor&&(Ae.style.borderColor=xe.borderColor)})}})).toDataURL("image/png"),fe=new ct;fe.addImage(re,"PNG",10,10,190,0),fe.save(`cierre_${S}.pdf`)}finally{b.current.classList.remove("force-pdf-colors")}}},Y=t==="admin";return B.jsxs("div",{className:"max-w-7xl mx-auto bg-white p-6 rounded shadow",children:[B.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Cierre de Ventas - ",S]}),B.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[B.jsx("label",{className:"text-sm",children:"Filtrar:"}),B.jsxs("select",{className:"border rounded px-2 py-1",value:l,onChange:z=>h(z.target.value),children:[B.jsx("option",{value:"ALL",children:"Todas"}),B.jsx("option",{value:"FLOTANTE",children:"Venta Flotante"}),B.jsx("option",{value:"PROCESADA",children:"Venta Procesada"})]})]}),i?B.jsx("p",{children:"Cargando ventas..."}):B.jsxs("div",{ref:b,children:[B.jsxs("table",{className:"min-w-full border text-sm mb-4",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"border p-2",children:"Estado"}),B.jsx("th",{className:"border p-2",children:"Producto"}),B.jsx("th",{className:"border p-2",children:"Libras - Unidad"}),B.jsx("th",{className:"border p-2",children:"Monto"}),B.jsx("th",{className:"border p-2",children:"Vendedor"}),B.jsx("th",{className:"border p-2",children:"Cliente"}),B.jsx("th",{className:"border p-2",children:"Paga con"}),B.jsx("th",{className:"border p-2",children:"Vuelto"}),B.jsx("th",{className:"border p-2",children:"Acciones"})]})}),B.jsxs("tbody",{children:[Q.map(z=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"border p-1",children:B.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${z.status==="PROCESADA"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:z.status})}),B.jsx("td",{className:"border p-1",children:z.productName}),B.jsx("td",{className:"border p-1",children:z.quantity}),B.jsxs("td",{className:"border p-1",children:["C$",ca(z.amount)]}),B.jsx("td",{className:"border p-1",children:z.userEmail}),B.jsx("td",{className:"border p-1",children:z.clientName}),B.jsxs("td",{className:"border p-1",children:["C$",ca(z.amountReceived)]}),B.jsxs("td",{className:"border p-1",children:["C$",z.change]}),B.jsx("td",{className:"border p-1",children:z.status==="FLOTANTE"?B.jsxs("div",{className:"flex gap-2 justify-center",children:[Y&&B.jsxs(B.Fragment,{children:[B.jsx("button",{onClick:()=>he(z),className:"text-xs bg-indigo-600 text-white px-2 py-1 rounded hover:bg-indigo-700",children:"Editar"}),B.jsx("button",{onClick:()=>k(z.id),className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",children:"Eliminar"})]}),!Y&&B.jsx("span",{className:"text-gray-400 text-xs",children:"—"})]}):z.status==="PROCESADA"?B.jsx("div",{className:"flex gap-2 justify-center",children:Y?B.jsx("button",{onClick:()=>le(z.id),className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",children:"Revertir"}):B.jsx("span",{className:"text-gray-400 text-xs",children:"—"})}):B.jsx("span",{className:"text-gray-400 text-xs",children:"No options"})})]},z.id)),Q.length===0&&B.jsx("tr",{children:B.jsx("td",{colSpan:9,className:"p-3 text-center text-gray-500",children:"Sin ventas para mostrar."})})]})]}),B.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mb-2",children:[B.jsxs("div",{children:["Total unidades: ",B.jsx("strong",{children:L})]}),B.jsxs("div",{children:["Total sugerido: ",B.jsxs("strong",{children:["C$",ca(O)]})]}),B.jsxs("div",{children:["Total cobrado: ",B.jsxs("strong",{children:["C$",ca(x)]})]}),B.jsxs("div",{className:`font-bold ${U<0?"text-red-600":"text-green-600"}`,children:["Diferencia (cobrado - sugerido): C$",ca(U)]})]}),($>0||pe!==x)&&B.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm mb-6",children:[B.jsxs("div",{children:["Costo (COGS): ",B.jsxs("strong",{children:["C$",ca($)]})]}),B.jsxs("div",{children:["Utilidad bruta: ",B.jsxs("strong",{children:["C$",ca(pe)]})]})]}),B.jsx("h3",{className:"font-semibold mb-2",children:"Consolidado por producto (día)"}),B.jsxs("table",{className:"min-w-full border text-sm mb-2",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"border p-2",children:"Producto"}),B.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),B.jsx("th",{className:"border p-2",children:"Total dinero"})]})}),B.jsxs("tbody",{children:[ge.map(z=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"border p-1",children:z.productName}),B.jsx("td",{className:"border p-1",children:z.totalQuantity}),B.jsxs("td",{className:"border p-1",children:["C$",ca(z.totalAmount)]})]},z.productName)),ge.length===0&&B.jsx("tr",{children:B.jsx("td",{colSpan:3,className:"p-3 text-center text-gray-500",children:"Sin datos para consolidar."})})]})]})]}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:ee,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Cerrar ventas del día"}),B.jsx("button",{onClick:W,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Descargar PDF"})]}),o&&B.jsx("p",{className:"mt-2 text-sm",children:o}),d&&B.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:B.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-4 space-y-3",children:[B.jsx("h4",{className:"font-semibold text-lg",children:"Editar venta"}),B.jsxs("div",{className:"text-sm text-gray-500",children:[d.productName," • ",d.userEmail]}),B.jsx("label",{className:"text-sm",children:"Cantidad"}),B.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded px-2 py-1",value:g,onChange:z=>E(parseFloat(z.target.value||"0"))}),B.jsx("label",{className:"text-sm",children:"Monto cobrado"}),B.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded px-2 py-1",value:_,onChange:z=>N(parseFloat(z.target.value||"0"))}),B.jsx("label",{className:"text-sm",children:"Cliente"}),B.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1",value:v,onChange:z=>y(z.target.value)}),B.jsx("label",{className:"text-sm",children:"Paga con"}),B.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded px-2 py-1",value:T,onChange:z=>V(parseFloat(z.target.value||"0"))}),B.jsx("label",{className:"text-sm",children:"Vuelto"}),B.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1",value:D,onChange:z=>j(z.target.value)}),B.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[B.jsx("button",{onClick:()=>p(null),className:"px-3 py-1 border rounded",children:"Cancelar"}),B.jsx("button",{onClick:Ue,className:"px-3 py-1 rounded text-white bg-indigo-600 hover:bg-indigo-700",children:"Guardar cambios"})]})]})})]})}const sn=t=>Number(t??0).toFixed(2);function uz(){var v,y,T,V;const[t,e]=te.useState(zA(RV(new Date),"yyyy-MM-dd")),[r,n]=te.useState(zA(new Date,"yyyy-MM-dd")),[A,i]=te.useState(!0),[s,o]=te.useState([]),[a,l]=te.useState(null),[h,d]=te.useState(""),p=te.useRef(null),g=async()=>{try{i(!0);const D=Eo(zr(It,"daily_closures"),Hi("date",">=",t),Hi("date","<=",r)),j=await TA(D),S=[];j.forEach(b=>S.push({id:b.id,...b.data()})),S.sort((b,Q)=>b.date<Q.date?1:b.date>Q.date?-1:0),o(S)}catch(D){console.error(D),d("❌ Error cargando el historial.")}finally{i(!1)}};te.useEffect(()=>{g()},[]);const E=async D=>{D.preventDefault(),g()},_=te.useMemo(()=>{if(!a)return{units:0,sug:0,chg:0,diff:0,cogs:0,profit:0};const D=Number(a.totalUnits??0),j=Number(a.totalSuggested??0),S=Number(a.totalCharged??0),b=Number(a.totalDifference??(isFinite(S-j)?S-j:0)),Q=Number(a.totalCOGS??0),O=Number(a.grossProfit??(isFinite(S-Q)?S-Q:0));return{units:D,sug:j,chg:S,diff:b,cogs:Q,profit:O}},[a]),N=async()=>{if(!p.current||!a)return;const D=p.current;D.classList.add("force-pdf-colors");try{const[{default:j},{jsPDF:S}]=await Promise.all([Wc(()=>Promise.resolve().then(()=>rN),void 0),Wc(()=>Promise.resolve().then(()=>bI),void 0)]),Q=(await j(D,{backgroundColor:"#ffffff",onclone:U=>{const L=U.defaultView;U.body.querySelectorAll("*").forEach(pe=>{const se=L.getComputedStyle(pe);se.color&&(pe.style.color=se.color),se.backgroundColor&&se.backgroundColor!=="rgba(0, 0, 0, 0)"&&(pe.style.backgroundColor=se.backgroundColor),se.borderColor&&(pe.style.borderColor=se.borderColor)})}})).toDataURL("image/png"),{jsPDF:O}=await Wc(async()=>{const{jsPDF:U}=await Promise.resolve().then(()=>bI);return{jsPDF:U}},void 0),x=new O;x.addImage(Q,"PNG",10,10,190,0),x.save(`cierre_${a.date}.pdf`)}finally{D.classList.remove("force-pdf-colors")}};return B.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-white rounded shadow",children:[B.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Histórico de cierres"}),B.jsxs("form",{onSubmit:E,className:"flex flex-wrap items-end gap-3 mb-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm",children:"Desde"}),B.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:t,onChange:D=>e(D.target.value)})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm",children:"Hasta"}),B.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:r,onChange:D=>n(D.target.value)})]}),B.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Aplicar"})]}),A?B.jsx("p",{children:"Cargando..."}):s.length===0?B.jsx("p",{className:"text-sm text-gray-500",children:"Sin cierres en el rango seleccionado."}):B.jsxs("table",{className:"min-w-full border text-sm mb-6",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"border p-2",children:"Fecha"}),B.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),B.jsx("th",{className:"border p-2",children:"Total cobrado"}),B.jsx("th",{className:"border p-2",children:"Total sugerido"}),B.jsx("th",{className:"border p-2",children:"Diferencia"}),B.jsx("th",{className:"border p-2",children:"COGS"}),B.jsx("th",{className:"border p-2",children:"Utilidad bruta"}),B.jsx("th",{className:"border p-2",children:"Acciones"})]})}),B.jsx("tbody",{children:s.map(D=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"border p-1",children:D.date}),B.jsx("td",{className:"border p-1",children:D.totalUnits??0}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.totalCharged)]}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.totalSuggested)]}),B.jsxs("td",{className:`border p-1 ${Number(D.totalDifference??0)<0?"text-red-600":"text-green-700"}`,children:["C$",sn(D.totalDifference??Number(D.totalCharged??0)-Number(D.totalSuggested??0))]}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.totalCOGS)]}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.grossProfit??Number(D.totalCharged??0)-Number(D.totalCOGS??0))]}),B.jsx("td",{className:"border p-1",children:B.jsx("button",{className:"text-xs bg-gray-800 text-white px-2 py-1 rounded hover:bg-black",onClick:()=>l(D),children:"Ver detalle"})})]},D.id))})]}),a&&B.jsxs("div",{className:"mt-6",children:[B.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[B.jsxs("h2",{className:"text-xl font-semibold",children:["Detalle ",a.date]}),B.jsx("button",{onClick:()=>l(null),className:"text-sm px-2 py-1 border rounded",children:"Cerrar"}),B.jsx("button",{onClick:N,className:"ml-auto bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 text-sm",children:"Descargar PDF"})]}),B.jsxs("div",{ref:p,className:"space-y-4",children:[B.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[B.jsxs("div",{children:["Total unidades: ",B.jsx("strong",{children:_.units})]}),B.jsxs("div",{children:["Total sugerido:"," ",B.jsxs("strong",{children:["C$",sn(_.sug)]})]}),B.jsxs("div",{children:["Total cobrado: ",B.jsxs("strong",{children:["C$",sn(_.chg)]})]}),B.jsxs("div",{className:`font-bold ${_.diff<0?"text-red-600":"text-green-600"}`,children:["Diferencia: C$",sn(_.diff)]})]}),B.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:[B.jsxs("div",{children:["Costo (COGS): ",B.jsxs("strong",{children:["C$",sn(_.cogs)]})]}),B.jsxs("div",{children:["Utilidad bruta:"," ",B.jsxs("strong",{children:["C$",sn(_.profit)]})]})]}),(v=a.salesV2)!=null&&v.length?B.jsxs(B.Fragment,{children:[B.jsx("h3",{className:"font-semibold",children:"Ventas incluidas en el cierre"}),B.jsxs("table",{className:"min-w-full border text-sm",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"border p-2",children:"Producto"}),B.jsx("th",{className:"border p-2",children:"Cantidad"}),B.jsx("th",{className:"border p-2",children:"Monto"}),B.jsx("th",{className:"border p-2",children:"COGS"}),B.jsx("th",{className:"border p-2",children:"Vendedor"}),B.jsx("th",{className:"border p-2",children:"Cliente"}),B.jsx("th",{className:"border p-2",children:"Paga con"}),B.jsx("th",{className:"border p-2",children:"Vuelto"})]})}),B.jsx("tbody",{children:a.salesV2.map((D,j)=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"border p-1",children:D.productName??"(sin nombre)"}),B.jsx("td",{className:"border p-1",children:D.quantity??0}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.amount)]}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.cogsAmount)]}),B.jsx("td",{className:"border p-1",children:D.userEmail??""}),B.jsx("td",{className:"border p-1",children:D.clientName??""}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.amountReceived)]}),B.jsx("td",{className:"border p-1",children:typeof D.change=="number"?sn(D.change):D.change??"0"})]},j))})]})]}):(y=a.sales)!=null&&y.length?B.jsxs(B.Fragment,{children:[B.jsx("h3",{className:"font-semibold",children:"Ventas incluidas en el cierre"}),B.jsxs("table",{className:"min-w-full border text-sm",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"border p-2",children:"Producto"}),B.jsx("th",{className:"border p-2",children:"Cantidad"}),B.jsx("th",{className:"border p-2",children:"Monto"}),B.jsx("th",{className:"border p-2",children:"Vendedor"}),B.jsx("th",{className:"border p-2",children:"Cliente"}),B.jsx("th",{className:"border p-2",children:"Paga con"}),B.jsx("th",{className:"border p-2",children:"Vuelto"})]})}),B.jsx("tbody",{children:a.sales.map((D,j)=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"border p-1",children:D.productName??"(sin nombre)"}),B.jsx("td",{className:"border p-1",children:D.quantity??0}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.amount)]}),B.jsx("td",{className:"border p-1",children:D.userEmail??""}),B.jsx("td",{className:"border p-1",children:D.clientName??""}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.amountReceived)]}),B.jsx("td",{className:"border p-1",children:typeof D.change=="number"?sn(D.change):D.change??"0"})]},j))})]})]}):(T=a.products)!=null&&T.length?B.jsxs(B.Fragment,{children:[B.jsx("h3",{className:"font-semibold",children:"Productos en el cierre"}),B.jsxs("table",{className:"min-w-full border text-sm",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"border p-2",children:"Producto"}),B.jsx("th",{className:"border p-2",children:"Cantidad"}),B.jsx("th",{className:"border p-2",children:"Monto"})]})}),B.jsx("tbody",{children:a.products.map((D,j)=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"border p-1",children:D.productName}),B.jsx("td",{className:"border p-1",children:D.quantity}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.amount)]})]},j))})]})]}):B.jsx("p",{className:"text-sm text-gray-500",children:"Sin detalle de ventas en este cierre."}),(V=a.productSummary)!=null&&V.length?B.jsxs(B.Fragment,{children:[B.jsx("h3",{className:"font-semibold",children:"Consolidado por producto"}),B.jsxs("table",{className:"min-w-full border text-sm",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"border p-2",children:"Producto"}),B.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),B.jsx("th",{className:"border p-2",children:"Total dinero"})]})}),B.jsx("tbody",{children:a.productSummary.map((D,j)=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"border p-1",children:D.productName}),B.jsx("td",{className:"border p-1",children:D.totalQuantity}),B.jsxs("td",{className:"border p-1",children:["C$",sn(D.totalAmount)]})]},j))})]})]}):null]})]}),h&&B.jsx("p",{className:"mt-3 text-sm",children:h})]})}function cz(){const[t,e]=te.useState(""),[r,n]=te.useState(""),[A,i]=te.useState("vendedor"),[s,o]=te.useState(""),[a,l]=te.useState([]),[h,d]=te.useState(!0),[p,g]=te.useState(null),[E,_]=te.useState("vendedor"),N=async()=>{d(!0);const j=await TA(zr(It,"users")),S=[];j.forEach(b=>{const Q=b.data();S.push({id:b.id,email:Q.email??"",role:Q.role??"vendedor"})}),l(S),d(!1)};te.useEffect(()=>{N()},[]);const v=async j=>{j.preventDefault(),o("");try{const S=await ND(mp,t,r);await gH(cn(zr(It,"users"),S.user.uid),{email:t,role:A}),l(b=>[{id:S.user.uid,email:t,role:A},...b]),o("✅ Usuario creado correctamente."),e(""),n(""),i("vendedor")}catch(S){o("❌ Error al crear el usuario: "+S.message)}},y=j=>{g(j.id),_(j.role||"vendedor")},T=()=>{g(null),_("vendedor")},V=async()=>{if(!p)return;const j=cn(It,"users",p);await ch(j,{role:E}),l(S=>S.map(b=>b.id===p?{...b,role:E}:b)),T()},D=async j=>{confirm("¿Eliminar este usuario del listado?")&&(await fp(cn(It,"users",j)),l(b=>b.filter(Q=>Q.id!==j)))};return B.jsxs("div",{className:"max-w-6xl mx-auto",children:[B.jsxs("form",{onSubmit:v,className:"max-w-md mx-auto bg-white p-8 shadow-lg rounded-lg space-y-6 border border-gray-200",children:[B.jsxs("h2",{className:"text-2xl font-bold mb-4 text-purple-700 flex items-center gap-2",children:[B.jsx("span",{className:"inline-block bg-purple-100 text-purple-700 rounded-full p-2",children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),"Registrar nuevo usuario"]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Correo electrónico"}),B.jsx("input",{type:"email",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-purple-400",value:t,onChange:j=>e(j.target.value)})]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Contraseña"}),B.jsx("input",{type:"password",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-purple-400",value:r,onChange:j=>n(j.target.value)})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm",children:"Rol"}),B.jsxs("select",{className:"w-full border p-2 rounded",value:A,onChange:j=>i(j.target.value),children:[B.jsx("option",{value:"vendedor",children:"Vendedor"}),B.jsx("option",{value:"admin",children:"Admin"})]})]}),B.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full",children:"Crear usuario"}),s&&B.jsx("p",{className:"text-sm mt-2",children:s})]}),B.jsxs("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto mt-6",children:[B.jsx("h3",{className:"text-lg font-semibold p-2",children:"Usuarios"}),B.jsxs("table",{className:"min-w-full text-sm",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"p-2 border",children:"Email"}),B.jsx("th",{className:"p-2 border",children:"Rol"}),B.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),B.jsx("tbody",{children:h?B.jsx("tr",{children:B.jsx("td",{colSpan:3,className:"p-4 text-center",children:"Cargando…"})}):a.length===0?B.jsx("tr",{children:B.jsx("td",{colSpan:3,className:"p-4 text-center",children:"Sin usuarios"})}):a.map(j=>{const S=p===j.id;return B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"p-2 border",children:j.email}),B.jsx("td",{className:"p-2 border",children:S?B.jsxs("select",{className:"w-full border p-1 rounded",value:E,onChange:b=>_(b.target.value),children:[B.jsx("option",{value:"vendedor",children:"Vendedor"}),B.jsx("option",{value:"admin",children:"Admin"})]}):B.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${j.role==="admin"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:j.role})}),B.jsx("td",{className:"p-2 border space-x-2",children:S?B.jsxs(B.Fragment,{children:[B.jsx("button",{className:"px-2 py-1 rounded text-white bg-blue-600 hover:bg-blue-700",onClick:V,children:"Guardar"}),B.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:T,children:"Cancelar"})]}):B.jsxs(B.Fragment,{children:[B.jsx("button",{className:"px-2 py-1 rounded text-white bg-yellow-600 hover:bg-yellow-700",onClick:()=>y(j),children:"Editar"}),B.jsx("button",{className:"px-2 py-1 rounded text-white bg-red-600 hover:bg-red-700",onClick:()=>D(j.id),children:"Eliminar"})]})})]},j.id)})})]})]})]})}const hz=t=>`C$${(Number(t)||0).toFixed(2)}`;function dz(){const[t,e]=te.useState(""),[r,n]=te.useState(0),[A,i]=te.useState(""),[s,o]=te.useState(""),[a,l]=te.useState(""),[h,d]=te.useState([]),[p,g]=te.useState(!0),[E,_]=te.useState(null),[N,v]=te.useState(""),[y,T]=te.useState(""),[V,D]=te.useState(""),[j,S]=te.useState(0),b=async()=>{g(!0);const $=await TA(zr(It,"products")),pe=[];$.forEach(se=>{const ge=se.data();pe.push({id:se.id,name:ge.name??"",price:Number(ge.price??0),category:ge.category??"",measurement:ge.measurement??""})}),d(pe),g(!1)};te.useEffect(()=>{b()},[]);const Q=async $=>{if($.preventDefault(),i(""),!t||r<=0||!a){i("❌ Completa nombre, precio válido y unidad de medida");return}try{const pe=await pp(zr(It,"products"),{name:t,price:parseFloat(r.toFixed(2)),category:s,measurement:a});d(se=>[{id:pe.id,name:t,price:parseFloat(r.toFixed(2)),category:s,measurement:a},...se]),i("✅ Producto registrado."),e(""),n(0),l(""),o("")}catch(pe){i("❌ Error: "+pe.message)}},O=$=>{_($.id),v($.name),T($.category),D($.measurement),S($.price)},x=()=>{_(null),v(""),T(""),D(""),S(0)},U=async()=>{if(!E)return;const $=cn(It,"products",E);await ch($,{name:N,category:y,measurement:V,price:parseFloat((j||0).toFixed(2))}),d(pe=>pe.map(se=>se.id===E?{...se,name:N,category:y,measurement:V,price:parseFloat((j||0).toFixed(2))}:se)),x()},L=async $=>{confirm("¿Eliminar este producto?")&&(await fp(cn(It,"products",$)),d(se=>se.filter(ge=>ge.id!==$)))};return B.jsxs("div",{className:"max-w-6xl mx-auto",children:[B.jsxs("form",{onSubmit:Q,className:"max-w-md mx-auto bg-white p-8 shadow-lg rounded-lg space-y-6 border border-gray-200",children:[B.jsxs("h2",{className:"text-2xl font-bold mb-4 text-green-700 flex items-center gap-2",children:[B.jsx("span",{className:"inline-block bg-green-100 text-green-700 rounded-full p-2",children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),"Registrar producto"]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Categoría"}),B.jsxs("select",{value:s,onChange:$=>o($.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-green-400",children:[B.jsx("option",{value:"",children:"Selecciona"}),B.jsx("option",{value:"pollo",children:"Pollo"}),B.jsx("option",{value:"cerdo",children:"Cerdo"}),B.jsx("option",{value:"huevo",children:"Huevos"}),B.jsx("option",{value:"ropa",children:"Ropa"}),B.jsx("option",{value:"otros",children:"Otros"})]})]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Nombre del producto"}),B.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:t,onChange:$=>e($.target.value)})]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Tipo de unidad de medida"}),B.jsxs("select",{value:a,onChange:$=>l($.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-green-400",children:[B.jsx("option",{value:"",children:"Selecciona"}),B.jsx("option",{value:"lb",children:"Libra"}),B.jsx("option",{value:"kg",children:"Kilogramo"}),B.jsx("option",{value:"unidad",children:"Unidad"})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm",children:"Precio por unidad (ej: 55.50)"}),B.jsx("input",{type:"number",step:"0.01",className:"w-full border p-2 rounded",value:Number.isNaN(r)?"":r,onChange:$=>n(parseFloat($.target.value)),onFocus:$=>$.target.value==="0"?n(NaN):null})]}),B.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full",children:"Agregar producto"}),A&&B.jsx("p",{className:"text-sm mt-2",children:A})]}),B.jsxs("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto mt-6",children:[B.jsx("h3",{className:"text-lg font-semibold p-2",children:"Productos"}),B.jsxs("table",{className:"min-w-full text-sm",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"p-2 border",children:"Nombre"}),B.jsx("th",{className:"p-2 border",children:"Categoría"}),B.jsx("th",{className:"p-2 border",children:"Unidad"}),B.jsx("th",{className:"p-2 border",children:"Precio"}),B.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),B.jsx("tbody",{children:p?B.jsx("tr",{children:B.jsx("td",{colSpan:5,className:"p-4 text-center",children:"Cargando…"})}):h.length===0?B.jsx("tr",{children:B.jsx("td",{colSpan:5,className:"p-4 text-center",children:"Sin productos"})}):h.map($=>{const pe=E===$.id;return B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"p-2 border",children:pe?B.jsx("input",{className:"w-full border p-1 rounded",value:N,onChange:se=>v(se.target.value)}):$.name}),B.jsx("td",{className:"p-2 border",children:pe?B.jsxs("select",{className:"w-full border p-1 rounded",value:y,onChange:se=>T(se.target.value),children:[B.jsx("option",{value:"",children:"Selecciona"}),B.jsx("option",{value:"pollo",children:"Pollo"}),B.jsx("option",{value:"cerdo",children:"Cerdo"}),B.jsx("option",{value:"huevo",children:"Huevos"}),B.jsx("option",{value:"ropa",children:"Ropa"}),B.jsx("option",{value:"otros",children:"Otros"})]}):$.category}),B.jsx("td",{className:"p-2 border",children:pe?B.jsxs("select",{className:"w-full border p-1 rounded",value:V,onChange:se=>D(se.target.value),children:[B.jsx("option",{value:"",children:"Selecciona"}),B.jsx("option",{value:"lb",children:"Libra"}),B.jsx("option",{value:"kg",children:"Kilogramo"}),B.jsx("option",{value:"unidad",children:"Unidad"})]}):$.measurement}),B.jsx("td",{className:"p-2 border",children:pe?B.jsx("input",{type:"number",step:"0.01",className:"w-full border p-1 rounded text-right",value:Number.isNaN(j)?"":j,onChange:se=>S(parseFloat(se.target.value))}):hz($.price)}),B.jsx("td",{className:"p-2 border space-x-2",children:pe?B.jsxs(B.Fragment,{children:[B.jsx("button",{className:"px-2 py-1 rounded text-white bg-blue-600 hover:bg-blue-700",onClick:U,children:"Guardar"}),B.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:x,children:"Cancelar"})]}):B.jsxs(B.Fragment,{children:[B.jsx("button",{className:"px-2 py-1 rounded text-white bg-yellow-600 hover:bg-yellow-700",onClick:()=>O($),children:"Editar"}),B.jsx("button",{className:"px-2 py-1 rounded text-white bg-red-600 hover:bg-red-700",onClick:()=>L($.id),children:"Eliminar"})]})})]},$.id)})})]})]})]})}const In=[];for(let t=0;t<256;++t)In.push((t+256).toString(16).slice(1));function fz(t,e=0){return(In[t[e+0]]+In[t[e+1]]+In[t[e+2]]+In[t[e+3]]+"-"+In[t[e+4]]+In[t[e+5]]+"-"+In[t[e+6]]+In[t[e+7]]+"-"+In[t[e+8]]+In[t[e+9]]+"-"+In[t[e+10]]+In[t[e+11]]+In[t[e+12]]+In[t[e+13]]+In[t[e+14]]+In[t[e+15]]).toLowerCase()}let Av;const pz=new Uint8Array(16);function gz(){if(!Av){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Av=crypto.getRandomValues.bind(crypto)}return Av(pz)}const mz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),II={randomUUID:mz};function wz(t,e,r){var A;if(II.randomUUID&&!t)return II.randomUUID();t=t||{};const n=t.random??((A=t.rng)==null?void 0:A.call(t))??gz();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,fz(n)}async function vz(t,e,r,n=!1){if(r<=0)return{allocations:[],avgUnitCost:0,cogsAmount:0};const A=Eo(zr(t,"inventoryBatches"),Hi("productName","==",e),f5("createdAt","asc")),s=(await TA(A)).docs.map(o=>cn(t,"inventoryBatches",o.id));return BH(t,async o=>{let a=Number(r);const l=[];for(const g of s){if(a<=0)break;const E=await o.get(g);if(!E.exists())continue;const _=E.data(),N=Number(_.quantity??0),v=Number(_.remaining??N),y=Number(_.costPrice??0);if(v<=0)continue;const T=Math.min(v,a),V=Number((v-T).toFixed(2));o.update(g,{remaining:V}),l.push({batchId:g.id,qty:T,unitCost:y,lineCost:Number((T*y).toFixed(2))}),a=Number((a-T).toFixed(2))}if(a>0&&!n)throw new Error(`Stock insuficiente para "${e}". Faltan ${a} unidades.`);const h=Number(l.reduce((g,E)=>g+E.lineCost,0).toFixed(2)),d=l.reduce((g,E)=>g+E.qty,0),p=d>0?Number((h/d).toFixed(4)):0;return{allocations:l,avgUnitCost:p,cogsAmount:h}})}function xI({user:t}){const[e,r]=te.useState([]),[n,A]=te.useState(""),[i,s]=te.useState(0),[o,a]=te.useState(0),[l,h]=te.useState(0),[d,p]=te.useState("0"),[g,E]=te.useState(""),[_,N]=te.useState([]),[v,y]=te.useState("");te.useEffect(()=>{async function D(){const j=await TA(zr(It,"products")),S=[];j.forEach(b=>{const Q=b.data();S.push({id:b.id,productName:Q.name??Q.productName??"(sin nombre)",price:Number(Q.price??0),measurement:Q.measurement??"(sin unidad)",category:Q.category??"(sin categoría)"})}),r(S)}D()},[]),te.useEffect(()=>{async function D(){const j=await TA(zr(It,"users")),S=[];j.forEach(b=>{const Q=b.data();S.push({id:b.id,email:Q.email??"(sin email)",role:Q.role??"USER"})}),N(S)}D()},[]),te.useEffect(()=>{const D=e.find(j=>j.id===n);if(D&&i>0){const j=Number((D.price*i).toFixed(2));a(S=>S===0?j:S)}else a(0)},[n,i,e]),te.useEffect(()=>{const D=Number(l)||0,j=Number(o)||0,S=(D-j).toFixed(2);p(S)},[l,o]);const T=D=>{D.key===","&&(D.preventDefault(),D.target.value+=".")},V=async D=>{var Q,O;D.preventDefault(),E("");const j=e.find(x=>x.id===n),S=Number(i)||0,b=Number(o)||0;if(!j||S<=0){E("Selecciona un producto y una cantidad válida.");return}try{const{allocations:x,avgUnitCost:U,cogsAmount:L}=await vz(It,j.productName,S,!1);await pp(zr(It,"salesV2"),{id:wz(),productId:n,productName:j.productName,price:j.price,quantity:S,amount:b,amountCharged:b,amountReceived:Number(l)||0,change:d,clientName:v.trim(),timestamp:er.now(),date:zA(new Date,"yyyy-MM-dd"),userEmail:((Q=_[0])==null?void 0:Q.email)??"sin usuario",vendor:((O=_[0])==null?void 0:O.role)??"sin usuario",status:"FLOTANTE",allocations:x,avgUnitCost:U,cogsAmount:L}),E("✅ Venta registrada y asignada a inventario (FIFO)."),A(""),s(0),a(0),h(0),p("0"),y("")}catch(x){console.error(x),E(`❌ ${(x==null?void 0:x.message)||"Error al registrar la venta."}`)}};return B.jsxs("form",{onSubmit:V,className:"max-w-md mx-auto bg-white p-8 shadow-lg rounded-lg space-y-6 border border-gray-200",children:[B.jsxs("h2",{className:"text-2xl font-bold mb-4 text-blue-700 flex items-center gap-2",children:[B.jsx("span",{className:"inline-block bg-blue-100 text-blue-700 rounded-full p-2",children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})})}),"Registrar venta"]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Producto | Precio por Libra/Unidad"}),B.jsxs("select",{className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-400",value:n,onChange:D=>A(D.target.value),children:[B.jsx("option",{value:"",disabled:!0,children:"Selecciona un producto"}),e.map(D=>B.jsxs("option",{value:D.id,children:[D.productName," - C$ ",D.price]},D.id))]})]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Libras - Unidad"}),B.jsx("input",{type:"number",lang:"eng",step:"0.01",inputMode:"decimal",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-400",value:i===0?"":i,onKeyDown:T,onFocus:D=>{D.target.value==="0"&&(D.target.value="")},onChange:D=>{const j=D.target.value.replace(",","."),S=j===""?0:parseFloat(j),b=Math.floor(S*100)/100;s(b)}})]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"💵 Monto total"}),B.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-400",value:o===0?"":o,onKeyDown:T,onFocus:D=>{D.target.value==="0"&&(D.target.value="")},onChange:D=>{const j=D.target.value.replace(",","."),S=j===""?0:parseFloat(j),b=Math.floor(S*100)/100;a(b)}})]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"💵 Cliente paga con:"}),B.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-400",value:l===0?"":l,onKeyDown:T,onFocus:D=>{D.target.value==="0"&&(D.target.value="")},onChange:D=>{const j=D.target.value.replace(",","."),S=j===""?0:parseFloat(j),b=Math.floor(S*100)/100;h(b)}})]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"💵 Vuelto al cliente:"}),B.jsx("input",{type:"text",readOnly:!0,className:"w-full border border-gray-300 p-2 rounded bg-gray-100",value:d})]}),B.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold shadow hover:bg-blue-700 transition",children:"Guardar venta"}),g&&B.jsx("p",{className:`text-sm mt-2 ${g.startsWith("✅")?"text-green-600":"text-red-600"}`,children:g})]})}async function yz(t){const e={...t,remaining:t.quantity,status:"PENDIENTE",createdAt:er.now()};return pp(zr(It,"inventory_batches"),e)}async function EN(t,e){await ch(cn(It,"inventory_batches",t),{status:"PAGADO",paidAmount:null,paidAt:er.now()})}async function Bz(t,e){const r=Eo(zr(It,"batch_allocations"),Hi("saleDate",">=",t),Hi("saleDate","<=",e)),n=await TA(r),A={};return n.forEach(i=>{const s=i.data(),o=s.batchId;A[o]||(A[o]={batchId:s.batchId,batchDate:s.batchDate,productName:s.productName,quantity:0,amountCharged:0}),A[o].quantity+=Number(s.quantity||0),A[o].amountCharged+=Number(s.amountCharged||0)}),Object.values(A)}const eo=t=>`C$${(Number(t)||0).toFixed(2)}`;function Cz(){const[t,e]=te.useState([]),[r,n]=te.useState([]),[A,i]=te.useState(!0),[s,o]=te.useState(""),[a,l]=te.useState(""),[h,d]=te.useState(0),[p,g]=te.useState(0),[E,_]=te.useState(0),[N,v]=te.useState(zA(new Date,"yyyy-MM-dd")),[y,T]=te.useState(0),[V,D]=te.useState(0),[j,S]=te.useState(""),[b,Q]=te.useState(null),[O,x]=te.useState(""),[U,L]=te.useState(0),[$,pe]=te.useState(0),[se,ge]=te.useState(0),[ee,le]=te.useState(""),[he,Ue]=te.useState(0),[k,W]=te.useState(0);te.useEffect(()=>{(async()=>{const Ae=await TA(zr(It,"products")),xe=[];Ae.forEach(Z=>{const Je=Z.data();xe.push({id:Z.id,name:Je.name??Je.productName??"(sin nombre)",category:Je.category??"(sin categoría)",measurement:Je.measurement??"lb",price:Number(Je.price??0)})}),e(xe);const Ne=Eo(zr(It,"inventory_batches"),f5("date","desc")),Ye=await TA(Ne),_e=[];Ye.forEach(Z=>{const Je=Z.data();_e.push({id:Z.id,productId:Je.productId,productName:Je.productName,category:Je.category,unit:Je.unit,quantity:Number(Je.quantity||0),remaining:Number(Je.remaining||0),purchasePrice:Number(Je.purchasePrice||0),salePrice:Number(Je.salePrice||0),invoiceTotal:Number(Je.invoiceTotal||0),expectedTotal:Number(Je.expectedTotal??(Number(Je.quantity||0)*Number(Je.salePrice||0)||0)),date:Je.date,createdAt:Je.createdAt,status:Je.status,notes:Je.notes,paidAmount:Number(Je.paidAmount||0),paidAt:Je.paidAt})}),n(_e),i(!1)})()},[]),te.useEffect(()=>{const Ae=t.find(xe=>xe.id===a);Ae&&_(Number(Ae.price||0))},[a,t]),te.useEffect(()=>{T(Math.floor(h*p*100)/100)},[h,p]),te.useEffect(()=>{D(Math.floor(h*E*100)/100)},[h,E]);const Y=te.useMemo(()=>{const Ae=r.reduce((Ne,Ye)=>Ne+Ye.quantity,0),xe=r.reduce((Ne,Ye)=>Ne+Ye.remaining,0);return{qty:Ae,rem:xe}},[r]),z=async Ae=>{Ae.preventDefault();const xe=t.find(Ne=>Ne.id===a);if(!xe||h<=0||p<=0){o("Completa producto, cantidad y costo.");return}try{const Ne=await yz({productId:xe.id,productName:xe.name,category:xe.category,unit:xe.measurement,quantity:h,purchasePrice:p,salePrice:E,invoiceTotal:y,expectedTotal:V,date:N,notes:j});n(Ye=>[{id:Ne.id,productId:xe.id,productName:xe.name,category:xe.category,unit:xe.measurement,quantity:h,remaining:h,purchasePrice:p,salePrice:E,invoiceTotal:y,expectedTotal:V,date:N,createdAt:er.now(),status:"PENDIENTE",notes:j},...Ye]),o("✅ Lote creado"),l(""),d(0),g(0),_(xe.price||0),T(0),D(0),S("")}catch(Ne){console.error(Ne),o("❌ Error al crear lote")}},re=async Ae=>{confirm(`Marcar PAGADO el lote del ${Ae.date} (${Ae.productName})?`)&&(await EN(Ae.id),n(Ne=>Ne.map(Ye=>Ye.id===Ae.id?{...Ye,status:"PAGADO"}:Ye)))},fe=Ae=>{Q(Ae.id),x(Ae.date),L(Ae.quantity),pe(Ae.purchasePrice),ge(Ae.salePrice),le(Ae.notes||""),Ue(Number((Ae.quantity*Ae.purchasePrice).toFixed(2))),W(Number((Ae.quantity*Ae.salePrice).toFixed(2)))},me=()=>{Q(null),x(""),L(0),pe(0),ge(0),le(""),Ue(0),W(0)};te.useEffect(()=>{b&&Ue(Math.floor(U*$*100)/100)},[b,U,$]),te.useEffect(()=>{b&&W(Math.floor(U*se*100)/100)},[b,U,se]);const Ce=async()=>{if(!b)return;const Ae=r.find(_e=>_e.id===b);if(!Ae)return;const xe=Ae.quantity-Ae.remaining,Ne=Math.max(0,U-xe),Ye=cn(It,"inventory_batches",b);await ch(Ye,{date:O,quantity:U,purchasePrice:$,salePrice:se,invoiceTotal:he,expectedTotal:k,notes:ee,remaining:Ne}),n(_e=>_e.map(Z=>Z.id===b?{...Z,date:O,quantity:U,purchasePrice:$,salePrice:se,invoiceTotal:he,expectedTotal:k,notes:ee,remaining:Ne}:Z)),me(),o("✅ Lote actualizado")},Re=async Ae=>{confirm(`¿Eliminar el lote del ${Ae.date} (${Ae.productName})?`)&&(await fp(cn(It,"inventory_batches",Ae.id)),n(Ne=>Ne.filter(Ye=>Ye.id!==Ae.id)),o("🗑️ Lote eliminado"))};return B.jsxs("div",{className:"max-w-6xl mx-auto",children:[B.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Inventario por Lotes"}),B.jsxs("form",{onSubmit:z,className:"bg-white p-4 rounded shadow border mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[B.jsxs("div",{className:"md:col-span-2",children:[B.jsx("label",{className:"block text-sm font-semibold",children:"Producto"}),B.jsxs("select",{className:"w-full border p-2 rounded",value:a,onChange:Ae=>l(Ae.target.value),children:[B.jsx("option",{value:"",children:"Selecciona un producto"}),t.map(Ae=>B.jsxs("option",{value:Ae.id,children:[Ae.name," — ",Ae.category," — ",Ae.measurement," — Precio:"," ",eo(Ae.price)]},Ae.id))]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-semibold",children:"Fecha del lote"}),B.jsx("input",{type:"date",className:"w-full border p-2 rounded",value:N,onChange:Ae=>v(Ae.target.value)})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-semibold",children:"Cantidad (ingreso)"}),B.jsx("input",{type:"text",inputMode:"decimal",pattern:"^[0-9]*[.]?[0-9]*$",className:"w-full border p-2 rounded",value:h||"",onChange:Ae=>d(Math.floor((parseFloat(Ae.target.value.replace(",","."))||0)*100)/100)})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-semibold",children:"Costo unitario (compra)"}),B.jsx("input",{type:"text",inputMode:"decimal",pattern:"^[0-9]*[.]?[0-9]*$",className:"w-full border p-2 rounded",value:p||"",onChange:Ae=>g(Math.floor((parseFloat(Ae.target.value.replace(",","."))||0)*100)/100)})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-semibold",children:"Precio unitario (venta ref.)"}),B.jsx("input",{type:"text",inputMode:"decimal",pattern:"^[0-9]*[.]?[0-9]*$",className:"w-full border p-2 rounded",value:E||"",onChange:Ae=>_(Math.floor((parseFloat(Ae.target.value.replace(",","."))||0)*100)/100)})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-semibold",children:"Total factura (auto)"}),B.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-gray-100",value:eo(y),readOnly:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-semibold",children:"Total esperado (auto)"}),B.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-gray-100",value:eo(V),readOnly:!0})]}),B.jsxs("div",{className:"md:col-span-2",children:[B.jsx("label",{className:"block text-sm font-semibold",children:"Notas"}),B.jsx("input",{className:"w-full border p-2 rounded",value:j,onChange:Ae=>S(Ae.target.value)})]}),B.jsx("div",{className:"md:col-span-2",children:B.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Guardar lote"})})]}),B.jsx("div",{className:"bg-white p-3 rounded shadow border mb-3 text-sm",children:B.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[B.jsxs("div",{children:[B.jsx("span",{className:"font-semibold",children:"Libras/Unidades ingresadas:"})," ",Y.qty]}),B.jsxs("div",{children:[B.jsx("span",{className:"font-semibold",children:"Restantes (abiertas):"})," ",Y.rem]})]})}),B.jsx("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto",children:B.jsxs("table",{className:"min-w-full text-sm",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"p-2 border",children:"Fecha"}),B.jsx("th",{className:"p-2 border",children:"Producto"}),B.jsx("th",{className:"p-2 border",children:"Cat."}),B.jsx("th",{className:"p-2 border",children:"Unidad"}),B.jsx("th",{className:"p-2 border",children:"Ingresado"}),B.jsx("th",{className:"p-2 border",children:"Remaining"}),B.jsx("th",{className:"p-2 border",children:"Costo"}),B.jsx("th",{className:"p-2 border",children:"Venta ref"}),B.jsx("th",{className:"p-2 border",children:"Total factura"}),B.jsx("th",{className:"p-2 border",children:"Total esperado"}),B.jsx("th",{className:"p-2 border",children:"Estado"}),B.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),B.jsx("tbody",{children:A?B.jsx("tr",{children:B.jsx("td",{colSpan:12,className:"p-4 text-center",children:"Cargando…"})}):r.length===0?B.jsx("tr",{children:B.jsx("td",{colSpan:12,className:"p-4 text-center",children:"Sin lotes"})}):r.map(Ae=>{const xe=b===Ae.id;return B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"p-2 border",children:xe?B.jsx("input",{type:"date",className:"w-full border p-1 rounded",value:O,onChange:Ne=>x(Ne.target.value)}):Ae.date}),B.jsx("td",{className:"p-2 border",children:Ae.productName}),B.jsx("td",{className:"p-2 border",children:Ae.category}),B.jsx("td",{className:"p-2 border",children:Ae.unit}),B.jsx("td",{className:"p-2 border",children:xe?B.jsx("input",{className:"w-full border p-1 rounded text-right",inputMode:"decimal",value:Number.isNaN(U)?"":U,onChange:Ne=>L(Math.floor((parseFloat(Ne.target.value.replace(",","."))||0)*100)/100)}):Ae.quantity}),B.jsx("td",{className:"p-2 border",children:Ae.remaining}),B.jsx("td",{className:"p-2 border",children:xe?B.jsx("input",{className:"w-full border p-1 rounded text-right",inputMode:"decimal",value:Number.isNaN($)?"":$,onChange:Ne=>pe(Math.floor((parseFloat(Ne.target.value.replace(",","."))||0)*100)/100)}):eo(Ae.purchasePrice)}),B.jsx("td",{className:"p-2 border",children:xe?B.jsx("input",{className:"w-full border p-1 rounded text-right",inputMode:"decimal",value:Number.isNaN(se)?"":se,onChange:Ne=>ge(Math.floor((parseFloat(Ne.target.value.replace(",","."))||0)*100)/100)}):eo(Ae.salePrice)}),B.jsx("td",{className:"p-2 border",children:eo(xe?he:Ae.invoiceTotal||0)}),B.jsx("td",{className:"p-2 border",children:eo(xe?k:Ae.expectedTotal||0)}),B.jsx("td",{className:"p-2 border",children:B.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${Ae.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ae.status})}),B.jsx("td",{className:"p-2 border space-x-2",children:xe?B.jsxs(B.Fragment,{children:[B.jsx("button",{className:"px-2 py-1 rounded text-white bg-blue-600 hover:bg-blue-700",onClick:Ce,children:"Guardar"}),B.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:me,children:"Cancelar"})]}):B.jsxs(B.Fragment,{children:[Ae.status==="PENDIENTE"&&B.jsx("button",{onClick:()=>re(Ae),className:"px-2 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Marcar pagado"}),B.jsx("button",{className:"px-2 py-1 rounded text-white bg-yellow-600 hover:bg-yellow-700",onClick:()=>fe(Ae),children:"Editar"}),B.jsx("button",{className:"px-2 py-1 rounded text-white bg-red-600 hover:bg-red-700",onClick:()=>Re(Ae),children:"Eliminar"})]})})]},Ae.id)})})]})}),s&&B.jsx("p",{className:"mt-2 text-sm",children:s})]})}const FI=t=>`C$${(Number(t)||0).toFixed(2)}`;function _z(){const t=kV(new Date),[e,r]=te.useState(zA(t,"yyyy-MM")),[n,A]=te.useState([]),[i,s]=te.useState(!1),[o,a]=te.useState(""),l=te.useMemo(()=>{const[g,E]=e.split("-").map(v=>parseInt(v,10)),_=zA(RH(new Date(g,E-1,1)),"yyyy-MM-dd"),N=zA(PH(new Date(g,E-1,1)),"yyyy-MM-dd");return{from:_,to:N}},[e]),h=async()=>{s(!0);try{const g=await Bz(l.from,l.to),E=[];for(const _ of g){const N=cn(It,"inventory_batches",_.batchId),v=await aw(N);if(!v.exists())continue;const y=v.data();E.push({batchId:_.batchId,batchDate:_.batchDate,productName:_.productName,soldQty:Number(_.quantity||0),soldAmount:Number(_.amountCharged||0),status:y.status??"PENDIENTE",purchasePrice:Number(y.purchasePrice||0),salePrice:Number(y.salePrice||0),supplier:y.supplier})}A(E)}catch(g){console.error(g),a("❌ Error al cargar liquidaciones")}finally{s(!1)}};te.useEffect(()=>{h()},[e]);const d=async g=>{confirm("Marcar este lote como PAGADO?")&&(await EN(g),A(_=>_.map(N=>N.batchId===g?{...N,status:"PAGADO"}:N)))},p=te.useMemo(()=>{const g=n.reduce((_,N)=>_+N.soldQty,0),E=n.reduce((_,N)=>_+N.soldAmount,0);return{q:g,amt:E}},[n]);return B.jsxs("div",{className:"max-w-6xl mx-auto",children:[B.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Liquidaciones por lote"}),B.jsxs("div",{className:"bg-white p-3 rounded shadow border mb-4 flex items-center gap-3",children:[B.jsx("label",{className:"text-sm font-semibold",children:"Mes:"}),B.jsx("input",{type:"month",className:"border rounded px-2 py-1",value:e,onChange:g=>r(g.target.value)}),B.jsx("button",{onClick:h,className:"bg-gray-800 text-white px-3 py-1 rounded",children:"Aplicar"})]}),B.jsx("div",{className:"bg-white p-3 rounded shadow border mb-3 text-sm",children:B.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[B.jsxs("div",{children:[B.jsx("span",{className:"font-semibold",children:"Total vendido (cantidad):"})," ",p.q]}),B.jsxs("div",{children:[B.jsx("span",{className:"font-semibold",children:"Monto vendido:"})," ",FI(p.amt)]})]})}),B.jsx("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto",children:B.jsxs("table",{className:"min-w-full text-sm",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"p-2 border",children:"Lote (fecha)"}),B.jsx("th",{className:"p-2 border",children:"Producto"}),B.jsx("th",{className:"p-2 border",children:"Proveedor"}),B.jsx("th",{className:"p-2 border",children:"Vendido"}),B.jsx("th",{className:"p-2 border",children:"Monto vendido"}),B.jsx("th",{className:"p-2 border",children:"Estado"}),B.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),B.jsx("tbody",{children:i?B.jsx("tr",{children:B.jsx("td",{colSpan:7,className:"p-4 text-center",children:"Cargando…"})}):n.length===0?B.jsx("tr",{children:B.jsx("td",{colSpan:7,className:"p-4 text-center",children:"Sin datos"})}):n.map(g=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"p-2 border",children:g.batchDate}),B.jsx("td",{className:"p-2 border",children:g.productName}),B.jsx("td",{className:"p-2 border",children:g.supplier||"-"}),B.jsx("td",{className:"p-2 border",children:g.soldQty}),B.jsx("td",{className:"p-2 border",children:FI(g.soldAmount)}),B.jsx("td",{className:"p-2 border",children:B.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${g.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:g.status})}),B.jsx("td",{className:"p-2 border",children:g.status==="PENDIENTE"&&B.jsx("button",{onClick:()=>d(g.batchId),className:"px-2 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Marcar pagado"})})]},g.batchId))})]})}),o&&B.jsx("p",{className:"mt-2 text-sm",children:o})]})}const to=t=>`C$${Number(t??0).toFixed(2)}`,Ez=()=>zA(new Date,"yyyy-MM-dd");function bz(){const[t,e]=te.useState(()=>{const p=new Date,g=new Date(p.getFullYear(),p.getMonth(),1);return zA(g,"yyyy-MM-dd")}),[r,n]=te.useState(Ez()),[A,i]=te.useState(!0),[s,o]=te.useState([]),[a,l]=te.useState([]);te.useEffect(()=>{(async()=>{i(!0);const g=Eo(zr(It,"salesV2"),Hi("date",">=",t),Hi("date","<=",r)),E=await TA(g),_=[];E.forEach(T=>{const V=T.data();_.push({id:T.id,date:V.date??"",productName:V.productName??"(sin nombre)",quantity:Number(V.quantity??0),amount:Number(V.amount??V.amountCharged??0),allocations:Array.isArray(V.allocations)?V.allocations:[],avgUnitCost:Number(V.avgUnitCost??0)})}),o(_);const N=Eo(zr(It,"expenses"),Hi("date",">=",t),Hi("date","<=",r)),v=await TA(N),y=[];v.forEach(T=>{const V=T.data();y.push({id:T.id,date:V.date??"",category:V.category??"(sin categoría)",description:V.description??"",amount:Number(V.amount??0),status:V.status??"PAGADO",createdAt:V.createdAt})}),l(y),i(!1)})()},[t,r]);const h=te.useMemo(()=>{const p=s.reduce((v,y)=>v+(y.amount||0),0);let g=0;s.forEach(v=>{if(v.allocations&&v.allocations.length>0){const y=v.allocations.reduce((T,V)=>T+Number(V.lineCost||0),0);g+=y}else v.avgUnitCost&&v.quantity&&(g+=Number(v.avgUnitCost)*Number(v.quantity))});const E=p-g,_=a.reduce((v,y)=>v+(y.amount||0),0),N=E-_;return{revenue:p,cogsReal:g,grossProfit:E,expensesSum:_,netProfit:N}},[s,a]),d=te.useMemo(()=>{var g;const p=new Map;for(const E of s){const _=E.productName||"(sin nombre)";p.has(_)||p.set(_,{productName:_,units:0,revenue:0,cogs:0,profit:0});const N=p.get(_);N.units+=Number(E.quantity||0),N.revenue+=Number(E.amount||0);let v=0;(g=E.allocations)!=null&&g.length?v=E.allocations.reduce((y,T)=>y+Number(T.lineCost||0),0):E.avgUnitCost&&(v=Number(E.avgUnitCost)*Number(E.quantity||0)),N.cogs+=v,N.profit=N.revenue-N.cogs}return Array.from(p.values()).sort((E,_)=>E.productName.localeCompare(_.productName))},[s]);return B.jsxs("div",{className:"max-w-7xl mx-auto bg-white p-6 rounded shadow",children:[B.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Finanzas"}),B.jsxs("div",{className:"flex flex-wrap items-end gap-2 mb-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Desde"}),B.jsx("input",{type:"date",className:"border rounded px-3 py-2",value:t,onChange:p=>e(p.target.value)})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Hasta"}),B.jsx("input",{type:"date",className:"border rounded px-3 py-2",value:r,onChange:p=>n(p.target.value)})]})]}),A?B.jsx("p",{children:"Cargando…"}):B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 mb-6",children:[B.jsx(gd,{title:"Ingresos (ventas)",value:to(h.revenue)}),B.jsx(gd,{title:"Costo (COGS real)",value:to(h.cogsReal)}),B.jsx(gd,{title:"Utilidad bruta",value:to(h.grossProfit),positive:!0}),B.jsx(gd,{title:"Gastos",value:to(h.expensesSum)}),B.jsx(gd,{title:"Utilidad neta",value:to(h.netProfit),positive:!0})]}),B.jsx("h3",{className:"font-semibold mb-2",children:"Consolidado por producto"}),B.jsxs("table",{className:"min-w-full border text-sm mb-6",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"border p-2",children:"Producto"}),B.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),B.jsx("th",{className:"border p-2",children:"Ingreso"}),B.jsx("th",{className:"border p-2",children:"Costo"}),B.jsx("th",{className:"border p-2",children:"Utilidad"})]})}),B.jsxs("tbody",{children:[d.map(p=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"border p-1",children:p.productName}),B.jsx("td",{className:"border p-1",children:p.units}),B.jsx("td",{className:"border p-1",children:to(p.revenue)}),B.jsx("td",{className:"border p-1",children:to(p.cogs)}),B.jsx("td",{className:`border p-1 ${p.profit>=0?"text-green-700":"text-red-700"}`,children:to(p.profit)})]},p.productName)),d.length===0&&B.jsx("tr",{children:B.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Sin datos en el rango seleccionado."})})]})]}),B.jsx("h3",{className:"font-semibold mb-2",children:"Gastos del periodo"}),B.jsxs("table",{className:"min-w-full border text-sm",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"border p-2",children:"Fecha"}),B.jsx("th",{className:"border p-2",children:"Categoría"}),B.jsx("th",{className:"border p-2",children:"Descripción"}),B.jsx("th",{className:"border p-2",children:"Monto"}),B.jsx("th",{className:"border p-2",children:"Estado"})]})}),B.jsxs("tbody",{children:[a.map(p=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"border p-1",children:p.date}),B.jsx("td",{className:"border p-1",children:p.category}),B.jsx("td",{className:"border p-1",children:p.description}),B.jsx("td",{className:"border p-1",children:to(p.amount)}),B.jsx("td",{className:"border p-1",children:B.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${p.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:p.status})})]},p.id)),a.length===0&&B.jsx("tr",{children:B.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Sin gastos en el rango seleccionado."})})]})]})]})]})}function gd({title:t,value:e,positive:r}){return B.jsxs("div",{className:"border rounded-lg p-3",children:[B.jsx("div",{className:"text-xs text-gray-500",children:t}),B.jsx("div",{className:`text-xl font-bold ${r?"text-green-700":""}`,children:e})]})}const Iz=t=>`C$${Number(t??0).toFixed(2)}`;function xz(){const[t,e]=te.useState([]),[r,n]=te.useState(!0),[A,i]=te.useState(zA(new Date,"yyyy-MM-dd")),[s,o]=te.useState("Varios"),[a,l]=te.useState(""),[h,d]=te.useState(0),[p,g]=te.useState("PAGADO"),[E,_]=te.useState("");te.useEffect(()=>{(async()=>{n(!0);const T=Eo(zr(It,"expenses"),f5("createdAt","desc")),V=await TA(T),D=[];V.forEach(j=>{const S=j.data();D.push({id:j.id,...S})}),e(D),n(!1)})()},[]);const N=async()=>{try{await pp(zr(It,"expenses"),{date:A,category:s,description:a,amount:Number(h)||0,status:p,createdAt:er.now()}),_("✅ Gasto registrado."),i(zA(new Date,"yyyy-MM-dd")),o("Varios"),l(""),d(0),g("PAGADO");const y=await TA(zr(It,"expenses")),T=[];y.forEach(V=>T.push({id:V.id,...V.data()})),e(T)}catch(y){console.error(y),_("❌ No se pudo registrar el gasto.")}},v=async y=>{confirm("¿Eliminar gasto?")&&(await fp(cn(It,"expenses",y)),e(T=>T.filter(V=>V.id!==y)))};return B.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded shadow",children:[B.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gastos"}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Fecha"}),B.jsx("input",{type:"date",className:"border rounded px-3 py-2 w-full",value:A,onChange:y=>i(y.target.value)})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Categoría"}),B.jsx("input",{className:"border rounded px-3 py-2 w-full",value:s,onChange:y=>o(y.target.value)})]}),B.jsxs("div",{className:"md:col-span-2",children:[B.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Descripción"}),B.jsx("input",{className:"border rounded px-3 py-2 w-full",value:a,onChange:y=>l(y.target.value)})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Monto"}),B.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"border rounded px-3 py-2 w-full",onKeyDown:y=>{y.key===","&&(y.preventDefault(),y.target.value+=".")},value:h===0?"":h,onChange:y=>d(parseFloat((y.target.value||"0").replace(",",".")))})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Estado"}),B.jsxs("select",{className:"border rounded px-3 py-2 w-full",value:p,onChange:y=>g(y.target.value),children:[B.jsx("option",{value:"PAGADO",children:"Pagado"}),B.jsx("option",{value:"PENDIENTE",children:"Pendiente"})]})]})]}),B.jsx("button",{onClick:N,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Registrar gasto"}),E&&B.jsx("p",{className:"mt-2 text-sm",children:E}),B.jsx("h3",{className:"font-semibold mt-6 mb-2",children:"Listado"}),r?B.jsx("p",{children:"Cargando…"}):B.jsxs("table",{className:"min-w-full border text-sm",children:[B.jsx("thead",{className:"bg-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"border p-2",children:"Fecha"}),B.jsx("th",{className:"border p-2",children:"Categoría"}),B.jsx("th",{className:"border p-2",children:"Descripción"}),B.jsx("th",{className:"border p-2",children:"Monto"}),B.jsx("th",{className:"border p-2",children:"Estado"}),B.jsx("th",{className:"border p-2",children:"Acciones"})]})}),B.jsxs("tbody",{children:[t.map(y=>B.jsxs("tr",{className:"text-center",children:[B.jsx("td",{className:"border p-1",children:y.date}),B.jsx("td",{className:"border p-1",children:y.category}),B.jsx("td",{className:"border p-1",children:y.description}),B.jsx("td",{className:"border p-1",children:Iz(y.amount)}),B.jsx("td",{className:"border p-1",children:y.status}),B.jsx("td",{className:"border p-1",children:B.jsx("button",{onClick:()=>v(y.id),className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",children:"Eliminar"})})]},y.id)),t.length===0&&B.jsx("tr",{children:B.jsx("td",{colSpan:6,className:"p-3 text-center text-gray-500",children:"Sin gastos aún."})})]})]})]})}function Fz(){const[t,e]=te.useState(null),[r,n]=te.useState(""),[A,i]=te.useState(!0);return te.useEffect(()=>{const s=MF(mp,async o=>{if(i(!0),o){e(o);const a=cn(It,"users",o.uid),l=await aw(a);n(l.exists()?l.data().role:"")}else e(null),n("");i(!1)});return()=>s()},[]),A?B.jsx("div",{className:"p-6 text-center",children:"Cargando..."}):B.jsx(XP,{children:B.jsxs(FP,{children:[B.jsx(iA,{path:"/",element:B.jsx(EH,{})}),B.jsxs(iA,{path:"/admin",element:B.jsx(Qi,{allowedRoles:["admin","vendedor"],children:B.jsx(bH,{})}),children:[B.jsx(iA,{index:!0,element:B.jsx(Zv,{to:"bills",replace:!0})}),B.jsx(iA,{path:"bills",element:B.jsx(Qi,{allowedRoles:["vendedor","admin"],children:B.jsx(lz,{})})}),B.jsx(iA,{path:"salesV2",element:B.jsx(Qi,{allowedRoles:["vendedor","admin"],children:B.jsx(xI,{user:t})})}),B.jsx(iA,{path:"billhistoric",element:B.jsx(Qi,{allowedRoles:["admin"],children:B.jsx(uz,{})})}),B.jsx(iA,{path:"users",element:B.jsx(Qi,{allowedRoles:["admin"],children:B.jsx(cz,{})})}),B.jsx(iA,{path:"products",element:B.jsx(Qi,{allowedRoles:["admin"],children:B.jsx(dz,{})})}),B.jsx(iA,{path:"batches",element:B.jsx(Qi,{allowedRoles:["admin"],children:B.jsx(Cz,{})})}),B.jsx(iA,{path:"transactionclose",element:B.jsx(Qi,{allowedRoles:["admin"],children:B.jsx(_z,{})})}),B.jsx(iA,{path:"financialDashboard",element:B.jsx(Qi,{allowedRoles:["admin"],children:B.jsx(bz,{})})}),B.jsx(iA,{path:"expenses",element:B.jsx(Qi,{allowedRoles:["admin"],children:B.jsx(xz,{})})})]}),B.jsx(iA,{path:"/salesV2",element:B.jsx(Qi,{allowedRoles:["vendedor","admin"],children:B.jsx(xI,{user:t})})}),B.jsx(iA,{path:"*",element:B.jsx(Zv,{to:"/"})})]})})}iv.createRoot(document.getElementById("root")).render(B.jsx(EQ.StrictMode,{children:B.jsx(Fz,{})}));export{Yt as _,Sz as c,aQ as g};
