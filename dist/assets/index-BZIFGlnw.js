var UL=Object.defineProperty;var QL=(t,e,r)=>e in t?UL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var dr=(t,e,r)=>QL(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const A of s.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var XY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x4={exports:{}},M0={},I4={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=Symbol.for("react.element"),PL=Symbol.for("react.portal"),kL=Symbol.for("react.fragment"),RL=Symbol.for("react.strict_mode"),DL=Symbol.for("react.profiler"),OL=Symbol.for("react.provider"),ML=Symbol.for("react.context"),HL=Symbol.for("react.forward_ref"),jL=Symbol.for("react.suspense"),VL=Symbol.for("react.memo"),KL=Symbol.for("react.lazy"),tC=Symbol.iterator;function GL(t){return t===null||typeof t!="object"?null:(t=tC&&t[tC]||t["@@iterator"],typeof t=="function"?t:null)}var F4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S4=Object.assign,N4={};function _h(t,e,r){this.props=t,this.context=e,this.refs=N4,this.updater=r||F4}_h.prototype.isReactComponent={};_h.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_h.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T4(){}T4.prototype=_h.prototype;function V2(t,e,r){this.props=t,this.context=e,this.refs=N4,this.updater=r||F4}var K2=V2.prototype=new T4;K2.constructor=V2;S4(K2,_h.prototype);K2.isPureReactComponent=!0;var rC=Array.isArray,U4=Object.prototype.hasOwnProperty,G2={current:null},Q4={key:!0,ref:!0,__self:!0,__source:!0};function L4(t,e,r){var n,i={},s=null,A=null;if(e!=null)for(n in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(s=""+e.key),e)U4.call(e,n)&&!Q4.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:ap,type:t,key:s,ref:A,props:i,_owner:G2.current}}function qL(t,e){return{$$typeof:ap,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function q2(t){return typeof t=="object"&&t!==null&&t.$$typeof===ap}function zL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var nC=/\/+/g;function s1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zL(""+t.key):e.toString(36)}function rm(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(s){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case ap:case PL:A=!0}}if(A)return A=t,i=i(A),t=n===""?"."+s1(A,0):n,rC(i)?(r="",t!=null&&(r=t.replace(nC,"$&/")+"/"),rm(i,e,r,"",function(l){return l})):i!=null&&(q2(i)&&(i=qL(i,r+(!i.key||A&&A.key===i.key?"":(""+i.key).replace(nC,"$&/")+"/")+t)),e.push(i)),1;if(A=0,n=n===""?".":n+":",rC(t))for(var a=0;a<t.length;a++){s=t[a];var o=n+s1(s,a);A+=rm(s,e,r,o,i)}else if(o=GL(t),typeof o=="function")for(t=o.call(t),a=0;!(s=t.next()).done;)s=s.value,o=n+s1(s,a++),A+=rm(s,e,r,o,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Yp(t,e,r){if(t==null)return t;var n=[],i=0;return rm(t,n,"","",function(s){return e.call(r,s,i++)}),n}function WL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ji={current:null},nm={transition:null},$L={ReactCurrentDispatcher:ji,ReactCurrentBatchConfig:nm,ReactCurrentOwner:G2};function P4(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:Yp,forEach:function(t,e,r){Yp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yp(t,function(){e++}),e},toArray:function(t){return Yp(t,function(e){return e})||[]},only:function(t){if(!q2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Mt.Component=_h;Mt.Fragment=kL;Mt.Profiler=DL;Mt.PureComponent=V2;Mt.StrictMode=RL;Mt.Suspense=jL;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$L;Mt.act=P4;Mt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=S4({},t.props),i=t.key,s=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,A=G2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)U4.call(e,o)&&!Q4.hasOwnProperty(o)&&(n[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){a=Array(o);for(var l=0;l<o;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:ap,type:t.type,key:i,ref:s,props:n,_owner:A}};Mt.createContext=function(t){return t={$$typeof:ML,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OL,_context:t},t.Consumer=t};Mt.createElement=L4;Mt.createFactory=function(t){var e=L4.bind(null,t);return e.type=t,e};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(t){return{$$typeof:HL,render:t}};Mt.isValidElement=q2;Mt.lazy=function(t){return{$$typeof:KL,_payload:{_status:-1,_result:t},_init:WL}};Mt.memo=function(t,e){return{$$typeof:VL,type:t,compare:e===void 0?null:e}};Mt.startTransition=function(t){var e=nm.transition;nm.transition={};try{t()}finally{nm.transition=e}};Mt.unstable_act=P4;Mt.useCallback=function(t,e){return ji.current.useCallback(t,e)};Mt.useContext=function(t){return ji.current.useContext(t)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(t){return ji.current.useDeferredValue(t)};Mt.useEffect=function(t,e){return ji.current.useEffect(t,e)};Mt.useId=function(){return ji.current.useId()};Mt.useImperativeHandle=function(t,e,r){return ji.current.useImperativeHandle(t,e,r)};Mt.useInsertionEffect=function(t,e){return ji.current.useInsertionEffect(t,e)};Mt.useLayoutEffect=function(t,e){return ji.current.useLayoutEffect(t,e)};Mt.useMemo=function(t,e){return ji.current.useMemo(t,e)};Mt.useReducer=function(t,e,r){return ji.current.useReducer(t,e,r)};Mt.useRef=function(t){return ji.current.useRef(t)};Mt.useState=function(t){return ji.current.useState(t)};Mt.useSyncExternalStore=function(t,e,r){return ji.current.useSyncExternalStore(t,e,r)};Mt.useTransition=function(){return ji.current.useTransition()};Mt.version="18.3.1";I4.exports=Mt;var Y=I4.exports;const k4=LL(Y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XL=Y,YL=Symbol.for("react.element"),JL=Symbol.for("react.fragment"),ZL=Object.prototype.hasOwnProperty,eP=XL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tP={key:!0,ref:!0,__self:!0,__source:!0};function R4(t,e,r){var n,i={},s=null,A=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(A=e.ref);for(n in e)ZL.call(e,n)&&!tP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:YL,type:t,key:s,ref:A,props:i,_owner:eP.current}}M0.Fragment=JL;M0.jsx=R4;M0.jsxs=R4;x4.exports=M0;var f=x4.exports,ky={},D4={exports:{}},Us={},O4={exports:{}},M4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,se){var de=K.length;K.push(se);e:for(;0<de;){var pe=de-1>>>1,M=K[pe];if(0<i(M,se))K[pe]=se,K[de]=M,de=pe;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var se=K[0],de=K.pop();if(de!==se){K[0]=de;e:for(var pe=0,M=K.length,X=M>>>1;pe<X;){var te=2*(pe+1)-1,$=K[te],re=te+1,ae=K[re];if(0>i($,de))re<M&&0>i(ae,$)?(K[pe]=ae,K[re]=de,pe=re):(K[pe]=$,K[te]=de,pe=te);else if(re<M&&0>i(ae,de))K[pe]=ae,K[re]=de,pe=re;else break e}}return se}function i(K,se){var de=K.sortIndex-se.sortIndex;return de!==0?de:K.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var A=Date,a=A.now();t.unstable_now=function(){return A.now()-a}}var o=[],l=[],u=1,d=null,m=3,p=!1,_=!1,E=!1,B=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var se=r(l);se!==null;){if(se.callback===null)n(l);else if(se.startTime<=K)n(l),se.sortIndex=se.expirationTime,e(o,se);else break;se=r(l)}}function U(K){if(E=!1,I(K),!_)if(r(o)!==null)_=!0,le(V);else{var se=r(l);se!==null&&ie(U,se.startTime-K)}}function V(K,se){_=!1,E&&(E=!1,w(F),F=-1),p=!0;var de=m;try{for(I(se),d=r(o);d!==null&&(!(d.expirationTime>se)||K&&!S());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,m=d.priorityLevel;var M=pe(d.expirationTime<=se);se=t.unstable_now(),typeof M=="function"?d.callback=M:d===r(o)&&n(o),I(se)}else n(o);d=r(o)}if(d!==null)var X=!0;else{var te=r(l);te!==null&&ie(U,te.startTime-se),X=!1}return X}finally{d=null,m=de,p=!1}}var O=!1,L=null,F=-1,x=5,k=-1;function S(){return!(t.unstable_now()-k<x)}function T(){if(L!==null){var K=t.unstable_now();k=K;var se=!0;try{se=L(!0,K)}finally{se?Q():(O=!1,L=null)}}else O=!1}var Q;if(typeof b=="function")Q=function(){b(T)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,oe=z.port2;z.port1.onmessage=T,Q=function(){oe.postMessage(null)}}else Q=function(){B(T,0)};function le(K){L=K,O||(O=!0,Q())}function ie(K,se){F=B(function(){K(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,le(V))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(o)},t.unstable_next=function(K){switch(m){case 1:case 2:case 3:var se=3;break;default:se=m}var de=m;m=se;try{return K()}finally{m=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=m;m=K;try{return se()}finally{m=de}},t.unstable_scheduleCallback=function(K,se,de){var pe=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?pe+de:pe):de=pe,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=de+M,K={id:u++,callback:se,priorityLevel:K,startTime:de,expirationTime:M,sortIndex:-1},de>pe?(K.sortIndex=de,e(l,K),r(o)===null&&K===r(l)&&(E?(w(F),F=-1):E=!0,ie(U,de-pe))):(K.sortIndex=M,e(o,K),_||p||(_=!0,le(V))),K},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(K){var se=m;return function(){var de=m;m=se;try{return K.apply(this,arguments)}finally{m=de}}}})(M4);O4.exports=M4;var rP=O4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP=Y,Ns=rP;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H4=new Set,vf={};function ju(t,e){ih(t,e),ih(t+"Capture",e)}function ih(t,e){for(vf[t]=e,t=0;t<e.length;t++)H4.add(e[t])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ry=Object.prototype.hasOwnProperty,iP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iC={},sC={};function sP(t){return Ry.call(sC,t)?!0:Ry.call(iC,t)?!1:iP.test(t)?sC[t]=!0:(iC[t]=!0,!1)}function AP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aP(t,e,r,n){if(e===null||typeof e>"u"||AP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vi(t,e,r,n,i,s,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=A}var li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){li[t]=new Vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];li[e]=new Vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){li[t]=new Vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){li[t]=new Vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){li[t]=new Vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){li[t]=new Vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){li[t]=new Vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){li[t]=new Vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){li[t]=new Vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var z2=/[\-:]([a-z])/g;function W2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(z2,W2);li[e]=new Vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(z2,W2);li[e]=new Vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(z2,W2);li[e]=new Vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){li[t]=new Vi(t,1,!1,t.toLowerCase(),null,!1,!1)});li.xlinkHref=new Vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){li[t]=new Vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function $2(t,e,r,n){var i=li.hasOwnProperty(e)?li[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aP(e,r,i,n)&&(r=null),n||i===null?sP(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var so=nP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jp=Symbol.for("react.element"),Uc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),X2=Symbol.for("react.strict_mode"),Dy=Symbol.for("react.profiler"),j4=Symbol.for("react.provider"),V4=Symbol.for("react.context"),Y2=Symbol.for("react.forward_ref"),Oy=Symbol.for("react.suspense"),My=Symbol.for("react.suspense_list"),J2=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),K4=Symbol.for("react.offscreen"),AC=Symbol.iterator;function sd(t){return t===null||typeof t!="object"?null:(t=AC&&t[AC]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,A1;function Nd(t){if(A1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);A1=e&&e[1]||""}return`
`+A1+t}var a1=!1;function o1(t,e){if(!t||a1)return"";a1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),A=i.length-1,a=s.length-1;1<=A&&0<=a&&i[A]!==s[a];)a--;for(;1<=A&&0<=a;A--,a--)if(i[A]!==s[a]){if(A!==1||a!==1)do if(A--,a--,0>a||i[A]!==s[a]){var o=`
`+i[A].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=A&&0<=a);break}}}finally{a1=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Nd(t):""}function oP(t){switch(t.tag){case 5:return Nd(t.type);case 16:return Nd("Lazy");case 13:return Nd("Suspense");case 19:return Nd("SuspenseList");case 0:case 2:case 15:return t=o1(t.type,!1),t;case 11:return t=o1(t.type.render,!1),t;case 1:return t=o1(t.type,!0),t;default:return""}}function Hy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qc:return"Fragment";case Uc:return"Portal";case Dy:return"Profiler";case X2:return"StrictMode";case Oy:return"Suspense";case My:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V4:return(t.displayName||"Context")+".Consumer";case j4:return(t._context.displayName||"Context")+".Provider";case Y2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J2:return e=t.displayName||null,e!==null?e:Hy(t.type)||"Memo";case Ro:e=t._payload,t=t._init;try{return Hy(t(e))}catch{}}return null}function lP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hy(e);case 8:return e===X2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function G4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uP(t){var e=G4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(A){n=""+A,s.call(this,A)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(A){n=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zp(t){t._valueTracker||(t._valueTracker=uP(t))}function q4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=G4(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Pm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jy(t,e){var r=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function aC(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=yl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z4(t,e){e=e.checked,e!=null&&$2(t,"checked",e,!1)}function Vy(t,e){z4(t,e);var r=yl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ky(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ky(t,e.type,yl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oC(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ky(t,e,r){(e!=="number"||Pm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Td=Array.isArray;function zc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+yl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lC(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Me(92));if(Td(r)){if(1<r.length)throw Error(Me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:yl(r)}}function W4(t,e){var r=yl(e.value),n=yl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function uC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eg,X4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eg=eg||document.createElement("div"),eg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cP=["Webkit","ms","Moz","O"];Object.keys(zd).forEach(function(t){cP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zd[e]=zd[t]})});function Y4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zd.hasOwnProperty(t)&&zd[t]?(""+e).trim():e+"px"}function J4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Y4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var hP=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zy(t,e){if(e){if(hP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function Wy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $y=null;function Z2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xy=null,Wc=null,$c=null;function cC(t){if(t=up(t)){if(typeof Xy!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=G0(e),Xy(t.stateNode,t.type,e))}}function Z4(t){Wc?$c?$c.push(t):$c=[t]:Wc=t}function eF(){if(Wc){var t=Wc,e=$c;if($c=Wc=null,cC(t),e)for(t=0;t<e.length;t++)cC(e[t])}}function tF(t,e){return t(e)}function rF(){}var l1=!1;function nF(t,e,r){if(l1)return t(e,r);l1=!0;try{return tF(t,e,r)}finally{l1=!1,(Wc!==null||$c!==null)&&(rF(),eF())}}function _f(t,e){var r=t.stateNode;if(r===null)return null;var n=G0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Me(231,e,typeof r));return r}var Yy=!1;if(Xa)try{var Ad={};Object.defineProperty(Ad,"passive",{get:function(){Yy=!0}}),window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{Yy=!1}function dP(t,e,r,n,i,s,A,a,o){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Wd=!1,km=null,Rm=!1,Jy=null,fP={onError:function(t){Wd=!0,km=t}};function pP(t,e,r,n,i,s,A,a,o){Wd=!1,km=null,dP.apply(fP,arguments)}function gP(t,e,r,n,i,s,A,a,o){if(pP.apply(this,arguments),Wd){if(Wd){var l=km;Wd=!1,km=null}else throw Error(Me(198));Rm||(Rm=!0,Jy=l)}}function Vu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function iF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hC(t){if(Vu(t)!==t)throw Error(Me(188))}function mP(t){var e=t.alternate;if(!e){if(e=Vu(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return hC(i),t;if(s===n)return hC(i),e;s=s.sibling}throw Error(Me(188))}if(r.return!==n.return)r=i,n=s;else{for(var A=!1,a=i.child;a;){if(a===r){A=!0,r=i,n=s;break}if(a===n){A=!0,n=i,r=s;break}a=a.sibling}if(!A){for(a=s.child;a;){if(a===r){A=!0,r=s,n=i;break}if(a===n){A=!0,n=s,r=i;break}a=a.sibling}if(!A)throw Error(Me(189))}}if(r.alternate!==n)throw Error(Me(190))}if(r.tag!==3)throw Error(Me(188));return r.stateNode.current===r?t:e}function sF(t){return t=mP(t),t!==null?AF(t):null}function AF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AF(t);if(e!==null)return e;t=t.sibling}return null}var aF=Ns.unstable_scheduleCallback,dC=Ns.unstable_cancelCallback,wP=Ns.unstable_shouldYield,yP=Ns.unstable_requestPaint,yn=Ns.unstable_now,vP=Ns.unstable_getCurrentPriorityLevel,eB=Ns.unstable_ImmediatePriority,oF=Ns.unstable_UserBlockingPriority,Dm=Ns.unstable_NormalPriority,BP=Ns.unstable_LowPriority,lF=Ns.unstable_IdlePriority,H0=null,Aa=null;function _P(t){if(Aa&&typeof Aa.onCommitFiberRoot=="function")try{Aa.onCommitFiberRoot(H0,t,void 0,(t.current.flags&128)===128)}catch{}}var wA=Math.clz32?Math.clz32:EP,CP=Math.log,bP=Math.LN2;function EP(t){return t>>>=0,t===0?32:31-(CP(t)/bP|0)|0}var tg=64,rg=4194304;function Ud(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Om(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,A=r&268435455;if(A!==0){var a=A&~i;a!==0?n=Ud(a):(s&=A,s!==0&&(n=Ud(s)))}else A=r&~i,A!==0?n=Ud(A):s!==0&&(n=Ud(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-wA(e),i=1<<r,n|=t[r],e&=~i;return n}function xP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var A=31-wA(s),a=1<<A,o=i[A];o===-1?(!(a&r)||a&n)&&(i[A]=xP(a,e)):o<=e&&(t.expiredLanes|=a),s&=~a}}function Zy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uF(){var t=tg;return tg<<=1,!(tg&4194240)&&(tg=64),t}function u1(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function op(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wA(e),t[e]=r}function FP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-wA(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function tB(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-wA(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var mr=0;function cF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hF,rB,dF,fF,pF,ev=!1,ng=[],rl=null,nl=null,il=null,Cf=new Map,bf=new Map,Mo=[],SP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fC(t,e){switch(t){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":Cf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bf.delete(e.pointerId)}}function ad(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=up(e),e!==null&&rB(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NP(t,e,r,n,i){switch(e){case"focusin":return rl=ad(rl,t,e,r,n,i),!0;case"dragenter":return nl=ad(nl,t,e,r,n,i),!0;case"mouseover":return il=ad(il,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Cf.set(s,ad(Cf.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,bf.set(s,ad(bf.get(s)||null,t,e,r,n,i)),!0}return!1}function gF(t){var e=lu(t.target);if(e!==null){var r=Vu(e);if(r!==null){if(e=r.tag,e===13){if(e=iF(r),e!==null){t.blockedOn=e,pF(t.priority,function(){dF(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function im(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);$y=n,r.target.dispatchEvent(n),$y=null}else return e=up(r),e!==null&&rB(e),t.blockedOn=r,!1;e.shift()}return!0}function pC(t,e,r){im(t)&&r.delete(e)}function TP(){ev=!1,rl!==null&&im(rl)&&(rl=null),nl!==null&&im(nl)&&(nl=null),il!==null&&im(il)&&(il=null),Cf.forEach(pC),bf.forEach(pC)}function od(t,e){t.blockedOn===e&&(t.blockedOn=null,ev||(ev=!0,Ns.unstable_scheduleCallback(Ns.unstable_NormalPriority,TP)))}function Ef(t){function e(i){return od(i,t)}if(0<ng.length){od(ng[0],t);for(var r=1;r<ng.length;r++){var n=ng[r];n.blockedOn===t&&(n.blockedOn=null)}}for(rl!==null&&od(rl,t),nl!==null&&od(nl,t),il!==null&&od(il,t),Cf.forEach(e),bf.forEach(e),r=0;r<Mo.length;r++)n=Mo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Mo.length&&(r=Mo[0],r.blockedOn===null);)gF(r),r.blockedOn===null&&Mo.shift()}var Xc=so.ReactCurrentBatchConfig,Mm=!0;function UP(t,e,r,n){var i=mr,s=Xc.transition;Xc.transition=null;try{mr=1,nB(t,e,r,n)}finally{mr=i,Xc.transition=s}}function QP(t,e,r,n){var i=mr,s=Xc.transition;Xc.transition=null;try{mr=4,nB(t,e,r,n)}finally{mr=i,Xc.transition=s}}function nB(t,e,r,n){if(Mm){var i=tv(t,e,r,n);if(i===null)v1(t,e,n,Hm,r),fC(t,n);else if(NP(i,t,e,r,n))n.stopPropagation();else if(fC(t,n),e&4&&-1<SP.indexOf(t)){for(;i!==null;){var s=up(i);if(s!==null&&hF(s),s=tv(t,e,r,n),s===null&&v1(t,e,n,Hm,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else v1(t,e,n,null,r)}}var Hm=null;function tv(t,e,r,n){if(Hm=null,t=Z2(n),t=lu(t),t!==null)if(e=Vu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=iF(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hm=t,null}function mF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vP()){case eB:return 1;case oF:return 4;case Dm:case BP:return 16;case lF:return 536870912;default:return 16}default:return 16}}var $o=null,iB=null,sm=null;function wF(){if(sm)return sm;var t,e=iB,r=e.length,n,i="value"in $o?$o.value:$o.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var A=r-t;for(n=1;n<=A&&e[r-n]===i[s-n];n++);return sm=i.slice(t,1<n?1-n:void 0)}function Am(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ig(){return!0}function gC(){return!1}function Qs(t){function e(r,n,i,s,A){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=A,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ig:gC,this.isPropagationStopped=gC,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ig)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ig)},persist:function(){},isPersistent:ig}),e}var Ch={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sB=Qs(Ch),lp=en({},Ch,{view:0,detail:0}),LP=Qs(lp),c1,h1,ld,j0=en({},lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ld&&(ld&&t.type==="mousemove"?(c1=t.screenX-ld.screenX,h1=t.screenY-ld.screenY):h1=c1=0,ld=t),c1)},movementY:function(t){return"movementY"in t?t.movementY:h1}}),mC=Qs(j0),PP=en({},j0,{dataTransfer:0}),kP=Qs(PP),RP=en({},lp,{relatedTarget:0}),d1=Qs(RP),DP=en({},Ch,{animationName:0,elapsedTime:0,pseudoElement:0}),OP=Qs(DP),MP=en({},Ch,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HP=Qs(MP),jP=en({},Ch,{data:0}),wC=Qs(jP),VP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GP[t])?!!e[t]:!1}function AB(){return qP}var zP=en({},lp,{key:function(t){if(t.key){var e=VP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Am(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AB,charCode:function(t){return t.type==="keypress"?Am(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Am(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WP=Qs(zP),$P=en({},j0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yC=Qs($P),XP=en({},lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AB}),YP=Qs(XP),JP=en({},Ch,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZP=Qs(JP),ek=en({},j0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tk=Qs(ek),rk=[9,13,27,32],aB=Xa&&"CompositionEvent"in window,$d=null;Xa&&"documentMode"in document&&($d=document.documentMode);var nk=Xa&&"TextEvent"in window&&!$d,yF=Xa&&(!aB||$d&&8<$d&&11>=$d),vC=" ",BC=!1;function vF(t,e){switch(t){case"keyup":return rk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lc=!1;function ik(t,e){switch(t){case"compositionend":return BF(e);case"keypress":return e.which!==32?null:(BC=!0,vC);case"textInput":return t=e.data,t===vC&&BC?null:t;default:return null}}function sk(t,e){if(Lc)return t==="compositionend"||!aB&&vF(t,e)?(t=wF(),sm=iB=$o=null,Lc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yF&&e.locale!=="ko"?null:e.data;default:return null}}var Ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _C(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ak[t.type]:e==="textarea"}function _F(t,e,r,n){Z4(n),e=jm(e,"onChange"),0<e.length&&(r=new sB("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Xd=null,xf=null;function ak(t){QF(t,0)}function V0(t){var e=Rc(t);if(q4(e))return t}function ok(t,e){if(t==="change")return e}var CF=!1;if(Xa){var f1;if(Xa){var p1="oninput"in document;if(!p1){var CC=document.createElement("div");CC.setAttribute("oninput","return;"),p1=typeof CC.oninput=="function"}f1=p1}else f1=!1;CF=f1&&(!document.documentMode||9<document.documentMode)}function bC(){Xd&&(Xd.detachEvent("onpropertychange",bF),xf=Xd=null)}function bF(t){if(t.propertyName==="value"&&V0(xf)){var e=[];_F(e,xf,t,Z2(t)),nF(ak,e)}}function lk(t,e,r){t==="focusin"?(bC(),Xd=e,xf=r,Xd.attachEvent("onpropertychange",bF)):t==="focusout"&&bC()}function uk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return V0(xf)}function ck(t,e){if(t==="click")return V0(e)}function hk(t,e){if(t==="input"||t==="change")return V0(e)}function dk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var BA=typeof Object.is=="function"?Object.is:dk;function If(t,e){if(BA(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ry.call(e,i)||!BA(t[i],e[i]))return!1}return!0}function EC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xC(t,e){var r=EC(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=EC(r)}}function EF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?EF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xF(){for(var t=window,e=Pm();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Pm(t.document)}return e}function oB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fk(t){var e=xF(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&EF(r.ownerDocument.documentElement,r)){if(n!==null&&oB(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=xC(r,s);var A=xC(r,n);i&&A&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pk=Xa&&"documentMode"in document&&11>=document.documentMode,Pc=null,rv=null,Yd=null,nv=!1;function IC(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nv||Pc==null||Pc!==Pm(n)||(n=Pc,"selectionStart"in n&&oB(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yd&&If(Yd,n)||(Yd=n,n=jm(rv,"onSelect"),0<n.length&&(e=new sB("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Pc)))}function sg(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var kc={animationend:sg("Animation","AnimationEnd"),animationiteration:sg("Animation","AnimationIteration"),animationstart:sg("Animation","AnimationStart"),transitionend:sg("Transition","TransitionEnd")},g1={},IF={};Xa&&(IF=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function K0(t){if(g1[t])return g1[t];if(!kc[t])return t;var e=kc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in IF)return g1[t]=e[r];return t}var FF=K0("animationend"),SF=K0("animationiteration"),NF=K0("animationstart"),TF=K0("transitionend"),UF=new Map,FC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xl(t,e){UF.set(t,e),ju(e,[t])}for(var m1=0;m1<FC.length;m1++){var w1=FC[m1],gk=w1.toLowerCase(),mk=w1[0].toUpperCase()+w1.slice(1);xl(gk,"on"+mk)}xl(FF,"onAnimationEnd");xl(SF,"onAnimationIteration");xl(NF,"onAnimationStart");xl("dblclick","onDoubleClick");xl("focusin","onFocus");xl("focusout","onBlur");xl(TF,"onTransitionEnd");ih("onMouseEnter",["mouseout","mouseover"]);ih("onMouseLeave",["mouseout","mouseover"]);ih("onPointerEnter",["pointerout","pointerover"]);ih("onPointerLeave",["pointerout","pointerover"]);ju("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ju("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ju("onBeforeInput",["compositionend","keypress","textInput","paste"]);ju("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qd));function SC(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,gP(n,e,void 0,t),t.currentTarget=null}function QF(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var A=n.length-1;0<=A;A--){var a=n[A],o=a.instance,l=a.currentTarget;if(a=a.listener,o!==s&&i.isPropagationStopped())break e;SC(i,a,l),s=o}else for(A=0;A<n.length;A++){if(a=n[A],o=a.instance,l=a.currentTarget,a=a.listener,o!==s&&i.isPropagationStopped())break e;SC(i,a,l),s=o}}}if(Rm)throw t=Jy,Rm=!1,Jy=null,t}function Lr(t,e){var r=e[ov];r===void 0&&(r=e[ov]=new Set);var n=t+"__bubble";r.has(n)||(LF(e,t,2,!1),r.add(n))}function y1(t,e,r){var n=0;e&&(n|=4),LF(r,t,n,e)}var Ag="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[Ag]){t[Ag]=!0,H4.forEach(function(r){r!=="selectionchange"&&(wk.has(r)||y1(r,!1,t),y1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ag]||(e[Ag]=!0,y1("selectionchange",!1,e))}}function LF(t,e,r,n){switch(mF(e)){case 1:var i=UP;break;case 4:i=QP;break;default:i=nB}r=i.bind(null,e,r,t),i=void 0,!Yy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function v1(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var A=n.tag;if(A===3||A===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(A===4)for(A=n.return;A!==null;){var o=A.tag;if((o===3||o===4)&&(o=A.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;A=A.return}for(;a!==null;){if(A=lu(a),A===null)return;if(o=A.tag,o===5||o===6){n=s=A;continue e}a=a.parentNode}}n=n.return}nF(function(){var l=s,u=Z2(r),d=[];e:{var m=UF.get(t);if(m!==void 0){var p=sB,_=t;switch(t){case"keypress":if(Am(r)===0)break e;case"keydown":case"keyup":p=WP;break;case"focusin":_="focus",p=d1;break;case"focusout":_="blur",p=d1;break;case"beforeblur":case"afterblur":p=d1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YP;break;case FF:case SF:case NF:p=OP;break;case TF:p=ZP;break;case"scroll":p=LP;break;case"wheel":p=tk;break;case"copy":case"cut":case"paste":p=HP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yC}var E=(e&4)!==0,B=!E&&t==="scroll",w=E?m!==null?m+"Capture":null:m;E=[];for(var b=l,I;b!==null;){I=b;var U=I.stateNode;if(I.tag===5&&U!==null&&(I=U,w!==null&&(U=_f(b,w),U!=null&&E.push(Sf(b,U,I)))),B)break;b=b.return}0<E.length&&(m=new p(m,_,null,r,u),d.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&r!==$y&&(_=r.relatedTarget||r.fromElement)&&(lu(_)||_[Ya]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(_=r.relatedTarget||r.toElement,p=l,_=_?lu(_):null,_!==null&&(B=Vu(_),_!==B||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=l),p!==_)){if(E=mC,U="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(E=yC,U="onPointerLeave",w="onPointerEnter",b="pointer"),B=p==null?m:Rc(p),I=_==null?m:Rc(_),m=new E(U,b+"leave",p,r,u),m.target=B,m.relatedTarget=I,U=null,lu(u)===l&&(E=new E(w,b+"enter",_,r,u),E.target=I,E.relatedTarget=B,U=E),B=U,p&&_)t:{for(E=p,w=_,b=0,I=E;I;I=sc(I))b++;for(I=0,U=w;U;U=sc(U))I++;for(;0<b-I;)E=sc(E),b--;for(;0<I-b;)w=sc(w),I--;for(;b--;){if(E===w||w!==null&&E===w.alternate)break t;E=sc(E),w=sc(w)}E=null}else E=null;p!==null&&NC(d,m,p,E,!1),_!==null&&B!==null&&NC(d,B,_,E,!0)}}e:{if(m=l?Rc(l):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var V=ok;else if(_C(m))if(CF)V=hk;else{V=uk;var O=lk}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=ck);if(V&&(V=V(t,l))){_F(d,V,r,u);break e}O&&O(t,m,l),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Ky(m,"number",m.value)}switch(O=l?Rc(l):window,t){case"focusin":(_C(O)||O.contentEditable==="true")&&(Pc=O,rv=l,Yd=null);break;case"focusout":Yd=rv=Pc=null;break;case"mousedown":nv=!0;break;case"contextmenu":case"mouseup":case"dragend":nv=!1,IC(d,r,u);break;case"selectionchange":if(pk)break;case"keydown":case"keyup":IC(d,r,u)}var L;if(aB)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Lc?vF(t,r)&&(F="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(yF&&r.locale!=="ko"&&(Lc||F!=="onCompositionStart"?F==="onCompositionEnd"&&Lc&&(L=wF()):($o=u,iB="value"in $o?$o.value:$o.textContent,Lc=!0)),O=jm(l,F),0<O.length&&(F=new wC(F,t,null,r,u),d.push({event:F,listeners:O}),L?F.data=L:(L=BF(r),L!==null&&(F.data=L)))),(L=nk?ik(t,r):sk(t,r))&&(l=jm(l,"onBeforeInput"),0<l.length&&(u=new wC("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:l}),u.data=L))}QF(d,e)})}function Sf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function jm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_f(t,r),s!=null&&n.unshift(Sf(t,s,i)),s=_f(t,e),s!=null&&n.push(Sf(t,s,i))),t=t.return}return n}function sc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NC(t,e,r,n,i){for(var s=e._reactName,A=[];r!==null&&r!==n;){var a=r,o=a.alternate,l=a.stateNode;if(o!==null&&o===n)break;a.tag===5&&l!==null&&(a=l,i?(o=_f(r,s),o!=null&&A.unshift(Sf(r,o,a))):i||(o=_f(r,s),o!=null&&A.push(Sf(r,o,a)))),r=r.return}A.length!==0&&t.push({event:e,listeners:A})}var yk=/\r\n?/g,vk=/\u0000|\uFFFD/g;function TC(t){return(typeof t=="string"?t:""+t).replace(yk,`
`).replace(vk,"")}function ag(t,e,r){if(e=TC(e),TC(t)!==e&&r)throw Error(Me(425))}function Vm(){}var iv=null,sv=null;function Av(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var av=typeof setTimeout=="function"?setTimeout:void 0,Bk=typeof clearTimeout=="function"?clearTimeout:void 0,UC=typeof Promise=="function"?Promise:void 0,_k=typeof queueMicrotask=="function"?queueMicrotask:typeof UC<"u"?function(t){return UC.resolve(null).then(t).catch(Ck)}:av;function Ck(t){setTimeout(function(){throw t})}function B1(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ef(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ef(e)}function sl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function QC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var bh=Math.random().toString(36).slice(2),ta="__reactFiber$"+bh,Nf="__reactProps$"+bh,Ya="__reactContainer$"+bh,ov="__reactEvents$"+bh,bk="__reactListeners$"+bh,Ek="__reactHandles$"+bh;function lu(t){var e=t[ta];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ya]||r[ta]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=QC(t);t!==null;){if(r=t[ta])return r;t=QC(t)}return e}t=r,r=t.parentNode}return null}function up(t){return t=t[ta]||t[Ya],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function G0(t){return t[Nf]||null}var lv=[],Dc=-1;function Il(t){return{current:t}}function kr(t){0>Dc||(t.current=lv[Dc],lv[Dc]=null,Dc--)}function Sr(t,e){Dc++,lv[Dc]=t.current,t.current=e}var vl={},Fi=Il(vl),ss=Il(!1),Cu=vl;function sh(t,e){var r=t.type.contextTypes;if(!r)return vl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function As(t){return t=t.childContextTypes,t!=null}function Km(){kr(ss),kr(Fi)}function LC(t,e,r){if(Fi.current!==vl)throw Error(Me(168));Sr(Fi,e),Sr(ss,r)}function PF(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Me(108,lP(t)||"Unknown",i));return en({},r,n)}function Gm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vl,Cu=Fi.current,Sr(Fi,t),Sr(ss,ss.current),!0}function PC(t,e,r){var n=t.stateNode;if(!n)throw Error(Me(169));r?(t=PF(t,e,Cu),n.__reactInternalMemoizedMergedChildContext=t,kr(ss),kr(Fi),Sr(Fi,t)):kr(ss),Sr(ss,r)}var Ra=null,q0=!1,_1=!1;function kF(t){Ra===null?Ra=[t]:Ra.push(t)}function xk(t){q0=!0,kF(t)}function Fl(){if(!_1&&Ra!==null){_1=!0;var t=0,e=mr;try{var r=Ra;for(mr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ra=null,q0=!1}catch(i){throw Ra!==null&&(Ra=Ra.slice(t+1)),aF(eB,Fl),i}finally{mr=e,_1=!1}}return null}var Oc=[],Mc=0,qm=null,zm=0,Ks=[],Gs=0,bu=null,Oa=1,Ma="";function Jl(t,e){Oc[Mc++]=zm,Oc[Mc++]=qm,qm=t,zm=e}function RF(t,e,r){Ks[Gs++]=Oa,Ks[Gs++]=Ma,Ks[Gs++]=bu,bu=t;var n=Oa;t=Ma;var i=32-wA(n)-1;n&=~(1<<i),r+=1;var s=32-wA(e)+i;if(30<s){var A=i-i%5;s=(n&(1<<A)-1).toString(32),n>>=A,i-=A,Oa=1<<32-wA(e)+i|r<<i|n,Ma=s+t}else Oa=1<<s|r<<i|n,Ma=t}function lB(t){t.return!==null&&(Jl(t,1),RF(t,1,0))}function uB(t){for(;t===qm;)qm=Oc[--Mc],Oc[Mc]=null,zm=Oc[--Mc],Oc[Mc]=null;for(;t===bu;)bu=Ks[--Gs],Ks[Gs]=null,Ma=Ks[--Gs],Ks[Gs]=null,Oa=Ks[--Gs],Ks[Gs]=null}var Ss=null,xs=null,Kr=!1,mA=null;function DF(t,e){var r=zs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function kC(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ss=t,xs=sl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ss=t,xs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=bu!==null?{id:Oa,overflow:Ma}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=zs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ss=t,xs=null,!0):!1;default:return!1}}function uv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cv(t){if(Kr){var e=xs;if(e){var r=e;if(!kC(t,e)){if(uv(t))throw Error(Me(418));e=sl(r.nextSibling);var n=Ss;e&&kC(t,e)?DF(n,r):(t.flags=t.flags&-4097|2,Kr=!1,Ss=t)}}else{if(uv(t))throw Error(Me(418));t.flags=t.flags&-4097|2,Kr=!1,Ss=t}}}function RC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ss=t}function og(t){if(t!==Ss)return!1;if(!Kr)return RC(t),Kr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Av(t.type,t.memoizedProps)),e&&(e=xs)){if(uv(t))throw OF(),Error(Me(418));for(;e;)DF(t,e),e=sl(e.nextSibling)}if(RC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xs=sl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xs=null}}else xs=Ss?sl(t.stateNode.nextSibling):null;return!0}function OF(){for(var t=xs;t;)t=sl(t.nextSibling)}function Ah(){xs=Ss=null,Kr=!1}function cB(t){mA===null?mA=[t]:mA.push(t)}var Ik=so.ReactCurrentBatchConfig;function ud(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Me(309));var n=r.stateNode}if(!n)throw Error(Me(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(A){var a=i.refs;A===null?delete a[s]:a[s]=A},e._stringRef=s,e)}if(typeof t!="string")throw Error(Me(284));if(!r._owner)throw Error(Me(290,t))}return t}function lg(t,e){throw t=Object.prototype.toString.call(e),Error(Me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DC(t){var e=t._init;return e(t._payload)}function MF(t){function e(w,b){if(t){var I=w.deletions;I===null?(w.deletions=[b],w.flags|=16):I.push(b)}}function r(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=ll(w,b),w.index=0,w.sibling=null,w}function s(w,b,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<b?(w.flags|=2,b):I):(w.flags|=2,b)):(w.flags|=1048576,b)}function A(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,I,U){return b===null||b.tag!==6?(b=S1(I,w.mode,U),b.return=w,b):(b=i(b,I),b.return=w,b)}function o(w,b,I,U){var V=I.type;return V===Qc?u(w,b,I.props.children,U,I.key):b!==null&&(b.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ro&&DC(V)===b.type)?(U=i(b,I.props),U.ref=ud(w,b,I),U.return=w,U):(U=dm(I.type,I.key,I.props,null,w.mode,U),U.ref=ud(w,b,I),U.return=w,U)}function l(w,b,I,U){return b===null||b.tag!==4||b.stateNode.containerInfo!==I.containerInfo||b.stateNode.implementation!==I.implementation?(b=N1(I,w.mode,U),b.return=w,b):(b=i(b,I.children||[]),b.return=w,b)}function u(w,b,I,U,V){return b===null||b.tag!==7?(b=pu(I,w.mode,U,V),b.return=w,b):(b=i(b,I),b.return=w,b)}function d(w,b,I){if(typeof b=="string"&&b!==""||typeof b=="number")return b=S1(""+b,w.mode,I),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jp:return I=dm(b.type,b.key,b.props,null,w.mode,I),I.ref=ud(w,null,b),I.return=w,I;case Uc:return b=N1(b,w.mode,I),b.return=w,b;case Ro:var U=b._init;return d(w,U(b._payload),I)}if(Td(b)||sd(b))return b=pu(b,w.mode,I,null),b.return=w,b;lg(w,b)}return null}function m(w,b,I,U){var V=b!==null?b.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return V!==null?null:a(w,b,""+I,U);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Jp:return I.key===V?o(w,b,I,U):null;case Uc:return I.key===V?l(w,b,I,U):null;case Ro:return V=I._init,m(w,b,V(I._payload),U)}if(Td(I)||sd(I))return V!==null?null:u(w,b,I,U,null);lg(w,I)}return null}function p(w,b,I,U,V){if(typeof U=="string"&&U!==""||typeof U=="number")return w=w.get(I)||null,a(b,w,""+U,V);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Jp:return w=w.get(U.key===null?I:U.key)||null,o(b,w,U,V);case Uc:return w=w.get(U.key===null?I:U.key)||null,l(b,w,U,V);case Ro:var O=U._init;return p(w,b,I,O(U._payload),V)}if(Td(U)||sd(U))return w=w.get(I)||null,u(b,w,U,V,null);lg(b,U)}return null}function _(w,b,I,U){for(var V=null,O=null,L=b,F=b=0,x=null;L!==null&&F<I.length;F++){L.index>F?(x=L,L=null):x=L.sibling;var k=m(w,L,I[F],U);if(k===null){L===null&&(L=x);break}t&&L&&k.alternate===null&&e(w,L),b=s(k,b,F),O===null?V=k:O.sibling=k,O=k,L=x}if(F===I.length)return r(w,L),Kr&&Jl(w,F),V;if(L===null){for(;F<I.length;F++)L=d(w,I[F],U),L!==null&&(b=s(L,b,F),O===null?V=L:O.sibling=L,O=L);return Kr&&Jl(w,F),V}for(L=n(w,L);F<I.length;F++)x=p(L,w,F,I[F],U),x!==null&&(t&&x.alternate!==null&&L.delete(x.key===null?F:x.key),b=s(x,b,F),O===null?V=x:O.sibling=x,O=x);return t&&L.forEach(function(S){return e(w,S)}),Kr&&Jl(w,F),V}function E(w,b,I,U){var V=sd(I);if(typeof V!="function")throw Error(Me(150));if(I=V.call(I),I==null)throw Error(Me(151));for(var O=V=null,L=b,F=b=0,x=null,k=I.next();L!==null&&!k.done;F++,k=I.next()){L.index>F?(x=L,L=null):x=L.sibling;var S=m(w,L,k.value,U);if(S===null){L===null&&(L=x);break}t&&L&&S.alternate===null&&e(w,L),b=s(S,b,F),O===null?V=S:O.sibling=S,O=S,L=x}if(k.done)return r(w,L),Kr&&Jl(w,F),V;if(L===null){for(;!k.done;F++,k=I.next())k=d(w,k.value,U),k!==null&&(b=s(k,b,F),O===null?V=k:O.sibling=k,O=k);return Kr&&Jl(w,F),V}for(L=n(w,L);!k.done;F++,k=I.next())k=p(L,w,F,k.value,U),k!==null&&(t&&k.alternate!==null&&L.delete(k.key===null?F:k.key),b=s(k,b,F),O===null?V=k:O.sibling=k,O=k);return t&&L.forEach(function(T){return e(w,T)}),Kr&&Jl(w,F),V}function B(w,b,I,U){if(typeof I=="object"&&I!==null&&I.type===Qc&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Jp:e:{for(var V=I.key,O=b;O!==null;){if(O.key===V){if(V=I.type,V===Qc){if(O.tag===7){r(w,O.sibling),b=i(O,I.props.children),b.return=w,w=b;break e}}else if(O.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ro&&DC(V)===O.type){r(w,O.sibling),b=i(O,I.props),b.ref=ud(w,O,I),b.return=w,w=b;break e}r(w,O);break}else e(w,O);O=O.sibling}I.type===Qc?(b=pu(I.props.children,w.mode,U,I.key),b.return=w,w=b):(U=dm(I.type,I.key,I.props,null,w.mode,U),U.ref=ud(w,b,I),U.return=w,w=U)}return A(w);case Uc:e:{for(O=I.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===I.containerInfo&&b.stateNode.implementation===I.implementation){r(w,b.sibling),b=i(b,I.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else e(w,b);b=b.sibling}b=N1(I,w.mode,U),b.return=w,w=b}return A(w);case Ro:return O=I._init,B(w,b,O(I._payload),U)}if(Td(I))return _(w,b,I,U);if(sd(I))return E(w,b,I,U);lg(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,b!==null&&b.tag===6?(r(w,b.sibling),b=i(b,I),b.return=w,w=b):(r(w,b),b=S1(I,w.mode,U),b.return=w,w=b),A(w)):r(w,b)}return B}var ah=MF(!0),HF=MF(!1),Wm=Il(null),$m=null,Hc=null,hB=null;function dB(){hB=Hc=$m=null}function fB(t){var e=Wm.current;kr(Wm),t._currentValue=e}function hv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Yc(t,e){$m=t,hB=Hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ns=!0),t.firstContext=null)}function Zs(t){var e=t._currentValue;if(hB!==t)if(t={context:t,memoizedValue:e,next:null},Hc===null){if($m===null)throw Error(Me(308));Hc=t,$m.dependencies={lanes:0,firstContext:t}}else Hc=Hc.next=t;return e}var uu=null;function pB(t){uu===null?uu=[t]:uu.push(t)}function jF(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,pB(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ja(t,n)}function Ja(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Do=!1;function gB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ga(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Al(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Jt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ja(t,r)}return i=n.interleaved,i===null?(e.next=e,pB(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ja(t,r)}function am(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tB(t,r)}}function OC(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var A={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=A:s=s.next=A,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xm(t,e,r,n){var i=t.updateQueue;Do=!1;var s=i.firstBaseUpdate,A=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var o=a,l=o.next;o.next=null,A===null?s=l:A.next=l,A=o;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==A&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=o))}if(s!==null){var d=i.baseState;A=0,u=l=o=null,a=s;do{var m=a.lane,p=a.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,E=a;switch(m=e,p=r,E.tag){case 1:if(_=E.payload,typeof _=="function"){d=_.call(p,d,m);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,m=typeof _=="function"?_.call(p,d,m):_,m==null)break e;d=en({},d,m);break e;case 2:Do=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=p,o=d):u=u.next=p,A|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(o=d),i.baseState=o,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do A|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xu|=A,t.lanes=A,t.memoizedState=d}}function MC(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Me(191,i));i.call(n)}}}var cp={},aa=Il(cp),Tf=Il(cp),Uf=Il(cp);function cu(t){if(t===cp)throw Error(Me(174));return t}function mB(t,e){switch(Sr(Uf,e),Sr(Tf,t),Sr(aa,cp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qy(e,t)}kr(aa),Sr(aa,e)}function oh(){kr(aa),kr(Tf),kr(Uf)}function KF(t){cu(Uf.current);var e=cu(aa.current),r=qy(e,t.type);e!==r&&(Sr(Tf,t),Sr(aa,r))}function wB(t){Tf.current===t&&(kr(aa),kr(Tf))}var Yr=Il(0);function Ym(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var C1=[];function yB(){for(var t=0;t<C1.length;t++)C1[t]._workInProgressVersionPrimary=null;C1.length=0}var om=so.ReactCurrentDispatcher,b1=so.ReactCurrentBatchConfig,Eu=0,Zr=null,Un=null,qn=null,Jm=!1,Jd=!1,Qf=0,Fk=0;function pi(){throw Error(Me(321))}function vB(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!BA(t[r],e[r]))return!1;return!0}function BB(t,e,r,n,i,s){if(Eu=s,Zr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,om.current=t===null||t.memoizedState===null?Uk:Qk,t=r(n,i),Jd){s=0;do{if(Jd=!1,Qf=0,25<=s)throw Error(Me(301));s+=1,qn=Un=null,e.updateQueue=null,om.current=Lk,t=r(n,i)}while(Jd)}if(om.current=Zm,e=Un!==null&&Un.next!==null,Eu=0,qn=Un=Zr=null,Jm=!1,e)throw Error(Me(300));return t}function _B(){var t=Qf!==0;return Qf=0,t}function ea(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?Zr.memoizedState=qn=t:qn=qn.next=t,qn}function eA(){if(Un===null){var t=Zr.alternate;t=t!==null?t.memoizedState:null}else t=Un.next;var e=qn===null?Zr.memoizedState:qn.next;if(e!==null)qn=e,Un=t;else{if(t===null)throw Error(Me(310));Un=t,t={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},qn===null?Zr.memoizedState=qn=t:qn=qn.next=t}return qn}function Lf(t,e){return typeof e=="function"?e(t):e}function E1(t){var e=eA(),r=e.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=t;var n=Un,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var A=i.next;i.next=s.next,s.next=A}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=A=null,o=null,l=s;do{var u=l.lane;if((Eu&u)===u)o!==null&&(o=o.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};o===null?(a=o=d,A=n):o=o.next=d,Zr.lanes|=u,xu|=u}l=l.next}while(l!==null&&l!==s);o===null?A=n:o.next=a,BA(n,e.memoizedState)||(ns=!0),e.memoizedState=n,e.baseState=A,e.baseQueue=o,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Zr.lanes|=s,xu|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function x1(t){var e=eA(),r=e.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var A=i=i.next;do s=t(s,A.action),A=A.next;while(A!==i);BA(s,e.memoizedState)||(ns=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function GF(){}function qF(t,e){var r=Zr,n=eA(),i=e(),s=!BA(n.memoizedState,i);if(s&&(n.memoizedState=i,ns=!0),n=n.queue,CB($F.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||qn!==null&&qn.memoizedState.tag&1){if(r.flags|=2048,Pf(9,WF.bind(null,r,n,i,e),void 0,null),zn===null)throw Error(Me(349));Eu&30||zF(r,e,i)}return i}function zF(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Zr.updateQueue,e===null?(e={lastEffect:null,stores:null},Zr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function WF(t,e,r,n){e.value=r,e.getSnapshot=n,XF(e)&&YF(t)}function $F(t,e,r){return r(function(){XF(e)&&YF(t)})}function XF(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!BA(t,r)}catch{return!0}}function YF(t){var e=Ja(t,1);e!==null&&yA(e,t,1,-1)}function HC(t){var e=ea();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:t},e.queue=t,t=t.dispatch=Tk.bind(null,Zr,t),[e.memoizedState,t]}function Pf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Zr.updateQueue,e===null?(e={lastEffect:null,stores:null},Zr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function JF(){return eA().memoizedState}function lm(t,e,r,n){var i=ea();Zr.flags|=t,i.memoizedState=Pf(1|e,r,void 0,n===void 0?null:n)}function z0(t,e,r,n){var i=eA();n=n===void 0?null:n;var s=void 0;if(Un!==null){var A=Un.memoizedState;if(s=A.destroy,n!==null&&vB(n,A.deps)){i.memoizedState=Pf(e,r,s,n);return}}Zr.flags|=t,i.memoizedState=Pf(1|e,r,s,n)}function jC(t,e){return lm(8390656,8,t,e)}function CB(t,e){return z0(2048,8,t,e)}function ZF(t,e){return z0(4,2,t,e)}function eS(t,e){return z0(4,4,t,e)}function tS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rS(t,e,r){return r=r!=null?r.concat([t]):null,z0(4,4,tS.bind(null,e,t),r)}function bB(){}function nS(t,e){var r=eA();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vB(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function iS(t,e){var r=eA();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vB(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function sS(t,e,r){return Eu&21?(BA(r,e)||(r=uF(),Zr.lanes|=r,xu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ns=!0),t.memoizedState=r)}function Sk(t,e){var r=mr;mr=r!==0&&4>r?r:4,t(!0);var n=b1.transition;b1.transition={};try{t(!1),e()}finally{mr=r,b1.transition=n}}function AS(){return eA().memoizedState}function Nk(t,e,r){var n=ol(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},aS(t))oS(e,r);else if(r=jF(t,e,r,n),r!==null){var i=Mi();yA(r,t,n,i),lS(r,e,n)}}function Tk(t,e,r){var n=ol(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(aS(t))oS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var A=e.lastRenderedState,a=s(A,r);if(i.hasEagerState=!0,i.eagerState=a,BA(a,A)){var o=e.interleaved;o===null?(i.next=i,pB(e)):(i.next=o.next,o.next=i),e.interleaved=i;return}}catch{}finally{}r=jF(t,e,i,n),r!==null&&(i=Mi(),yA(r,t,n,i),lS(r,e,n))}}function aS(t){var e=t.alternate;return t===Zr||e!==null&&e===Zr}function oS(t,e){Jd=Jm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function lS(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tB(t,r)}}var Zm={readContext:Zs,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Uk={readContext:Zs,useCallback:function(t,e){return ea().memoizedState=[t,e===void 0?null:e],t},useContext:Zs,useEffect:jC,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,lm(4194308,4,tS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return lm(4194308,4,t,e)},useInsertionEffect:function(t,e){return lm(4,2,t,e)},useMemo:function(t,e){var r=ea();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ea();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Nk.bind(null,Zr,t),[n.memoizedState,t]},useRef:function(t){var e=ea();return t={current:t},e.memoizedState=t},useState:HC,useDebugValue:bB,useDeferredValue:function(t){return ea().memoizedState=t},useTransition:function(){var t=HC(!1),e=t[0];return t=Sk.bind(null,t[1]),ea().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Zr,i=ea();if(Kr){if(r===void 0)throw Error(Me(407));r=r()}else{if(r=e(),zn===null)throw Error(Me(349));Eu&30||zF(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,jC($F.bind(null,n,s,t),[t]),n.flags|=2048,Pf(9,WF.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ea(),e=zn.identifierPrefix;if(Kr){var r=Ma,n=Oa;r=(n&~(1<<32-wA(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Qf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Fk++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qk={readContext:Zs,useCallback:nS,useContext:Zs,useEffect:CB,useImperativeHandle:rS,useInsertionEffect:ZF,useLayoutEffect:eS,useMemo:iS,useReducer:E1,useRef:JF,useState:function(){return E1(Lf)},useDebugValue:bB,useDeferredValue:function(t){var e=eA();return sS(e,Un.memoizedState,t)},useTransition:function(){var t=E1(Lf)[0],e=eA().memoizedState;return[t,e]},useMutableSource:GF,useSyncExternalStore:qF,useId:AS,unstable_isNewReconciler:!1},Lk={readContext:Zs,useCallback:nS,useContext:Zs,useEffect:CB,useImperativeHandle:rS,useInsertionEffect:ZF,useLayoutEffect:eS,useMemo:iS,useReducer:x1,useRef:JF,useState:function(){return x1(Lf)},useDebugValue:bB,useDeferredValue:function(t){var e=eA();return Un===null?e.memoizedState=t:sS(e,Un.memoizedState,t)},useTransition:function(){var t=x1(Lf)[0],e=eA().memoizedState;return[t,e]},useMutableSource:GF,useSyncExternalStore:qF,useId:AS,unstable_isNewReconciler:!1};function pA(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function dv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:en({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var W0={isMounted:function(t){return(t=t._reactInternals)?Vu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Mi(),i=ol(t),s=Ga(n,i);s.payload=e,r!=null&&(s.callback=r),e=Al(t,s,i),e!==null&&(yA(e,t,i,n),am(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Mi(),i=ol(t),s=Ga(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Al(t,s,i),e!==null&&(yA(e,t,i,n),am(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Mi(),n=ol(t),i=Ga(r,n);i.tag=2,e!=null&&(i.callback=e),e=Al(t,i,n),e!==null&&(yA(e,t,n,r),am(e,t,n))}};function VC(t,e,r,n,i,s,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,A):e.prototype&&e.prototype.isPureReactComponent?!If(r,n)||!If(i,s):!0}function uS(t,e,r){var n=!1,i=vl,s=e.contextType;return typeof s=="object"&&s!==null?s=Zs(s):(i=As(e)?Cu:Fi.current,n=e.contextTypes,s=(n=n!=null)?sh(t,i):vl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=W0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function KC(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&W0.enqueueReplaceState(e,e.state,null)}function fv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},gB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zs(s):(s=As(e)?Cu:Fi.current,i.context=sh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dv(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&W0.enqueueReplaceState(i,i.state,null),Xm(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function lh(t,e){try{var r="",n=e;do r+=oP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function I1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function pv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Pk=typeof WeakMap=="function"?WeakMap:Map;function cS(t,e,r){r=Ga(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){t0||(t0=!0,Ev=n),pv(t,e)},r}function hS(t,e,r){r=Ga(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){pv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){pv(t,e),typeof n!="function"&&(al===null?al=new Set([this]):al.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),r}function GC(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Pk;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=$k.bind(null,t,e,r),e.then(t,t))}function qC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zC(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ga(-1,1),e.tag=2,Al(r,e,1))),r.lanes|=1),t)}var kk=so.ReactCurrentOwner,ns=!1;function Di(t,e,r,n){e.child=t===null?HF(e,null,r,n):ah(e,t.child,r,n)}function WC(t,e,r,n,i){r=r.render;var s=e.ref;return Yc(e,i),n=BB(t,e,r,n,s,i),r=_B(),t!==null&&!ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Za(t,e,i)):(Kr&&r&&lB(e),e.flags|=1,Di(t,e,n,i),e.child)}function $C(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!UB(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,dS(t,e,s,n,i)):(t=dm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var A=s.memoizedProps;if(r=r.compare,r=r!==null?r:If,r(A,n)&&t.ref===e.ref)return Za(t,e,i)}return e.flags|=1,t=ll(s,n),t.ref=e.ref,t.return=e,e.child=t}function dS(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(If(s,n)&&t.ref===e.ref)if(ns=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ns=!0);else return e.lanes=t.lanes,Za(t,e,i)}return gv(t,e,r,n,i)}function fS(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Vc,Es),Es|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Sr(Vc,Es),Es|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Sr(Vc,Es),Es|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Sr(Vc,Es),Es|=n;return Di(t,e,i,r),e.child}function pS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function gv(t,e,r,n,i){var s=As(r)?Cu:Fi.current;return s=sh(e,s),Yc(e,i),r=BB(t,e,r,n,s,i),n=_B(),t!==null&&!ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Za(t,e,i)):(Kr&&n&&lB(e),e.flags|=1,Di(t,e,r,i),e.child)}function XC(t,e,r,n,i){if(As(r)){var s=!0;Gm(e)}else s=!1;if(Yc(e,i),e.stateNode===null)um(t,e),uS(e,r,n),fv(e,r,n,i),n=!0;else if(t===null){var A=e.stateNode,a=e.memoizedProps;A.props=a;var o=A.context,l=r.contextType;typeof l=="object"&&l!==null?l=Zs(l):(l=As(r)?Cu:Fi.current,l=sh(e,l));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof A.getSnapshotBeforeUpdate=="function";d||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==n||o!==l)&&KC(e,A,n,l),Do=!1;var m=e.memoizedState;A.state=m,Xm(e,n,A,i),o=e.memoizedState,a!==n||m!==o||ss.current||Do?(typeof u=="function"&&(dv(e,r,u,n),o=e.memoizedState),(a=Do||VC(e,r,a,n,m,o,l))?(d||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=o),A.props=n,A.state=o,A.context=l,n=a):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{A=e.stateNode,VF(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:pA(e.type,a),A.props=l,d=e.pendingProps,m=A.context,o=r.contextType,typeof o=="object"&&o!==null?o=Zs(o):(o=As(r)?Cu:Fi.current,o=sh(e,o));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==d||m!==o)&&KC(e,A,n,o),Do=!1,m=e.memoizedState,A.state=m,Xm(e,n,A,i);var _=e.memoizedState;a!==d||m!==_||ss.current||Do?(typeof p=="function"&&(dv(e,r,p,n),_=e.memoizedState),(l=Do||VC(e,r,l,n,m,_,o)||!1)?(u||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(n,_,o),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(n,_,o)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),A.props=n,A.state=_,A.context=o,n=l):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return mv(t,e,r,n,s,i)}function mv(t,e,r,n,i,s){pS(t,e);var A=(e.flags&128)!==0;if(!n&&!A)return i&&PC(e,r,!1),Za(t,e,s);n=e.stateNode,kk.current=e;var a=A&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&A?(e.child=ah(e,t.child,null,s),e.child=ah(e,null,a,s)):Di(t,e,a,s),e.memoizedState=n.state,i&&PC(e,r,!0),e.child}function gS(t){var e=t.stateNode;e.pendingContext?LC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LC(t,e.context,!1),mB(t,e.containerInfo)}function YC(t,e,r,n,i){return Ah(),cB(i),e.flags|=256,Di(t,e,r,n),e.child}var wv={dehydrated:null,treeContext:null,retryLane:0};function yv(t){return{baseLanes:t,cachePool:null,transitions:null}}function mS(t,e,r){var n=e.pendingProps,i=Yr.current,s=!1,A=(e.flags&128)!==0,a;if((a=A)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Sr(Yr,i&1),t===null)return cv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=n.children,t=n.fallback,s?(n=e.mode,s=e.child,A={mode:"hidden",children:A},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=A):s=Y0(A,n,0,null),t=pu(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yv(r),e.memoizedState=wv,t):EB(e,A));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Rk(t,e,A,n,a,i,r);if(s){s=n.fallback,A=e.mode,i=t.child,a=i.sibling;var o={mode:"hidden",children:n.children};return!(A&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=o,e.deletions=null):(n=ll(i,o),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ll(a,s):(s=pu(s,A,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,A=t.child.memoizedState,A=A===null?yv(r):{baseLanes:A.baseLanes|r,cachePool:null,transitions:A.transitions},s.memoizedState=A,s.childLanes=t.childLanes&~r,e.memoizedState=wv,n}return s=t.child,t=s.sibling,n=ll(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function EB(t,e){return e=Y0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ug(t,e,r,n){return n!==null&&cB(n),ah(e,t.child,null,r),t=EB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rk(t,e,r,n,i,s,A){if(r)return e.flags&256?(e.flags&=-257,n=I1(Error(Me(422))),ug(t,e,A,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Y0({mode:"visible",children:n.children},i,0,null),s=pu(s,i,A,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ah(e,t.child,null,A),e.child.memoizedState=yv(A),e.memoizedState=wv,s);if(!(e.mode&1))return ug(t,e,A,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Me(419)),n=I1(s,n,void 0),ug(t,e,A,n)}if(a=(A&t.childLanes)!==0,ns||a){if(n=zn,n!==null){switch(A&-A){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|A)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ja(t,i),yA(n,t,i,-1))}return TB(),n=I1(Error(Me(421))),ug(t,e,A,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Xk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xs=sl(i.nextSibling),Ss=e,Kr=!0,mA=null,t!==null&&(Ks[Gs++]=Oa,Ks[Gs++]=Ma,Ks[Gs++]=bu,Oa=t.id,Ma=t.overflow,bu=e),e=EB(e,n.children),e.flags|=4096,e)}function JC(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),hv(t.return,e,r)}function F1(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function wS(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Di(t,e,n.children,r),n=Yr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JC(t,r,e);else if(t.tag===19)JC(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Sr(Yr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ym(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),F1(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ym(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}F1(e,!0,r,null,s);break;case"together":F1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function um(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Za(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,r=ll(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ll(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Dk(t,e,r){switch(e.tag){case 3:gS(e),Ah();break;case 5:KF(e);break;case 1:As(e.type)&&Gm(e);break;case 4:mB(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Sr(Wm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Sr(Yr,Yr.current&1),e.flags|=128,null):r&e.child.childLanes?mS(t,e,r):(Sr(Yr,Yr.current&1),t=Za(t,e,r),t!==null?t.sibling:null);Sr(Yr,Yr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return wS(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sr(Yr,Yr.current),n)break;return null;case 22:case 23:return e.lanes=0,fS(t,e,r)}return Za(t,e,r)}var yS,vv,vS,BS;yS=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vv=function(){};vS=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,cu(aa.current);var s=null;switch(r){case"input":i=jy(t,i),n=jy(t,n),s=[];break;case"select":i=en({},i,{value:void 0}),n=en({},n,{value:void 0}),s=[];break;case"textarea":i=Gy(t,i),n=Gy(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Vm)}zy(r,n);var A;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(A in a)a.hasOwnProperty(A)&&(r||(r={}),r[A]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(vf.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var o=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&o!==a&&(o!=null||a!=null))if(l==="style")if(a){for(A in a)!a.hasOwnProperty(A)||o&&o.hasOwnProperty(A)||(r||(r={}),r[A]="");for(A in o)o.hasOwnProperty(A)&&a[A]!==o[A]&&(r||(r={}),r[A]=o[A])}else r||(s||(s=[]),s.push(l,r)),r=o;else l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(s=s||[]).push(l,o)):l==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(l,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(vf.hasOwnProperty(l)?(o!=null&&l==="onScroll"&&Lr("scroll",t),s||a===o||(s=[])):(s=s||[]).push(l,o))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};BS=function(t,e,r,n){r!==n&&(e.flags|=4)};function cd(t,e){if(!Kr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function gi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ok(t,e,r){var n=e.pendingProps;switch(uB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(e),null;case 1:return As(e.type)&&Km(),gi(e),null;case 3:return n=e.stateNode,oh(),kr(ss),kr(Fi),yB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(og(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mA!==null&&(Fv(mA),mA=null))),vv(t,e),gi(e),null;case 5:wB(e);var i=cu(Uf.current);if(r=e.type,t!==null&&e.stateNode!=null)vS(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Me(166));return gi(e),null}if(t=cu(aa.current),og(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ta]=e,n[Nf]=s,t=(e.mode&1)!==0,r){case"dialog":Lr("cancel",n),Lr("close",n);break;case"iframe":case"object":case"embed":Lr("load",n);break;case"video":case"audio":for(i=0;i<Qd.length;i++)Lr(Qd[i],n);break;case"source":Lr("error",n);break;case"img":case"image":case"link":Lr("error",n),Lr("load",n);break;case"details":Lr("toggle",n);break;case"input":aC(n,s),Lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",n);break;case"textarea":lC(n,s),Lr("invalid",n)}zy(r,s),i=null;for(var A in s)if(s.hasOwnProperty(A)){var a=s[A];A==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&ag(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ag(n.textContent,a,t),i=["children",""+a]):vf.hasOwnProperty(A)&&a!=null&&A==="onScroll"&&Lr("scroll",n)}switch(r){case"input":Zp(n),oC(n,s,!0);break;case"textarea":Zp(n),uC(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Vm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{A=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=A.createElement(r,{is:n.is}):(t=A.createElement(r),r==="select"&&(A=t,n.multiple?A.multiple=!0:n.size&&(A.size=n.size))):t=A.createElementNS(t,r),t[ta]=e,t[Nf]=n,yS(t,e,!1,!1),e.stateNode=t;e:{switch(A=Wy(r,n),r){case"dialog":Lr("cancel",t),Lr("close",t),i=n;break;case"iframe":case"object":case"embed":Lr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Qd.length;i++)Lr(Qd[i],t);i=n;break;case"source":Lr("error",t),i=n;break;case"img":case"image":case"link":Lr("error",t),Lr("load",t),i=n;break;case"details":Lr("toggle",t),i=n;break;case"input":aC(t,n),i=jy(t,n),Lr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=en({},n,{value:void 0}),Lr("invalid",t);break;case"textarea":lC(t,n),i=Gy(t,n),Lr("invalid",t);break;default:i=n}zy(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="style"?J4(t,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&X4(t,o)):s==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Bf(t,o):typeof o=="number"&&Bf(t,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vf.hasOwnProperty(s)?o!=null&&s==="onScroll"&&Lr("scroll",t):o!=null&&$2(t,s,o,A))}switch(r){case"input":Zp(t),oC(t,n,!1);break;case"textarea":Zp(t),uC(t);break;case"option":n.value!=null&&t.setAttribute("value",""+yl(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?zc(t,!!n.multiple,s,!1):n.defaultValue!=null&&zc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gi(e),null;case 6:if(t&&e.stateNode!=null)BS(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Me(166));if(r=cu(Uf.current),cu(aa.current),og(e)){if(n=e.stateNode,r=e.memoizedProps,n[ta]=e,(s=n.nodeValue!==r)&&(t=Ss,t!==null))switch(t.tag){case 3:ag(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ag(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ta]=e,e.stateNode=n}return gi(e),null;case 13:if(kr(Yr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kr&&xs!==null&&e.mode&1&&!(e.flags&128))OF(),Ah(),e.flags|=98560,s=!1;else if(s=og(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[ta]=e}else Ah(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gi(e),s=!1}else mA!==null&&(Fv(mA),mA=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Yr.current&1?Pn===0&&(Pn=3):TB())),e.updateQueue!==null&&(e.flags|=4),gi(e),null);case 4:return oh(),vv(t,e),t===null&&Ff(e.stateNode.containerInfo),gi(e),null;case 10:return fB(e.type._context),gi(e),null;case 17:return As(e.type)&&Km(),gi(e),null;case 19:if(kr(Yr),s=e.memoizedState,s===null)return gi(e),null;if(n=(e.flags&128)!==0,A=s.rendering,A===null)if(n)cd(s,!1);else{if(Pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=Ym(t),A!==null){for(e.flags|=128,cd(s,!1),n=A.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,A=s.alternate,A===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=A.childLanes,s.lanes=A.lanes,s.child=A.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=A.memoizedProps,s.memoizedState=A.memoizedState,s.updateQueue=A.updateQueue,s.type=A.type,t=A.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Sr(Yr,Yr.current&1|2),e.child}t=t.sibling}s.tail!==null&&yn()>uh&&(e.flags|=128,n=!0,cd(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ym(A),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),cd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!A.alternate&&!Kr)return gi(e),null}else 2*yn()-s.renderingStartTime>uh&&r!==1073741824&&(e.flags|=128,n=!0,cd(s,!1),e.lanes=4194304);s.isBackwards?(A.sibling=e.child,e.child=A):(r=s.last,r!==null?r.sibling=A:e.child=A,s.last=A)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yn(),e.sibling=null,r=Yr.current,Sr(Yr,n?r&1|2:r&1),e):(gi(e),null);case 22:case 23:return NB(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Es&1073741824&&(gi(e),e.subtreeFlags&6&&(e.flags|=8192)):gi(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function Mk(t,e){switch(uB(e),e.tag){case 1:return As(e.type)&&Km(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oh(),kr(ss),kr(Fi),yB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wB(e),null;case 13:if(kr(Yr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));Ah()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kr(Yr),null;case 4:return oh(),null;case 10:return fB(e.type._context),null;case 22:case 23:return NB(),null;case 24:return null;default:return null}}var cg=!1,Ei=!1,Hk=typeof WeakSet=="function"?WeakSet:Set,et=null;function jc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){An(t,e,n)}else r.current=null}function Bv(t,e,r){try{r()}catch(n){An(t,e,n)}}var ZC=!1;function jk(t,e){if(iv=Mm,t=xF(),oB(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var A=0,a=-1,o=-1,l=0,u=0,d=t,m=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(a=A+i),d!==s||n!==0&&d.nodeType!==3||(o=A+n),d.nodeType===3&&(A+=d.nodeValue.length),(p=d.firstChild)!==null;)m=d,d=p;for(;;){if(d===t)break t;if(m===r&&++l===i&&(a=A),m===s&&++u===n&&(o=A),(p=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=p}r=a===-1||o===-1?null:{start:a,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(sv={focusedElem:t,selectionRange:r},Mm=!1,et=e;et!==null;)if(e=et,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,et=t;else for(;et!==null;){e=et;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,B=_.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:pA(e.type,E),B);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(U){An(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,et=t;break}et=e.return}return _=ZC,ZC=!1,_}function Zd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bv(e,r,s)}i=i.next}while(i!==n)}}function $0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function _v(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function _S(t){var e=t.alternate;e!==null&&(t.alternate=null,_S(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ta],delete e[Nf],delete e[ov],delete e[bk],delete e[Ek])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CS(t){return t.tag===5||t.tag===3||t.tag===4}function eb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vm));else if(n!==4&&(t=t.child,t!==null))for(Cv(t,e,r),t=t.sibling;t!==null;)Cv(t,e,r),t=t.sibling}function bv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(bv(t,e,r),t=t.sibling;t!==null;)bv(t,e,r),t=t.sibling}var ei=null,gA=!1;function Fo(t,e,r){for(r=r.child;r!==null;)bS(t,e,r),r=r.sibling}function bS(t,e,r){if(Aa&&typeof Aa.onCommitFiberUnmount=="function")try{Aa.onCommitFiberUnmount(H0,r)}catch{}switch(r.tag){case 5:Ei||jc(r,e);case 6:var n=ei,i=gA;ei=null,Fo(t,e,r),ei=n,gA=i,ei!==null&&(gA?(t=ei,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ei.removeChild(r.stateNode));break;case 18:ei!==null&&(gA?(t=ei,r=r.stateNode,t.nodeType===8?B1(t.parentNode,r):t.nodeType===1&&B1(t,r),Ef(t)):B1(ei,r.stateNode));break;case 4:n=ei,i=gA,ei=r.stateNode.containerInfo,gA=!0,Fo(t,e,r),ei=n,gA=i;break;case 0:case 11:case 14:case 15:if(!Ei&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,A=s.destroy;s=s.tag,A!==void 0&&(s&2||s&4)&&Bv(r,e,A),i=i.next}while(i!==n)}Fo(t,e,r);break;case 1:if(!Ei&&(jc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){An(r,e,a)}Fo(t,e,r);break;case 21:Fo(t,e,r);break;case 22:r.mode&1?(Ei=(n=Ei)||r.memoizedState!==null,Fo(t,e,r),Ei=n):Fo(t,e,r);break;default:Fo(t,e,r)}}function tb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Hk),e.forEach(function(n){var i=Yk.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function cA(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,A=e,a=A;e:for(;a!==null;){switch(a.tag){case 5:ei=a.stateNode,gA=!1;break e;case 3:ei=a.stateNode.containerInfo,gA=!0;break e;case 4:ei=a.stateNode.containerInfo,gA=!0;break e}a=a.return}if(ei===null)throw Error(Me(160));bS(s,A,i),ei=null,gA=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(l){An(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ES(e,t),e=e.sibling}function ES(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cA(e,t),XA(t),n&4){try{Zd(3,t,t.return),$0(3,t)}catch(E){An(t,t.return,E)}try{Zd(5,t,t.return)}catch(E){An(t,t.return,E)}}break;case 1:cA(e,t),XA(t),n&512&&r!==null&&jc(r,r.return);break;case 5:if(cA(e,t),XA(t),n&512&&r!==null&&jc(r,r.return),t.flags&32){var i=t.stateNode;try{Bf(i,"")}catch(E){An(t,t.return,E)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,A=r!==null?r.memoizedProps:s,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&z4(i,s),Wy(a,A);var l=Wy(a,s);for(A=0;A<o.length;A+=2){var u=o[A],d=o[A+1];u==="style"?J4(i,d):u==="dangerouslySetInnerHTML"?X4(i,d):u==="children"?Bf(i,d):$2(i,u,d,l)}switch(a){case"input":Vy(i,s);break;case"textarea":W4(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?zc(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?zc(i,!!s.multiple,s.defaultValue,!0):zc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nf]=s}catch(E){An(t,t.return,E)}}break;case 6:if(cA(e,t),XA(t),n&4){if(t.stateNode===null)throw Error(Me(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){An(t,t.return,E)}}break;case 3:if(cA(e,t),XA(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ef(e.containerInfo)}catch(E){An(t,t.return,E)}break;case 4:cA(e,t),XA(t);break;case 13:cA(e,t),XA(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(FB=yn())),n&4&&tb(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ei=(l=Ei)||u,cA(e,t),Ei=l):cA(e,t),XA(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(et=t,u=t.child;u!==null;){for(d=et=u;et!==null;){switch(m=et,p=m.child,m.tag){case 0:case 11:case 14:case 15:Zd(4,m,m.return);break;case 1:jc(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(E){An(n,r,E)}}break;case 5:jc(m,m.return);break;case 22:if(m.memoizedState!==null){nb(d);continue}}p!==null?(p.return=m,et=p):nb(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,o=d.memoizedProps.style,A=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=Y4("display",A))}catch(E){An(t,t.return,E)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(E){An(t,t.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:cA(e,t),XA(t),n&4&&tb(t);break;case 21:break;default:cA(e,t),XA(t)}}function XA(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(CS(r)){var n=r;break e}r=r.return}throw Error(Me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bf(i,""),n.flags&=-33);var s=eb(t);bv(t,s,i);break;case 3:case 4:var A=n.stateNode.containerInfo,a=eb(t);Cv(t,a,A);break;default:throw Error(Me(161))}}catch(o){An(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vk(t,e,r){et=t,xS(t)}function xS(t,e,r){for(var n=(t.mode&1)!==0;et!==null;){var i=et,s=i.child;if(i.tag===22&&n){var A=i.memoizedState!==null||cg;if(!A){var a=i.alternate,o=a!==null&&a.memoizedState!==null||Ei;a=cg;var l=Ei;if(cg=A,(Ei=o)&&!l)for(et=i;et!==null;)A=et,o=A.child,A.tag===22&&A.memoizedState!==null?ib(i):o!==null?(o.return=A,et=o):ib(i);for(;s!==null;)et=s,xS(s),s=s.sibling;et=i,cg=a,Ei=l}rb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,et=s):rb(t)}}function rb(t){for(;et!==null;){var e=et;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ei||$0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ei)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:pA(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&MC(e,s,n);break;case 3:var A=e.updateQueue;if(A!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}MC(e,A,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ef(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Ei||e.flags&512&&_v(e)}catch(m){An(e,e.return,m)}}if(e===t){et=null;break}if(r=e.sibling,r!==null){r.return=e.return,et=r;break}et=e.return}}function nb(t){for(;et!==null;){var e=et;if(e===t){et=null;break}var r=e.sibling;if(r!==null){r.return=e.return,et=r;break}et=e.return}}function ib(t){for(;et!==null;){var e=et;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{$0(4,e)}catch(o){An(e,r,o)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(o){An(e,i,o)}}var s=e.return;try{_v(e)}catch(o){An(e,s,o)}break;case 5:var A=e.return;try{_v(e)}catch(o){An(e,A,o)}}}catch(o){An(e,e.return,o)}if(e===t){et=null;break}var a=e.sibling;if(a!==null){a.return=e.return,et=a;break}et=e.return}}var Kk=Math.ceil,e0=so.ReactCurrentDispatcher,xB=so.ReactCurrentOwner,Ys=so.ReactCurrentBatchConfig,Jt=0,zn=null,In=null,Ai=0,Es=0,Vc=Il(0),Pn=0,kf=null,xu=0,X0=0,IB=0,ef=null,rs=null,FB=0,uh=1/0,ka=null,t0=!1,Ev=null,al=null,hg=!1,Xo=null,r0=0,tf=0,xv=null,cm=-1,hm=0;function Mi(){return Jt&6?yn():cm!==-1?cm:cm=yn()}function ol(t){return t.mode&1?Jt&2&&Ai!==0?Ai&-Ai:Ik.transition!==null?(hm===0&&(hm=uF()),hm):(t=mr,t!==0||(t=window.event,t=t===void 0?16:mF(t.type)),t):1}function yA(t,e,r,n){if(50<tf)throw tf=0,xv=null,Error(Me(185));op(t,r,n),(!(Jt&2)||t!==zn)&&(t===zn&&(!(Jt&2)&&(X0|=r),Pn===4&&Ho(t,Ai)),as(t,n),r===1&&Jt===0&&!(e.mode&1)&&(uh=yn()+500,q0&&Fl()))}function as(t,e){var r=t.callbackNode;IP(t,e);var n=Om(t,t===zn?Ai:0);if(n===0)r!==null&&dC(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&dC(r),e===1)t.tag===0?xk(sb.bind(null,t)):kF(sb.bind(null,t)),_k(function(){!(Jt&6)&&Fl()}),r=null;else{switch(cF(n)){case 1:r=eB;break;case 4:r=oF;break;case 16:r=Dm;break;case 536870912:r=lF;break;default:r=Dm}r=LS(r,IS.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function IS(t,e){if(cm=-1,hm=0,Jt&6)throw Error(Me(327));var r=t.callbackNode;if(Jc()&&t.callbackNode!==r)return null;var n=Om(t,t===zn?Ai:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=n0(t,n);else{e=n;var i=Jt;Jt|=2;var s=SS();(zn!==t||Ai!==e)&&(ka=null,uh=yn()+500,fu(t,e));do try{zk();break}catch(a){FS(t,a)}while(!0);dB(),e0.current=s,Jt=i,In!==null?e=0:(zn=null,Ai=0,e=Pn)}if(e!==0){if(e===2&&(i=Zy(t),i!==0&&(n=i,e=Iv(t,i))),e===1)throw r=kf,fu(t,0),Ho(t,n),as(t,yn()),r;if(e===6)Ho(t,n);else{if(i=t.current.alternate,!(n&30)&&!Gk(i)&&(e=n0(t,n),e===2&&(s=Zy(t),s!==0&&(n=s,e=Iv(t,s))),e===1))throw r=kf,fu(t,0),Ho(t,n),as(t,yn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Me(345));case 2:Zl(t,rs,ka);break;case 3:if(Ho(t,n),(n&130023424)===n&&(e=FB+500-yn(),10<e)){if(Om(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Mi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=av(Zl.bind(null,t,rs,ka),e);break}Zl(t,rs,ka);break;case 4:if(Ho(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var A=31-wA(n);s=1<<A,A=e[A],A>i&&(i=A),n&=~s}if(n=i,n=yn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Kk(n/1960))-n,10<n){t.timeoutHandle=av(Zl.bind(null,t,rs,ka),n);break}Zl(t,rs,ka);break;case 5:Zl(t,rs,ka);break;default:throw Error(Me(329))}}}return as(t,yn()),t.callbackNode===r?IS.bind(null,t):null}function Iv(t,e){var r=ef;return t.current.memoizedState.isDehydrated&&(fu(t,e).flags|=256),t=n0(t,e),t!==2&&(e=rs,rs=r,e!==null&&Fv(e)),t}function Fv(t){rs===null?rs=t:rs.push.apply(rs,t)}function Gk(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!BA(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ho(t,e){for(e&=~IB,e&=~X0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-wA(e),n=1<<r;t[r]=-1,e&=~n}}function sb(t){if(Jt&6)throw Error(Me(327));Jc();var e=Om(t,0);if(!(e&1))return as(t,yn()),null;var r=n0(t,e);if(t.tag!==0&&r===2){var n=Zy(t);n!==0&&(e=n,r=Iv(t,n))}if(r===1)throw r=kf,fu(t,0),Ho(t,e),as(t,yn()),r;if(r===6)throw Error(Me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zl(t,rs,ka),as(t,yn()),null}function SB(t,e){var r=Jt;Jt|=1;try{return t(e)}finally{Jt=r,Jt===0&&(uh=yn()+500,q0&&Fl())}}function Iu(t){Xo!==null&&Xo.tag===0&&!(Jt&6)&&Jc();var e=Jt;Jt|=1;var r=Ys.transition,n=mr;try{if(Ys.transition=null,mr=1,t)return t()}finally{mr=n,Ys.transition=r,Jt=e,!(Jt&6)&&Fl()}}function NB(){Es=Vc.current,kr(Vc)}function fu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Bk(r)),In!==null)for(r=In.return;r!==null;){var n=r;switch(uB(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Km();break;case 3:oh(),kr(ss),kr(Fi),yB();break;case 5:wB(n);break;case 4:oh();break;case 13:kr(Yr);break;case 19:kr(Yr);break;case 10:fB(n.type._context);break;case 22:case 23:NB()}r=r.return}if(zn=t,In=t=ll(t.current,null),Ai=Es=e,Pn=0,kf=null,IB=X0=xu=0,rs=ef=null,uu!==null){for(e=0;e<uu.length;e++)if(r=uu[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var A=s.next;s.next=i,n.next=A}r.pending=n}uu=null}return t}function FS(t,e){do{var r=In;try{if(dB(),om.current=Zm,Jm){for(var n=Zr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Jm=!1}if(Eu=0,qn=Un=Zr=null,Jd=!1,Qf=0,xB.current=null,r===null||r.return===null){Pn=1,kf=e,In=null;break}e:{var s=t,A=r.return,a=r,o=e;if(e=Ai,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var l=o,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=qC(A);if(p!==null){p.flags&=-257,zC(p,A,a,s,e),p.mode&1&&GC(s,l,e),e=p,o=l;var _=e.updateQueue;if(_===null){var E=new Set;E.add(o),e.updateQueue=E}else _.add(o);break e}else{if(!(e&1)){GC(s,l,e),TB();break e}o=Error(Me(426))}}else if(Kr&&a.mode&1){var B=qC(A);if(B!==null){!(B.flags&65536)&&(B.flags|=256),zC(B,A,a,s,e),cB(lh(o,a));break e}}s=o=lh(o,a),Pn!==4&&(Pn=2),ef===null?ef=[s]:ef.push(s),s=A;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=cS(s,o,e);OC(s,w);break e;case 1:a=o;var b=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(al===null||!al.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=hS(s,a,e);OC(s,U);break e}}s=s.return}while(s!==null)}TS(r)}catch(V){e=V,In===r&&r!==null&&(In=r=r.return);continue}break}while(!0)}function SS(){var t=e0.current;return e0.current=Zm,t===null?Zm:t}function TB(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),zn===null||!(xu&268435455)&&!(X0&268435455)||Ho(zn,Ai)}function n0(t,e){var r=Jt;Jt|=2;var n=SS();(zn!==t||Ai!==e)&&(ka=null,fu(t,e));do try{qk();break}catch(i){FS(t,i)}while(!0);if(dB(),Jt=r,e0.current=n,In!==null)throw Error(Me(261));return zn=null,Ai=0,Pn}function qk(){for(;In!==null;)NS(In)}function zk(){for(;In!==null&&!wP();)NS(In)}function NS(t){var e=QS(t.alternate,t,Es);t.memoizedProps=t.pendingProps,e===null?TS(t):In=e,xB.current=null}function TS(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Mk(r,e),r!==null){r.flags&=32767,In=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pn=6,In=null;return}}else if(r=Ok(r,e,Es),r!==null){In=r;return}if(e=e.sibling,e!==null){In=e;return}In=e=t}while(e!==null);Pn===0&&(Pn=5)}function Zl(t,e,r){var n=mr,i=Ys.transition;try{Ys.transition=null,mr=1,Wk(t,e,r,n)}finally{Ys.transition=i,mr=n}return null}function Wk(t,e,r,n){do Jc();while(Xo!==null);if(Jt&6)throw Error(Me(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Me(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(FP(t,s),t===zn&&(In=zn=null,Ai=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hg||(hg=!0,LS(Dm,function(){return Jc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ys.transition,Ys.transition=null;var A=mr;mr=1;var a=Jt;Jt|=4,xB.current=null,jk(t,r),ES(r,t),fk(sv),Mm=!!iv,sv=iv=null,t.current=r,Vk(r),yP(),Jt=a,mr=A,Ys.transition=s}else t.current=r;if(hg&&(hg=!1,Xo=t,r0=i),s=t.pendingLanes,s===0&&(al=null),_P(r.stateNode),as(t,yn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(t0)throw t0=!1,t=Ev,Ev=null,t;return r0&1&&t.tag!==0&&Jc(),s=t.pendingLanes,s&1?t===xv?tf++:(tf=0,xv=t):tf=0,Fl(),null}function Jc(){if(Xo!==null){var t=cF(r0),e=Ys.transition,r=mr;try{if(Ys.transition=null,mr=16>t?16:t,Xo===null)var n=!1;else{if(t=Xo,Xo=null,r0=0,Jt&6)throw Error(Me(331));var i=Jt;for(Jt|=4,et=t.current;et!==null;){var s=et,A=s.child;if(et.flags&16){var a=s.deletions;if(a!==null){for(var o=0;o<a.length;o++){var l=a[o];for(et=l;et!==null;){var u=et;switch(u.tag){case 0:case 11:case 15:Zd(8,u,s)}var d=u.child;if(d!==null)d.return=u,et=d;else for(;et!==null;){u=et;var m=u.sibling,p=u.return;if(_S(u),u===l){et=null;break}if(m!==null){m.return=p,et=m;break}et=p}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var B=E.sibling;E.sibling=null,E=B}while(E!==null)}}et=s}}if(s.subtreeFlags&2064&&A!==null)A.return=s,et=A;else e:for(;et!==null;){if(s=et,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zd(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,et=w;break e}et=s.return}}var b=t.current;for(et=b;et!==null;){A=et;var I=A.child;if(A.subtreeFlags&2064&&I!==null)I.return=A,et=I;else e:for(A=b;et!==null;){if(a=et,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$0(9,a)}}catch(V){An(a,a.return,V)}if(a===A){et=null;break e}var U=a.sibling;if(U!==null){U.return=a.return,et=U;break e}et=a.return}}if(Jt=i,Fl(),Aa&&typeof Aa.onPostCommitFiberRoot=="function")try{Aa.onPostCommitFiberRoot(H0,t)}catch{}n=!0}return n}finally{mr=r,Ys.transition=e}}return!1}function Ab(t,e,r){e=lh(r,e),e=cS(t,e,1),t=Al(t,e,1),e=Mi(),t!==null&&(op(t,1,e),as(t,e))}function An(t,e,r){if(t.tag===3)Ab(t,t,r);else for(;e!==null;){if(e.tag===3){Ab(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(al===null||!al.has(n))){t=lh(r,t),t=hS(e,t,1),e=Al(e,t,1),t=Mi(),e!==null&&(op(e,1,t),as(e,t));break}}e=e.return}}function $k(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Mi(),t.pingedLanes|=t.suspendedLanes&r,zn===t&&(Ai&r)===r&&(Pn===4||Pn===3&&(Ai&130023424)===Ai&&500>yn()-FB?fu(t,0):IB|=r),as(t,e)}function US(t,e){e===0&&(t.mode&1?(e=rg,rg<<=1,!(rg&130023424)&&(rg=4194304)):e=1);var r=Mi();t=Ja(t,e),t!==null&&(op(t,e,r),as(t,r))}function Xk(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),US(t,r)}function Yk(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Me(314))}n!==null&&n.delete(e),US(t,r)}var QS;QS=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ss.current)ns=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ns=!1,Dk(t,e,r);ns=!!(t.flags&131072)}else ns=!1,Kr&&e.flags&1048576&&RF(e,zm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;um(t,e),t=e.pendingProps;var i=sh(e,Fi.current);Yc(e,r),i=BB(null,e,n,t,i,r);var s=_B();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,As(n)?(s=!0,Gm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gB(e),i.updater=W0,e.stateNode=i,i._reactInternals=e,fv(e,n,t,r),e=mv(null,e,n,!0,s,r)):(e.tag=0,Kr&&s&&lB(e),Di(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(um(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Zk(n),t=pA(n,t),i){case 0:e=gv(null,e,n,t,r);break e;case 1:e=XC(null,e,n,t,r);break e;case 11:e=WC(null,e,n,t,r);break e;case 14:e=$C(null,e,n,pA(n.type,t),r);break e}throw Error(Me(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pA(n,i),gv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pA(n,i),XC(t,e,n,i,r);case 3:e:{if(gS(e),t===null)throw Error(Me(387));n=e.pendingProps,s=e.memoizedState,i=s.element,VF(t,e),Xm(e,n,null,r);var A=e.memoizedState;if(n=A.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lh(Error(Me(423)),e),e=YC(t,e,n,r,i);break e}else if(n!==i){i=lh(Error(Me(424)),e),e=YC(t,e,n,r,i);break e}else for(xs=sl(e.stateNode.containerInfo.firstChild),Ss=e,Kr=!0,mA=null,r=HF(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ah(),n===i){e=Za(t,e,r);break e}Di(t,e,n,r)}e=e.child}return e;case 5:return KF(e),t===null&&cv(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,A=i.children,Av(n,i)?A=null:s!==null&&Av(n,s)&&(e.flags|=32),pS(t,e),Di(t,e,A,r),e.child;case 6:return t===null&&cv(e),null;case 13:return mS(t,e,r);case 4:return mB(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ah(e,null,n,r):Di(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pA(n,i),WC(t,e,n,i,r);case 7:return Di(t,e,e.pendingProps,r),e.child;case 8:return Di(t,e,e.pendingProps.children,r),e.child;case 12:return Di(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,A=i.value,Sr(Wm,n._currentValue),n._currentValue=A,s!==null)if(BA(s.value,A)){if(s.children===i.children&&!ss.current){e=Za(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){A=s.child;for(var o=a.firstContext;o!==null;){if(o.context===n){if(s.tag===1){o=Ga(-1,r&-r),o.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?o.next=o:(o.next=u.next,u.next=o),l.pending=o}}s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),hv(s.return,r,e),a.lanes|=r;break}o=o.next}}else if(s.tag===10)A=s.type===e.type?null:s.child;else if(s.tag===18){if(A=s.return,A===null)throw Error(Me(341));A.lanes|=r,a=A.alternate,a!==null&&(a.lanes|=r),hv(A,r,e),A=s.sibling}else A=s.child;if(A!==null)A.return=s;else for(A=s;A!==null;){if(A===e){A=null;break}if(s=A.sibling,s!==null){s.return=A.return,A=s;break}A=A.return}s=A}Di(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Yc(e,r),i=Zs(i),n=n(i),e.flags|=1,Di(t,e,n,r),e.child;case 14:return n=e.type,i=pA(n,e.pendingProps),i=pA(n.type,i),$C(t,e,n,i,r);case 15:return dS(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pA(n,i),um(t,e),e.tag=1,As(n)?(t=!0,Gm(e)):t=!1,Yc(e,r),uS(e,n,i),fv(e,n,i,r),mv(null,e,n,!0,t,r);case 19:return wS(t,e,r);case 22:return fS(t,e,r)}throw Error(Me(156,e.tag))};function LS(t,e){return aF(t,e)}function Jk(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(t,e,r,n){return new Jk(t,e,r,n)}function UB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zk(t){if(typeof t=="function")return UB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y2)return 11;if(t===J2)return 14}return 2}function ll(t,e){var r=t.alternate;return r===null?(r=zs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function dm(t,e,r,n,i,s){var A=2;if(n=t,typeof t=="function")UB(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case Qc:return pu(r.children,i,s,e);case X2:A=8,i|=8;break;case Dy:return t=zs(12,r,e,i|2),t.elementType=Dy,t.lanes=s,t;case Oy:return t=zs(13,r,e,i),t.elementType=Oy,t.lanes=s,t;case My:return t=zs(19,r,e,i),t.elementType=My,t.lanes=s,t;case K4:return Y0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j4:A=10;break e;case V4:A=9;break e;case Y2:A=11;break e;case J2:A=14;break e;case Ro:A=16,n=null;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=zs(A,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function pu(t,e,r,n){return t=zs(7,t,n,e),t.lanes=r,t}function Y0(t,e,r,n){return t=zs(22,t,n,e),t.elementType=K4,t.lanes=r,t.stateNode={isHidden:!1},t}function S1(t,e,r){return t=zs(6,t,null,e),t.lanes=r,t}function N1(t,e,r){return e=zs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eR(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u1(0),this.expirationTimes=u1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u1(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QB(t,e,r,n,i,s,A,a,o){return t=new eR(t,e,r,a,o),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gB(s),t}function tR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function PS(t){if(!t)return vl;t=t._reactInternals;e:{if(Vu(t)!==t||t.tag!==1)throw Error(Me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(As(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(t.tag===1){var r=t.type;if(As(r))return PF(t,r,e)}return e}function kS(t,e,r,n,i,s,A,a,o){return t=QB(r,n,!0,t,i,s,A,a,o),t.context=PS(null),r=t.current,n=Mi(),i=ol(r),s=Ga(n,i),s.callback=e??null,Al(r,s,i),t.current.lanes=i,op(t,i,n),as(t,n),t}function J0(t,e,r,n){var i=e.current,s=Mi(),A=ol(i);return r=PS(r),e.context===null?e.context=r:e.pendingContext=r,e=Ga(s,A),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Al(i,e,A),t!==null&&(yA(t,i,A,s),am(t,i,A)),A}function i0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ab(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function LB(t,e){ab(t,e),(t=t.alternate)&&ab(t,e)}function rR(){return null}var RS=typeof reportError=="function"?reportError:function(t){console.error(t)};function PB(t){this._internalRoot=t}Z0.prototype.render=PB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Me(409));J0(t,e,null,null)};Z0.prototype.unmount=PB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Iu(function(){J0(null,t,null,null)}),e[Ya]=null}};function Z0(t){this._internalRoot=t}Z0.prototype.unstable_scheduleHydration=function(t){if(t){var e=fF();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Mo.length&&e!==0&&e<Mo[r].priority;r++);Mo.splice(r,0,t),r===0&&gF(t)}};function kB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ew(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ob(){}function nR(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=i0(A);s.call(l)}}var A=kS(e,n,t,0,null,!1,!1,"",ob);return t._reactRootContainer=A,t[Ya]=A.current,Ff(t.nodeType===8?t.parentNode:t),Iu(),A}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=i0(o);a.call(l)}}var o=QB(t,0,!1,null,null,!1,!1,"",ob);return t._reactRootContainer=o,t[Ya]=o.current,Ff(t.nodeType===8?t.parentNode:t),Iu(function(){J0(e,o,r,n)}),o}function tw(t,e,r,n,i){var s=r._reactRootContainer;if(s){var A=s;if(typeof i=="function"){var a=i;i=function(){var o=i0(A);a.call(o)}}J0(e,A,t,i)}else A=nR(r,e,t,i,n);return i0(A)}hF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ud(e.pendingLanes);r!==0&&(tB(e,r|1),as(e,yn()),!(Jt&6)&&(uh=yn()+500,Fl()))}break;case 13:Iu(function(){var n=Ja(t,1);if(n!==null){var i=Mi();yA(n,t,1,i)}}),LB(t,1)}};rB=function(t){if(t.tag===13){var e=Ja(t,134217728);if(e!==null){var r=Mi();yA(e,t,134217728,r)}LB(t,134217728)}};dF=function(t){if(t.tag===13){var e=ol(t),r=Ja(t,e);if(r!==null){var n=Mi();yA(r,t,e,n)}LB(t,e)}};fF=function(){return mr};pF=function(t,e){var r=mr;try{return mr=t,e()}finally{mr=r}};Xy=function(t,e,r){switch(e){case"input":if(Vy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=G0(n);if(!i)throw Error(Me(90));q4(n),Vy(n,i)}}}break;case"textarea":W4(t,r);break;case"select":e=r.value,e!=null&&zc(t,!!r.multiple,e,!1)}};tF=SB;rF=Iu;var iR={usingClientEntryPoint:!1,Events:[up,Rc,G0,Z4,eF,SB]},hd={findFiberByHostInstance:lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sR={bundleType:hd.bundleType,version:hd.version,rendererPackageName:hd.rendererPackageName,rendererConfig:hd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:so.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sF(t),t===null?null:t.stateNode},findFiberByHostInstance:hd.findFiberByHostInstance||rR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dg.isDisabled&&dg.supportsFiber)try{H0=dg.inject(sR),Aa=dg}catch{}}Us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iR;Us.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kB(e))throw Error(Me(200));return tR(t,e,null,r)};Us.createRoot=function(t,e){if(!kB(t))throw Error(Me(299));var r=!1,n="",i=RS;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=QB(t,1,!1,null,null,r,!1,n,i),t[Ya]=e.current,Ff(t.nodeType===8?t.parentNode:t),new PB(e)};Us.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):(t=Object.keys(t).join(","),Error(Me(268,t)));return t=sF(e),t=t===null?null:t.stateNode,t};Us.flushSync=function(t){return Iu(t)};Us.hydrate=function(t,e,r){if(!ew(e))throw Error(Me(200));return tw(null,t,e,!0,r)};Us.hydrateRoot=function(t,e,r){if(!kB(t))throw Error(Me(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",A=RS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),e=kS(e,null,t,1,r??null,i,!1,s,A),t[Ya]=e.current,Ff(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Z0(e)};Us.render=function(t,e,r){if(!ew(e))throw Error(Me(200));return tw(null,t,e,!1,r)};Us.unmountComponentAtNode=function(t){if(!ew(t))throw Error(Me(40));return t._reactRootContainer?(Iu(function(){tw(null,null,t,!1,function(){t._reactRootContainer=null,t[Ya]=null})}),!0):!1};Us.unstable_batchedUpdates=SB;Us.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ew(r))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return tw(t,e,r,!1,n)};Us.version="18.3.1-next-f1338f8080-20240426";function DS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DS)}catch(t){console.error(t)}}DS(),D4.exports=Us;var AR=D4.exports,lb=AR;ky.createRoot=lb.createRoot,ky.hydrateRoot=lb.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ub="popstate";function aR(t={}){function e(n,i){let{pathname:s,search:A,hash:a}=n.location;return Sv("",{pathname:s,search:A,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Rf(i)}return lR(e,r,null,t)}function Wr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _A(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oR(){return Math.random().toString(36).substring(2,10)}function cb(t,e){return{usr:t.state,key:t.key,idx:e}}function Sv(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Eh(e):e,state:r,key:e&&e.key||n||oR()}}function Rf({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Eh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function lR(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,A=i.history,a="POP",o=null,l=u();l==null&&(l=0,A.replaceState({...A.state,idx:l},""));function u(){return(A.state||{idx:null}).idx}function d(){a="POP";let B=u(),w=B==null?null:B-l;l=B,o&&o({action:a,location:E.location,delta:w})}function m(B,w){a="PUSH";let b=Sv(E.location,B,w);l=u()+1;let I=cb(b,l),U=E.createHref(b);try{A.pushState(I,"",U)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(U)}s&&o&&o({action:a,location:E.location,delta:1})}function p(B,w){a="REPLACE";let b=Sv(E.location,B,w);l=u();let I=cb(b,l),U=E.createHref(b);A.replaceState(I,"",U),s&&o&&o({action:a,location:E.location,delta:0})}function _(B){return uR(B)}let E={get action(){return a},get location(){return t(i,A)},listen(B){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(ub,d),o=B,()=>{i.removeEventListener(ub,d),o=null}},createHref(B){return e(i,B)},createURL:_,encodeLocation(B){let w=_(B);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(B){return A.go(B)}};return E}function uR(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Wr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Rf(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function OS(t,e,r="/"){return cR(t,e,r,!1)}function cR(t,e,r,n){let i=typeof e=="string"?Eh(e):e,s=eo(i.pathname||"/",r);if(s==null)return null;let A=MS(t);hR(A);let a=null;for(let o=0;a==null&&o<A.length;++o){let l=CR(s);a=BR(A[o],l,n)}return a}function MS(t,e=[],r=[],n="",i=!1){let s=(A,a,o=i,l)=>{let u={relativePath:l===void 0?A.path||"":l,caseSensitive:A.caseSensitive===!0,childrenIndex:a,route:A};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&o)return;Wr(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let d=qa([n,u.relativePath]),m=r.concat(u);A.children&&A.children.length>0&&(Wr(A.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),MS(A.children,e,m,d,o)),!(A.path==null&&!A.index)&&e.push({path:d,score:yR(d,A.index),routesMeta:m})};return t.forEach((A,a)=>{var o;if(A.path===""||!((o=A.path)!=null&&o.includes("?")))s(A,a);else for(let l of HS(A.path))s(A,a,!0,l)}),e}function HS(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let A=HS(n.join("/")),a=[];return a.push(...A.map(o=>o===""?s:[s,o].join("/"))),i&&a.push(...A),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function hR(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:vR(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var dR=/^:[\w-]+$/,fR=3,pR=2,gR=1,mR=10,wR=-2,hb=t=>t==="*";function yR(t,e){let r=t.split("/"),n=r.length;return r.some(hb)&&(n+=wR),e&&(n+=pR),r.filter(i=>!hb(i)).reduce((i,s)=>i+(dR.test(s)?fR:s===""?gR:mR),n)}function vR(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function BR(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",A=[];for(let a=0;a<n.length;++a){let o=n[a],l=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=s0({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u),m=o.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=s0({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),A.push({params:i,pathname:qa([s,d.pathname]),pathnameBase:IR(qa([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=qa([s,d.pathnameBase]))}return A}function s0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=_R(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],A=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((l,{paramName:u,isOptional:d},m)=>{if(u==="*"){let _=a[m]||"";A=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const p=a[m];return d&&!p?l[u]=void 0:l[u]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:A,pattern:t}}function _R(t,e=!1,r=!0){_A(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,a,o)=>(n.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function CR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _A(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function eo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function bR(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Eh(t):t;return{pathname:r?r.startsWith("/")?r:ER(r,e):e,search:FR(n),hash:SR(i)}}function ER(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function T1(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xR(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function RB(t){let e=xR(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function DB(t,e,r,n=!1){let i;typeof t=="string"?i=Eh(t):(i={...t},Wr(!i.pathname||!i.pathname.includes("?"),T1("?","pathname","search",i)),Wr(!i.pathname||!i.pathname.includes("#"),T1("#","pathname","hash",i)),Wr(!i.search||!i.search.includes("#"),T1("#","search","hash",i)));let s=t===""||i.pathname==="",A=s?"/":i.pathname,a;if(A==null)a=r;else{let d=e.length-1;if(!n&&A.startsWith("..")){let m=A.split("/");for(;m[0]==="..";)m.shift(),d-=1;i.pathname=m.join("/")}a=d>=0?e[d]:"/"}let o=bR(i,a),l=A&&A!=="/"&&A.endsWith("/"),u=(s||A===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(l||u)&&(o.pathname+="/"),o}var qa=t=>t.join("/").replace(/\/\/+/g,"/"),IR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var jS=["POST","PUT","PATCH","DELETE"];new Set(jS);var TR=["GET",...jS];new Set(TR);var xh=Y.createContext(null);xh.displayName="DataRouter";var rw=Y.createContext(null);rw.displayName="DataRouterState";Y.createContext(!1);var VS=Y.createContext({isTransitioning:!1});VS.displayName="ViewTransition";var UR=Y.createContext(new Map);UR.displayName="Fetchers";var QR=Y.createContext(null);QR.displayName="Await";var xA=Y.createContext(null);xA.displayName="Navigation";var hp=Y.createContext(null);hp.displayName="Location";var IA=Y.createContext({outlet:null,matches:[],isDataRoute:!1});IA.displayName="Route";var OB=Y.createContext(null);OB.displayName="RouteError";function LR(t,{relative:e}={}){Wr(Ih(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=Y.useContext(xA),{hash:i,pathname:s,search:A}=dp(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:qa([r,s])),n.createHref({pathname:a,search:A,hash:i})}function Ih(){return Y.useContext(hp)!=null}function Sl(){return Wr(Ih(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(hp).location}var KS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GS(t){Y.useContext(xA).static||Y.useLayoutEffect(t)}function nw(){let{isDataRoute:t}=Y.useContext(IA);return t?$R():PR()}function PR(){Wr(Ih(),"useNavigate() may be used only in the context of a <Router> component.");let t=Y.useContext(xh),{basename:e,navigator:r}=Y.useContext(xA),{matches:n}=Y.useContext(IA),{pathname:i}=Sl(),s=JSON.stringify(RB(n)),A=Y.useRef(!1);return GS(()=>{A.current=!0}),Y.useCallback((o,l={})=>{if(_A(A.current,KS),!A.current)return;if(typeof o=="number"){r.go(o);return}let u=DB(o,JSON.parse(s),i,l.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:qa([e,u.pathname])),(l.replace?r.replace:r.push)(u,l.state,l)},[e,r,s,i,t])}var kR=Y.createContext(null);function RR(t){let e=Y.useContext(IA).outlet;return e&&Y.createElement(kR.Provider,{value:t},e)}function dp(t,{relative:e}={}){let{matches:r}=Y.useContext(IA),{pathname:n}=Sl(),i=JSON.stringify(RB(r));return Y.useMemo(()=>DB(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function DR(t,e){return qS(t,e)}function qS(t,e,r,n,i){var b;Wr(Ih(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=Y.useContext(xA),{matches:A}=Y.useContext(IA),a=A[A.length-1],o=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let I=d&&d.path||"";zS(l,!d||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let m=Sl(),p;if(e){let I=typeof e=="string"?Eh(e):e;Wr(u==="/"||((b=I.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${I.pathname}" was given in the \`location\` prop.`),p=I}else p=m;let _=p.pathname||"/",E=_;if(u!=="/"){let I=u.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(I.length).join("/")}let B=OS(t,{pathname:E});_A(d||B!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),_A(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=VR(B&&B.map(I=>Object.assign({},I,{params:Object.assign({},o,I.params),pathname:qa([u,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:qa([u,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),A,r,n,i);return e&&w?Y.createElement(hp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function OR(){let t=WR(),e=NR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},A=null;return console.error("Error handled by React Router default ErrorBoundary:",t),A=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:s},"ErrorBoundary")," or"," ",Y.createElement("code",{style:s},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),r?Y.createElement("pre",{style:i},r):null,A)}var MR=Y.createElement(OR,null),HR=class extends Y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?Y.createElement(IA.Provider,{value:this.props.routeContext},Y.createElement(OB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jR({routeContext:t,match:e,children:r}){let n=Y.useContext(xh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(IA.Provider,{value:t},r)}function VR(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,A=r==null?void 0:r.errors;if(A!=null){let l=s.findIndex(u=>u.route.id&&(A==null?void 0:A[u.route.id])!==void 0);Wr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(A).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let a=!1,o=-1;if(r)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:d,errors:m}=r,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||p){a=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,u,d)=>{let m,p=!1,_=null,E=null;r&&(m=A&&u.route.id?A[u.route.id]:void 0,_=u.route.errorElement||MR,a&&(o<0&&d===0?(zS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,E=null):o===d&&(p=!0,E=u.route.hydrateFallbackElement||null)));let B=e.concat(s.slice(0,d+1)),w=()=>{let b;return m?b=_:p?b=E:u.route.Component?b=Y.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=l,Y.createElement(jR,{match:u,routeContext:{outlet:l,matches:B,isDataRoute:r!=null},children:b})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?Y.createElement(HR,{location:r.location,revalidation:r.revalidation,component:_,error:m,children:w(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:n}):w()},null)}function MB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KR(t){let e=Y.useContext(xh);return Wr(e,MB(t)),e}function GR(t){let e=Y.useContext(rw);return Wr(e,MB(t)),e}function qR(t){let e=Y.useContext(IA);return Wr(e,MB(t)),e}function HB(t){let e=qR(t),r=e.matches[e.matches.length-1];return Wr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function zR(){return HB("useRouteId")}function WR(){var n;let t=Y.useContext(OB),e=GR("useRouteError"),r=HB("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function $R(){let{router:t}=KR("useNavigate"),e=HB("useNavigate"),r=Y.useRef(!1);return GS(()=>{r.current=!0}),Y.useCallback(async(i,s={})=>{_A(r.current,KS),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var db={};function zS(t,e,r){!e&&!db[t]&&(db[t]=!0,_A(!1,r))}Y.memo(XR);function XR({routes:t,future:e,state:r,unstable_onError:n}){return qS(t,void 0,r,n,e)}function Nv({to:t,replace:e,state:r,relative:n}){Wr(Ih(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Y.useContext(xA);_A(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=Y.useContext(IA),{pathname:A}=Sl(),a=nw(),o=DB(t,RB(s),A,n==="path"),l=JSON.stringify(o);return Y.useEffect(()=>{a(JSON.parse(l),{replace:e,state:r,relative:n})},[a,l,n,e,r]),null}function YR(t){return RR(t.context)}function Vn(t){Wr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JR({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Wr(!Ih(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let A=t.replace(/^\/*/,"/"),a=Y.useMemo(()=>({basename:A,navigator:i,static:s,future:{}}),[A,i,s]);typeof r=="string"&&(r=Eh(r));let{pathname:o="/",search:l="",hash:u="",state:d=null,key:m="default"}=r,p=Y.useMemo(()=>{let _=eo(o,A);return _==null?null:{location:{pathname:_,search:l,hash:u,state:d,key:m},navigationType:n}},[A,o,l,u,d,m,n]);return _A(p!=null,`<Router basename="${A}"> is not able to match the URL "${o}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:Y.createElement(xA.Provider,{value:a},Y.createElement(hp.Provider,{children:e,value:p}))}function ZR({children:t,location:e}){return DR(Tv(t),e)}function Tv(t,e=[]){let r=[];return Y.Children.forEach(t,(n,i)=>{if(!Y.isValidElement(n))return;let s=[...e,i];if(n.type===Y.Fragment){r.push.apply(r,Tv(n.props.children,s));return}Wr(n.type===Vn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let A={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(A.children=Tv(n.props.children,s)),r.push(A)}),r}var fm="get",pm="application/x-www-form-urlencoded";function iw(t){return t!=null&&typeof t.tagName=="string"}function eD(t){return iw(t)&&t.tagName.toLowerCase()==="button"}function tD(t){return iw(t)&&t.tagName.toLowerCase()==="form"}function rD(t){return iw(t)&&t.tagName.toLowerCase()==="input"}function nD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iD(t,e){return t.button===0&&(!e||e==="_self")&&!nD(t)}var fg=null;function sD(){if(fg===null)try{new FormData(document.createElement("form"),0),fg=!1}catch{fg=!0}return fg}var AD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function U1(t){return t!=null&&!AD.has(t)?(_A(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pm}"`),null):t}function aD(t,e){let r,n,i,s,A;if(tD(t)){let a=t.getAttribute("action");n=a?eo(a,e):null,r=t.getAttribute("method")||fm,i=U1(t.getAttribute("enctype"))||pm,s=new FormData(t)}else if(eD(t)||rD(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||a.getAttribute("action");if(n=o?eo(o,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||fm,i=U1(t.getAttribute("formenctype"))||U1(a.getAttribute("enctype"))||pm,s=new FormData(a,t),!sD()){let{name:l,type:u,value:d}=t;if(u==="image"){let m=l?`${l}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else l&&s.append(l,d)}}else{if(iw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=fm,n=null,i=pm,A=t}return s&&i==="text/plain"&&(A=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:A}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jB(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oD(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&eo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function lD(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cD(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let A=await lD(s,r);return A.links?A.links():[]}return[]}));return pD(n.flat(1).filter(uD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function fb(t,e,r,n,i,s){let A=(o,l)=>r[l]?o.route.id!==r[l].route.id:!0,a=(o,l)=>{var u;return r[l].pathname!==o.pathname||((u=r[l].route.path)==null?void 0:u.endsWith("*"))&&r[l].params["*"]!==o.params["*"]};return s==="assets"?e.filter((o,l)=>A(o,l)||a(o,l)):s==="data"?e.filter((o,l)=>{var d;let u=n.routes[o.route.id];if(!u||!u.hasLoader)return!1;if(A(o,l)||a(o,l))return!0;if(o.route.shouldRevalidate){let m=o.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function hD(t,e,{includeHydrateFallback:r}={}){return dD(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function dD(t){return[...new Set(t)]}function fD(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function pD(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(fD(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function WS(){let t=Y.useContext(xh);return jB(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gD(){let t=Y.useContext(rw);return jB(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var VB=Y.createContext(void 0);VB.displayName="FrameworkContext";function $S(){let t=Y.useContext(VB);return jB(t,"You must render this element inside a <HydratedRouter> element"),t}function mD(t,e){let r=Y.useContext(VB),[n,i]=Y.useState(!1),[s,A]=Y.useState(!1),{onFocus:a,onBlur:o,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=e,m=Y.useRef(null);Y.useEffect(()=>{if(t==="render"&&A(!0),t==="viewport"){let E=w=>{w.forEach(b=>{A(b.isIntersecting)})},B=new IntersectionObserver(E,{threshold:.5});return m.current&&B.observe(m.current),()=>{B.disconnect()}}},[t]),Y.useEffect(()=>{if(n){let E=setTimeout(()=>{A(!0)},100);return()=>{clearTimeout(E)}}},[n]);let p=()=>{i(!0)},_=()=>{i(!1),A(!1)};return r?t!=="intent"?[s,m,{}]:[s,m,{onFocus:dd(a,p),onBlur:dd(o,_),onMouseEnter:dd(l,p),onMouseLeave:dd(u,_),onTouchStart:dd(d,p)}]:[!1,m,{}]}function dd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function wD({page:t,...e}){let{router:r}=WS(),n=Y.useMemo(()=>OS(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?Y.createElement(vD,{page:t,matches:n,...e}):null}function yD(t){let{manifest:e,routeModules:r}=$S(),[n,i]=Y.useState([]);return Y.useEffect(()=>{let s=!1;return cD(t,e,r).then(A=>{s||i(A)}),()=>{s=!0}},[t,e,r]),n}function vD({page:t,matches:e,...r}){let n=Sl(),{manifest:i,routeModules:s}=$S(),{basename:A}=WS(),{loaderData:a,matches:o}=gD(),l=Y.useMemo(()=>fb(t,e,o,i,n,"data"),[t,e,o,i,n]),u=Y.useMemo(()=>fb(t,e,o,i,n,"assets"),[t,e,o,i,n]),d=Y.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let _=new Set,E=!1;if(e.forEach(w=>{var I;let b=i.routes[w.route.id];!b||!b.hasLoader||(!l.some(U=>U.route.id===w.route.id)&&w.route.id in a&&((I=s[w.route.id])!=null&&I.shouldRevalidate)||b.hasClientLoader?E=!0:_.add(w.route.id))}),_.size===0)return[];let B=oD(t,A,"data");return E&&_.size>0&&B.searchParams.set("_routes",e.filter(w=>_.has(w.route.id)).map(w=>w.route.id).join(",")),[B.pathname+B.search]},[A,a,n,i,l,e,t,s]),m=Y.useMemo(()=>hD(u,i),[u,i]),p=yD(u);return Y.createElement(Y.Fragment,null,d.map(_=>Y.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),m.map(_=>Y.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),p.map(({key:_,link:E})=>Y.createElement("link",{key:_,nonce:r.nonce,...E})))}function BD(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var XS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XS&&(window.__reactRouterVersion="7.8.2")}catch{}function _D({basename:t,children:e,window:r}){let n=Y.useRef();n.current==null&&(n.current=aR({window:r,v5Compat:!0}));let i=n.current,[s,A]=Y.useState({action:i.action,location:i.location}),a=Y.useCallback(o=>{Y.startTransition(()=>A(o))},[A]);return Y.useLayoutEffect(()=>i.listen(a),[i,a]),Y.createElement(JR,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var YS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JS=Y.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:A,state:a,target:o,to:l,preventScrollReset:u,viewTransition:d,...m},p){let{basename:_}=Y.useContext(xA),E=typeof l=="string"&&YS.test(l),B,w=!1;if(typeof l=="string"&&E&&(B=l,XS))try{let x=new URL(window.location.href),k=l.startsWith("//")?new URL(x.protocol+l):new URL(l),S=eo(k.pathname,_);k.origin===x.origin&&S!=null?l=S+k.search+k.hash:w=!0}catch{_A(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=LR(l,{relative:i}),[I,U,V]=mD(n,m),O=ED(l,{replace:A,state:a,target:o,preventScrollReset:u,relative:i,viewTransition:d});function L(x){e&&e(x),x.defaultPrevented||O(x)}let F=Y.createElement("a",{...m,...V,href:B||b,onClick:w||s?e:L,ref:BD(p,U),target:o,"data-discover":!E&&r==="render"?"true":void 0});return I&&!E?Y.createElement(Y.Fragment,null,F,Y.createElement(wD,{page:b})):F});JS.displayName="Link";var ki=Y.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:A,viewTransition:a,children:o,...l},u){let d=dp(A,{relative:l.relative}),m=Sl(),p=Y.useContext(rw),{navigator:_,basename:E}=Y.useContext(xA),B=p!=null&&ND(d)&&a===!0,w=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,b=m.pathname,I=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(b=b.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&E&&(I=eo(I,E)||I);const U=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let V=b===w||!i&&b.startsWith(w)&&b.charAt(U)==="/",O=I!=null&&(I===w||!i&&I.startsWith(w)&&I.charAt(w.length)==="/"),L={isActive:V,isPending:O,isTransitioning:B},F=V?e:void 0,x;typeof n=="function"?x=n(L):x=[n,V?"active":null,O?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let k=typeof s=="function"?s(L):s;return Y.createElement(JS,{...l,"aria-current":F,className:x,ref:u,style:k,to:A,viewTransition:a},typeof o=="function"?o(L):o)});ki.displayName="NavLink";var CD=Y.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:A=fm,action:a,onSubmit:o,relative:l,preventScrollReset:u,viewTransition:d,...m},p)=>{let _=FD(),E=SD(a,{relative:l}),B=A.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&YS.test(a),b=I=>{if(o&&o(I),I.defaultPrevented)return;I.preventDefault();let U=I.nativeEvent.submitter,V=(U==null?void 0:U.getAttribute("formmethod"))||A;_(U||I.currentTarget,{fetcherKey:e,method:V,navigate:r,replace:i,state:s,relative:l,preventScrollReset:u,viewTransition:d})};return Y.createElement("form",{ref:p,method:B,action:E,onSubmit:n?o:b,...m,"data-discover":!w&&t==="render"?"true":void 0})});CD.displayName="Form";function bD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZS(t){let e=Y.useContext(xh);return Wr(e,bD(t)),e}function ED(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:A}={}){let a=nw(),o=Sl(),l=dp(t,{relative:s});return Y.useCallback(u=>{if(iD(u,e)){u.preventDefault();let d=r!==void 0?r:Rf(o)===Rf(l);a(t,{replace:d,state:n,preventScrollReset:i,relative:s,viewTransition:A})}},[o,a,l,r,n,e,t,i,s,A])}var xD=0,ID=()=>`__${String(++xD)}__`;function FD(){let{router:t}=ZS("useSubmit"),{basename:e}=Y.useContext(xA),r=zR();return Y.useCallback(async(n,i={})=>{let{action:s,method:A,encType:a,formData:o,body:l}=aD(n,e);if(i.navigate===!1){let u=i.fetcherKey||ID();await t.fetch(u,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:o,body:l,formMethod:i.method||A,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:o,body:l,formMethod:i.method||A,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function SD(t,{relative:e}={}){let{basename:r}=Y.useContext(xA),n=Y.useContext(IA);Wr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...dp(t||".",{relative:e})},A=Sl();if(t==null){s.search=A.search;let a=new URLSearchParams(s.search),o=a.getAll("index");if(o.some(u=>u==="")){a.delete("index"),o.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:qa([r,s.pathname])),Rf(s)}function ND(t,{relative:e}={}){let r=Y.useContext(VS);Wr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ZS("useViewTransitionState"),i=dp(t,{relative:e});if(!r.isTransitioning)return!1;let s=eo(r.currentLocation.pathname,n)||r.currentLocation.pathname,A=eo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return s0(i.pathname,A)!=null||s0(i.pathname,s)!=null}var pb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},TD=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],A=t[r++],a=t[r++],o=((i&7)<<18|(s&63)<<12|(A&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(o>>10)),e[n++]=String.fromCharCode(56320+(o&1023))}else{const s=t[r++],A=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|A&63)}}return e.join("")},tN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],A=i+1<t.length,a=A?t[i+1]:0,o=i+2<t.length,l=o?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let m=(a&15)<<2|l>>6,p=l&63;o||(p=64,A||(m=64)),n.push(r[u],r[d],r[m],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new UD;const m=s<<2|a>>4;if(n.push(m),l!==64){const p=a<<4&240|l>>2;if(n.push(p),d!==64){const _=l<<6&192|d;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QD=function(t){const e=eN(t);return tN.encodeByteArray(e,!0)},A0=function(t){return QD(t).replace(/\./g,"")},rN=function(t){try{return tN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=()=>LD().__FIREBASE_DEFAULTS__,kD=()=>{if(typeof process>"u"||typeof pb>"u")return;const t=pb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rN(t[1]);return e&&JSON.parse(e)},sw=()=>{try{return PD()||kD()||RD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nN=t=>{var e,r;return(r=(e=sw())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},DD=t=>{const e=nN(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},iN=()=>{var t;return(t=sw())===null||t===void 0?void 0:t.config},sN=t=>{var e;return(e=sw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[A0(JSON.stringify(r)),A0(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function jD(){var t;const e=(t=sw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qD(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AN(){return!jD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aN(){try{return typeof indexedDB=="object"}catch{return!1}}function zD(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="FirebaseError";class Ao extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=WD,Object.setPrototypeOf(this,Ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fp.prototype.create)}}class fp{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],A=s?$D(s,n):"Error",a=`${this.serviceName}: ${A} (${i}).`;return new Ao(i,a,n)}}function $D(t,e){return t.replace(XD,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const XD=/\{\$([^}]+)}/g;function YD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function a0(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],A=e[i];if(gb(s)&&gb(A)){if(!a0(s,A))return!1}else if(s!==A)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function gb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ld(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function JD(t,e){const r=new ZD(t,e);return r.subscribe.bind(r)}class ZD{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");e6(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Q1),i.error===void 0&&(i.error=Q1),i.complete===void 0&&(i.complete=Q1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e6(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Q1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class Fu{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new OD;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n6(e))try{this.getOrInitializeService({instanceIdentifier:eu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=eu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eu){return this.instances.has(e)}getOptions(e=eu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,A]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&A.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const A=this.instances.get(i);return A&&e(A,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:r6(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=eu){return this.component?this.component.multipleInstances?e:eu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r6(t){return t===eu?void 0:t}function n6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new t6(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Kt||(Kt={}));const s6={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},A6=Kt.INFO,a6={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},o6=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=a6[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let KB=class{constructor(e){this.name=e,this._logLevel=A6,this._logHandler=o6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}};const l6=(t,e)=>e.some(r=>t instanceof r);let mb,wb;function u6(){return mb||(mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c6(){return wb||(wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oN=new WeakMap,Uv=new WeakMap,lN=new WeakMap,L1=new WeakMap,GB=new WeakMap;function h6(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",A)},s=()=>{r(ul(t.result)),i()},A=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",A)});return e.then(r=>{r instanceof IDBCursor&&oN.set(r,t)}).catch(()=>{}),GB.set(e,t),e}function d6(t){if(Uv.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",A),t.removeEventListener("abort",A)},s=()=>{r(),i()},A=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",A),t.addEventListener("abort",A)});Uv.set(t,e)}let Qv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Uv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lN.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ul(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function f6(t){Qv=t(Qv)}function p6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(P1(this),e,...r);return lN.set(n,e.sort?e.sort():[e]),ul(n)}:c6().includes(t)?function(...e){return t.apply(P1(this),e),ul(oN.get(this))}:function(...e){return ul(t.apply(P1(this),e))}}function g6(t){return typeof t=="function"?p6(t):(t instanceof IDBTransaction&&d6(t),l6(t,u6())?new Proxy(t,Qv):t)}function ul(t){if(t instanceof IDBRequest)return h6(t);if(L1.has(t))return L1.get(t);const e=g6(t);return e!==t&&(L1.set(t,e),GB.set(e,t)),e}const P1=t=>GB.get(t);function m6(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const A=indexedDB.open(t,e),a=ul(A);return n&&A.addEventListener("upgradeneeded",o=>{n(ul(A.result),o.oldVersion,o.newVersion,ul(A.transaction),o)}),r&&A.addEventListener("blocked",o=>r(o.oldVersion,o.newVersion,o)),a.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const w6=["get","getKey","getAll","getAllKeys","count"],y6=["put","add","delete","clear"],k1=new Map;function yb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(k1.get(e))return k1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=y6.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||w6.includes(r)))return;const s=async function(A,...a){const o=this.transaction(A,i?"readwrite":"readonly");let l=o.store;return n&&(l=l.index(a.shift())),(await Promise.all([l[r](...a),i&&o.done]))[0]};return k1.set(e,s),s}f6(t=>({...t,get:(e,r,n)=>yb(e,r)||t.get(e,r,n),has:(e,r)=>!!yb(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(B6(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function B6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lv="@firebase/app",vb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new KB("@firebase/app"),_6="@firebase/app-compat",C6="@firebase/analytics-compat",b6="@firebase/analytics",E6="@firebase/app-check-compat",x6="@firebase/app-check",I6="@firebase/auth",F6="@firebase/auth-compat",S6="@firebase/database",N6="@firebase/data-connect",T6="@firebase/database-compat",U6="@firebase/functions",Q6="@firebase/functions-compat",L6="@firebase/installations",P6="@firebase/installations-compat",k6="@firebase/messaging",R6="@firebase/messaging-compat",D6="@firebase/performance",O6="@firebase/performance-compat",M6="@firebase/remote-config",H6="@firebase/remote-config-compat",j6="@firebase/storage",V6="@firebase/storage-compat",K6="@firebase/firestore",G6="@firebase/vertexai-preview",q6="@firebase/firestore-compat",z6="firebase",W6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="[DEFAULT]",$6={[Lv]:"fire-core",[_6]:"fire-core-compat",[b6]:"fire-analytics",[C6]:"fire-analytics-compat",[x6]:"fire-app-check",[E6]:"fire-app-check-compat",[I6]:"fire-auth",[F6]:"fire-auth-compat",[S6]:"fire-rtdb",[N6]:"fire-data-connect",[T6]:"fire-rtdb-compat",[U6]:"fire-fn",[Q6]:"fire-fn-compat",[L6]:"fire-iid",[P6]:"fire-iid-compat",[k6]:"fire-fcm",[R6]:"fire-fcm-compat",[D6]:"fire-perf",[O6]:"fire-perf-compat",[M6]:"fire-rc",[H6]:"fire-rc-compat",[j6]:"fire-gcs",[V6]:"fire-gcs-compat",[K6]:"fire-fst",[q6]:"fire-fst-compat",[G6]:"fire-vertex","fire-js":"fire-js",[z6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,kv=new Map,Rv=new Map;function Bb(t,e){try{t.container.addComponent(e)}catch(r){to.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function hh(t){const e=t.name;if(Rv.has(e))return to.debug(`There were multiple attempts to register component ${e}.`),!1;Rv.set(e,t);for(const r of ch.values())Bb(r,t);for(const r of kv.values())Bb(r,t);return!0}function qB(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ra(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cl=new fp("app","Firebase",X6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Fu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=W6;function zB(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Pv,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw cl.create("bad-app-name",{appName:String(i)});if(r||(r=iN()),!r)throw cl.create("no-options");const s=ch.get(i);if(s){if(a0(r,s.options)&&a0(n,s.config))return s;throw cl.create("duplicate-app",{appName:i})}const A=new i6(i);for(const o of Rv.values())A.addComponent(o);const a=new Y6(r,n,A);return ch.set(i,a),a}function WB(t=Pv){const e=ch.get(t);if(!e&&t===Pv&&iN())return zB();if(!e)throw cl.create("no-app",{appName:t});return e}async function J6(t){let e=!1;const r=t.name;ch.has(r)?(e=!0,ch.delete(r)):kv.has(r)&&t.decRefCount()<=0&&(kv.delete(r),e=!0),e&&(await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function hl(t,e,r){var n;let i=(n=$6[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),A=e.match(/\s|\//);if(s||A){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&A&&a.push("and"),A&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),to.warn(a.join(" "));return}hh(new Fu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="firebase-heartbeat-database",eO=1,Df="firebase-heartbeat-store";let R1=null;function uN(){return R1||(R1=m6(Z6,eO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Df)}catch(r){console.warn(r)}}}}).catch(t=>{throw cl.create("idb-open",{originalErrorMessage:t.message})})),R1}async function tO(t){try{const r=(await uN()).transaction(Df),n=await r.objectStore(Df).get(cN(t));return await r.done,n}catch(e){if(e instanceof Ao)to.warn(e.message);else{const r=cl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});to.warn(r.message)}}}async function _b(t,e){try{const n=(await uN()).transaction(Df,"readwrite");await n.objectStore(Df).put(e,cN(t)),await n.done}catch(r){if(r instanceof Ao)to.warn(r.message);else{const n=cl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});to.warn(n.message)}}}function cN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=1024,nO=30*24*60*60*1e3;class iO{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new AO(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(A=>A.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const a=new Date(A.date).valueOf();return Date.now()-a<=nO}),this._storage.overwrite(this._heartbeatsCache))}catch(n){to.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Cb(),{heartbeatsToSend:n,unsentEntries:i}=sO(this._heartbeatsCache.heartbeats),s=A0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return to.warn(r),""}}}function Cb(){return new Date().toISOString().substring(0,10)}function sO(t,e=rO){const r=[];let n=t.slice();for(const i of t){const s=r.find(A=>A.agent===i.agent);if(s){if(s.dates.push(i.date),bb(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),bb(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class AO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aN()?zD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await tO(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _b(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _b(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bb(t){return A0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){hh(new Fu("platform-logger",e=>new v6(e),"PRIVATE")),hh(new Fu("heartbeat",e=>new iO(e),"PRIVATE")),hl(Lv,vb,t),hl(Lv,vb,"esm2017"),hl("fire-js","")}aO("");function $B(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function hN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oO=hN,dN=new fp("auth","Firebase",hN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new KB("@firebase/auth");function lO(t,...e){o0.logLevel<=Kt.WARN&&o0.warn(`Auth (${Fh}): ${t}`,...e)}function gm(t,...e){o0.logLevel<=Kt.ERROR&&o0.error(`Auth (${Fh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t,...e){throw XB(t,...e)}function oa(t,...e){return XB(t,...e)}function fN(t,e,r){const n=Object.assign(Object.assign({},oO()),{[e]:r});return new fp("auth","Firebase",n).create(e,{appName:t.name})}function za(t){return fN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XB(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return dN.create(t,...e)}function _t(t,e,...r){if(!t)throw XB(e,...r)}function Ha(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gm(e),new Error(e)}function ro(t,e){t||Ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uO(){return Eb()==="http:"||Eb()==="https:"}function Eb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uO()||KD()||"connection"in navigator)?navigator.onLine:!0}function hO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,r){this.shortDelay=e,this.longDelay=r,ro(r>e,"Short delay should be less than long delay!"),this.isMobile=HD()||GD()}get(){return cO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t,e){ro(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new gp(3e4,6e4);function Nl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Tl(t,e,r,n,i={}){return gN(t,i,async()=>{let s={},A={};n&&(e==="GET"?A=n:s={body:JSON.stringify(n)});const a=pp(Object.assign({key:t.config.apiKey},A)).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:o},s);return VD()||(l.referrerPolicy="no-referrer"),pN.fetch()(mN(t,t.config.apiHost,r,a),l)})}async function gN(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},dO),e);try{const i=new gO(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const A=await s.json();if("needConfirmation"in A)throw pg(t,"account-exists-with-different-credential",A);if(s.ok&&!("errorMessage"in A))return A;{const a=s.ok?A.errorMessage:A.error.message,[o,l]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw pg(t,"credential-already-in-use",A);if(o==="EMAIL_EXISTS")throw pg(t,"email-already-in-use",A);if(o==="USER_DISABLED")throw pg(t,"user-disabled",A);const u=n[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw fN(t,u,l);CA(t,u)}}catch(i){if(i instanceof Ao)throw i;CA(t,"network-request-failed",{message:String(i)})}}async function mp(t,e,r,n,i={}){const s=await Tl(t,e,r,n,i);return"mfaPendingCredential"in s&&CA(t,"multi-factor-auth-required",{_serverResponse:s}),s}function mN(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?YB(t.config,i):`${t.config.apiScheme}://${i}`}function pO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(oa(this.auth,"network-request-failed")),fO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pg(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=oa(t,e,n);return i.customData._tokenResponse=r,i}function xb(t){return t!==void 0&&t.enterprise!==void 0}class mO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return pO(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function wO(t,e){return Tl(t,"GET","/v2/recaptchaConfig",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e){return Tl(t,"POST","/v1/accounts:delete",e)}async function wN(t,e){return Tl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vO(t,e=!1){const r=on(t),n=await r.getIdToken(e),i=JB(n);_t(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,A=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:rf(D1(i.auth_time)),issuedAtTime:rf(D1(i.iat)),expirationTime:rf(D1(i.exp)),signInProvider:A||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function D1(t){return Number(t)*1e3}function JB(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return gm("JWT malformed, contained fewer than 3 sections"),null;try{const i=rN(r);return i?JSON.parse(i):(gm("Failed to decode base64 JWT payload"),null)}catch(i){return gm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ib(t){const e=JB(t);return _t(e,"internal-error"),_t(typeof e.exp<"u","internal-error"),_t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ao&&BO(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function BO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=rf(this.lastLoginAt),this.creationTime=rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Of(t,wN(r,{idToken:n}));_t(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const A=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yN(s.providerUserInfo):[],a=bO(t.providerData,A),o=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ov(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function CO(t){const e=on(t);await l0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bO(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function yN(t){return t.map(e=>{var{providerId:r}=e,n=$B(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,e){const r=await gN(t,{},async()=>{const n=pp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,A=mN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pN.fetch()(A,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function xO(t,e){return Tl(t,"POST","/v2/accounts:revokeToken",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken<"u","internal-error"),_t(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){_t(e.length!==0,"internal-error");const r=Ib(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await EO(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,A=new Zc;return n&&(_t(typeof n=="string","internal-error",{appName:e}),A.refreshToken=n),i&&(_t(typeof i=="string","internal-error",{appName:e}),A.accessToken=i),s&&(_t(typeof s=="number","internal-error",{appName:e}),A.expirationTime=s),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zc,this.toJSON())}_performRefresh(){return Ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){_t(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ja{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=$B(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _O(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ov(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Of(this,this.stsTokenManager.getToken(this.auth,e));return _t(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return vO(this,e)}reload(){return CO(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ja(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await l0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ra(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await Of(this,yO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,A,a,o,l,u;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,m=(i=r.email)!==null&&i!==void 0?i:void 0,p=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,_=(A=r.photoURL)!==null&&A!==void 0?A:void 0,E=(a=r.tenantId)!==null&&a!==void 0?a:void 0,B=(o=r._redirectEventId)!==null&&o!==void 0?o:void 0,w=(l=r.createdAt)!==null&&l!==void 0?l:void 0,b=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:I,emailVerified:U,isAnonymous:V,providerData:O,stsTokenManager:L}=r;_t(I&&L,e,"internal-error");const F=Zc.fromJSON(this.name,L);_t(typeof I=="string",e,"internal-error"),So(d,e.name),So(m,e.name),_t(typeof U=="boolean",e,"internal-error"),_t(typeof V=="boolean",e,"internal-error"),So(p,e.name),So(_,e.name),So(E,e.name),So(B,e.name),So(w,e.name),So(b,e.name);const x=new ja({uid:I,auth:e,email:m,emailVerified:U,displayName:d,isAnonymous:V,photoURL:_,phoneNumber:p,tenantId:E,stsTokenManager:F,createdAt:w,lastLoginAt:b});return O&&Array.isArray(O)&&(x.providerData=O.map(k=>Object.assign({},k))),B&&(x._redirectEventId=B),x}static async _fromIdTokenResponse(e,r,n=!1){const i=new Zc;i.updateFromServerResponse(r);const s=new ja({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await l0(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];_t(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?yN(i.providerUserInfo):[],A=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Zc;a.updateFromIdToken(n);const o=new ja({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:A}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ov(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Map;function Va(t){ro(t instanceof Function,"Expected a class definition");let e=Fb.get(t);return e?(ro(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}vN.type="NONE";const Sb=vN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e,r){return`firebase:${t}:${e}:${r}`}class eh{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=mm(this.userKey,i.apiKey,s),this.fullPersistenceKey=mm("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ja._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new eh(Va(Sb),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Va(Sb);const A=mm(n,e.config.apiKey,e.name);let a=null;for(const l of r)try{const u=await l._get(A);if(u){const d=ja._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const o=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!o.length?new eh(s,e,n):(s=o[0],a&&await s._set(A,a.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(A)}catch{}})),new eh(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xN(e))return"Blackberry";if(IN(e))return"Webos";if(_N(e))return"Safari";if((e.includes("chrome/")||CN(e))&&!e.includes("edge/"))return"Chrome";if(EN(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function BN(t=kn()){return/firefox\//i.test(t)}function _N(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CN(t=kn()){return/crios\//i.test(t)}function bN(t=kn()){return/iemobile/i.test(t)}function EN(t=kn()){return/android/i.test(t)}function xN(t=kn()){return/blackberry/i.test(t)}function IN(t=kn()){return/webos/i.test(t)}function ZB(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IO(t=kn()){var e;return ZB(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FO(){return qD()&&document.documentMode===10}function FN(t=kn()){return ZB(t)||EN(t)||IN(t)||xN(t)||/windows phone/i.test(t)||bN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e=[]){let r;switch(t){case"Browser":r=Nb(kn());break;case"Worker":r=`${Nb(kn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Fh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((A,a)=>{try{const o=e(s);A(o)}catch(o){a(o)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e={}){return Tl(t,"GET","/v2/passwordPolicy",Nl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=6;class UO{constructor(e){var r,n,i,s;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=A.minPasswordLength)!==null&&r!==void 0?r:TO,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,A,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(r=o.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(n=o.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(i=o.containsLowercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(s=o.containsUppercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(A=o.containsNumericCharacter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tb(this),this.idTokenSubscription=new Tb(this),this.beforeStateQueue=new SO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Va(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await eh.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await wN(this,{idToken:e}),n=await ja._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ra(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=i==null?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!A||A===a)&&(o!=null&&o.user)&&(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(A){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await l0(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ra(this.app))return Promise.reject(za(this));const r=e?on(e):null;return r&&_t(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ra(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ra(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Va(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NO(this),r=new UO(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fp("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await xO(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Va(e)||this._popupRedirectResolver;_t(r,this,"argument-error"),this.redirectPersistenceManager=await eh.create(this,[Va(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(a,this,"internal-error"),a.then(()=>{A||s(this.currentUser)}),typeof r=="function"){const o=e.addObserver(r,n,i);return()=>{A=!0,o()}}else{const o=e.addObserver(r);return()=>{A=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&lO(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Ku(t){return on(t)}class Tb{constructor(e){this.auth=e,this.observer=null,this.addObserver=JD(r=>this.observer=r)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LO(t){Aw=t}function NN(t){return Aw.loadJS(t)}function PO(){return Aw.recaptchaEnterpriseScript}function kO(){return Aw.gapiScript}function RO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const DO="recaptcha-enterprise",OO="NO_RECAPTCHA";class MO{constructor(e){this.type=DO,this.auth=Ku(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(A,a)=>{wO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new mO(o);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,A(l.siteKey)}}).catch(o=>{a(o)})})}function i(s,A,a){const o=window.grecaptcha;xb(o)?o.enterprise.ready(()=>{o.enterprise.execute(s,{action:e}).then(l=>{A(l)}).catch(()=>{A(OO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,A)=>{n(this.auth).then(a=>{if(!r&&xb(window.grecaptcha))i(a,s,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let o=PO();o.length!==0&&(o+=a),NN(o).then(()=>{i(a,s,A)}).catch(l=>{A(l)})}}).catch(a=>{A(a)})})}}async function Ub(t,e,r,n=!1){const i=new MO(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const A=Object.assign({},e);return n?Object.assign(A,{captchaResp:s}):Object.assign(A,{captchaResponse:s}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function Mv(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Ub(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await Ub(t,e,r,r==="getOobCode");return n(t,A)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t,e){const r=qB(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(a0(s,e??{}))return i;CA(i,"already-initialized")}return r.initialize({options:e})}function jO(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Va);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function VO(t,e,r){const n=Ku(t);_t(n._canInitEmulator,n,"emulator-config-failed"),_t(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=TN(e),{host:A,port:a}=KO(e),o=a===null?"":`:${a}`;n.config.emulator={url:`${s}//${A}${o}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:A,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),GO()}function TN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KO(t){const e=TN(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:Qb(n.substr(s.length+1))}}else{const[s,A]=n.split(":");return{host:s,port:Qb(A)}}}function Qb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GO(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ha("not implemented")}_getIdTokenResponse(e){return Ha("not implemented")}_linkToIdToken(e,r){return Ha("not implemented")}_getReauthenticationResolver(e){return Ha("not implemented")}}async function qO(t,e){return Tl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t,e){return mp(t,"POST","/v1/accounts:signInWithPassword",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e){return mp(t,"POST","/v1/accounts:signInWithEmailLink",Nl(t,e))}async function $O(t,e){return mp(t,"POST","/v1/accounts:signInWithEmailLink",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends e_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Mf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Mf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mv(e,r,"signInWithPassword",zO);case"emailLink":return WO(e,{email:this._email,oobCode:this._password});default:CA(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mv(e,n,"signUpPassword",qO);case"emailLink":return $O(e,{idToken:r,email:this._email,oobCode:this._password});default:CA(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t,e){return mp(t,"POST","/v1/accounts:signInWithIdp",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="http://localhost";class Su extends e_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Su(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):CA("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=$B(r,["providerId","signInMethod"]);if(!n||!i)return null;const A=new Su(n,i);return A.idToken=s.idToken||void 0,A.accessToken=s.accessToken||void 0,A.secret=s.secret,A.nonce=s.nonce,A.pendingToken=s.pendingToken||null,A}_getIdTokenResponse(e){const r=this.buildRequest();return th(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,th(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,th(e,r)}buildRequest(){const e={requestUri:XO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=pp(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JO(t){const e=Ld(Pd(t)).link,r=e?Ld(Pd(e)).deep_link_id:null,n=Ld(Pd(t)).deep_link_id;return(n?Ld(Pd(n)).link:null)||n||r||e||t}class t_{constructor(e){var r,n,i,s,A,a;const o=Ld(Pd(e)),l=(r=o.apiKey)!==null&&r!==void 0?r:null,u=(n=o.oobCode)!==null&&n!==void 0?n:null,d=YO((i=o.mode)!==null&&i!==void 0?i:null);_t(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=o.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(A=o.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(a=o.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=JO(e);try{return new t_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this.providerId=Sh.PROVIDER_ID}static credential(e,r){return Mf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=t_.parseLink(r);return _t(n,"argument-error"),Mf._fromEmailAndCode(e,n.code,n.tenantId)}}Sh.PROVIDER_ID="password";Sh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends UN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends wp{constructor(){super("facebook.com")}static credential(e){return Su._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends wp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Su._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Vo.credential(r,n)}catch{return null}}}Vo.GOOGLE_SIGN_IN_METHOD="google.com";Vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends wp{constructor(){super("github.com")}static credential(e){return Su._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ko.credential(e.oauthAccessToken)}catch{return null}}}Ko.GITHUB_SIGN_IN_METHOD="github.com";Ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends wp{constructor(){super("twitter.com")}static credential(e,r){return Su._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Go.credential(r,n)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e){return mp(t,"POST","/v1/accounts:signUp",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ja._fromIdTokenResponse(e,n,i),A=Lb(n);return new Nu({user:s,providerId:A,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=Lb(n);return new Nu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function Lb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends Ao{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,u0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new u0(e,r,n,i)}}function QN(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?u0._fromErrorAndOperation(t,s,e,n):s})}async function eM(t,e,r=!1){const n=await Of(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Nu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e,r=!1){const{auth:n}=t;if(ra(n.app))return Promise.reject(za(n));const i="reauthenticate";try{const s=await Of(t,QN(n,i,e,t),r);_t(s.idToken,n,"internal-error");const A=JB(s.idToken);_t(A,n,"internal-error");const{sub:a}=A;return _t(t.uid===a,n,"user-mismatch"),Nu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&CA(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e,r=!1){if(ra(t.app))return Promise.reject(za(t));const n="signIn",i=await QN(t,n,e),s=await Nu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function rM(t,e){return LN(Ku(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t){const e=Ku(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nM(t,e,r){if(ra(t.app))return Promise.reject(za(t));const n=Ku(t),A=await Mv(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZO).catch(o=>{throw o.code==="auth/password-does-not-meet-requirements"&&PN(t),o}),a=await Nu._fromIdTokenResponse(n,"signIn",A);return await n._updateCurrentUser(a.user),a}function iM(t,e,r){return ra(t.app)?Promise.reject(za(t)):rM(on(t),Sh.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&PN(t),n})}function sM(t,e,r,n){return on(t).onIdTokenChanged(e,r,n)}function AM(t,e,r){return on(t).beforeAuthStateChanged(e,r)}function kN(t,e,r,n){return on(t).onAuthStateChanged(e,r,n)}function RN(t){return on(t).signOut()}const c0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(c0,"1"),this.storage.removeItem(c0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=1e3,oM=10;class ON extends DN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((A,a,o)=>{this.notifyListeners(A,o)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const A=this.storage.getItem(n);!r&&this.localCache[n]===A||this.notifyListeners(n,A)},s=this.storage.getItem(n);FO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oM):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}ON.type="LOCAL";const lM=ON;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN extends DN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}MN.type="SESSION";const HN=MN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new aw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,A=this.handlersMap[i];if(!(A!=null&&A.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(A).map(async l=>l(r.origin,s)),o=await uM(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}aw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,A;return new Promise((a,o)=>{const l=r_("",20);i.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},n);A={messageChannel:i,onMessage(d){const m=d;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(u),clearTimeout(s),o(new Error("invalid_response"));break}}},this.handlers.add(A),i.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(){return window}function hM(t){la().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return typeof la().WorkerGlobalScope<"u"&&typeof la().importScripts=="function"}async function dM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pM(){return jN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="firebaseLocalStorageDb",gM=1,h0="firebaseLocalStorage",KN="fbase_key";class yp{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ow(t,e){return t.transaction([h0],e?"readwrite":"readonly").objectStore(h0)}function mM(){const t=indexedDB.deleteDatabase(VN);return new yp(t).toPromise()}function Hv(){const t=indexedDB.open(VN,gM);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(h0,{keyPath:KN})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(h0)?e(n):(n.close(),await mM(),e(await Hv()))})})}async function Pb(t,e,r){const n=ow(t,!0).put({[KN]:e,value:r});return new yp(n).toPromise()}async function wM(t,e){const r=ow(t,!1).get(e),n=await new yp(r).toPromise();return n===void 0?null:n.value}function kb(t,e){const r=ow(t,!0).delete(e);return new yp(r).toPromise()}const yM=800,vM=3;class GN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hv(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>vM)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=aw._getInstance(pM()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await dM(),!this.activeServiceWorker)return;this.sender=new cM(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hv();return await Pb(e,c0,"1"),await kb(e,c0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pb(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>wM(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>kb(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ow(i,!1).getAll();return new yp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GN.type="LOCAL";const BM=GN;new gp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t,e){return e?Va(e):(_t(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends e_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return th(e,this._buildIdpRequest())}_linkToIdToken(e,r){return th(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return th(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function CM(t){return LN(t.auth,new n_(t),t.bypassAuthState)}function bM(t){const{auth:e,user:r}=t;return _t(r,e,"internal-error"),tM(r,new n_(t),t.bypassAuthState)}async function EM(t){const{auth:e,user:r}=t;return _t(r,e,"internal-error"),eM(r,new n_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:A,type:a}=e;if(A){this.reject(A);return}const o={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CM;case"linkViaPopup":case"linkViaRedirect":return EM;case"reauthViaPopup":case"reauthViaRedirect":return bM;default:CA(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new gp(2e3,1e4);class Kc extends qN{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Kc.currentPopupAction&&Kc.currentPopupAction.cancel(),Kc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){ro(this.filter.length===1,"Popup operations only handle one event");const e=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(oa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xM.get())};e()}}Kc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="pendingRedirect",wm=new Map;class FM extends qN{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=wm.get(this.auth._key());if(!e){try{const n=await SM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}wm.set(this.auth._key(),e)}return this.bypassAuthState||wm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SM(t,e){const r=UM(e),n=TM(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function NM(t,e){wm.set(t._key(),e)}function TM(t){return Va(t._redirectPersistence)}function UM(t){return mm(IM,t.config.apiKey,t.name)}async function QM(t,e,r=!1){if(ra(t.app))return Promise.reject(za(t));const n=Ku(t),i=_M(n,e),A=await new FM(n,i,r).execute();return A&&!r&&(delete A.user._redirectEventId,await n._persistUserIfCurrent(A.user),await n._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=10*60*1e3;class PM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kM(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!zN(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(oa(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rb(e))}saveEventToCache(e){this.cachedEventUids.add(Rb(e)),this.lastProcessedEventTime=Date.now()}}function Rb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(t,e={}){return Tl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OM=/^https?/;async function MM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RM(t);for(const r of e)try{if(HM(r))return}catch{}CA(t,"unauthorized-domain")}function HM(t){const e=Dv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&A.hostname===n}if(!OM.test(r))return!1;if(DM.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new gp(3e4,6e4);function Db(){const t=la().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function VM(t){return new Promise((e,r)=>{var n,i,s;function A(){Db(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Db(),r(oa(t,"network-request-failed"))},timeout:jM.get()})}if(!((i=(n=la().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=la().gapi)===null||s===void 0)&&s.load)A();else{const a=RO("iframefcb");return la()[a]=()=>{gapi.load?A():r(oa(t,"network-request-failed"))},NN(`${kO()}?onload=${a}`).catch(o=>r(o))}}).catch(e=>{throw ym=null,e})}let ym=null;function KM(t){return ym=ym||VM(t),ym}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new gp(5e3,15e3),qM="__/auth/iframe",zM="emulator/auth/iframe",WM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$M=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XM(t){const e=t.config;_t(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?YB(e,zM):`https://${t.config.authDomain}/${qM}`,n={apiKey:e.apiKey,appName:t.name,v:Fh},i=$M.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${pp(n).slice(1)}`}async function YM(t){const e=await KM(t),r=la().gapi;return _t(r,t,"internal-error"),e.open({where:document.body,url:XM(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WM,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const A=oa(t,"network-request-failed"),a=la().setTimeout(()=>{s(A)},GM.get());function o(){la().clearTimeout(a),i(n)}n.ping(o).then(o,()=>{s(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZM=500,e8=600,t8="_blank",r8="http://localhost";class Ob{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n8(t,e,r,n=ZM,i=e8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),A=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const o=Object.assign(Object.assign({},JM),{width:n.toString(),height:i.toString(),top:s,left:A}),l=kn().toLowerCase();r&&(a=CN(l)?t8:r),BN(l)&&(e=e||r8,o.scrollbars="yes");const u=Object.entries(o).reduce((m,[p,_])=>`${m}${p}=${_},`,"");if(IO(l)&&a!=="_self")return i8(e||"",a),new Ob(null);const d=window.open(e||"",a,u);_t(d,t,"popup-blocked");try{d.focus()}catch{}return new Ob(d)}function i8(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="__/auth/handler",A8="emulator/auth/handler",a8=encodeURIComponent("fac");async function Mb(t,e,r,n,i,s){_t(t.config.authDomain,t,"auth-domain-config-required"),_t(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Fh,eventId:i};if(e instanceof UN){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",YD(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))A[u]=d}if(e instanceof wp){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(A.scopes=u.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const o=await t._getAppCheckToken(),l=o?`#${a8}=${encodeURIComponent(o)}`:"";return`${o8(t)}?${pp(a).slice(1)}${l}`}function o8({config:t}){return t.emulator?YB(t,A8):`https://${t.authDomain}/${s8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="webStorageSupport";class l8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HN,this._completeRedirectFn=QM,this._overrideRedirectResult=NM}async _openPopup(e,r,n,i){var s;ro((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const A=await Mb(e,r,n,Dv(),i);return n8(e,A,r_())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await Mb(e,r,n,Dv(),i);return hM(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(ro(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await YM(e),n=new PM(e);return r.register("authEvent",i=>(_t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(O1,{type:O1},i=>{var s;const A=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[O1];A!==void 0&&r(!!A),CA(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=MM(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return FN()||_N()||ZB()}}const u8=l8;var Hb="@firebase/auth",jb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d8(t){hh(new Fu("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=n.options;_t(A&&!A.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SN(t)},l=new QO(n,i,s,o);return jO(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),hh(new Fu("auth-internal",e=>{const r=Ku(e.getProvider("auth").getImmediate());return(n=>new c8(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),hl(Hb,jb,h8(t)),hl(Hb,jb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=5*60,p8=sN("authIdTokenMaxAge")||f8;let Vb=null;const g8=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>p8)return;const i=r==null?void 0:r.token;Vb!==i&&(Vb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WN(t=WB()){const e=qB(t,"auth");if(e.isInitialized())return e.getImmediate();const r=HO(t,{popupRedirectResolver:u8,persistence:[BM,lM,HN]}),n=sN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const A=g8(s.toString());AM(r,A,()=>A(r.currentUser)),sM(r,a=>A(a))}}const i=nN("auth");return i&&VO(r,`http://${i}`),r}function m8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LO({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=oa("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",m8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d8("Browser");var w8="firebase",y8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hl(w8,y8,"app");var Kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gu,$N;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,F){function x(){}x.prototype=F.prototype,L.D=F.prototype,L.prototype=new x,L.prototype.constructor=L,L.C=function(k,S,T){for(var Q=Array(arguments.length-2),z=2;z<arguments.length;z++)Q[z-2]=arguments[z];return F.prototype[S].apply(k,Q)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,F,x){x||(x=0);var k=Array(16);if(typeof F=="string")for(var S=0;16>S;++S)k[S]=F.charCodeAt(x++)|F.charCodeAt(x++)<<8|F.charCodeAt(x++)<<16|F.charCodeAt(x++)<<24;else for(S=0;16>S;++S)k[S]=F[x++]|F[x++]<<8|F[x++]<<16|F[x++]<<24;F=L.g[0],x=L.g[1],S=L.g[2];var T=L.g[3],Q=F+(T^x&(S^T))+k[0]+3614090360&4294967295;F=x+(Q<<7&4294967295|Q>>>25),Q=T+(S^F&(x^S))+k[1]+3905402710&4294967295,T=F+(Q<<12&4294967295|Q>>>20),Q=S+(x^T&(F^x))+k[2]+606105819&4294967295,S=T+(Q<<17&4294967295|Q>>>15),Q=x+(F^S&(T^F))+k[3]+3250441966&4294967295,x=S+(Q<<22&4294967295|Q>>>10),Q=F+(T^x&(S^T))+k[4]+4118548399&4294967295,F=x+(Q<<7&4294967295|Q>>>25),Q=T+(S^F&(x^S))+k[5]+1200080426&4294967295,T=F+(Q<<12&4294967295|Q>>>20),Q=S+(x^T&(F^x))+k[6]+2821735955&4294967295,S=T+(Q<<17&4294967295|Q>>>15),Q=x+(F^S&(T^F))+k[7]+4249261313&4294967295,x=S+(Q<<22&4294967295|Q>>>10),Q=F+(T^x&(S^T))+k[8]+1770035416&4294967295,F=x+(Q<<7&4294967295|Q>>>25),Q=T+(S^F&(x^S))+k[9]+2336552879&4294967295,T=F+(Q<<12&4294967295|Q>>>20),Q=S+(x^T&(F^x))+k[10]+4294925233&4294967295,S=T+(Q<<17&4294967295|Q>>>15),Q=x+(F^S&(T^F))+k[11]+2304563134&4294967295,x=S+(Q<<22&4294967295|Q>>>10),Q=F+(T^x&(S^T))+k[12]+1804603682&4294967295,F=x+(Q<<7&4294967295|Q>>>25),Q=T+(S^F&(x^S))+k[13]+4254626195&4294967295,T=F+(Q<<12&4294967295|Q>>>20),Q=S+(x^T&(F^x))+k[14]+2792965006&4294967295,S=T+(Q<<17&4294967295|Q>>>15),Q=x+(F^S&(T^F))+k[15]+1236535329&4294967295,x=S+(Q<<22&4294967295|Q>>>10),Q=F+(S^T&(x^S))+k[1]+4129170786&4294967295,F=x+(Q<<5&4294967295|Q>>>27),Q=T+(x^S&(F^x))+k[6]+3225465664&4294967295,T=F+(Q<<9&4294967295|Q>>>23),Q=S+(F^x&(T^F))+k[11]+643717713&4294967295,S=T+(Q<<14&4294967295|Q>>>18),Q=x+(T^F&(S^T))+k[0]+3921069994&4294967295,x=S+(Q<<20&4294967295|Q>>>12),Q=F+(S^T&(x^S))+k[5]+3593408605&4294967295,F=x+(Q<<5&4294967295|Q>>>27),Q=T+(x^S&(F^x))+k[10]+38016083&4294967295,T=F+(Q<<9&4294967295|Q>>>23),Q=S+(F^x&(T^F))+k[15]+3634488961&4294967295,S=T+(Q<<14&4294967295|Q>>>18),Q=x+(T^F&(S^T))+k[4]+3889429448&4294967295,x=S+(Q<<20&4294967295|Q>>>12),Q=F+(S^T&(x^S))+k[9]+568446438&4294967295,F=x+(Q<<5&4294967295|Q>>>27),Q=T+(x^S&(F^x))+k[14]+3275163606&4294967295,T=F+(Q<<9&4294967295|Q>>>23),Q=S+(F^x&(T^F))+k[3]+4107603335&4294967295,S=T+(Q<<14&4294967295|Q>>>18),Q=x+(T^F&(S^T))+k[8]+1163531501&4294967295,x=S+(Q<<20&4294967295|Q>>>12),Q=F+(S^T&(x^S))+k[13]+2850285829&4294967295,F=x+(Q<<5&4294967295|Q>>>27),Q=T+(x^S&(F^x))+k[2]+4243563512&4294967295,T=F+(Q<<9&4294967295|Q>>>23),Q=S+(F^x&(T^F))+k[7]+1735328473&4294967295,S=T+(Q<<14&4294967295|Q>>>18),Q=x+(T^F&(S^T))+k[12]+2368359562&4294967295,x=S+(Q<<20&4294967295|Q>>>12),Q=F+(x^S^T)+k[5]+4294588738&4294967295,F=x+(Q<<4&4294967295|Q>>>28),Q=T+(F^x^S)+k[8]+2272392833&4294967295,T=F+(Q<<11&4294967295|Q>>>21),Q=S+(T^F^x)+k[11]+1839030562&4294967295,S=T+(Q<<16&4294967295|Q>>>16),Q=x+(S^T^F)+k[14]+4259657740&4294967295,x=S+(Q<<23&4294967295|Q>>>9),Q=F+(x^S^T)+k[1]+2763975236&4294967295,F=x+(Q<<4&4294967295|Q>>>28),Q=T+(F^x^S)+k[4]+1272893353&4294967295,T=F+(Q<<11&4294967295|Q>>>21),Q=S+(T^F^x)+k[7]+4139469664&4294967295,S=T+(Q<<16&4294967295|Q>>>16),Q=x+(S^T^F)+k[10]+3200236656&4294967295,x=S+(Q<<23&4294967295|Q>>>9),Q=F+(x^S^T)+k[13]+681279174&4294967295,F=x+(Q<<4&4294967295|Q>>>28),Q=T+(F^x^S)+k[0]+3936430074&4294967295,T=F+(Q<<11&4294967295|Q>>>21),Q=S+(T^F^x)+k[3]+3572445317&4294967295,S=T+(Q<<16&4294967295|Q>>>16),Q=x+(S^T^F)+k[6]+76029189&4294967295,x=S+(Q<<23&4294967295|Q>>>9),Q=F+(x^S^T)+k[9]+3654602809&4294967295,F=x+(Q<<4&4294967295|Q>>>28),Q=T+(F^x^S)+k[12]+3873151461&4294967295,T=F+(Q<<11&4294967295|Q>>>21),Q=S+(T^F^x)+k[15]+530742520&4294967295,S=T+(Q<<16&4294967295|Q>>>16),Q=x+(S^T^F)+k[2]+3299628645&4294967295,x=S+(Q<<23&4294967295|Q>>>9),Q=F+(S^(x|~T))+k[0]+4096336452&4294967295,F=x+(Q<<6&4294967295|Q>>>26),Q=T+(x^(F|~S))+k[7]+1126891415&4294967295,T=F+(Q<<10&4294967295|Q>>>22),Q=S+(F^(T|~x))+k[14]+2878612391&4294967295,S=T+(Q<<15&4294967295|Q>>>17),Q=x+(T^(S|~F))+k[5]+4237533241&4294967295,x=S+(Q<<21&4294967295|Q>>>11),Q=F+(S^(x|~T))+k[12]+1700485571&4294967295,F=x+(Q<<6&4294967295|Q>>>26),Q=T+(x^(F|~S))+k[3]+2399980690&4294967295,T=F+(Q<<10&4294967295|Q>>>22),Q=S+(F^(T|~x))+k[10]+4293915773&4294967295,S=T+(Q<<15&4294967295|Q>>>17),Q=x+(T^(S|~F))+k[1]+2240044497&4294967295,x=S+(Q<<21&4294967295|Q>>>11),Q=F+(S^(x|~T))+k[8]+1873313359&4294967295,F=x+(Q<<6&4294967295|Q>>>26),Q=T+(x^(F|~S))+k[15]+4264355552&4294967295,T=F+(Q<<10&4294967295|Q>>>22),Q=S+(F^(T|~x))+k[6]+2734768916&4294967295,S=T+(Q<<15&4294967295|Q>>>17),Q=x+(T^(S|~F))+k[13]+1309151649&4294967295,x=S+(Q<<21&4294967295|Q>>>11),Q=F+(S^(x|~T))+k[4]+4149444226&4294967295,F=x+(Q<<6&4294967295|Q>>>26),Q=T+(x^(F|~S))+k[11]+3174756917&4294967295,T=F+(Q<<10&4294967295|Q>>>22),Q=S+(F^(T|~x))+k[2]+718787259&4294967295,S=T+(Q<<15&4294967295|Q>>>17),Q=x+(T^(S|~F))+k[9]+3951481745&4294967295,L.g[0]=L.g[0]+F&4294967295,L.g[1]=L.g[1]+(S+(Q<<21&4294967295|Q>>>11))&4294967295,L.g[2]=L.g[2]+S&4294967295,L.g[3]=L.g[3]+T&4294967295}n.prototype.u=function(L,F){F===void 0&&(F=L.length);for(var x=F-this.blockSize,k=this.B,S=this.h,T=0;T<F;){if(S==0)for(;T<=x;)i(this,L,T),T+=this.blockSize;if(typeof L=="string"){for(;T<F;)if(k[S++]=L.charCodeAt(T++),S==this.blockSize){i(this,k),S=0;break}}else for(;T<F;)if(k[S++]=L[T++],S==this.blockSize){i(this,k),S=0;break}}this.h=S,this.o+=F},n.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var F=1;F<L.length-8;++F)L[F]=0;var x=8*this.o;for(F=L.length-8;F<L.length;++F)L[F]=x&255,x/=256;for(this.u(L),L=Array(16),F=x=0;4>F;++F)for(var k=0;32>k;k+=8)L[x++]=this.g[F]>>>k&255;return L};function s(L,F){var x=a;return Object.prototype.hasOwnProperty.call(x,L)?x[L]:x[L]=F(L)}function A(L,F){this.h=F;for(var x=[],k=!0,S=L.length-1;0<=S;S--){var T=L[S]|0;k&&T==F||(x[S]=T,k=!1)}this.g=x}var a={};function o(L){return-128<=L&&128>L?s(L,function(F){return new A([F|0],0>F?-1:0)}):new A([L|0],0>L?-1:0)}function l(L){if(isNaN(L)||!isFinite(L))return d;if(0>L)return B(l(-L));for(var F=[],x=1,k=0;L>=x;k++)F[k]=L/x|0,x*=4294967296;return new A(F,0)}function u(L,F){if(L.length==0)throw Error("number format error: empty string");if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(L.charAt(0)=="-")return B(u(L.substring(1),F));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=l(Math.pow(F,8)),k=d,S=0;S<L.length;S+=8){var T=Math.min(8,L.length-S),Q=parseInt(L.substring(S,S+T),F);8>T?(T=l(Math.pow(F,T)),k=k.j(T).add(l(Q))):(k=k.j(x),k=k.add(l(Q)))}return k}var d=o(0),m=o(1),p=o(16777216);t=A.prototype,t.m=function(){if(E(this))return-B(this).m();for(var L=0,F=1,x=0;x<this.g.length;x++){var k=this.i(x);L+=(0<=k?k:4294967296+k)*F,F*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(_(this))return"0";if(E(this))return"-"+B(this).toString(L);for(var F=l(Math.pow(L,6)),x=this,k="";;){var S=U(x,F).g;x=w(x,S.j(F));var T=((0<x.g.length?x.g[0]:x.h)>>>0).toString(L);if(x=S,_(x))return T+k;for(;6>T.length;)T="0"+T;k=T+k}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function _(L){if(L.h!=0)return!1;for(var F=0;F<L.g.length;F++)if(L.g[F]!=0)return!1;return!0}function E(L){return L.h==-1}t.l=function(L){return L=w(this,L),E(L)?-1:_(L)?0:1};function B(L){for(var F=L.g.length,x=[],k=0;k<F;k++)x[k]=~L.g[k];return new A(x,~L.h).add(m)}t.abs=function(){return E(this)?B(this):this},t.add=function(L){for(var F=Math.max(this.g.length,L.g.length),x=[],k=0,S=0;S<=F;S++){var T=k+(this.i(S)&65535)+(L.i(S)&65535),Q=(T>>>16)+(this.i(S)>>>16)+(L.i(S)>>>16);k=Q>>>16,T&=65535,Q&=65535,x[S]=Q<<16|T}return new A(x,x[x.length-1]&-2147483648?-1:0)};function w(L,F){return L.add(B(F))}t.j=function(L){if(_(this)||_(L))return d;if(E(this))return E(L)?B(this).j(B(L)):B(B(this).j(L));if(E(L))return B(this.j(B(L)));if(0>this.l(p)&&0>L.l(p))return l(this.m()*L.m());for(var F=this.g.length+L.g.length,x=[],k=0;k<2*F;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var S=0;S<L.g.length;S++){var T=this.i(k)>>>16,Q=this.i(k)&65535,z=L.i(S)>>>16,oe=L.i(S)&65535;x[2*k+2*S]+=Q*oe,b(x,2*k+2*S),x[2*k+2*S+1]+=T*oe,b(x,2*k+2*S+1),x[2*k+2*S+1]+=Q*z,b(x,2*k+2*S+1),x[2*k+2*S+2]+=T*z,b(x,2*k+2*S+2)}for(k=0;k<F;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=F;k<2*F;k++)x[k]=0;return new A(x,0)};function b(L,F){for(;(L[F]&65535)!=L[F];)L[F+1]+=L[F]>>>16,L[F]&=65535,F++}function I(L,F){this.g=L,this.h=F}function U(L,F){if(_(F))throw Error("division by zero");if(_(L))return new I(d,d);if(E(L))return F=U(B(L),F),new I(B(F.g),B(F.h));if(E(F))return F=U(L,B(F)),new I(B(F.g),F.h);if(30<L.g.length){if(E(L)||E(F))throw Error("slowDivide_ only works with positive integers.");for(var x=m,k=F;0>=k.l(L);)x=V(x),k=V(k);var S=O(x,1),T=O(k,1);for(k=O(k,2),x=O(x,2);!_(k);){var Q=T.add(k);0>=Q.l(L)&&(S=S.add(x),T=Q),k=O(k,1),x=O(x,1)}return F=w(L,S.j(F)),new I(S,F)}for(S=d;0<=L.l(F);){for(x=Math.max(1,Math.floor(L.m()/F.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),T=l(x),Q=T.j(F);E(Q)||0<Q.l(L);)x-=k,T=l(x),Q=T.j(F);_(T)&&(T=m),S=S.add(T),L=w(L,Q)}return new I(S,L)}t.A=function(L){return U(this,L).h},t.and=function(L){for(var F=Math.max(this.g.length,L.g.length),x=[],k=0;k<F;k++)x[k]=this.i(k)&L.i(k);return new A(x,this.h&L.h)},t.or=function(L){for(var F=Math.max(this.g.length,L.g.length),x=[],k=0;k<F;k++)x[k]=this.i(k)|L.i(k);return new A(x,this.h|L.h)},t.xor=function(L){for(var F=Math.max(this.g.length,L.g.length),x=[],k=0;k<F;k++)x[k]=this.i(k)^L.i(k);return new A(x,this.h^L.h)};function V(L){for(var F=L.g.length+1,x=[],k=0;k<F;k++)x[k]=L.i(k)<<1|L.i(k-1)>>>31;return new A(x,L.h)}function O(L,F){var x=F>>5;F%=32;for(var k=L.g.length-x,S=[],T=0;T<k;T++)S[T]=0<F?L.i(T+x)>>>F|L.i(T+x+1)<<32-F:L.i(T+x);return new A(S,L.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,$N=n,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=l,A.fromString=u,gu=A}).apply(typeof Kb<"u"?Kb:typeof self<"u"?self:typeof window<"u"?window:{});var gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XN,kd,YN,vm,jv,JN,ZN,eT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,C,P){return h==Array.prototype||h==Object.prototype||(h[C]=P.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gg=="object"&&gg];for(var C=0;C<h.length;++C){var P=h[C];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(h,C){if(C)e:{var P=n;h=h.split(".");for(var q=0;q<h.length-1;q++){var fe=h[q];if(!(fe in P))break e;P=P[fe]}h=h[h.length-1],q=P[h],C=C(q),C!=q&&C!=null&&e(P,h,{configurable:!0,writable:!0,value:C})}}function s(h,C){h instanceof String&&(h+="");var P=0,q=!1,fe={next:function(){if(!q&&P<h.length){var be=P++;return{value:C(be,h[be]),done:!1}}return q=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}i("Array.prototype.values",function(h){return h||function(){return s(this,function(C,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},a=this||self;function o(h){var C=typeof h;return C=C!="object"?C:h?Array.isArray(h)?"array":C:"null",C=="array"||C=="object"&&typeof h.length=="number"}function l(h){var C=typeof h;return C=="object"&&h!=null||C=="function"}function u(h,C,P){return h.call.apply(h.bind,arguments)}function d(h,C,P){if(!h)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,q),h.apply(C,fe)}}return function(){return h.apply(C,arguments)}}function m(h,C,P){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,m.apply(null,arguments)}function p(h,C){var P=Array.prototype.slice.call(arguments,1);return function(){var q=P.slice();return q.push.apply(q,arguments),h.apply(this,q)}}function _(h,C){function P(){}P.prototype=C.prototype,h.aa=C.prototype,h.prototype=new P,h.prototype.constructor=h,h.Qb=function(q,fe,be){for(var Re=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)Re[tr-2]=arguments[tr];return C.prototype[fe].apply(q,Re)}}function E(h){const C=h.length;if(0<C){const P=Array(C);for(let q=0;q<C;q++)P[q]=h[q];return P}return[]}function B(h,C){for(let P=1;P<arguments.length;P++){const q=arguments[P];if(o(q)){const fe=h.length||0,be=q.length||0;h.length=fe+be;for(let Re=0;Re<be;Re++)h[fe+Re]=q[Re]}else h.push(q)}}class w{constructor(C,P){this.i=C,this.j=P,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function b(h){return/^[\s\xa0]*$/.test(h)}function I(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function U(h){return U[" "](h),h}U[" "]=function(){};var V=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function O(h,C,P){for(const q in h)C.call(P,h[q],q,h)}function L(h,C){for(const P in h)C.call(void 0,h[P],P,h)}function F(h){const C={};for(const P in h)C[P]=h[P];return C}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,C){let P,q;for(let fe=1;fe<arguments.length;fe++){q=arguments[fe];for(P in q)h[P]=q[P];for(let be=0;be<x.length;be++)P=x[be],Object.prototype.hasOwnProperty.call(q,P)&&(h[P]=q[P])}}function S(h){var C=1;h=h.split(":");const P=[];for(;0<C&&h.length;)P.push(h.shift()),C--;return h.length&&P.push(h.join(":")),P}function T(h){a.setTimeout(()=>{throw h},0)}function Q(){var h=se;let C=null;return h.g&&(C=h.g,h.g=h.g.next,h.g||(h.h=null),C.next=null),C}class z{constructor(){this.h=this.g=null}add(C,P){const q=oe.get();q.set(C,P),this.h?this.h.next=q:this.g=q,this.h=q}}var oe=new w(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(C,P){this.h=C,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,K=!1,se=new z,de=()=>{const h=a.Promise.resolve(void 0);ie=()=>{h.then(pe)}};var pe=()=>{for(var h;h=Q();){try{h.h.call(h.g)}catch(P){T(P)}var C=oe;C.j(h),100>C.h&&(C.h++,h.next=C.g,C.g=h)}K=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(h,C){this.type=h,this.g=this.target=C,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,C=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};a.addEventListener("test",P,C),a.removeEventListener("test",P,C)}catch{}return h}();function $(h,C){if(X.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var P=this.type=h.type,q=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=C,C=h.relatedTarget){if(V){e:{try{U(C.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(C=null)}}else P=="mouseover"?C=h.fromElement:P=="mouseout"&&(C=h.toElement);this.relatedTarget=C,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&$.aa.h.call(this)}}_($,X);var re={2:"touch",3:"pen",4:"mouse"};$.prototype.h=function(){$.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Be(h,C,P,q,fe){this.listener=h,this.proxy=null,this.src=C,this.type=P,this.capture=!!q,this.ha=fe,this.key=++_e,this.da=this.fa=!1}function xe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Qe(h){this.src=h,this.g={},this.h=0}Qe.prototype.add=function(h,C,P,q,fe){var be=h.toString();h=this.g[be],h||(h=this.g[be]=[],this.h++);var Re=He(h,C,q,fe);return-1<Re?(C=h[Re],P||(C.fa=!1)):(C=new Be(C,this.src,be,!!q,fe),C.fa=P,h.push(C)),C};function Ee(h,C){var P=C.type;if(P in h.g){var q=h.g[P],fe=Array.prototype.indexOf.call(q,C,void 0),be;(be=0<=fe)&&Array.prototype.splice.call(q,fe,1),be&&(xe(C),h.g[P].length==0&&(delete h.g[P],h.h--))}}function He(h,C,P,q){for(var fe=0;fe<h.length;++fe){var be=h[fe];if(!be.da&&be.listener==C&&be.capture==!!P&&be.ha==q)return fe}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),ne={};function Qt(h,C,P,q,fe){if(Array.isArray(C)){for(var be=0;be<C.length;be++)Qt(h,C[be],P,q,fe);return null}return P=tt(P),h&&h[ae]?h.K(C,P,l(q)?!!q.capture:!1,fe):xt(h,C,P,!1,q,fe)}function xt(h,C,P,q,fe,be){if(!C)throw Error("Invalid event type");var Re=l(fe)?!!fe.capture:!!fe,tr=je(h);if(tr||(h[Ce]=tr=new Qe(h)),P=tr.add(C,P,q,Re,be),P.proxy)return P;if(q=pt(),P.proxy=q,q.src=h,q.listener=P,h.addEventListener)te||(fe=Re),fe===void 0&&(fe=!1),h.addEventListener(C.toString(),q,fe);else if(h.attachEvent)h.attachEvent(Ue(C.toString()),q);else if(h.addListener&&h.removeListener)h.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function pt(){function h(P){return C.call(h.src,h.listener,P)}const C=Ge;return h}function ke(h,C,P,q,fe){if(Array.isArray(C))for(var be=0;be<C.length;be++)ke(h,C[be],P,q,fe);else q=l(q)?!!q.capture:!!q,P=tt(P),h&&h[ae]?(h=h.i,C=String(C).toString(),C in h.g&&(be=h.g[C],P=He(be,P,q,fe),-1<P&&(xe(be[P]),Array.prototype.splice.call(be,P,1),be.length==0&&(delete h.g[C],h.h--)))):h&&(h=je(h))&&(C=h.g[C.toString()],h=-1,C&&(h=He(C,P,q,fe)),(P=-1<h?C[h]:null)&&ve(P))}function ve(h){if(typeof h!="number"&&h&&!h.da){var C=h.src;if(C&&C[ae])Ee(C.i,h);else{var P=h.type,q=h.proxy;C.removeEventListener?C.removeEventListener(P,q,h.capture):C.detachEvent?C.detachEvent(Ue(P),q):C.addListener&&C.removeListener&&C.removeListener(q),(P=je(C))?(Ee(P,h),P.h==0&&(P.src=null,C[Ce]=null)):xe(h)}}}function Ue(h){return h in ne?ne[h]:ne[h]="on"+h}function Ge(h,C){if(h.da)h=!0;else{C=new $(C,this);var P=h.listener,q=h.ha||h.src;h.fa&&ve(h),h=P.call(q,C)}return h}function je(h){return h=h[Ce],h instanceof Qe?h:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function tt(h){return typeof h=="function"?h:(h[Ye]||(h[Ye]=function(C){return h.handleEvent(C)}),h[Ye])}function Ve(){M.call(this),this.i=new Qe(this),this.M=this,this.F=null}_(Ve,M),Ve.prototype[ae]=!0,Ve.prototype.removeEventListener=function(h,C,P,q){ke(this,h,C,P,q)};function It(h,C){var P,q=h.F;if(q)for(P=[];q;q=q.F)P.push(q);if(h=h.M,q=C.type||C,typeof C=="string")C=new X(C,h);else if(C instanceof X)C.target=C.target||h;else{var fe=C;C=new X(q,h),k(C,fe)}if(fe=!0,P)for(var be=P.length-1;0<=be;be--){var Re=C.g=P[be];fe=At(Re,q,!0,C)&&fe}if(Re=C.g=h,fe=At(Re,q,!0,C)&&fe,fe=At(Re,q,!1,C)&&fe,P)for(be=0;be<P.length;be++)Re=C.g=P[be],fe=At(Re,q,!1,C)&&fe}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var h=this.i,C;for(C in h.g){for(var P=h.g[C],q=0;q<P.length;q++)xe(P[q]);delete h.g[C],h.h--}}this.F=null},Ve.prototype.K=function(h,C,P,q){return this.i.add(String(h),C,!1,P,q)},Ve.prototype.L=function(h,C,P,q){return this.i.add(String(h),C,!0,P,q)};function At(h,C,P,q){if(C=h.i.g[String(C)],!C)return!0;C=C.concat();for(var fe=!0,be=0;be<C.length;++be){var Re=C[be];if(Re&&!Re.da&&Re.capture==P){var tr=Re.listener,Mr=Re.ha||Re.src;Re.fa&&Ee(h.i,Re),fe=tr.call(Mr,q)!==!1&&fe}}return fe&&!q.defaultPrevented}function Ze(h,C,P){if(typeof h=="function")P&&(h=m(h,P));else if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:a.setTimeout(h,C||0)}function wt(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,wt(h))},h.l);const C=h.h;h.h=null,h.m.apply(null,C)}class dt extends M{constructor(C,P){super(),this.m=C,this.l=P,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(h){M.call(this),this.h=h,this.g={}}_(er,M);var Wt=[];function at(h){O(h.g,function(C,P){this.g.hasOwnProperty(P)&&ve(C)},h),h.g={}}er.prototype.N=function(){er.aa.N.call(this),at(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ct=a.JSON.stringify,or=a.JSON.parse,mt=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function kt(){}kt.prototype.h=null;function Ft(h){return h.h||(h.h=h.i())}function Rr(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){X.call(this,"d")}_(sr,X);function vt(){X.call(this,"c")}_(vt,X);var Dt={},TA=null;function ln(){return TA=TA||new Ve}Dt.La="serverreachability";function Ls(h){X.call(this,Dt.La,h)}_(Ls,X);function ui(h){const C=ln();It(C,new Ls(C))}Dt.STAT_EVENT="statevent";function gt(h,C){X.call(this,Dt.STAT_EVENT,h),this.stat=C}_(gt,X);function Tr(h){const C=ln();It(C,new gt(C,h))}Dt.Ma="timingevent";function Ps(h,C){X.call(this,Dt.Ma,h),this.size=C}_(Ps,X);function Dn(h,C){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},C)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function Dr(h,C,P,q,fe,be){h.info(function(){if(h.g)if(be)for(var Re="",tr=be.split("&"),Mr=0;Mr<tr.length;Mr++){var Ot=tr[Mr].split("=");if(1<Ot.length){var jt=Ot[0];Ot=Ot[1];var ur=jt.split("_");Re=2<=ur.length&&ur[1]=="type"?Re+(jt+"="+Ot+"&"):Re+(jt+"=redacted&")}}else Re=null;else Re=be;return"XMLHTTP REQ ("+q+") [attempt "+fe+"]: "+C+`
`+P+`
`+Re})}function Cn(h,C,P,q,fe,be,Re){h.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+fe+"]: "+C+`
`+P+`
`+be+" "+Re})}function Or(h,C,P,q){h.info(function(){return"XMLHTTP TEXT ("+C+"): "+UA(h,P)+(q?" "+q:"")})}function fa(h,C){h.info(function(){return"TIMEOUT: "+C})}On.prototype.info=function(){};function UA(h,C){if(!h.g)return C;if(!C)return null;try{var P=JSON.parse(C);if(P){for(h=0;h<P.length;h++)if(Array.isArray(P[h])){var q=P[h];if(!(2>q.length)){var fe=q[1];if(Array.isArray(fe)&&!(1>fe.length)){var be=fe[0];if(be!="noop"&&be!="stop"&&be!="close")for(var Re=1;Re<fe.length;Re++)fe[Re]=""}}}}return Ct(P)}catch{return C}}var ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},us={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Si;function hi(){}_(hi,kt),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},Si=new hi;function un(h,C,P,q){this.j=h,this.i=C,this.l=P,this.R=q||1,this.U=new er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new QA}function QA(){this.i=null,this.g="",this.h=!1}var cs={},nA={};function LA(h,C,P){h.L=1,h.v=wa(Ni(C)),h.m=P,h.P=!0,pa(h,null)}function pa(h,C){h.F=Date.now(),PA(h),h.A=Ni(h.v);var P=h.A,q=h.R;Array.isArray(q)||(q=[String(q)]),Bt(P.i,"t",q),h.C=0,P=h.j.J,h.h=new QA,h.g=aA(h.j,P?C:null,!h.m),0<h.O&&(h.M=new dt(m(h.Y,h,h.g),h.O)),C=h.U,P=h.g,q=h.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(Wt[0]=fe.toString()),fe=Wt);for(var be=0;be<fe.length;be++){var Re=Qt(P,fe[be],q||C.handleEvent,!1,C.h||C);if(!Re)break;C.g[Re.key]=Re}C=h.H?F(h.H):{},h.m?(h.u||(h.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,C)):(h.u="GET",h.g.ea(h.A,h.u,null,C)),ui(),Dr(h.i,h.u,h.A,h.l,h.R,h.m)}un.prototype.ca=function(h){h=h.target;const C=this.M;C&&Ti(h)==3?C.j():this.Y(h)},un.prototype.Y=function(h){try{if(h==this.g)e:{const ur=Ti(this.g);var C=this.g.Ba();const Os=this.g.Z();if(!(3>ur)&&(ur!=3||this.g&&(this.h.h||this.g.oa()||wo(this.g)))){this.J||ur!=4||C==7||(C==8||0>=Os?ui(3):ui(2)),lo(this);var P=this.g.Z();this.X=P;t:if(ga(this)){var q=wo(this.g);h="";var fe=q.length,be=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hs(this),Mn(this);var Re="";break t}this.h.i=new a.TextDecoder}for(C=0;C<fe;C++)this.h.h=!0,h+=this.h.i.decode(q[C],{stream:!(be&&C==fe-1)});q.length=0,this.h.g+=h,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=P==200,Cn(this.i,this.u,this.A,this.l,this.R,ur,P),this.o){if(this.T&&!this.K){t:{if(this.g){var tr,Mr=this.g;if((tr=Mr.g?Mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(tr)){var Ot=tr;break t}}Ot=null}if(P=Ot)Or(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uo(this,P);else{this.o=!1,this.s=3,Tr(12),hs(this),Mn(this);break e}}if(this.P){P=!0;let $n;for(;!this.J&&this.C<Re.length;)if($n=jh(this,Re),$n==nA){ur==4&&(this.s=4,Tr(14),P=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if($n==cs){this.s=4,Tr(15),Or(this.i,this.l,Re,"[Invalid Chunk]"),P=!1;break}else Or(this.i,this.l,$n,null),uo(this,$n);if(ga(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ur!=4||Re.length!=0||this.h.h||(this.s=1,Tr(16),P=!1),this.o=this.o&&P,!P)Or(this.i,this.l,Re,"[Invalid Chunked Response]"),hs(this),Mn(this);else if(0<Re.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),qt(jt),jt.M=!0,Tr(11))}}else Or(this.i,this.l,Re,null),uo(this,Re);ur==4&&hs(this),this.o&&!this.J&&(ur==4?Ar(this.j,this):(this.o=!1,PA(this)))}else Ui(this.g),P==400&&0<Re.indexOf("Unknown SID")?(this.s=3,Tr(12)):(this.s=0,Tr(13)),hs(this),Mn(this)}}}catch{}finally{}};function ga(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function jh(h,C){var P=h.C,q=C.indexOf(`
`,P);return q==-1?nA:(P=Number(C.substring(P,q)),isNaN(P)?cs:(q+=1,q+P>C.length?nA:(C=C.slice(q,q+P),h.C=q+P,C)))}un.prototype.cancel=function(){this.J=!0,hs(this)};function PA(h){h.S=Date.now()+h.I,Ll(h,h.I)}function Ll(h,C){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Dn(m(h.ba,h),C)}function lo(h){h.B&&(a.clearTimeout(h.B),h.B=null)}un.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(fa(this.i,this.A),this.L!=2&&(ui(),Tr(17)),hs(this),this.s=2,Mn(this)):Ll(this,this.S-h)};function Mn(h){h.j.G==0||h.J||Ar(h.j,h)}function hs(h){lo(h);var C=h.M;C&&typeof C.ma=="function"&&C.ma(),h.M=null,at(h.U),h.g&&(C=h.g,h.g=null,C.abort(),C.ma())}function uo(h,C){try{var P=h.j;if(P.G!=0&&(P.g==h||kA(P.h,h))){if(!h.K&&kA(P.h,h)&&P.G==3){try{var q=P.Da.g.parse(C)}catch{q=null}if(Array.isArray(q)&&q.length==3){var fe=q;if(fe[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<h.F)Ur(P),J(P);else break e;St(P),Tr(18)}}else P.za=fe[1],0<P.za-P.T&&37500>fe[2]&&P.F&&P.v==0&&!P.C&&(P.C=Dn(m(P.Za,P),6e3));if(1>=Dl(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else yr(P,11)}else if((h.K||P.g==h)&&Ur(P),!b(C))for(fe=P.Da.g.parse(C),C=0;C<fe.length;C++){let Ot=fe[C];if(P.T=Ot[0],Ot=Ot[1],P.G==2)if(Ot[0]=="c"){P.K=Ot[1],P.ia=Ot[2];const jt=Ot[3];jt!=null&&(P.la=jt,P.j.info("VER="+P.la));const ur=Ot[4];ur!=null&&(P.Aa=ur,P.j.info("SVER="+P.Aa));const Os=Ot[5];Os!=null&&typeof Os=="number"&&0<Os&&(q=1.5*Os,P.L=q,P.j.info("backChannelRequestTimeoutMs_="+q)),q=P;const $n=h.g;if($n){const ps=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var be=q.h;be.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(Ol(be,be.h),be.h=null))}if(q.D){const KA=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;KA&&(q.ya=KA,Ht(q.I,q.D,KA))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-h.F,P.j.info("Handshake RTT: "+P.R+"ms")),q=P;var Re=h;if(q.qa=Ds(q,q.J?q.ia:null,q.W),Re.K){Xr(q.h,Re);var tr=Re,Mr=q.L;Mr&&(tr.I=Mr),tr.B&&(lo(tr),PA(tr)),q.g=Re}else yt(q);0<P.i.length&&he(P)}else Ot[0]!="stop"&&Ot[0]!="close"||yr(P,7);else P.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?yr(P,7):R(P):Ot[0]!="noop"&&P.l&&P.l.ta(Ot),P.v=0)}}ui(4)}catch{}}var Pl=class{constructor(h,C){this.g=h,this.map=C}};function kl(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Dl(h){return h.h?1:h.g?h.g.size:0}function kA(h,C){return h.h?h.h==C:h.g?h.g.has(C):!1}function Ol(h,C){h.g?h.g.add(C):h.h=C}function Xr(h,C){h.h&&h.h==C?h.h=null:h.g&&h.g.has(C)&&h.g.delete(C)}kl.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ml(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let C=h.i;for(const P of h.g.values())C=C.concat(P.D);return C}return E(h.i)}function Xu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(o(h)){for(var C=[],P=h.length,q=0;q<P;q++)C.push(h[q]);return C}C=[],P=0;for(q in h)C[P++]=h[q];return C}function iA(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(o(h)||typeof h=="string"){var C=[];h=h.length;for(var P=0;P<h;P++)C.push(P);return C}C=[],P=0;for(const q in h)C[P++]=q;return C}}}function RA(h,C){if(h.forEach&&typeof h.forEach=="function")h.forEach(C,void 0);else if(o(h)||typeof h=="string")Array.prototype.forEach.call(h,C,void 0);else for(var P=iA(h),q=Xu(h),fe=q.length,be=0;be<fe;be++)C.call(void 0,q[be],P&&P[be],h)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(h,C){if(h){h=h.split("&");for(var P=0;P<h.length;P++){var q=h[P].indexOf("="),fe=null;if(0<=q){var be=h[P].substring(0,q);fe=h[P].substring(q+1)}else be=h[P];C(be,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function lr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof lr){this.h=h.h,co(this,h.j),this.o=h.o,this.g=h.g,ho(this,h.s),this.l=h.l;var C=h.i,P=new zi;P.i=C.i,C.g&&(P.g=new Map(C.g),P.h=C.h),Yu(this,P),this.m=h.m}else h&&(C=String(h).match(Gi))?(this.h=!1,co(this,C[1]||"",!0),this.o=DA(C[2]||""),this.g=DA(C[3]||"",!0),ho(this,C[4]),this.l=DA(C[5]||"",!0),Yu(this,C[6]||"",!0),this.m=DA(C[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}lr.prototype.toString=function(){var h=[],C=this.j;C&&h.push(qi(C,Ju,!0),":");var P=this.g;return(P||C=="file")&&(h.push("//"),(C=this.o)&&h.push(qi(C,Ju,!0),"@"),h.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&h.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(qi(P,P.charAt(0)=="/"?Kh:Vh,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",qi(P,ya)),h.join("")};function Ni(h){return new lr(h)}function co(h,C,P){h.j=P?DA(C,!0):C,h.j&&(h.j=h.j.replace(/:$/,""))}function ho(h,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);h.s=C}else h.s=null}function Yu(h,C,P){C instanceof zi?(h.i=C,Gh(h.i,h.h)):(P||(C=qi(C,jl)),h.i=new zi(C,h.h))}function Ht(h,C,P){h.i.set(C,P)}function wa(h){return Ht(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function DA(h,C){return h?C?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function qi(h,C,P){return typeof h=="string"?(h=encodeURI(h).replace(C,Hl),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Hl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ju=/[#\/\?@]/g,Vh=/[#\?:]/g,Kh=/[#\?]/g,jl=/[#\?@]/g,ya=/#/g;function zi(h,C){this.h=this.g=null,this.i=h||null,this.j=!!C}function ks(h){h.g||(h.g=new Map,h.h=0,h.i&&ma(h.i,function(C,P){h.add(decodeURIComponent(C.replace(/\+/g," ")),P)}))}t=zi.prototype,t.add=function(h,C){ks(this),this.i=null,h=MA(this,h);var P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(C),this.h+=1,this};function OA(h,C){ks(h),C=MA(h,C),h.g.has(C)&&(h.i=null,h.h-=h.g.get(C).length,h.g.delete(C))}function fo(h,C){return ks(h),C=MA(h,C),h.g.has(C)}t.forEach=function(h,C){ks(this),this.g.forEach(function(P,q){P.forEach(function(fe){h.call(C,fe,q,this)},this)},this)},t.na=function(){ks(this);const h=Array.from(this.g.values()),C=Array.from(this.g.keys()),P=[];for(let q=0;q<C.length;q++){const fe=h[q];for(let be=0;be<fe.length;be++)P.push(C[q])}return P},t.V=function(h){ks(this);let C=[];if(typeof h=="string")fo(this,h)&&(C=C.concat(this.g.get(MA(this,h))));else{h=Array.from(this.g.values());for(let P=0;P<h.length;P++)C=C.concat(h[P])}return C},t.set=function(h,C){return ks(this),this.i=null,h=MA(this,h),fo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[C]),this.h+=1,this},t.get=function(h,C){return h?(h=this.V(h),0<h.length?String(h[0]):C):C};function Bt(h,C,P){OA(h,C),0<P.length&&(h.i=null,h.g.set(MA(h,C),E(P)),h.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],C=Array.from(this.g.keys());for(var P=0;P<C.length;P++){var q=C[P];const be=encodeURIComponent(String(q)),Re=this.V(q);for(q=0;q<Re.length;q++){var fe=be;Re[q]!==""&&(fe+="="+encodeURIComponent(String(Re[q]))),h.push(fe)}}return this.i=h.join("&")};function MA(h,C){return C=String(C),h.j&&(C=C.toLowerCase()),C}function Gh(h,C){C&&!h.j&&(ks(h),h.i=null,h.g.forEach(function(P,q){var fe=q.toLowerCase();q!=fe&&(OA(this,q),Bt(this,fe,P))},h)),h.j=C}function qh(h,C){const P=new On;if(a.Image){const q=new Image;q.onload=p(Hn,P,"TestLoadImage: loaded",!0,C,q),q.onerror=p(Hn,P,"TestLoadImage: error",!1,C,q),q.onabort=p(Hn,P,"TestLoadImage: abort",!1,C,q),q.ontimeout=p(Hn,P,"TestLoadImage: timeout",!1,C,q),a.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=h}else C(!1)}function zh(h,C){const P=new On,q=new AbortController,fe=setTimeout(()=>{q.abort(),Hn(P,"TestPingServer: timeout",!1,C)},1e4);fetch(h,{signal:q.signal}).then(be=>{clearTimeout(fe),be.ok?Hn(P,"TestPingServer: ok",!0,C):Hn(P,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(fe),Hn(P,"TestPingServer: error",!1,C)})}function Hn(h,C,P,q,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),q(P)}catch{}}function sA(){this.g=new mt}function Wh(h,C,P){const q=P||"";try{RA(h,function(fe,be){let Re=fe;l(fe)&&(Re=Ct(fe)),C.push(q+be+"="+encodeURIComponent(Re))})}catch(fe){throw C.push(q+"type="+encodeURIComponent("_badmap")),fe}}function po(h){this.l=h.Ub||null,this.j=h.eb||!1}_(po,kt),po.prototype.g=function(){return new AA(this.l,this.j)},po.prototype.i=function(h){return function(){return h}}({});function AA(h,C){Ve.call(this),this.D=h,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(AA,Ve),t=AA.prototype,t.open=function(h,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=C,this.readyState=1,Rs(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(C.body=h),(this.D||a).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;go(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function go(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var C=h.value?h.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!h.done}))&&(this.response=this.responseText+=C)}h.done?ds(this):Rs(this),this.readyState==3&&go(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ds(this))},t.Qa=function(h){this.g&&(this.response=h,ds(this))},t.ga=function(){this.g&&ds(this)};function ds(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Rs(h)}t.setRequestHeader=function(h,C){this.u.append(h,C)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],C=this.h.entries();for(var P=C.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=C.next();return h.join(`\r
`)};function Rs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(AA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function va(h){let C="";return O(h,function(P,q){C+=q,C+=":",C+=P,C+=`\r
`}),C}function Vl(h,C,P){e:{for(q in P){var q=!1;break e}q=!0}q||(P=va(P),typeof h=="string"?P!=null&&encodeURIComponent(String(P)):Ht(h,C,P))}function wr(h){Ve.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(wr,Ve);var Kl=/^https?$/i,Ba=["POST","PUT"];t=wr.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,C,P,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);C=C?C.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Si.g(),this.v=this.o?Ft(this.o):Ft(Si),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(C,String(h),!0),this.B=!1}catch(be){HA(this,be);return}if(h=P||"",P=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var fe in q)P.set(fe,q[fe]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const be of q.keys())P.set(be,q.get(be));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(P.keys()).find(be=>be.toLowerCase()=="content-type"),fe=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ba,C,void 0))||q||fe||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Re]of P)this.g.setRequestHeader(be,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{VA(this),this.u=!0,this.g.send(h),this.u=!1}catch(be){HA(this,be)}};function HA(h,C){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=C,h.m=5,mo(h),jA(h)}function mo(h){h.A||(h.A=!0,It(h,"complete"),It(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,It(this,"complete"),It(this,"abort"),jA(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jA(this,!0)),wr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},t.bb=function(){_a(this)};function _a(h){if(h.h&&typeof A<"u"&&(!h.v[1]||Ti(h)!=4||h.Z()!=2)){if(h.u&&Ti(h)==4)Ze(h.Ea,0,h);else if(It(h,"readystatechange"),Ti(h)==4){h.h=!1;try{const Re=h.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var P;if(!(P=C)){var q;if(q=Re===0){var fe=String(h.D).match(Gi)[1]||null;!fe&&a.self&&a.self.location&&(fe=a.self.location.protocol.slice(0,-1)),q=!Kl.test(fe?fe.toLowerCase():"")}P=q}if(P)It(h,"complete"),It(h,"success");else{h.m=6;try{var be=2<Ti(h)?h.g.statusText:""}catch{be=""}h.l=be+" ["+h.Z()+"]",mo(h)}}finally{jA(h)}}}}function jA(h,C){if(h.g){VA(h);const P=h.g,q=h.v[0]?()=>{}:null;h.g=null,h.v=null,C||It(h,"ready");try{P.onreadystatechange=q}catch{}}}function VA(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Ti(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var C=this.g.responseText;return h&&C.indexOf(h)==0&&(C=C.substring(h.length)),or(C)}};function wo(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(h){const C={};h=(h.g&&2<=Ti(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<h.length;q++){if(b(h[q]))continue;var P=S(h[q]);const fe=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const be=C[fe]||[];C[fe]=be,be.push(P)}L(C,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(h,C,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||C}function y(h){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=di("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=di("baseRetryDelayMs",5e3,h),this.cb=di("retryDelaySeedMs",1e4,h),this.Wa=di("forwardChannelMaxRetries",2,h),this.wa=di("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new kl(h&&h.concurrentRequestLimit),this.Da=new sA,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=y.prototype,t.la=8,t.G=1,t.connect=function(h,C,P,q){Tr(0),this.W=h,this.H=C||{},P&&q!==void 0&&(this.H.OSID=P,this.H.OAID=q),this.F=this.X,this.I=Ds(this,null,this.W),he(this)};function R(h){if(Ae(h),h.G==3){var C=h.U++,P=Ni(h.I);if(Ht(P,"SID",h.K),Ht(P,"RID",C),Ht(P,"TYPE","terminate"),$e(h,P),C=new un(h,h.j,C),C.L=2,C.v=wa(Ni(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(C.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=C.v,P=!0),P||(C.g=aA(C.j,null),C.g.ea(C.v)),C.F=Date.now(),PA(C)}bn(h)}function J(h){h.g&&(qt(h),h.g.cancel(),h.g=null)}function Ae(h){J(h),h.u&&(a.clearTimeout(h.u),h.u=null),Ur(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function he(h){if(!Rl(h.h)&&!h.s){h.s=!0;var C=h.Ga;ie||de(),K||(ie(),K=!0),se.add(C,h),h.B=0}}function Ne(h,C){return Dl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=C.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Dn(m(h.Ga,h,C),tn(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const fe=new un(this,this.j,h);let be=this.o;if(this.S&&(be?(be=F(be),k(be,this.S)):be=this.S),this.m!==null||this.O||(fe.H=be,be=null),this.P)e:{for(var C=0,P=0;P<this.i.length;P++){t:{var q=this.i[P];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(C+=q,4096<C){C=P;break e}if(C===4096||P===this.i.length-1){C=P+1;break e}}C=1e3}else C=1e3;C=st(this,fe,C),P=Ni(this.I),Ht(P,"RID",h),Ht(P,"CVER",22),this.D&&Ht(P,"X-HTTP-Session-Id",this.D),$e(this,P),be&&(this.O?C="headers="+encodeURIComponent(String(va(be)))+"&"+C:this.m&&Vl(P,this.m,be)),Ol(this.h,fe),this.Ua&&Ht(P,"TYPE","init"),this.P?(Ht(P,"$req",C),Ht(P,"SID","null"),fe.T=!0,LA(fe,P,null)):LA(fe,P,C),this.G=2}}else this.G==3&&(h?Le(this,h):this.i.length==0||Rl(this.h)||Le(this))};function Le(h,C){var P;C?P=C.l:P=h.U++;const q=Ni(h.I);Ht(q,"SID",h.K),Ht(q,"RID",P),Ht(q,"AID",h.T),$e(h,q),h.m&&h.o&&Vl(q,h.m,h.o),P=new un(h,h.j,P,h.B+1),h.m===null&&(P.H=h.o),C&&(h.i=C.D.concat(h.i)),C=st(h,P,1e3),P.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ol(h.h,P),LA(P,q,C)}function $e(h,C){h.H&&O(h.H,function(P,q){Ht(C,q,P)}),h.l&&RA({},function(P,q){Ht(C,q,P)})}function st(h,C,P){P=Math.min(h.i.length,P);var q=h.l?m(h.l.Na,h.l,h):null;e:{var fe=h.i;let be=-1;for(;;){const Re=["count="+P];be==-1?0<P?(be=fe[0].g,Re.push("ofs="+be)):be=0:Re.push("ofs="+be);let tr=!0;for(let Mr=0;Mr<P;Mr++){let Ot=fe[Mr].g;const jt=fe[Mr].map;if(Ot-=be,0>Ot)be=Math.max(0,fe[Mr].g-100),tr=!1;else try{Wh(jt,Re,"req"+Ot+"_")}catch{q&&q(jt)}}if(tr){q=Re.join("&");break e}}}return h=h.i.splice(0,P),C.D=h,q}function yt(h){if(!h.g&&!h.u){h.Y=1;var C=h.Fa;ie||de(),K||(ie(),K=!0),se.add(C,h),h.v=0}}function St(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Dn(m(h.Fa,h),tn(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,br(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Dn(m(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tr(10),J(this),br(this))};function qt(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function br(h){h.g=new un(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var C=Ni(h.qa);Ht(C,"RID","rpc"),Ht(C,"SID",h.K),Ht(C,"AID",h.T),Ht(C,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ht(C,"TO",h.ja),Ht(C,"TYPE","xmlhttp"),$e(h,C),h.m&&h.o&&Vl(C,h.m,h.o),h.L&&(h.g.I=h.L);var P=h.g;h=h.ia,P.L=1,P.v=wa(Ni(C)),P.m=null,P.P=!0,pa(P,h)}t.Za=function(){this.C!=null&&(this.C=null,J(this),St(this),Tr(19))};function Ur(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function Ar(h,C){var P=null;if(h.g==C){Ur(h),qt(h),h.g=null;var q=2}else if(kA(h.h,C))P=C.D,Xr(h.h,C),q=1;else return;if(h.G!=0){if(C.o)if(q==1){P=C.m?C.m.length:0,C=Date.now()-C.F;var fe=h.B;q=ln(),It(q,new Ps(q,P)),he(h)}else yt(h);else if(fe=C.s,fe==3||fe==0&&0<C.X||!(q==1&&Ne(h,C)||q==2&&St(h)))switch(P&&0<P.length&&(C=h.h,C.i=C.i.concat(P)),fe){case 1:yr(h,5);break;case 4:yr(h,10);break;case 3:yr(h,6);break;default:yr(h,2)}}}function tn(h,C){let P=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(P*=2),P*C}function yr(h,C){if(h.j.info("Error code "+C),C==2){var P=m(h.fb,h),q=h.Xa;const fe=!q;q=new lr(q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||co(q,"https"),wa(q),fe?qh(q.toString(),P):zh(q.toString(),P)}else Tr(2);h.G=0,h.l&&h.l.sa(C),bn(h),Ae(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Tr(2)):(this.j.info("Failed to ping google.com"),Tr(1))};function bn(h){if(h.G=0,h.ka=[],h.l){const C=Ml(h.h);(C.length!=0||h.i.length!=0)&&(B(h.ka,C),B(h.ka,h.i),h.h.i.length=0,E(h.i),h.i.length=0),h.l.ra()}}function Ds(h,C,P){var q=P instanceof lr?Ni(P):new lr(P);if(q.g!="")C&&(q.g=C+"."+q.g),ho(q,q.s);else{var fe=a.location;q=fe.protocol,C=C?C+"."+fe.hostname:fe.hostname,fe=+fe.port;var be=new lr(null);q&&co(be,q),C&&(be.g=C),fe&&ho(be,fe),P&&(be.l=P),q=be}return P=h.D,C=h.ya,P&&C&&Ht(q,P,C),Ht(q,"VER",h.la),$e(h,q),q}function aA(h,C,P){if(C&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=h.Ca&&!h.pa?new wr(new po({eb:P})):new wr(h.pa),C.Ha(h.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}t=Zu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ca(){}Ca.prototype.g=function(h,C){return new cn(h,C)};function cn(h,C){Ve.call(this),this.g=new y(C),this.l=h,this.h=C&&C.messageUrlParams||null,h=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(h?h["X-WebChannel-Content-Type"]=C.messageContentType:h={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(h?h["X-WebChannel-Client-Profile"]=C.va:h={"X-WebChannel-Client-Profile":C.va}),this.g.S=h,(h=C&&C.Sb)&&!b(h)&&(this.g.m=h),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!b(C)&&(this.g.D=C,h=this.h,h!==null&&C in h&&(h=this.h,C in h&&delete h[C])),this.j=new fs(this)}_(cn,Ve),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){R(this.g)},cn.prototype.o=function(h){var C=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.u&&(P={},P.__data__=Ct(h),h=P);C.i.push(new Pl(C.Ya++,h)),C.G==3&&he(C)},cn.prototype.N=function(){this.g.l=null,delete this.j,R(this.g),delete this.g,cn.aa.N.call(this)};function Wi(h){sr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var C=h.__sm__;if(C){e:{for(const P in C){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,C=C!==null&&h in C?C[h]:void 0),this.data=C}else this.data=h}_(Wi,sr);function yo(){vt.call(this),this.status=1}_(yo,vt);function fs(h){this.g=h}_(fs,Zu),fs.prototype.ua=function(){It(this.g,"a")},fs.prototype.ta=function(h){It(this.g,new Wi(h))},fs.prototype.sa=function(h){It(this.g,new yo)},fs.prototype.ra=function(){It(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,eT=function(){return new Ca},ZN=function(){return ln()},JN=Dt,jv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,vm=ci,us.COMPLETE="complete",YN=us,Rr.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,kd=Rr,wr.prototype.listenOnce=wr.prototype.L,wr.prototype.getLastError=wr.prototype.Ka,wr.prototype.getLastErrorCode=wr.prototype.Ba,wr.prototype.getStatus=wr.prototype.Z,wr.prototype.getResponseJson=wr.prototype.Oa,wr.prototype.getResponseText=wr.prototype.oa,wr.prototype.send=wr.prototype.ea,wr.prototype.setWithCredentials=wr.prototype.Ha,XN=wr}).apply(typeof gg<"u"?gg:typeof self<"u"?self:typeof window<"u"?window:{});const Gb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new KB("@firebase/firestore");function Cc(){return Tu.logLevel}function Oe(t,...e){if(Tu.logLevel<=Kt.DEBUG){const r=e.map(i_);Tu.debug(`Firestore (${Nh}): ${t}`,...r)}}function Oi(t,...e){if(Tu.logLevel<=Kt.ERROR){const r=e.map(i_);Tu.error(`Firestore (${Nh}): ${t}`,...r)}}function Uu(t,...e){if(Tu.logLevel<=Kt.WARN){const r=e.map(i_);Tu.warn(`Firestore (${Nh}): ${t}`,...r)}}function i_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t="Unexpected state"){const e=`FIRESTORE (${Nh}) INTERNAL ASSERTION FAILED: `+t;throw Oi(e),new Error(e)}function ct(t,e){t||it()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Ao{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ri.UNAUTHENTICATED))}shutdown(){}}class B8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class _8{constructor(e){this.t=e,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ct(this.o===void 0);let n=this.i;const i=o=>this.i!==n?(n=this.i,r(o)):Promise.resolve();let s=new vA;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vA,e.enqueueRetryable(()=>i(this.currentUser))};const A=()=>{const o=s;e.enqueueRetryable(async()=>{await o.promise,await i(this.currentUser)})},a=o=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(o=>a(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?a(o):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vA)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ct(typeof n.accessToken=="string"),new tT(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new ri(e)}}class C8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class b8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new C8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){ct(this.o===void 0);const n=s=>{s.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const A=s.token!==this.R;return this.R=s.token,Oe("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ct(typeof r.token=="string"),this.R=r.token,new E8(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=I8(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Ut(t,e){return t<e?-1:t>e?1:0}function dh(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function nT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ke(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ke(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ke(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new nr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new nr(0,0))}static max(){return new ft(new nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,r,n){r===void 0?r=0:r>e.length&&it(),n===void 0?n=e.length-r:n>e.length-r&&it(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Hf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Hf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),A=r.get(i);if(s<A)return-1;if(s>A)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class rr extends Hf{construct(e,r,n){return new rr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ke(Fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new rr(r)}static emptyPath(){return new rr([])}}const F8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends Hf{construct(e,r,n){return new Jr(e,r,n)}static isValidIdentifier(e){return F8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ke(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let A=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ke(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[i+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new Ke(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=o,i+=2}else a==="`"?(A=!A,i++):a!=="."||A?(n+=a,i++):(s(),i++)}if(s(),A)throw new Ke(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jr(r)}static emptyPath(){return new Jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(rr.fromString(e))}static fromName(e){return new ze(rr.fromString(e).popFirst(5))}static empty(){return new ze(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return rr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new rr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function Vv(t){return t.fields.find(e=>e.kind===2)}function tu(t){return t.fields.filter(e=>e.kind!==2)}d0.UNKNOWN_ID=-1;class Bm{constructor(e,r){this.fieldPath=e,this.kind=r}}class jf{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new jf(0,Ts.min())}}function S8(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ft.fromTimestamp(n===1e9?new nr(r+1,0):new nr(r,n));return new Ts(i,ze.empty(),e)}function iT(t){return new Ts(t.readTime,t.key,-1)}class Ts{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ts(ft.min(),ze.empty(),-1)}static max(){return new Ts(ft.max(),ze.empty(),-1)}}function s_(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ze.comparator(t.documentKey,e.documentKey),r!==0?r:Ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t){if(t.code!==Fe.FAILED_PRECONDITION||t.message!==sT)throw t;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ye((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ye?r:ye.resolve(r)}catch(r){return ye.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ye.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ye.reject(r)}static resolve(e){return new ye((r,n)=>{r(e)})}static reject(e){return new ye((r,n)=>{n(e)})}static waitFor(e){return new ye((r,n)=>{let i=0,s=0,A=!1;e.forEach(a=>{++i,a.next(()=>{++s,A&&s===i&&r()},o=>n(o))}),A=!0,s===i&&r()})}static or(e){let r=ye.resolve(!1);for(const n of e)r=r.next(i=>i?ye.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new ye((n,i)=>{const s=e.length,A=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;r(e[l]).next(u=>{A[l]=u,++a,a===s&&n(A)},u=>i(u))}})}static doWhile(e,r){return new ye((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new vA,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new nf(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=A_(n.target.error);this.V.reject(new nf(e,i))}}static open(e,r,n,i){try{return new lw(r,e.transaction(i,n))}catch(s){throw new nf(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new T8(r)}}class dl{constructor(e,r,n){this.name=e,this.version=r,this.p=n,dl.S(kn())===12.2&&Oi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),iu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!aN())return!1;if(dl.v())return!0;const e=kn(),r=dl.S(e),n=0<r&&r<10,i=aT(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Oe("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const A=s.target.result;r(A)},i.onblocked=()=>{n(new nf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const A=s.target.error;A.name==="VersionError"?n(new Ke(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):A.name==="InvalidStateError"?n(new Ke(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A)):n(new nf(e,A))},i.onupgradeneeded=s=>{Oe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const A=s.target.result;this.p.O(A,i.transaction,s.oldVersion,this.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let A=0;for(;;){++A;try{this.db=await this.M(e);const a=lw.open(this.db,e,s?"readonly":"readwrite",n),o=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),ye.reject(l))).toPromise();return o.catch(()=>{}),await a.m,o}catch(a){const o=a,l=o.name!=="FirebaseError"&&A<3;if(Oe("SimpleDb","Transaction failed with error:",o.message,"Retrying:",l),this.close(),!l)return Promise.reject(o)}}}close(){this.db&&this.db.close(),this.db=void 0}}function aT(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class N8{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return iu(this.B.delete())}}class nf extends Ke{constructor(e,r){super(Fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ul(t){return t.name==="IndexedDbTransactionError"}class T8{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Oe("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),iu(n)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),iu(this.store.add(e))}get(e){return iu(this.store.get(e)).next(r=>(r===void 0&&(r=null),Oe("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),iu(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),iu(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new ye((A,a)=>{s.onerror=o=>{a(o.target.error)},s.onsuccess=o=>{A(o.target.result)}})}{const s=this.cursor(n),A=[];return this.W(s,(a,o)=>{A.push(o)}).next(()=>A)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new ye((i,s)=>{n.onerror=A=>{s(A.target.error)},n.onsuccess=A=>{i(A.target.result)}})}j(e,r){Oe("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,(s,A,a)=>a.delete())}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new ye((n,i)=>{r.onerror=s=>{const A=A_(s.target.error);i(A)},r.onsuccess=s=>{const A=s.target.result;A?e(A.primaryKey,A.value).next(a=>{a?A.continue():n()}):n()}})}W(e,r){const n=[];return new ye((i,s)=>{e.onerror=A=>{s(A.target.error)},e.onsuccess=A=>{const a=A.target.result;if(!a)return void i();const o=new N8(a),l=r(a.primaryKey,a.value,o);if(l instanceof ye){const u=l.catch(d=>(o.done(),ye.reject(d)));n.push(u)}o.isDone?i():o.K===null?a.continue():a.continue(o.K)}}).next(()=>ye.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function iu(t){return new ye((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=A_(n.target.error);r(i)}})}let qb=!1;function A_(t){const e=dl.S(kn());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qb||(qb=!0,setTimeout(()=>{throw n},0)),n}}return t}class U8{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Oe("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Oe("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){Ul(r)?Oe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await Gu(r)}await this.X(6e4)})}}class Q8{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let i=r,s=!0;return ye.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(A=>{if(A!==null&&!n.has(A))return Oe("IndexBackfiller",`Processing collection: ${A}`),this.ne(e,A,i).next(a=>{i-=a,n.add(A)});s=!1})).next(()=>r-i)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(s=>{const A=s.changes;return this.localStore.indexManager.updateIndexEntries(e,A).next(()=>this.re(i,s)).next(a=>(Oe("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,r,a))).next(()=>A.size)}))}re(e,r){let n=e;return r.changes.forEach((i,s)=>{const A=iT(s);s_(A,n)>0&&(n=A)}),new Ts(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ws.oe=-1;function vp(t){return t==null}function Vf(t){return t===0&&1/t==-1/0}function L8(t){return typeof t=="number"&&Number.isInteger(t)&&!Vf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=zb(e)),e=P8(t.get(r),e);return zb(e)}function P8(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function zb(t){return t+""}function na(t){const e=t.length;if(ct(e>=2),e===2)return ct(t.charAt(0)===""&&t.charAt(1)===""),rr.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const A=t.indexOf("",s);switch((A<0||A>r)&&it(),t.charAt(A+1)){case"":const a=t.substring(s,A);let o;i.length===0?o=a:(i+=a,o=i,i=""),n.push(o);break;case"":i+=t.substring(s,A),i+="\0";break;case"":i+=t.substring(s,A+1);break;default:it()}s=A+2}return new rr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e){return[t,Hi(e)]}function oT(t,e,r){return[t,Hi(e),r]}const k8={},R8=["prefixPath","collectionGroup","readTime","documentId"],D8=["prefixPath","collectionGroup","documentId"],O8=["collectionGroup","readTime","prefixPath","documentId"],M8=["canonicalId","targetId"],H8=["targetId","path"],j8=["path","targetId"],V8=["collectionId","parent"],K8=["indexId","uid"],G8=["uid","sequenceNumber"],q8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],z8=["indexId","uid","orderedDocumentKey"],W8=["userId","collectionPath","documentId"],$8=["userId","collectionPath","largestBatchId"],X8=["userId","collectionGroup","largestBatchId"],lT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y8=[...lT,"documentOverlays"],uT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cT=uT,a_=[...cT,"indexConfiguration","indexState","indexEntries"],J8=a_,Z8=[...a_,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends AT{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Rn(t,e){const r=Et(t);return dl.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function qu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function hT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,r){this.comparator=e,this.root=r||ni.EMPTY}insert(e,r){return new $r(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new $r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mg(this.root,e,this.comparator,!1)}getReverseIterator(){return new mg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mg(this.root,e,this.comparator,!0)}}class mg{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??ni.RED,this.left=i??ni.EMPTY,this.right=s??ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new ni(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ni.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1;ni.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(e,r,n,i,s){return this}insert(e,r,n){return new ni(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.comparator=e,this.data=new $r(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Xb(this.data.getIterator())}getIteratorFrom(e){return new Xb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Br(this.comparator);return r.data=e,r}}class Xb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ac(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.fields=e,e.sort(Jr.comparator)}static empty(){return new is([])}unionWith(e){let r=new Br(Jr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new is(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return dh(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dT("Invalid base64 string: "+s):s}}(e);return new Fn(r)}static fromUint8Array(e){const r=function(i){let s="";for(let A=0;A<i.length;++A)s+=String.fromCharCode(i[A]);return s}(e);return new Fn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const eH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(ct(!!t),typeof t=="string"){let e=0;const r=eH.exec(t);if(ct(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vr(t.seconds),nanos:Vr(t.nanos)}}function Vr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bl(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function l_(t){const e=t.mapValue.fields.__previous_value__;return o_(e)?l_(e):e}function Kf(t){const e=no(t.mapValue.fields.__local_write_time__.timestampValue);return new nr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,r,n,i,s,A,a,o,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=A,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Qu{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cm={nullValue:"NULL_VALUE"};function Lu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o_(t)?4:fT(t)?9007199254740991:uw(t)?10:11:it()}function ua(t,e){if(t===e)return!0;const r=Lu(t);if(r!==Lu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kf(t).isEqual(Kf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const A=no(i.timestampValue),a=no(s.timestampValue);return A.seconds===a.seconds&&A.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Bl(i.bytesValue).isEqual(Bl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Vr(i.geoPointValue.latitude)===Vr(s.geoPointValue.latitude)&&Vr(i.geoPointValue.longitude)===Vr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Vr(i.integerValue)===Vr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const A=Vr(i.doubleValue),a=Vr(s.doubleValue);return A===a?Vf(A)===Vf(a):isNaN(A)&&isNaN(a)}return!1}(t,e);case 9:return dh(t.arrayValue.values||[],e.arrayValue.values||[],ua);case 10:case 11:return function(i,s){const A=i.mapValue.fields||{},a=s.mapValue.fields||{};if($b(A)!==$b(a))return!1;for(const o in A)if(A.hasOwnProperty(o)&&(a[o]===void 0||!ua(A[o],a[o])))return!1;return!0}(t,e);default:return it()}}function Gf(t,e){return(t.values||[]).find(r=>ua(r,e))!==void 0}function _l(t,e){if(t===e)return 0;const r=Lu(t),n=Lu(e);if(r!==n)return Ut(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ut(t.booleanValue,e.booleanValue);case 2:return function(s,A){const a=Vr(s.integerValue||s.doubleValue),o=Vr(A.integerValue||A.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return Yb(t.timestampValue,e.timestampValue);case 4:return Yb(Kf(t),Kf(e));case 5:return Ut(t.stringValue,e.stringValue);case 6:return function(s,A){const a=Bl(s),o=Bl(A);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(s,A){const a=s.split("/"),o=A.split("/");for(let l=0;l<a.length&&l<o.length;l++){const u=Ut(a[l],o[l]);if(u!==0)return u}return Ut(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,A){const a=Ut(Vr(s.latitude),Vr(A.latitude));return a!==0?a:Ut(Vr(s.longitude),Vr(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Jb(t.arrayValue,e.arrayValue);case 10:return function(s,A){var a,o,l,u;const d=s.fields||{},m=A.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,_=(o=m.value)===null||o===void 0?void 0:o.arrayValue,E=Ut(((l=p==null?void 0:p.values)===null||l===void 0?void 0:l.length)||0,((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0);return E!==0?E:Jb(p,_)}(t.mapValue,e.mapValue);case 11:return function(s,A){if(s===Yo.mapValue&&A===Yo.mapValue)return 0;if(s===Yo.mapValue)return 1;if(A===Yo.mapValue)return-1;const a=s.fields||{},o=Object.keys(a),l=A.fields||{},u=Object.keys(l);o.sort(),u.sort();for(let d=0;d<o.length&&d<u.length;++d){const m=Ut(o[d],u[d]);if(m!==0)return m;const p=_l(a[o[d]],l[u[d]]);if(p!==0)return p}return Ut(o.length,u.length)}(t.mapValue,e.mapValue);default:throw it()}}function Yb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ut(t,e);const r=no(t),n=no(e),i=Ut(r.seconds,n.seconds);return i!==0?i:Ut(r.nanos,n.nanos)}function Jb(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=_l(r[i],n[i]);if(s)return s}return Ut(r.length,n.length)}function fh(t){return Gv(t)}function Gv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=no(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Bl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ze.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Gv(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const A of n)s?s=!1:i+=",",i+=`${A}:${Gv(r.fields[A])}`;return i+"}"}(t.mapValue):it()}function qf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qv(t){return!!t&&"integerValue"in t}function zf(t){return!!t&&"arrayValue"in t}function Zb(t){return!!t&&"nullValue"in t}function eE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bm(t){return!!t&&"mapValue"in t}function uw(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function sf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=sf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=sf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function fT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const pT={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function rH(t){return"nullValue"in t?Cm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?qf(Qu.empty(),ze.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?uw(t)?pT:{mapValue:{}}:it()}function nH(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?qf(Qu.empty(),ze.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?pT:"mapValue"in t?uw(t)?{mapValue:{}}:Yo:it()}function tE(t,e){const r=_l(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function rE(t,e){const r=_l(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!bm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=sf(r)}setAll(e){let r=Jr.emptyPath(),n={},i=[];e.forEach((A,a)=>{if(!r.isImmediateParentOf(a)){const o=this.getFieldsMap(r);this.applyChanges(o,n,i),n={},i=[],r=a.popLast()}A?n[a.lastSegment()]=sf(A):i.push(a.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());bm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ua(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];bm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){qu(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new ii(sf(this.value))}}function gT(t){const e=[];return qu(t.fields,(r,n)=>{const i=new Jr([r]);if(bm(n)){const s=gT(n.mapValue).fields;if(s.length===0)e.push(i);else for(const A of s)e.push(i.child(A))}else e.push(i)}),new is(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,r,n,i,s,A,a){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=A,this.documentState=a}static newInvalidDocument(e){return new Gr(e,0,ft.min(),ft.min(),ft.min(),ii.empty(),0)}static newFoundDocument(e,r,n,i){return new Gr(e,1,r,ft.min(),n,i,0)}static newNoDocument(e,r){return new Gr(e,2,r,ft.min(),ft.min(),ii.empty(),0)}static newUnknownDocument(e,r){return new Gr(e,3,r,ft.min(),ft.min(),ii.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,r){this.position=e,this.inclusive=r}}function nE(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],A=t.position[i];if(s.field.isKeyField()?n=ze.comparator(ze.fromName(A.referenceValue),r.key):n=_l(A,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function iE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ua(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,r="asc"){this.field=e,this.dir=r}}function iH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{}class Gt extends mT{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new sH(e,r,n):r==="array-contains"?new oH(e,n):r==="in"?new CT(e,n):r==="not-in"?new lH(e,n):r==="array-contains-any"?new uH(e,n):new Gt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new AH(e,n):new aH(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(_l(r,this.value)):r!==null&&Lu(this.value)===Lu(r)&&this.matchesComparison(_l(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends mT{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new gr(e,r)}matches(e){return gh(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gh(t){return t.op==="and"}function zv(t){return t.op==="or"}function u_(t){return wT(t)&&gh(t)}function wT(t){for(const e of t.filters)if(e instanceof gr)return!1;return!0}function Wv(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+fh(t.value);if(u_(t))return t.filters.map(e=>Wv(e)).join(",");{const e=t.filters.map(r=>Wv(r)).join(",");return`${t.op}(${e})`}}function yT(t,e){return t instanceof Gt?function(n,i){return i instanceof Gt&&n.op===i.op&&n.field.isEqual(i.field)&&ua(n.value,i.value)}(t,e):t instanceof gr?function(n,i){return i instanceof gr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,A,a)=>s&&yT(A,i.filters[a]),!0):!1}(t,e):void it()}function vT(t,e){const r=t.filters.concat(e);return gr.create(r,t.op)}function BT(t){return t instanceof Gt?function(r){return`${r.field.canonicalString()} ${r.op} ${fh(r.value)}`}(t):t instanceof gr?function(r){return r.op.toString()+" {"+r.getFilters().map(BT).join(" ,")+"}"}(t):"Filter"}class sH extends Gt{constructor(e,r,n){super(e,r,n),this.key=ze.fromName(n.referenceValue)}matches(e){const r=ze.comparator(e.key,this.key);return this.matchesComparison(r)}}class AH extends Gt{constructor(e,r){super(e,"in",r),this.keys=_T("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class aH extends Gt{constructor(e,r){super(e,"not-in",r),this.keys=_T("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function _T(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ze.fromName(n.referenceValue))}class oH extends Gt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return zf(r)&&Gf(r.arrayValue,this.value)}}class CT extends Gt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Gf(this.value.arrayValue,r)}}class lH extends Gt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Gf(this.value.arrayValue,r)}}class uH extends Gt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!zf(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Gf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e,r=null,n=[],i=[],s=null,A=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=A,this.endAt=a,this.ue=null}}function $v(t,e=null,r=[],n=[],i=null,s=null,A=null){return new cH(t,e,r,n,i,s,A)}function Pu(t){const e=Et(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Wv(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),vp(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>fh(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>fh(n)).join(",")),e.ue=r}return e.ue}function Bp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!iH(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!yT(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iE(t.startAt,e.startAt)&&iE(t.endAt,e.endAt)}function f0(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function p0(t,e){return t.filters.filter(r=>r instanceof Gt&&r.field.isEqual(e))}function sE(t,e,r){let n=Cm,i=!0;for(const s of p0(t,e)){let A=Cm,a=!0;switch(s.op){case"<":case"<=":A=rH(s.value);break;case"==":case"in":case">=":A=s.value;break;case">":A=s.value,a=!1;break;case"!=":case"not-in":A=Cm}tE({value:n,inclusive:i},{value:A,inclusive:a})<0&&(n=A,i=a)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const A=r.position[s];tE({value:n,inclusive:i},{value:A,inclusive:r.inclusive})<0&&(n=A,i=r.inclusive);break}}return{value:n,inclusive:i}}function AE(t,e,r){let n=Yo,i=!0;for(const s of p0(t,e)){let A=Yo,a=!0;switch(s.op){case">=":case">":A=nH(s.value),a=!1;break;case"==":case"in":case"<=":A=s.value;break;case"<":A=s.value,a=!1;break;case"!=":case"not-in":A=Yo}rE({value:n,inclusive:i},{value:A,inclusive:a})>0&&(n=A,i=a)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const A=r.position[s];rE({value:n,inclusive:i},{value:A,inclusive:r.inclusive})>0&&(n=A,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,r=null,n=[],i=[],s=null,A="F",a=null,o=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=A,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hH(t,e,r,n,i,s,A,a){return new Th(t,e,r,n,i,s,A,a)}function _p(t){return new Th(t)}function aE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bT(t){return t.collectionGroup!==null}function Af(t){const e=Et(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let a=new Br(Jr.comparator);return A.filters.forEach(o=>{o.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wf(s,n))}),r.has(Jr.keyField().canonicalString())||e.ce.push(new Wf(Jr.keyField(),n))}return e.ce}function Js(t){const e=Et(t);return e.le||(e.le=dH(e,Af(t))),e.le}function dH(t,e){if(t.limitType==="F")return $v(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wf(i.field,s)});const r=t.endAt?new ph(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ph(t.startAt.position,t.startAt.inclusive):null;return $v(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Xv(t,e){const r=t.filters.concat([e]);return new Th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function g0(t,e,r){return new Th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function cw(t,e){return Bp(Js(t),Js(e))&&t.limitType===e.limitType}function ET(t){return`${Pu(Js(t))}|lt:${t.limitType}`}function bc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>BT(i)).join(", ")}]`),vp(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>fh(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>fh(i)).join(",")),`Target(${n})`}(Js(t))}; limitType=${t.limitType})`}function Cp(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ze.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Af(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(A,a,o){const l=nE(A,a,o);return A.inclusive?l<=0:l<0}(n.startAt,Af(n),i)||n.endAt&&!function(A,a,o){const l=nE(A,a,o);return A.inclusive?l>=0:l>0}(n.endAt,Af(n),i))}(t,e)}function fH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xT(t){return(e,r)=>{let n=!1;for(const i of Af(t)){const s=pH(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function pH(t,e,r){const n=t.field.isKeyField()?ze.comparator(e.key,r.key):function(s,A,a){const o=A.data.field(s),l=a.data.field(s);return o!==null&&l!==null?_l(o,l):it()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return it()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qu(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return hT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=new $r(ze.comparator);function Is(){return gH}const IT=new $r(ze.comparator);function Rd(...t){let e=IT;for(const r of t)e=e.insert(r.key,r);return e}function FT(t){let e=IT;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ia(){return af()}function ST(){return af()}function af(){return new Ql(t=>t.toString(),(t,e)=>t.isEqual(e))}const mH=new $r(ze.comparator),wH=new Br(ze.comparator);function Rt(...t){let e=wH;for(const r of t)e=e.add(r);return e}const yH=new Br(Ut);function vH(){return yH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(e)?"-0":e}}function NT(t){return{integerValue:""+t}}function BH(t,e){return L8(e)?NT(e):c_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this._=void 0}}function _H(t,e,r){return t instanceof $f?function(i,s){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&o_(s)&&(s=l_(s)),s&&(A.fields.__previous_value__=s),{mapValue:A}}(r,e):t instanceof mh?UT(t,e):t instanceof wh?QT(t,e):function(i,s){const A=TT(i,s),a=oE(A)+oE(i.Pe);return qv(A)&&qv(i.Pe)?NT(a):c_(i.serializer,a)}(t,e)}function CH(t,e,r){return t instanceof mh?UT(t,e):t instanceof wh?QT(t,e):r}function TT(t,e){return t instanceof Xf?function(n){return qv(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class $f extends hw{}class mh extends hw{constructor(e){super(),this.elements=e}}function UT(t,e){const r=LT(e);for(const n of t.elements)r.some(i=>ua(i,n))||r.push(n);return{arrayValue:{values:r}}}class wh extends hw{constructor(e){super(),this.elements=e}}function QT(t,e){let r=LT(e);for(const n of t.elements)r=r.filter(i=>!ua(i,n));return{arrayValue:{values:r}}}class Xf extends hw{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function oE(t){return Vr(t.integerValue||t.doubleValue)}function LT(t){return zf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,r){this.field=e,this.transform=r}}function EH(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof mh&&i instanceof mh||n instanceof wh&&i instanceof wh?dh(n.elements,i.elements,ua):n instanceof Xf&&i instanceof Xf?ua(n.Pe,i.Pe):n instanceof $f&&i instanceof $f}(t.transform,e.transform)}class xH{constructor(e,r){this.version=e,this.transformResults=r}}class qr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Em(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dw{}function PT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qh(t.key,qr.none()):new Uh(t.key,t.data,qr.none());{const r=t.data,n=ii.empty();let i=new Br(Jr.comparator);for(let s of e.fields)if(!i.has(s)){let A=r.field(s);A===null&&s.length>1&&(s=s.popLast(),A=r.field(s)),A===null?n.delete(s):n.set(s,A),i=i.add(s)}return new ao(t.key,n,new is(i.toArray()),qr.none())}}function IH(t,e,r){t instanceof Uh?function(i,s,A){const a=i.value.clone(),o=uE(i.fieldTransforms,s,A.transformResults);a.setAll(o),s.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,r):t instanceof ao?function(i,s,A){if(!Em(i.precondition,s))return void s.convertToUnknownDocument(A.version);const a=uE(i.fieldTransforms,s,A.transformResults),o=s.data;o.setAll(kT(i)),o.setAll(a),s.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,r):function(i,s,A){s.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,r)}function of(t,e,r,n){return t instanceof Uh?function(s,A,a,o){if(!Em(s.precondition,A))return a;const l=s.value.clone(),u=cE(s.fieldTransforms,o,A);return l.setAll(u),A.convertToFoundDocument(A.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof ao?function(s,A,a,o){if(!Em(s.precondition,A))return a;const l=cE(s.fieldTransforms,o,A),u=A.data;return u.setAll(kT(s)),u.setAll(l),A.convertToFoundDocument(A.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,A,a){return Em(s.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):a}(t,e,r)}function FH(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=TT(n.transform,i||null);s!=null&&(r===null&&(r=ii.empty()),r.set(n.field,s))}return r||null}function lE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&dh(n,i,(s,A)=>EH(s,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uh extends dw{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ao extends dw{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kT(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function uE(t,e,r){const n=new Map;ct(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],A=s.transform,a=e.data.field(s.field);n.set(s.field,CH(A,a,r[i]))}return n}function cE(t,e,r){const n=new Map;for(const i of t){const s=i.transform,A=r.data.field(i.field);n.set(i.field,_H(s,A,e))}return n}class Qh extends dw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h_ extends dw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IH(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=of(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=of(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=ST();return this.mutations.forEach(i=>{const s=e.get(i.key),A=s.overlayedDocument;let a=this.applyToLocalView(A,s.mutatedFields);a=r.has(i.key)?null:a;const o=PT(A,a);o!==null&&n.set(i.key,o),A.isValidDocument()||A.convertToNoDocument(ft.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Rt())}isEqual(e){return this.batchId===e.batchId&&dh(this.mutations,e.mutations,(r,n)=>lE(r,n))&&dh(this.baseMutations,e.baseMutations,(r,n)=>lE(r,n))}}class f_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ct(e.mutations.length===n.length);let i=function(){return mH}();const s=e.mutations;for(let A=0;A<s.length;A++)i=i.insert(s[A].key,n[A].version);return new f_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,Xt;function RT(t){switch(t){default:return it();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function DT(t){if(t===void 0)return Oi("GRPC error has no .code"),Fe.UNKNOWN;switch(t){case En.OK:return Fe.OK;case En.CANCELLED:return Fe.CANCELLED;case En.UNKNOWN:return Fe.UNKNOWN;case En.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case En.INTERNAL:return Fe.INTERNAL;case En.UNAVAILABLE:return Fe.UNAVAILABLE;case En.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case En.NOT_FOUND:return Fe.NOT_FOUND;case En.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case En.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case En.ABORTED:return Fe.ABORTED;case En.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case En.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case En.DATA_LOSS:return Fe.DATA_LOSS;default:return it()}}(Xt=En||(En={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=new gu([4294967295,4294967295],0);function hE(t){const e=NH().encode(t),r=new $N;return r.update(e),new Uint8Array(r.digest())}function dE(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gu([r,n],0),new gu([i,s],0)]}class g_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Dd(`Invalid padding: ${r}`);if(n<0)throw new Dd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Dd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Dd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=gu.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(gu.fromNumber(n)));return i.compare(TH)===1&&(i=new gu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=hE(e),[n,i]=dE(r);for(let s=0;s<this.hashCount;s++){const A=this.Ee(n,i,s);if(!this.de(A))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),A=new g_(s,i,r);return n.forEach(a=>A.insert(a)),A}insert(e){if(this.Ie===0)return;const r=hE(e),[n,i]=dE(r);for(let s=0;s<this.hashCount;s++){const A=this.Ee(n,i,s);this.Ae(A)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,bp.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new fw(ft.min(),i,new $r(Ut),Is(),Rt())}}class bp{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new bp(n,r,Rt(),Rt(),Rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class OT{constructor(e,r){this.targetId=e,this.me=r}}class MT{constructor(e,r,n=Fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class fE{constructor(){this.fe=0,this.ge=gE(),this.pe=Fn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Rt(),r=Rt(),n=Rt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:it()}}),new bp(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=gE()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UH{constructor(e){this.Le=e,this.Be=new Map,this.ke=Is(),this.qe=pE(),this.Qe=new $r(Ut)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:it()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(f0(s))if(n===0){const A=new ze(s.path);this.Ue(r,A,Gr.newNoDocument(A,ft.min()))}else ct(n===1);else{const A=this.Ye(r);if(A!==n){const a=this.Ze(e),o=a?this.Xe(a,e,A):1;if(o!==0){this.je(r);const l=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let A,a;try{A=Bl(n).toUint8Array()}catch(o){if(o instanceof dT)return Uu("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new g_(A,i,s)}catch(o){return Uu(o instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const A=this.Le.tt(),a=`projects/${A.projectId}/databases/${A.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,A)=>{const a=this.Je(A);if(a){if(s.current&&f0(a.target)){const o=new ze(a.target.path);this.ke.get(o)!==null||this.it(A,o)||this.Ue(A,o,Gr.newNoDocument(o,e))}s.be&&(r.set(A,s.ve()),s.Ce())}});let n=Rt();this.qe.forEach((s,A)=>{let a=!0;A.forEachWhile(o=>{const l=this.Je(o);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(s))}),this.ke.forEach((s,A)=>A.setReadTime(e));const i=new fw(e,r,this.Qe,this.ke,n);return this.ke=Is(),this.qe=pE(),this.Qe=new $r(Ut),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new fE,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Br(Ut),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Oe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fE),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function pE(){return new $r(ze.comparator)}function gE(){return new $r(ze.comparator)}const QH={asc:"ASCENDING",desc:"DESCENDING"},LH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PH={and:"AND",or:"OR"};class kH{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Yv(t,e){return t.useProto3Json||vp(e)?e:{value:e}}function yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RH(t,e){return yh(t,e.toTimestamp())}function Wn(t){return ct(!!t),ft.fromTimestamp(function(r){const n=no(r);return new nr(n.seconds,n.nanos)}(t))}function m_(t,e){return Jv(t,e).canonicalString()}function Jv(t,e){const r=function(i){return new rr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function jT(t){const e=rr.fromString(t);return ct(YT(e)),e}function Yf(t,e){return m_(t.databaseId,e.path)}function Wa(t,e){const r=jT(e);if(r.get(1)!==t.databaseId.projectId)throw new Ke(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ke(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ze(GT(r))}function VT(t,e){return m_(t.databaseId,e)}function KT(t){const e=jT(t);return e.length===4?rr.emptyPath():GT(e)}function Zv(t){return new rr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GT(t){return ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mE(t,e,r){return{name:Yf(t,e),fields:r.value.mapValue.fields}}function DH(t,e,r){const n=Wa(t,e.name),i=Wn(e.updateTime),s=e.createTime?Wn(e.createTime):ft.min(),A=new ii({mapValue:{fields:e.fields}}),a=Gr.newFoundDocument(n,i,s,A);return r&&a.setHasCommittedMutations(),r?a.setHasCommittedMutations():a}function OH(t,e){return"found"in e?function(n,i){ct(!!i.found),i.found.name,i.found.updateTime;const s=Wa(n,i.found.name),A=Wn(i.found.updateTime),a=i.found.createTime?Wn(i.found.createTime):ft.min(),o=new ii({mapValue:{fields:i.found.fields}});return Gr.newFoundDocument(s,A,a,o)}(t,e):"missing"in e?function(n,i){ct(!!i.missing),ct(!!i.readTime);const s=Wa(n,i.missing),A=Wn(i.readTime);return Gr.newNoDocument(s,A)}(t,e):it()}function MH(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:it()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(ct(u===void 0||typeof u=="string"),Fn.fromBase64String(u||"")):(ct(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Fn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,a=A&&function(l){const u=l.code===void 0?Fe.UNKNOWN:DT(l.code);return new Ke(u,l.message||"")}(A);r=new MT(n,i,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Wa(t,n.document.name),s=Wn(n.document.updateTime),A=n.document.createTime?Wn(n.document.createTime):ft.min(),a=new ii({mapValue:{fields:n.document.fields}}),o=Gr.newFoundDocument(i,s,A,a),l=n.targetIds||[],u=n.removedTargetIds||[];r=new xm(l,u,o.key,o)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Wa(t,n.document),s=n.readTime?Wn(n.readTime):ft.min(),A=Gr.newNoDocument(i,s),a=n.removedTargetIds||[];r=new xm([],a,A.key,A)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Wa(t,n.document),s=n.removedTargetIds||[];r=new xm([],s,i,null)}else{if(!("filter"in e))return it();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,A=new SH(i,s),a=n.targetId;r=new OT(a,A)}}return r}function Jf(t,e){let r;if(e instanceof Uh)r={update:mE(t,e.key,e.value)};else if(e instanceof Qh)r={delete:Yf(t,e.key)};else if(e instanceof ao)r={update:mE(t,e.key,e.data),updateMask:qH(e.fieldMask)};else{if(!(e instanceof h_))return it();r={verify:Yf(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,A){const a=A.transform;if(a instanceof $f)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mh)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wh)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xf)return{fieldPath:A.field.canonicalString(),increment:a.Pe};throw it()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:RH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:it()}(t,e.precondition)),r}function e2(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?qr.updateTime(Wn(s.updateTime)):s.exists!==void 0?qr.exists(s.exists):qr.none()}(e.currentDocument):qr.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(A,a){let o=null;if("setToServerValue"in a)ct(a.setToServerValue==="REQUEST_TIME"),o=new $f;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];o=new mh(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];o=new wh(u)}else"increment"in a?o=new Xf(A,a.increment):it();const l=Jr.fromServerFormat(a.fieldPath);return new bH(l,o)}(t,i)):[];if(e.update){e.update.name;const i=Wa(t,e.update.name),s=new ii({mapValue:{fields:e.update.fields}});if(e.updateMask){const A=function(o){const l=o.fieldPaths||[];return new is(l.map(u=>Jr.fromServerFormat(u)))}(e.updateMask);return new ao(i,s,A,r,n)}return new Uh(i,s,r,n)}if(e.delete){const i=Wa(t,e.delete);return new Qh(i,r)}if(e.verify){const i=Wa(t,e.verify);return new h_(i,r)}return it()}function HH(t,e){return t&&t.length>0?(ct(e!==void 0),t.map(r=>function(i,s){let A=i.updateTime?Wn(i.updateTime):Wn(s);return A.isEqual(ft.min())&&(A=Wn(s)),new xH(A,i.transformResults||[])}(r,e))):[]}function qT(t,e){return{documents:[VT(t,e.path)]}}function zT(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=VT(t,i);const s=function(l){if(l.length!==0)return XT(gr.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const A=function(l){if(l.length!==0)return l.map(u=>function(m){return{field:Ec(m.field),direction:VH(m.dir)}}(u))}(e.orderBy);A&&(r.structuredQuery.orderBy=A);const a=Yv(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function WT(t){let e=KT(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ct(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(d){const m=$T(d);return m instanceof gr&&u_(m)?m.getFilters():[m]}(r.where));let A=[];r.orderBy&&(A=function(d){return d.map(m=>function(_){return new Wf(xc(_.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(r.orderBy));let a=null;r.limit&&(a=function(d){let m;return m=typeof d=="object"?d.value:d,vp(m)?null:m}(r.limit));let o=null;r.startAt&&(o=function(d){const m=!!d.before,p=d.values||[];return new ph(p,m)}(r.startAt));let l=null;return r.endAt&&(l=function(d){const m=!d.before,p=d.values||[];return new ph(p,m)}(r.endAt)),hH(e,i,A,s,a,"F",o,l)}function jH(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function $T(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=xc(r.unaryFilter.field);return Gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=xc(r.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xc(r.unaryFilter.field);return Gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=xc(r.unaryFilter.field);return Gt.create(A,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(t):t.fieldFilter!==void 0?function(r){return Gt.create(xc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return gr.create(r.compositeFilter.filters.map(n=>$T(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return it()}}(r.compositeFilter.op))}(t):it()}function VH(t){return QH[t]}function KH(t){return LH[t]}function GH(t){return PH[t]}function Ec(t){return{fieldPath:t.canonicalString()}}function xc(t){return Jr.fromServerFormat(t.fieldPath)}function XT(t){return t instanceof Gt?function(r){if(r.op==="=="){if(eE(r.value))return{unaryFilter:{field:Ec(r.field),op:"IS_NAN"}};if(Zb(r.value))return{unaryFilter:{field:Ec(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(eE(r.value))return{unaryFilter:{field:Ec(r.field),op:"IS_NOT_NAN"}};if(Zb(r.value))return{unaryFilter:{field:Ec(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ec(r.field),op:KH(r.op),value:r.value}}}(t):t instanceof gr?function(r){const n=r.getFilters().map(i=>XT(i));return n.length===1?n[0]:{compositeFilter:{op:GH(r.op),filters:n}}}(t):it()}function qH(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function YT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,r,n,i,s=ft.min(),A=ft.min(),a=Fn.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.ct=e}}function zH(t,e){let r;if(e.document)r=DH(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=ze.fromSegments(e.noDocument.path),i=Ru(e.noDocument.readTime);r=Gr.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const n=ze.fromSegments(e.unknownDocument.path),i=Ru(e.unknownDocument.version);r=Gr.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(i){const s=new nr(i[0],i[1]);return ft.fromTimestamp(s)}(e.readTime)),r}function wE(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:m0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,A){return{name:Yf(s,A.key),fields:A.data.value.mapValue.fields,updateTime:yh(s,A.version.toTimestamp()),createTime:yh(s,A.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:ku(e.version)};else{if(!e.isUnknownDocument())return it();n.unknownDocument={path:r.path.toArray(),version:ku(e.version)}}return n}function m0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ku(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ru(t){const e=new nr(t.seconds,t.nanoseconds);return ft.fromTimestamp(e)}function su(t,e){const r=(e.baseMutations||[]).map(s=>e2(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const A=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];A.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>e2(t.ct,s)),i=nr.fromMillis(e.localWriteTimeMs);return new d_(e.batchId,i,r,n)}function Od(t){const e=Ru(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?Ru(t.lastLimboFreeSnapshotVersion):ft.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){return ct(s.documents.length===1),Js(_p(KT(s.documents[0])))}(t.query):function(s){return Js(WT(s))}(t.query),new Ka(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Fn.fromBase64String(t.resumeToken))}function ZT(t,e){const r=ku(e.snapshotVersion),n=ku(e.lastLimboFreeSnapshotVersion);let i;i=f0(e.target)?qT(t.ct,e.target):zT(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pu(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function eU(t){const e=WT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g0(e,e.limit,"L"):e}function M1(t,e){return new p_(e.largestBatchId,e2(t.ct,e.overlayMutation))}function yE(t,e){const r=e.path.lastSegment();return[t,Hi(e.path.popLast()),r]}function vE(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:ku(n.readTime),documentKey:Hi(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{getBundleMetadata(e,r){return BE(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:Ru(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return BE(e).put(function(i){return{bundleId:i.id,createTime:ku(Wn(i.createTime)),version:i.version}}(r))}getNamedQuery(e,r){return _E(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:eU(s.bundledQuery),readTime:Ru(s.readTime)}}(n)})}saveNamedQuery(e,r){return _E(e).put(function(i){return{name:i.name,readTime:ku(Wn(i.readTime)),bundledQuery:i.bundledQuery}}(r))}}function BE(t){return Rn(t,"bundles")}function _E(t){return Rn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new pw(e,n)}getOverlay(e,r){return fd(e).get(yE(this.userId,r)).next(n=>n?M1(this.serializer,n):null)}getOverlays(e,r){const n=ia();return ye.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((s,A)=>{const a=new p_(r,A);i.push(this.ht(e,a))}),ye.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(A=>i.add(Hi(A.getCollectionPath())));const s=[];return i.forEach(A=>{const a=IDBKeyRange.bound([this.userId,A,n],[this.userId,A,n+1],!1,!0);s.push(fd(e).j("collectionPathOverlayIndex",a))}),ye.waitFor(s)}getOverlaysForCollection(e,r,n){const i=ia(),s=Hi(r),A=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return fd(e).U("collectionPathOverlayIndex",A).next(a=>{for(const o of a){const l=M1(this.serializer,o);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const s=ia();let A;const a=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return fd(e).J({index:"collectionGroupOverlayIndex",range:a},(o,l,u)=>{const d=M1(this.serializer,l);s.size()<i||d.largestBatchId===A?(s.set(d.getKey(),d),A=d.largestBatchId):u.done()}).next(()=>s)}ht(e,r){return fd(e).put(function(i,s,A){const[a,o,l]=yE(s,A.mutation.key);return{userId:s,collectionPath:o,documentId:l,collectionGroup:A.mutation.key.getCollectionGroup(),largestBatchId:A.largestBatchId,overlayMutation:Jf(i.ct,A.mutation)}}(this.serializer,this.userId,r))}}function fd(t){return Rn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{Pt(e){return Rn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Fn.fromUint8Array(n):Fn.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Vr(e.integerValue));else if("doubleValue"in e){const n=Vr(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Vf(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=no(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Bl(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?fT(e)?this.dt(r,Number.MAX_SAFE_INTEGER):uw(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):it()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const A="value",a=((i=(n=s[A].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(Vr(a)),this.Vt(A,r),this.Tt(s[A],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),ze.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Au.vt=new Au;function XH(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function CE(t){const e=64-function(n){let i=0;for(let s=0;s<8;++s){const A=XH(255&n[s]);if(i+=A,A!==8)break}return i}(t);return Math.ceil(e/8)}class YH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=CE(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=CE(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(s){const A=new DataView(new ArrayBuffer(8));return A.setFloat64(0,s,!1),new Uint8Array(A.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class JH{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class ZH{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class pd{constructor(){this.jt=new YH,this.Ht=new JH(this.jt),this.Jt=new ZH(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new au(this.indexId,this.documentKey,this.arrayValue,n)}}function No(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=bE(t.arrayValue,e.arrayValue),r!==0?r:(r=bE(t.directionalValue,e.directionalValue),r!==0?r:ze.comparator(t.documentKey,e.documentKey)))}function bE(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.Xt=new Br((r,n)=>Jr.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(ct(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Vv(e);if(r!==void 0&&!this.sn(r))return!1;const n=tu(e);let i=new Set,s=0,A=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const o=n[s];if(!this.on(a,o)||!this._n(this.en[A++],o))return!1}++s}for(;s<n.length;++s){const a=n[s];if(A>=this.en.length||!this._n(this.en[A++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Br(Jr.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new Bm(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new Bm(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new Bm(n.field,n.dir==="asc"?0:1)));return new d0(d0.UNKNOWN_ID,this.collectionId,r,jf.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t){var e,r;if(ct(t instanceof Gt||t instanceof gr),t instanceof Gt){if(t instanceof CT){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Gt.create(t.field,"==",s)))||[];return gr.create(i,"or")}return t}const n=t.filters.map(i=>tU(i));return gr.create(n,t.op)}function ej(t){if(t.getFilters().length===0)return[];const e=n2(tU(t));return ct(rU(e)),t2(e)||r2(e)?[e]:e.getFilters()}function t2(t){return t instanceof Gt}function r2(t){return t instanceof gr&&u_(t)}function rU(t){return t2(t)||r2(t)||function(r){if(r instanceof gr&&zv(r)){for(const n of r.getFilters())if(!t2(n)&&!r2(n))return!1;return!0}return!1}(t)}function n2(t){if(ct(t instanceof Gt||t instanceof gr),t instanceof Gt)return t;if(t.filters.length===1)return n2(t.filters[0]);const e=t.filters.map(n=>n2(n));let r=gr.create(e,t.op);return r=w0(r),rU(r)?r:(ct(r instanceof gr),ct(gh(r)),ct(r.filters.length>1),r.filters.reduce((n,i)=>w_(n,i)))}function w_(t,e){let r;return ct(t instanceof Gt||t instanceof gr),ct(e instanceof Gt||e instanceof gr),r=t instanceof Gt?e instanceof Gt?function(i,s){return gr.create([i,s],"and")}(t,e):xE(t,e):e instanceof Gt?xE(e,t):function(i,s){if(ct(i.filters.length>0&&s.filters.length>0),gh(i)&&gh(s))return vT(i,s.getFilters());const A=zv(i)?i:s,a=zv(i)?s:i,o=A.filters.map(l=>w_(l,a));return gr.create(o,"or")}(t,e),w0(r)}function xE(t,e){if(gh(e))return vT(e,t.getFilters());{const r=e.filters.map(n=>w_(t,n));return gr.create(r,"or")}}function w0(t){if(ct(t instanceof Gt||t instanceof gr),t instanceof Gt)return t;const e=t.getFilters();if(e.length===1)return w0(e[0]);if(wT(t))return t;const r=e.map(i=>w0(i)),n=[];return r.forEach(i=>{i instanceof Gt?n.push(i):i instanceof gr&&(i.op===t.op?n.push(...i.filters):n.push(i))}),n.length===1?n[0]:gr.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.un=new y_}addToCollectionParentIndex(e,r){return this.un.add(r),ye.resolve()}getCollectionParents(e,r){return ye.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ye.resolve()}deleteFieldIndex(e,r){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,r){return ye.resolve()}getDocumentsMatchingTarget(e,r){return ye.resolve(null)}getIndexType(e,r){return ye.resolve(0)}getFieldIndexes(e,r){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,r){return ye.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,r){return ye.resolve(Ts.min())}updateCollectionGroup(e,r,n){return ye.resolve()}updateIndexEntries(e,r){return ye.resolve()}}class y_{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Br(rr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Br(rr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=new Uint8Array(0);class rj{constructor(e,r){this.databaseId=r,this.cn=new y_,this.ln=new Ql(n=>Pu(n),(n,i)=>Bp(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const s={collectionId:n,parent:Hi(i)};return IE(e).put(s)}return ye.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[nT(r),""],!1,!0);return IE(e).U(i).next(s=>{for(const A of s){if(A.collectionId!==r)break;n.push(na(A.parent))}return n})}addFieldIndex(e,r){const n=gd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(o=>[o.fieldPath.canonicalString(),o.kind])}}(r);delete i.indexId;const s=n.add(i);if(r.indexState){const A=oc(e);return s.next(a=>{A.put(vE(a,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=gd(e),i=oc(e),s=ac(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=gd(e),n=ac(e),i=oc(e);return r.j().next(()=>n.j()).next(()=>i.j())}createTargetIndexes(e,r){return ye.forEach(this.hn(r),n=>this.getIndexType(e,n).next(i=>{if(i===0||i===1){const s=new EE(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=ac(e);let i=!0;const s=new Map;return ye.forEach(this.hn(r),A=>this.Pn(e,A).next(a=>{i&&(i=!!a),s.set(A,a)})).next(()=>{if(i){let A=Rt();const a=[];return ye.forEach(s,(o,l)=>{Oe("IndexedDbIndexManager",`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(U=>`${U.fieldPath}:${U.kind}`).join(",")}`}(o)} to execute ${Pu(r)}`);const u=function(I,U){const V=Vv(U);if(V===void 0)return null;for(const O of p0(I,V.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(l,o),d=function(I,U){const V=new Map;for(const O of tu(U))for(const L of p0(I,O.fieldPath))switch(L.op){case"==":case"in":V.set(O.fieldPath.canonicalString(),L.value);break;case"not-in":case"!=":return V.set(O.fieldPath.canonicalString(),L.value),Array.from(V.values())}return null}(l,o),m=function(I,U){const V=[];let O=!0;for(const L of tu(U)){const F=L.kind===0?sE(I,L.fieldPath,I.startAt):AE(I,L.fieldPath,I.startAt);V.push(F.value),O&&(O=F.inclusive)}return new ph(V,O)}(l,o),p=function(I,U){const V=[];let O=!0;for(const L of tu(U)){const F=L.kind===0?AE(I,L.fieldPath,I.endAt):sE(I,L.fieldPath,I.endAt);V.push(F.value),O&&(O=F.inclusive)}return new ph(V,O)}(l,o),_=this.In(o,l,m),E=this.In(o,l,p),B=this.Tn(o,l,d),w=this.En(o.indexId,u,_,m.inclusive,E,p.inclusive,B);return ye.forEach(w,b=>n.G(b,r.limit).next(I=>{I.forEach(U=>{const V=ze.fromSegments(U.documentKey);A.has(V)||(A=A.add(V),a.push(V))})}))}).next(()=>a)}return ye.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=ej(gr.create(e.filters,"and")).map(n=>$v(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,i,s,A,a){const o=(r!=null?r.length:1)*Math.max(n.length,s.length),l=o/(r!=null?r.length:1),u=[];for(let d=0;d<o;++d){const m=r?this.dn(r[d/l]):wg,p=this.An(e,m,n[d%l],i),_=this.Rn(e,m,s[d%l],A),E=a.map(B=>this.An(e,m,B,!0));u.push(...this.createRange(p,_,E))}return u}An(e,r,n,i){const s=new au(e,ze.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new au(e,ze.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new EE(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let A=null;for(const a of s)n.rn(a)&&(!A||a.fields.length>A.fields.length)&&(A=a);return A})}getIndexType(e,r){let n=2;const i=this.hn(r);return ye.forEach(i,s=>this.Pn(e,s).next(A=>{A?n!==0&&A.fields.length<function(o){let l=new Br(Jr.comparator),u=!1;for(const d of o.filters)for(const m of d.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?u=!0:l=l.add(m.field));for(const d of o.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(u?1:0)}(s)&&(n=1):n=0})).next(()=>function(A){return A.limit!==null}(r)&&i.length>1&&n===2?1:n)}Vn(e,r){const n=new pd;for(const i of tu(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const A=n.Yt(i.kind);Au.vt.It(s,A)}return n.zt()}dn(e){const r=new pd;return Au.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new pd;return Au.vt.It(qf(this.databaseId,r),n.Yt(function(s){const A=tu(s);return A.length===0?0:A[A.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new pd);let s=0;for(const A of tu(e)){const a=n[s++];for(const o of i)if(this.fn(r,A.fieldPath)&&zf(a))i=this.gn(i,A,a);else{const l=o.Yt(A.kind);Au.vt.It(a,l)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const A of n.arrayValue.values||[])for(const a of i){const o=new pd;o.seed(a.zt()),Au.vt.It(A,o.Yt(r.kind)),s.push(o)}return s}fn(e,r){return!!e.filters.find(n=>n instanceof Gt&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=gd(e),i=oc(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(s=>{const A=[];return ye.forEach(s,a=>i.get([a.indexId,this.uid]).next(o=>{A.push(function(u,d){const m=d?new jf(d.sequenceNumber,new Ts(Ru(d.readTime),new ze(na(d.documentKey)),d.largestBatchId)):jf.empty(),p=u.fields.map(([_,E])=>new Bm(Jr.fromServerFormat(_),E));return new d0(u.indexId,u.collectionGroup,p,m)}(a,o))})).next(()=>A)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ut(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=gd(e),s=oc(e);return this.yn(e).next(A=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(a=>ye.forEach(a,o=>s.put(vE(o.indexId,this.uid,A,n)))))}updateIndexEntries(e,r){const n=new Map;return ye.forEach(r,(i,s)=>{const A=n.get(i.collectionGroup);return(A?ye.resolve(A):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(n.set(i.collectionGroup,a),ye.forEach(a,o=>this.wn(e,i,o).next(l=>{const u=this.Sn(s,o);return l.isEqual(u)?ye.resolve():this.bn(e,s,o,l,u)}))))})}Dn(e,r,n,i){return ac(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return ac(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=ac(e);let s=new Br(No);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(A,a)=>{s=s.add(new au(n.indexId,r,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,r){let n=new Br(No);const i=this.Vn(r,e);if(i==null)return n;const s=Vv(r);if(s!=null){const A=e.data.field(s.fieldPath);if(zf(A))for(const a of A.arrayValue.values||[])n=n.add(new au(r.indexId,e.key,this.dn(a),i))}else n=n.add(new au(r.indexId,e.key,wg,i));return n}bn(e,r,n,i,s){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const A=[];return function(o,l,u,d,m){const p=o.getIterator(),_=l.getIterator();let E=Ac(p),B=Ac(_);for(;E||B;){let w=!1,b=!1;if(E&&B){const I=u(E,B);I<0?b=!0:I>0&&(w=!0)}else E!=null?b=!0:w=!0;w?(d(B),B=Ac(_)):b?(m(E),E=Ac(p)):(E=Ac(p),B=Ac(_))}}(i,s,No,a=>{A.push(this.Dn(e,r,n,a))},a=>{A.push(this.vn(e,r,n,a))}),ye.waitFor(A)}yn(e){let r=1;return oc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,s)=>{s.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((A,a)=>No(A,a)).filter((A,a,o)=>!a||No(A,o[a-1])!==0);const i=[];i.push(e);for(const A of n){const a=No(A,e),o=No(A,r);if(a===0)i[0]=e.Zt();else if(a>0&&o<0)i.push(A),i.push(A.Zt());else if(o>0)break}i.push(r);const s=[];for(let A=0;A<i.length;A+=2){if(this.Cn(i[A],i[A+1]))return[];const a=[i[A].indexId,this.uid,i[A].arrayValue,i[A].directionalValue,wg,[]],o=[i[A+1].indexId,this.uid,i[A+1].arrayValue,i[A+1].directionalValue,wg,[]];s.push(IDBKeyRange.bound(a,o))}return s}Cn(e,r){return No(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(FE)}getMinOffset(e,r){return ye.mapArray(this.hn(r),n=>this.Pn(e,n).next(i=>i||it())).next(FE)}}function IE(t){return Rn(t,"collectionParents")}function ac(t){return Rn(t,"indexEntries")}function gd(t){return Rn(t,"indexConfiguration")}function oc(t){return Rn(t,"indexState")}function FE(t){ct(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;s_(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new Ts(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class es{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new es(e,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],A=IDBKeyRange.only(r.batchId);let a=0;const o=n.J({range:A},(u,d,m)=>(a++,m.delete()));s.push(o.next(()=>{ct(a===1)}));const l=[];for(const u of r.mutations){const d=oT(e,u.key.path,r.batchId);s.push(i.delete(d)),l.push(u.key)}return ye.waitFor(s).next(()=>l)}function y0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw it();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class gw{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){ct(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new gw(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return To(e).J({index:"userMutationsIndex",range:n},(i,s,A)=>{r=!1,A.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const s=Ic(e),A=To(e);return A.add({}).next(a=>{ct(typeof a=="number");const o=new d_(a,r,n,i),l=function(p,_,E){const B=E.baseMutations.map(b=>Jf(p.ct,b)),w=E.mutations.map(b=>Jf(p.ct,b));return{userId:_,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:B,mutations:w}}(this.serializer,this.userId,o),u=[];let d=new Br((m,p)=>Ut(m.canonicalString(),p.canonicalString()));for(const m of i){const p=oT(this.userId,m.key.path,a);d=d.add(m.key.path.popLast()),u.push(A.put(l)),u.push(s.put(p,k8))}return d.forEach(m=>{u.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=o.keys()}),ye.waitFor(u).next(()=>o)})}lookupMutationBatch(e,r){return To(e).get(r).next(n=>n?(ct(n.userId===this.userId),su(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?ye.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return To(e).J({index:"userMutationsIndex",range:i},(A,a,o)=>{a.userId===this.userId&&(ct(a.batchId>=n),s=su(this.serializer,a)),o.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return To(e).J({index:"userMutationsIndex",range:r,reverse:!0},(i,s,A)=>{n=s.batchId,A.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return To(e).U("userMutationsIndex",r).next(n=>n.map(i=>su(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=_m(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return Ic(e).J({range:i},(A,a,o)=>{const[l,u,d]=A,m=na(u);if(l===this.userId&&r.path.isEqual(m))return To(e).get(d).next(p=>{if(!p)throw it();ct(p.userId===this.userId),s.push(su(this.serializer,p))});o.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Br(Ut);const i=[];return r.forEach(s=>{const A=_m(this.userId,s.path),a=IDBKeyRange.lowerBound(A),o=Ic(e).J({range:a},(l,u,d)=>{const[m,p,_]=l,E=na(p);m===this.userId&&s.path.isEqual(E)?n=n.add(_):d.done()});i.push(o)}),ye.waitFor(i).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=_m(this.userId,n),A=IDBKeyRange.lowerBound(s);let a=new Br(Ut);return Ic(e).J({range:A},(o,l,u)=>{const[d,m,p]=o,_=na(m);d===this.userId&&n.isPrefixOf(_)?_.length===i&&(a=a.add(p)):u.done()}).next(()=>this.xn(e,a))}xn(e,r){const n=[],i=[];return r.forEach(s=>{i.push(To(e).get(s).next(A=>{if(A===null)throw it();ct(A.userId===this.userId),n.push(su(this.serializer,A))}))}),ye.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return nU(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),ye.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ye.resolve();const n=IDBKeyRange.lowerBound(function(A){return[A]}(this.userId)),i=[];return Ic(e).J({range:n},(s,A,a)=>{if(s[0]===this.userId){const o=na(s[1]);i.push(o)}else a.done()}).next(()=>{ct(i.length===0)})})}containsKey(e,r){return iU(e,this.userId,r)}Nn(e){return sU(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iU(t,e,r){const n=_m(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let A=!1;return Ic(t).J({range:s,H:!0},(a,o,l)=>{const[u,d,m]=a;u===e&&d===i&&(A=!0),l.done()}).next(()=>A)}function To(t){return Rn(t,"mutations")}function Ic(t){return Rn(t,"documentMutations")}function sU(t){return Rn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Du(0)}static kn(){return new Du(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new Du(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>ft.fromTimestamp(new nr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>lc(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(ct(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let i=0;const s=[];return lc(e).J((A,a)=>{const o=Od(a);o.sequenceNumber<=r&&n.get(o.targetId)===null&&(i++,s.push(this.removeTargetData(e,o)))}).next(()=>ye.waitFor(s)).next(()=>i)}forEachTarget(e,r){return lc(e).J((n,i)=>{const s=Od(i);r(s)})}qn(e){return NE(e).get("targetGlobalKey").next(r=>(ct(r!==null),r))}Qn(e,r){return NE(e).put("targetGlobalKey",r)}Kn(e,r){return lc(e).put(ZT(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=Pu(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return lc(e).J({range:i,index:"queryTargetsIndex"},(A,a,o)=>{const l=Od(a);Bp(r,l.target)&&(s=l,o.done())}).next(()=>s)}addMatchingKeys(e,r,n){const i=[],s=qo(e);return r.forEach(A=>{const a=Hi(A.path);i.push(s.put({targetId:n,path:a})),i.push(this.referenceDelegate.addReference(e,n,A))}),ye.waitFor(i)}removeMatchingKeys(e,r,n){const i=qo(e);return ye.forEach(r,s=>{const A=Hi(s.path);return ye.waitFor([i.delete([n,A]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=qo(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=qo(e);let s=Rt();return i.J({range:n,H:!0},(A,a,o)=>{const l=na(A[1]),u=new ze(l);s=s.add(u)}).next(()=>s)}containsKey(e,r){const n=Hi(r.path),i=IDBKeyRange.bound([n],[nT(n)],!1,!0);let s=0;return qo(e).J({index:"documentTargetsIndex",H:!0,range:i},([A,a],o,l)=>{A!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,r){return lc(e).get(r).next(n=>n?Od(n):null)}}function lc(t){return Rn(t,"targets")}function NE(t){return Rn(t,"targetGlobal")}function qo(t){return Rn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE([t,e],[r,n]){const i=Ut(t,r);return i===0?Ut(e,n):i}class ij{constructor(e){this.Un=e,this.buffer=new Br(TE),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();TE(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class sj{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ul(r)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Gu(r)}await this.Hn(3e5)})}}class Aj{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return ye.resolve(Ws.oe);const n=new ij(r);return this.Jn.forEachTarget(e,i=>n.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>n.zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(SE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,A,a,o,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,A=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,a=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(l=Date.now(),Cc()<=Kt.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${A-u}ms
	Determined least recently used ${i} in `+(a-A)+`ms
	Removed ${s} targets in `+(o-a)+`ms
	Removed ${d} documents in `+(l-o)+`ms
Total Duration: ${l-u}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function aj(t,e){return new Aj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,r){this.db=e,this.garbageCollector=aj(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,i)=>r(i))}addReference(e,r,n){return yg(e,n)}removeReference(e,r,n){return yg(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return yg(e,r)}nr(e,r){return function(i,s){let A=!1;return sU(i).Y(a=>iU(i,a,s).next(o=>(o&&(A=!0),ye.resolve(!o)))).next(()=>A)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(A,a)=>{if(a<=r){const o=this.nr(e,A).next(l=>{if(!l)return s++,n.getEntry(e,A).next(()=>(n.removeEntry(A,ft.min()),qo(e).delete(function(d){return[0,Hi(d.path)]}(A))))});i.push(o)}}).next(()=>ye.waitFor(i)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return yg(e,r)}tr(e,r){const n=qo(e);let i,s=Ws.oe;return n.J({index:"documentTargetsIndex"},([A,a],{path:o,sequenceNumber:l})=>{A===0?(s!==Ws.oe&&r(new ze(na(i)),s),s=l,i=o):s=Ws.oe}).next(()=>{s!==Ws.oe&&r(new ze(na(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yg(t,e){return qo(t).put(function(n,i){return{targetId:0,path:Hi(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.changes=new Ql(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ye.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return $l(e).put(n)}removeEntry(e,r,n){return $l(e).delete(function(s,A){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],m0(A),a[a.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=Gr.newInvalidDocument(r);return $l(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(md(r))},(i,s)=>{n=this.ir(r,s)}).next(()=>n)}sr(e,r){let n={size:0,document:Gr.newInvalidDocument(r)};return $l(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(md(r))},(i,s)=>{n={document:this.ir(r,s),size:y0(s)}}).next(()=>n)}getEntries(e,r){let n=Is();return this._r(e,r,(i,s)=>{const A=this.ir(i,s);n=n.insert(i,A)}).next(()=>n)}ar(e,r){let n=Is(),i=new $r(ze.comparator);return this._r(e,r,(s,A)=>{const a=this.ir(s,A);n=n.insert(s,a),i=i.insert(s,y0(A))}).next(()=>({documents:n,ur:i}))}_r(e,r,n){if(r.isEmpty())return ye.resolve();let i=new Br(LE);r.forEach(o=>i=i.add(o));const s=IDBKeyRange.bound(md(i.first()),md(i.last())),A=i.getIterator();let a=A.getNext();return $l(e).J({index:"documentKeyIndex",range:s},(o,l,u)=>{const d=ze.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&LE(a,d)<0;)n(a,null),a=A.getNext();a&&a.isEqual(d)&&(n(a,l),a=A.hasNext()?A.getNext():null),a?u.$(md(a)):u.done()}).next(()=>{for(;a;)n(a,null),a=A.hasNext()?A.getNext():null})}getDocumentsMatchingQuery(e,r,n,i,s){const A=r.path,a=[A.popLast().toArray(),A.lastSegment(),m0(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[A.popLast().toArray(),A.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $l(e).U(IDBKeyRange.bound(a,o,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let u=Is();for(const d of l){const m=this.ir(ze.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);m.isFoundDocument()&&(Cp(r,m)||i.has(m.key))&&(u=u.insert(m.key,m))}return u})}getAllFromCollectionGroup(e,r,n,i){let s=Is();const A=QE(r,n),a=QE(r,Ts.max());return $l(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(A,a,!0)},(o,l,u)=>{const d=this.ir(ze.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new uj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return UE(e).get("remoteDocumentGlobalKey").next(r=>(ct(!!r),r))}rr(e,r){return UE(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=zH(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(ft.min())))return n}return Gr.newInvalidDocument(e)}}function aU(t){return new lj(t)}class uj extends AU{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Ql(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new Br((s,A)=>Ut(s.canonicalString(),A.canonicalString()));return this.changes.forEach((s,A)=>{const a=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,a.readTime)),A.isValidDocument()){const o=wE(this.cr.serializer,A);i=i.add(s.path.popLast());const l=y0(o);n+=l-a.size,r.push(this.cr.addEntry(e,s,o))}else if(n-=a.size,this.trackRemovals){const o=wE(this.cr.serializer,A.convertToNoDocument(ft.min()));r.push(this.cr.addEntry(e,s,o))}}),i.forEach(s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.cr.updateMetadata(e,n)),ye.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:i})=>(i.forEach((s,A)=>{this.lr.set(s,{size:A,readTime:n.get(s).readTime})}),n))}}function UE(t){return Rn(t,"remoteDocumentGlobal")}function $l(t){return Rn(t,"remoteDocumentsV14")}function md(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QE(t,e){const r=e.documentKey.path.toArray();return[t,m0(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function LE(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Ut(r[s],n[s]),i)return i;return i=Ut(r.length,n.length),i||(i=Ut(r[r.length-2],n[n.length-2]),i||Ut(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&of(n.mutation,i,is.empty(),nr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Rt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Rt()){const i=ia();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let A=Rd();return s.forEach((a,o)=>{A=A.insert(a,o.overlayedDocument)}),A}))}getOverlayedDocuments(e,r){const n=ia();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Rt()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((A,a)=>{r.set(A,a)})})}computeViews(e,r,n,i){let s=Is();const A=af(),a=function(){return af()}();return r.forEach((o,l)=>{const u=n.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof ao)?s=s.insert(l.key,l):u!==void 0?(A.set(l.key,u.mutation.getFieldMask()),of(u.mutation,l,u.mutation.getFieldMask(),nr.now())):A.set(l.key,is.empty())}),this.recalculateAndSaveOverlays(e,s).next(o=>(o.forEach((l,u)=>A.set(l,u)),r.forEach((l,u)=>{var d;return a.set(l,new cj(u,(d=A.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,r){const n=af();let i=new $r((A,a)=>A-a),s=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(A=>{for(const a of A)a.keys().forEach(o=>{const l=r.get(o);if(l===null)return;let u=n.get(o)||is.empty();u=a.applyToLocalView(l,u),n.set(o,u);const d=(i.get(a.batchId)||Rt()).add(o);i=i.insert(a.batchId,d)})}).next(()=>{const A=[],a=i.getReverseIterator();for(;a.hasNext();){const o=a.getNext(),l=o.key,u=o.value,d=ST();u.forEach(m=>{if(!s.has(m)){const p=PT(r.get(m),n.get(m));p!==null&&d.set(m,p),s=s.add(m)}}),A.push(this.documentOverlayCache.saveOverlays(e,l,d))}return ye.waitFor(A)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(A){return ze.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):bT(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const A=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):ye.resolve(ia());let a=-1,o=s;return A.next(l=>ye.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?ye.resolve():this.remoteDocumentCache.getEntry(e,u).next(m=>{o=o.insert(u,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,o,l,Rt())).next(u=>({batchId:a,changes:FT(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ze(r)).next(n=>{let i=Rd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let A=Rd();return this.indexManager.getCollectionParents(e,s).next(a=>ye.forEach(a,o=>{const l=function(d,m){return new Th(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,o.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(u=>{u.forEach((d,m)=>{A=A.insert(d,m)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(A=>(s=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(A=>{s.forEach((o,l)=>{const u=l.getKey();A.get(u)===null&&(A=A.insert(u,Gr.newInvalidDocument(u)))});let a=Rd();return A.forEach((o,l)=>{const u=s.get(o);u!==void 0&&of(u.mutation,l,is.empty(),nr.now()),Cp(r,l)&&(a=a.insert(o,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ye.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}}(r)),ye.resolve()}getNamedQuery(e,r){return ye.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:eU(i.bundledQuery),readTime:Wn(i.readTime)}}(r)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.overlays=new $r(ze.comparator),this.Ir=new Map}getOverlay(e,r){return ye.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ia();return ye.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),ye.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),ye.resolve()}getOverlaysForCollection(e,r,n){const i=ia(),s=r.length+1,A=new ze(r.child("")),a=this.overlays.getIteratorFrom(A);for(;a.hasNext();){const o=a.getNext().value,l=o.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&o.largestBatchId>n&&i.set(o.getKey(),o)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new $r((l,u)=>l-u);const A=this.overlays.getIterator();for(;A.hasNext();){const l=A.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let u=s.get(l.largestBatchId);u===null&&(u=ia(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=ia(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return ye.resolve(a)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const A=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,A)}this.overlays=this.overlays.insert(n.key,new p_(r,n));let s=this.Ir.get(r);s===void 0&&(s=Rt(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.Tr=new Br(Gn.Er),this.dr=new Br(Gn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Gn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Gn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ze(new rr([])),n=new Gn(r,e),i=new Gn(r,e+1),s=[];return this.dr.forEachInRange([n,i],A=>{this.Vr(A),s.push(A.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ze(new rr([])),n=new Gn(r,e),i=new Gn(r,e+1);let s=Rt();return this.dr.forEachInRange([n,i],A=>{s=s.add(A.key)}),s}containsKey(e){const r=new Gn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Gn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ze.comparator(e.key,r.key)||Ut(e.wr,r.wr)}static Ar(e,r){return Ut(e.wr,r.wr)||ze.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Br(Gn.Er)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new d_(s,r,n,i);this.mutationQueue.push(A);for(const a of i)this.br=this.br.add(new Gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(A)}lookupMutationBatch(e,r){return ye.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Gn(r,0),i=new Gn(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],A=>{const a=this.Dr(A.wr);s.push(a)}),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Br(Ut);return r.forEach(i=>{const s=new Gn(i,0),A=new Gn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,A],a=>{n=n.add(a.wr)})}),ye.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;ze.isDocumentKey(s)||(s=s.child(""));const A=new Gn(new ze(s),0);let a=new Br(Ut);return this.br.forEachWhile(o=>{const l=o.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(a=a.add(o.wr)),!0)},A),ye.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ct(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ye.forEach(r.mutations,i=>{const s=new Gn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Gn(r,0),i=this.br.firstAfterOrEqual(n);return ye.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.Mr=e,this.docs=function(){return new $r(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,A=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:A}),this.size+=A-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ye.resolve(n?n.document.mutableCopy():Gr.newInvalidDocument(r))}getEntries(e,r){let n=Is();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Gr.newInvalidDocument(i))}),ye.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Is();const A=r.path,a=new ze(A.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:l,value:{document:u}}=o.getNext();if(!A.isPrefixOf(l.path))break;l.path.length>A.length+1||s_(iT(u),n)<=0||(i.has(u.key)||Cp(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,r,n,i){it()}Or(e,r){return ye.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new mj(this)}getSize(e){return ye.resolve(this.size)}}class mj extends AU{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ye.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.persistence=e,this.Nr=new Ql(r=>Pu(r),Bp),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Lr=0,this.Br=new v_,this.targetCount=0,this.kr=Du.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ye.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Du(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ye.resolve()}updateTargetData(e,r){return this.Kn(r),ye.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((A,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(A),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ye.waitFor(s).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ye.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ye.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(A=>{s.push(i.markPotentiallyOrphaned(e,A))}),ye.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ye.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ye.resolve(n)}containsKey(e,r){return ye.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Ws(0),this.Kr=!1,this.Kr=!0,this.$r=new fj,this.referenceDelegate=e(this),this.Ur=new wj(this),this.indexManager=new tj,this.remoteDocumentCache=function(i){return new gj(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new JT(r),this.Gr=new hj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new dj,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new pj(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Oe("MemoryPersistence","Starting transaction:",e);const i=new yj(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return ye.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class yj extends AT{constructor(e){super(),this.currentSequenceNumber=e}}class mw{constructor(e){this.persistence=e,this.Jr=new v_,this.Yr=null}static Zr(e){return new mw(e)}get Xr(){if(this.Yr)return this.Yr;throw it()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ye.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ye.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ye.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Xr,n=>{const i=ze.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,ft.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ye.or([()=>ye.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.serializer=e}O(e,r,n,i){const s=new lw("createOrUpgrade",r);n<1&&i>=1&&(function(o){o.createObjectStore("owner")}(e),function(o){o.createObjectStore("mutationQueues",{keyPath:"userId"}),o.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wb,{unique:!0}),o.createObjectStore("documentMutations")}(e),PE(e),function(o){o.createObjectStore("remoteDocuments")}(e));let A=ye.resolve();return n<3&&i>=3&&(n!==0&&(function(o){o.deleteObjectStore("targetDocuments"),o.deleteObjectStore("targets"),o.deleteObjectStore("targetGlobal")}(e),PE(e)),A=A.next(()=>function(o){const l=o.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ft.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),n<4&&i>=4&&(n!==0&&(A=A.next(()=>function(o,l){return l.store("mutations").U().next(u=>{o.deleteObjectStore("mutations"),o.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wb,{unique:!0});const d=l.store("mutations"),m=u.map(p=>d.put(p));return ye.waitFor(m)})}(e,s))),A=A.next(()=>{(function(o){o.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&i>=5&&(A=A.next(()=>this.ni(s))),n<6&&i>=6&&(A=A.next(()=>(function(o){o.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),n<7&&i>=7&&(A=A.next(()=>this.ii(s))),n<8&&i>=8&&(A=A.next(()=>this.si(e,s))),n<9&&i>=9&&(A=A.next(()=>{(function(o){o.objectStoreNames.contains("remoteDocumentChanges")&&o.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&i>=10&&(A=A.next(()=>this.oi(s))),n<11&&i>=11&&(A=A.next(()=>{(function(o){o.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(o){o.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(A=A.next(()=>{(function(o){const l=o.createObjectStore("documentOverlays",{keyPath:W8});l.createIndex("collectionPathOverlayIndex",$8,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",X8,{unique:!1})})(e)})),n<13&&i>=13&&(A=A.next(()=>function(o){const l=o.createObjectStore("remoteDocumentsV14",{keyPath:R8});l.createIndex("documentKeyIndex",D8),l.createIndex("collectionGroupIndex",O8)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(A=A.next(()=>this.ai(e,s))),n<15&&i>=15&&(A=A.next(()=>function(o){o.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),o.createObjectStore("indexState",{keyPath:K8}).createIndex("sequenceNumberIndex",G8,{unique:!1}),o.createObjectStore("indexEntries",{keyPath:q8}).createIndex("documentKeyIndex",z8,{unique:!1})}(e))),n<16&&i>=16&&(A=A.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&i>=17&&(A=A.next(()=>{(function(o){o.createObjectStore("globals",{keyPath:"name"})})(e)})),A}ri(e){let r=0;return e.store("remoteDocuments").J((n,i)=>{r+=y0(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(i=>ye.forEach(i,s=>{const A=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",A).next(a=>ye.forEach(a,o=>{ct(o.userId===s.userId);const l=su(this.serializer,o);return nU(e,s.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return n.J((A,a)=>{const o=new rr(A),l=function(d){return[0,Hi(d)]}(o);s.push(r.get(l).next(u=>u?ye.resolve():(d=>r.put({targetId:0,path:Hi(d),sequenceNumber:i.highestListenSequenceNumber}))(o)))}).next(()=>ye.waitFor(s))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:V8});const n=r.store("collectionParents"),i=new y_,s=A=>{if(i.add(A)){const a=A.lastSegment(),o=A.popLast();return n.put({collectionId:a,parent:Hi(o)})}};return r.store("remoteDocuments").J({H:!0},(A,a)=>{const o=new rr(A);return s(o.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([A,a,o],l)=>{const u=na(a);return s(u.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,i)=>{const s=Od(i),A=ZT(this.serializer,s);return r.put(A)})}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J((s,A)=>{const a=r.store("remoteDocumentsV14"),o=function(d){return d.document?new ze(rr.fromString(d.document.name).popFirst(5)):d.noDocument?ze.fromSegments(d.noDocument.path):d.unknownDocument?ze.fromSegments(d.unknownDocument.path):it()}(A).path.toArray(),l={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:A.readTime||[0,0],unknownDocument:A.unknownDocument,noDocument:A.noDocument,document:A.document,hasCommittedMutations:!!A.hasCommittedMutations};i.push(a.put(l))}).next(()=>ye.waitFor(i))}ai(e,r){const n=r.store("mutations"),i=aU(this.serializer),s=new lU(mw.Zr,this.serializer.ct);return n.U().next(A=>{const a=new Map;return A.forEach(o=>{var l;let u=(l=a.get(o.userId))!==null&&l!==void 0?l:Rt();su(this.serializer,o).keys().forEach(d=>u=u.add(d)),a.set(o.userId,u)}),ye.forEach(a,(o,l)=>{const u=new ri(l),d=pw.lt(this.serializer,u),m=s.getIndexManager(u),p=gw.lt(u,this.serializer,m,s.referenceDelegate);return new oU(i,p,d,m).recalculateAndSaveOverlaysForDocumentKeys(new Kv(r,Ws.oe),o).next()})})}}function PE(t){t.createObjectStore("targetDocuments",{keyPath:H8}).createIndex("documentTargetsIndex",j8,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",M8,{unique:!0}),t.createObjectStore("targetGlobal")}const H1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class B_{constructor(e,r,n,i,s,A,a,o,l,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=A,this.document=a,this.ci=l,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!B_.D())throw new Ke(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oj(this,i),this.Ai=r+"main",this.serializer=new JT(o),this.Ri=new dl(this.Ai,this.hi,new vj(this.serializer)),this.$r=new $H,this.Ur=new nj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=aU(this.serializer),this.Gr=new WH,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Oi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(Fe.FAILED_PRECONDITION,H1);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Ws(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(Ul(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return wd(e).get("owner").next(r=>ye.resolve(this.vi(r)))}Ci(e){return vg(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Rn(r,"clientMetadata");return n.U().next(i=>{const s=this.xi(i,18e5),A=i.filter(a=>s.indexOf(a)===-1);return ye.forEach(A,a=>n.delete(a.clientId)).next(()=>A)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ye.resolve(!0):wd(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Ke(Fe.FAILED_PRECONDITION,H1);return!1}}return!(!this.networkEnabled||!this.inForeground)||vg(e).U().next(n=>this.xi(n,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,A=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||A&&a)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&Oe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new Kv(e,Ws.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>vg(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return gw.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rj(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return pw.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){Oe("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=function(o){return o===17?Z8:o===16?J8:o===15?a_:o===14?cT:o===13?uT:o===12?Y8:o===11?lT:void it()}(this.hi);let A;return this.Ri.runTransaction(e,i,s,a=>(A=new Kv(a,this.Qr?this.Qr.next():Ws.oe),r==="readwrite-primary"?this.wi(A).next(o=>!!o||this.Si(A)).next(o=>{if(!o)throw Oi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ke(Fe.FAILED_PRECONDITION,sT);return n(A)}).next(o=>this.Di(A).next(()=>o)):this.Ki(A).next(()=>n(A)))).then(a=>(A.raiseOnCommittedEvent(),a))}Ki(e){return wd(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ke(Fe.FAILED_PRECONDITION,H1)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wd(e).put("owner",r)}static D(){return dl.D()}bi(e){const r=wd(e);return r.get("owner").next(n=>this.vi(n)?(Oe("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ye.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Oi(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;AN()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return Oe("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Oi("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Oi("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wd(t){return Rn(t,"owner")}function vg(t){return Rn(t,"clientMetadata")}function Bj(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Rt(),i=Rt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new __(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return AN()?8:aT(kn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(A=>{s.result=A}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(A=>{s.result=A})}).next(()=>{if(s.result)return;const A=new _j;return this.Xi(e,r,A).next(a=>{if(s.result=a,this.zi)return this.es(e,r,A,a.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Cc()<=Kt.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",bc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ye.resolve()):(Cc()<=Kt.DEBUG&&Oe("QueryEngine","Query:",bc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Cc()<=Kt.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",bc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Js(r))):ye.resolve())}Yi(e,r){if(aE(r))return ye.resolve(null);let n=Js(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=g0(r,null,"F"),n=Js(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const A=Rt(...s);return this.Ji.getDocuments(e,A).next(a=>this.indexManager.getMinOffset(e,n).next(o=>{const l=this.ts(r,a);return this.ns(r,l,A,o.readTime)?this.Yi(e,g0(r,null,"F")):this.rs(e,l,r,o)}))})))}Zi(e,r,n,i){return aE(r)||i.isEqual(ft.min())?ye.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const A=this.ts(r,s);return this.ns(r,A,n,i)?ye.resolve(null):(Cc()<=Kt.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bc(r)),this.rs(e,A,r,S8(i,-1)).next(a=>a))})}ts(e,r){let n=new Br(xT(e));return r.forEach((i,s)=>{Cp(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return Cc()<=Kt.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",bc(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ts.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(A=>{s=s.insert(A.key,A)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new $r(Ut),this._s=new Ql(s=>Pu(s),Bp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function cU(t,e,r,n){return new Cj(t,e,r,n)}async function hU(t,e){const r=Et(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const A=[],a=[];let o=Rt();for(const l of i){A.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}return r.localDocuments.getDocuments(n,o).next(l=>({hs:l,removedBatchIds:A,addedBatchIds:a}))})})}function bj(t,e){const r=Et(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,o,l,u){const d=l.batch,m=d.keys();let p=ye.resolve();return m.forEach(_=>{p=p.next(()=>u.getEntry(o,_)).next(E=>{const B=l.docVersions.get(_);ct(B!==null),E.version.compareTo(B)<0&&(d.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),u.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(o,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let o=Rt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(o=o.add(a.batch.mutations[l].key));return o}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function dU(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Ej(t,e){const r=Et(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const A=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const a=[];e.targetChanges.forEach((u,d)=>{const m=i.get(d);if(!m)return;a.push(r.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(s,u.addedDocuments,d)));let p=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Fn.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(d,p),function(E,B,w){return E.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,p,u)&&a.push(r.Ur.updateTargetData(s,p))});let o=Is(),l=Rt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(xj(s,A,e.documentUpdates).next(u=>{o=u.Ps,l=u.Is})),!n.isEqual(ft.min())){const u=r.Ur.getLastRemoteSnapshotVersion(s).next(d=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));a.push(u)}return ye.waitFor(a).next(()=>A.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,o,l)).next(()=>o)}).then(s=>(r.os=i,s))}function xj(t,e,r){let n=Rt(),i=Rt();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let A=Is();return r.forEach((a,o)=>{const l=s.get(a);o.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),o.isNoDocument()&&o.version.isEqual(ft.min())?(e.removeEntry(a,o.readTime),A=A.insert(a,o)):!l.isValidDocument()||o.version.compareTo(l.version)>0||o.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(o),A=A.insert(a,o)):Oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",o.version)}),{Ps:A,Is:i}})}function Ij(t,e){const r=Et(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Fj(t,e){const r=Et(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,ye.resolve(i)):r.Ur.allocateTargetId(n).next(A=>(i=new Ka(e,A,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function i2(t,e,r){const n=Et(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,A=>n.persistence.referenceDelegate.removeTarget(A,i))}catch(A){if(!Ul(A))throw A;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function kE(t,e,r){const n=Et(t);let i=ft.min(),s=Rt();return n.persistence.runTransaction("Execute query","readwrite",A=>function(o,l,u){const d=Et(o),m=d._s.get(u);return m!==void 0?ye.resolve(d.os.get(m)):d.Ur.getTargetData(l,u)}(n,A,Js(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(A,a.targetId).next(o=>{s=o})}).next(()=>n.ss.getDocumentsMatchingQuery(A,e,r?i:ft.min(),r?s:Rt())).next(a=>(Sj(n,fH(e),a),{documents:a,Ts:s})))}function Sj(t,e,r){let n=t.us.get(e)||ft.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class RE{constructor(){this.activeTargetIds=vH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fU{constructor(){this.so=new RE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new RE,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg=null;function j1(){return Bg===null?Bg=function(){return 268435456+Math.round(2147483648*Math.random())}():Bg++,"0x"+Bg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="WebChannelConnection";class Qj extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,A){const a=j1(),o=this.xo(r,n.toUriEncodedString());Oe("RestConnection",`Sending RPC '${r}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,A),this.No(r,o,l,i).then(u=>(Oe("RestConnection",`Received RPC '${r}' ${a}: `,u),u),u=>{throw Uu("RestConnection",`RPC '${r}' ${a} failed with error: `,u,"url: ",o,"request:",i),u})}Lo(r,n,i,s,A,a){return this.Mo(r,n,i,s,A)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nh}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,A)=>r[A]=s),i&&i.headers.forEach((s,A)=>r[A]=s)}xo(r,n){const i=Tj[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=j1();return new Promise((A,a)=>{const o=new XN;o.setWithCredentials(!0),o.listenOnce(YN.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case vm.NO_ERROR:const u=o.getResponseJson();Oe(mi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),A(u);break;case vm.TIMEOUT:Oe(mi,`RPC '${e}' ${s} timed out`),a(new Ke(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case vm.HTTP_ERROR:const d=o.getStatus();if(Oe(mi,`RPC '${e}' ${s} failed with status:`,d,"response text:",o.getResponseText()),d>0){let m=o.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const _=function(B){const w=B.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(w)>=0?w:Fe.UNKNOWN}(p.status);a(new Ke(_,p.message))}else a(new Ke(Fe.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ke(Fe.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Oe(mi,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);Oe(mi,`RPC '${e}' ${s} sending request:`,i),o.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=j1(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=eT(),a=ZN(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,r,n),o.encodeInitMessageHeaders=!0;const u=s.join("");Oe(mi,`Creating RPC '${e}' stream ${i}: ${u}`,o);const d=A.createWebChannel(u,o);let m=!1,p=!1;const _=new Uj({Io:B=>{p?Oe(mi,`Not sending because RPC '${e}' stream ${i} is closed:`,B):(m||(Oe(mi,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),Oe(mi,`RPC '${e}' stream ${i} sending:`,B),d.send(B))},To:()=>d.close()}),E=(B,w,b)=>{B.listen(w,I=>{try{b(I)}catch(U){setTimeout(()=>{throw U},0)}})};return E(d,kd.EventType.OPEN,()=>{p||(Oe(mi,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),E(d,kd.EventType.CLOSE,()=>{p||(p=!0,Oe(mi,`RPC '${e}' stream ${i} transport closed`),_.So())}),E(d,kd.EventType.ERROR,B=>{p||(p=!0,Uu(mi,`RPC '${e}' stream ${i} transport errored:`,B),_.So(new Ke(Fe.UNAVAILABLE,"The operation could not be completed")))}),E(d,kd.EventType.MESSAGE,B=>{var w;if(!p){const b=B.data[0];ct(!!b);const I=b,U=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(U){Oe(mi,`RPC '${e}' stream ${i} received error:`,U);const V=U.status;let O=function(x){const k=En[x];if(k!==void 0)return DT(k)}(V),L=U.message;O===void 0&&(O=Fe.INTERNAL,L="Unknown error status: "+V+" with message "+U.message),p=!0,_.So(new Ke(O,L)),d.close()}else Oe(mi,`RPC '${e}' stream ${i} received:`,b),_.bo(b)}}),E(a,JN.STAT_EVENT,B=>{B.stat===jv.PROXY?Oe(mi,`RPC '${e}' stream ${i} detected buffering proxy`):B.stat===jv.NOPROXY&&Oe(mi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(){return typeof window<"u"?window:null}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){return new kH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,r,n,i,s,A,a,o){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new C_(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Fe.RESOURCE_EXHAUSTED?(Oi(r.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Ke(Fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pj extends pU{constructor(e,r,n,i,s,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,A),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=MH(this.serializer,e),n=function(s){if(!("targetChange"in s))return ft.min();const A=s.targetChange;return A.targetIds&&A.targetIds.length?ft.min():A.readTime?Wn(A.readTime):ft.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Zv(this.serializer),r.addTarget=function(s,A){let a;const o=A.target;if(a=f0(o)?{documents:qT(s,o)}:{query:zT(s,o)._t},a.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){a.resumeToken=HT(s,A.resumeToken);const l=Yv(s,A.expectedCount);l!==null&&(a.expectedCount=l)}else if(A.snapshotVersion.compareTo(ft.min())>0){a.readTime=yh(s,A.snapshotVersion.toTimestamp());const l=Yv(s,A.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const n=jH(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Zv(this.serializer),r.removeTarget=e,this.a_(r)}}class kj extends pU{constructor(e,r,n,i,s,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,A),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=HH(e.writeResults,e.commitTime),n=Wn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Zv(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Jf(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ke(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,A])=>this.connection.Mo(e,Jv(r,n),i,s,A)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Fe.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,a])=>this.connection.Lo(e,Jv(r,n),i,A,a,s)).catch(A=>{throw A.name==="FirebaseError"?(A.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new Ke(Fe.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Dj{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Oi(r),this.D_=!1):Oe("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(A=>{n.enqueueAndForget(async()=>{zu(this)&&(Oe("RemoteStore","Restarting streams for network reachability change."),await async function(o){const l=Et(o);l.L_.add(4),await Ep(l),l.q_.set("Unknown"),l.L_.delete(4),await yw(l)}(this))})}),this.q_=new Dj(n,i)}}async function yw(t){if(zu(t))for(const e of t.B_)await e(!0)}async function Ep(t){for(const e of t.B_)await e(!1)}function gU(t,e){const r=Et(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),I_(r)?x_(r):Lh(r).r_()&&E_(r,e))}function b_(t,e){const r=Et(t),n=Lh(r);r.N_.delete(e),n.r_()&&mU(r,e),r.N_.size===0&&(n.r_()?n.o_():zu(r)&&r.q_.set("Unknown"))}function E_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Lh(t).A_(e)}function mU(t,e){t.Q_.xe(e),Lh(t).R_(e)}function x_(t){t.Q_=new UH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Lh(t).start(),t.q_.v_()}function I_(t){return zu(t)&&!Lh(t).n_()&&t.N_.size>0}function zu(t){return Et(t).L_.size===0}function wU(t){t.Q_=void 0}async function Mj(t){t.q_.set("Online")}async function Hj(t){t.N_.forEach((e,r)=>{E_(t,e)})}async function jj(t,e){wU(t),I_(t)?(t.q_.M_(e),x_(t)):t.q_.set("Unknown")}async function Vj(t,e,r){if(t.q_.set("Online"),e instanceof MT&&e.state===2&&e.cause)try{await async function(i,s){const A=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,A),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(n){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await v0(t,n)}else if(e instanceof xm?t.Q_.Ke(e):e instanceof OT?t.Q_.He(e):t.Q_.We(e),!r.isEqual(ft.min()))try{const n=await dU(t.localStore);r.compareTo(n)>=0&&await function(s,A){const a=s.Q_.rt(A);return a.targetChanges.forEach((o,l)=>{if(o.resumeToken.approximateByteSize()>0){const u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(o.resumeToken,A))}}),a.targetMismatches.forEach((o,l)=>{const u=s.N_.get(o);if(!u)return;s.N_.set(o,u.withResumeToken(Fn.EMPTY_BYTE_STRING,u.snapshotVersion)),mU(s,o);const d=new Ka(u.target,o,l,u.sequenceNumber);E_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){Oe("RemoteStore","Failed to raise snapshot:",n),await v0(t,n)}}async function v0(t,e,r){if(!Ul(e))throw e;t.L_.add(1),await Ep(t),t.q_.set("Offline"),r||(r=()=>dU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Oe("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await yw(t)})}function yU(t,e){return e().catch(r=>v0(t,r,e))}async function xp(t){const e=Et(t),r=Cl(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Kj(e);)try{const i=await Ij(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,Gj(e,i)}catch(i){await v0(e,i)}vU(e)&&BU(e)}function Kj(t){return zu(t)&&t.O_.length<10}function Gj(t,e){t.O_.push(e);const r=Cl(t);r.r_()&&r.V_&&r.m_(e.mutations)}function vU(t){return zu(t)&&!Cl(t).n_()&&t.O_.length>0}function BU(t){Cl(t).start()}async function qj(t){Cl(t).p_()}async function zj(t){const e=Cl(t);for(const r of t.O_)e.m_(r.mutations)}async function Wj(t,e,r){const n=t.O_.shift(),i=f_.from(n,e,r);await yU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xp(t)}async function $j(t,e){e&&Cl(t).V_&&await async function(n,i){if(function(A){return RT(A)&&A!==Fe.ABORTED}(i.code)){const s=n.O_.shift();Cl(n).s_(),await yU(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xp(n)}}(t,e),vU(t)&&BU(t)}async function OE(t,e){const r=Et(t);r.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const n=zu(r);r.L_.add(3),await Ep(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await yw(r)}async function Xj(t,e){const r=Et(t);e?(r.L_.delete(2),await yw(r)):e||(r.L_.add(2),await Ep(r),r.q_.set("Unknown"))}function Lh(t){return t.K_||(t.K_=function(r,n,i){const s=Et(r);return s.w_(),new Pj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Mj.bind(null,t),Ro:Hj.bind(null,t),mo:jj.bind(null,t),d_:Vj.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),I_(t)?x_(t):t.q_.set("Unknown")):(await t.K_.stop(),wU(t))})),t.K_}function Cl(t){return t.U_||(t.U_=function(r,n,i){const s=Et(r);return s.w_(),new kj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qj.bind(null,t),mo:$j.bind(null,t),f_:zj.bind(null,t),g_:Wj.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await xp(t)):(await t.U_.stop(),t.O_.length>0&&(Oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new vA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const A=Date.now()+n,a=new F_(e,r,A,i,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S_(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),Ul(t))return new Ke(Fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ze.comparator(r.key,n.key):(r,n)=>ze.comparator(r.key,n.key),this.keyedMap=Rd(),this.sortedSet=new $r(this.comparator)}static emptySet(e){return new rh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof rh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new rh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.W_=new $r(ze.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):it():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class vh{constructor(e,r,n,i,s,A,a,o,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=A,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const A=[];return r.forEach(a=>{A.push({type:0,doc:a})}),new vh(e,r,rh.emptySet(r),A,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Jj{constructor(){this.queries=HE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Et(r),s=i.queries;i.queries=HE(),s.forEach((A,a)=>{for(const o of a.j_)o.onError(n)})})(this,new Ke(Fe.ABORTED,"Firestore shutting down"))}}function HE(){return new Ql(t=>ET(t),cw)}async function N_(t,e){const r=Et(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new Yj,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(A){const a=S_(A,`Initialization of query '${bc(e.query)}' failed`);return void e.onError(a)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&U_(r)}async function T_(t,e){const r=Et(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const A=s.j_.indexOf(e);A>=0&&(s.j_.splice(A,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Zj(t,e){const r=Et(t);let n=!1;for(const i of e){const s=i.query,A=r.queries.get(s);if(A){for(const a of A.j_)a.X_(i)&&(n=!0);A.z_=i}}n&&U_(r)}function eV(t,e,r){const n=Et(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function U_(t){t.Y_.forEach(e=>{e.next()})}var s2,jE;(jE=s2||(s2={})).ea="default",jE.Cache="cache";class Q_{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new vh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=vh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==s2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.key=e}}class CU{constructor(e){this.key=e}}class tV{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Rt(),this.mutatedKeys=Rt(),this.Aa=xT(e),this.Ra=new rh(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new ME,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,A=i,a=!1;const o=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const m=i.get(u),p=Cp(this.query,d)?d:null,_=!!m&&this.mutatedKeys.has(m.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let B=!1;m&&p?m.data.isEqual(p.data)?_!==E&&(n.track({type:3,doc:p}),B=!0):this.ga(m,p)||(n.track({type:2,doc:p}),B=!0,(o&&this.Aa(p,o)>0||l&&this.Aa(p,l)<0)&&(a=!0)):!m&&p?(n.track({type:0,doc:p}),B=!0):m&&!p&&(n.track({type:1,doc:m}),B=!0,(o||l)&&(a=!0)),B&&(p?(A=A.add(p),s=E?s.add(u):s.delete(u)):(A=A.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const u=this.query.limitType==="F"?A.last():A.first();A=A.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:A,fa:n,ns:a,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((u,d)=>function(p,_){const E=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return E(p)-E(_)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(n),i=i!=null&&i;const a=r&&!i?this.ya():[],o=this.da.size===0&&this.current&&!i?1:0,l=o!==this.Ea;return this.Ea=o,A.length!==0||l?{snapshot:new vh(this.query,e.Ra,s,A,e.mutatedKeys,o===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ME,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Rt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new CU(n))}),this.da.forEach(n=>{e.has(n)||r.push(new _U(n))}),r}ba(e){this.Ta=e.Ts,this.da=Rt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return vh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class rV{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class nV{constructor(e){this.key=e,this.va=!1}}class iV{constructor(e,r,n,i,s,A){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new Ql(a=>ET(a),cw),this.Ma=new Map,this.xa=new Set,this.Oa=new $r(ze.comparator),this.Na=new Map,this.La=new v_,this.Ba={},this.ka=new Map,this.qa=Du.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function sV(t,e,r=!0){const n=SU(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await bU(n,e,r,!0),i}async function AV(t,e){const r=SU(t);await bU(r,e,!0,!1)}async function bU(t,e,r,n){const i=await Fj(t.localStore,Js(e)),s=i.targetId,A=t.sharedClientState.addLocalQueryTarget(s,r);let a;return n&&(a=await aV(t,e,s,A==="current",i.resumeToken)),t.isPrimaryClient&&r&&gU(t.remoteStore,i),a}async function aV(t,e,r,n,i){t.Ka=(d,m,p)=>async function(E,B,w,b){let I=B.view.ma(w);I.ns&&(I=await kE(E.localStore,B.query,!1).then(({documents:L})=>B.view.ma(L,I)));const U=b&&b.targetChanges.get(B.targetId),V=b&&b.targetMismatches.get(B.targetId)!=null,O=B.view.applyChanges(I,E.isPrimaryClient,U,V);return KE(E,B.targetId,O.wa),O.snapshot}(t,d,m,p);const s=await kE(t.localStore,e,!0),A=new tV(e,s.Ts),a=A.ma(s.documents),o=bp.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=A.applyChanges(a,t.isPrimaryClient,o);KE(t,r,l.wa);const u=new rV(e,r,A);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function oV(t,e,r){const n=Et(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(A=>!cw(A,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await i2(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&b_(n.remoteStore,i.targetId),A2(n,i.targetId)}).catch(Gu)):(A2(n,i.targetId),await i2(n.localStore,i.targetId,!0))}async function lV(t,e){const r=Et(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),b_(r.remoteStore,n.targetId))}async function uV(t,e,r){const n=NU(t);try{const i=await function(A,a){const o=Et(A),l=nr.now(),u=a.reduce((p,_)=>p.add(_.key),Rt());let d,m;return o.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=Is(),E=Rt();return o.cs.getEntries(p,u).next(B=>{_=B,_.forEach((w,b)=>{b.isValidDocument()||(E=E.add(w))})}).next(()=>o.localDocuments.getOverlayedDocuments(p,_)).next(B=>{d=B;const w=[];for(const b of a){const I=FH(b,d.get(b.key).overlayedDocument);I!=null&&w.push(new ao(b.key,I,gT(I.value.mapValue),qr.exists(!0)))}return o.mutationQueue.addMutationBatch(p,l,w,a)}).next(B=>{m=B;const w=B.applyToLocalDocumentSet(d,E);return o.documentOverlayCache.saveOverlays(p,B.batchId,w)})}).then(()=>({batchId:m.batchId,changes:FT(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(A,a,o){let l=A.Ba[A.currentUser.toKey()];l||(l=new $r(Ut)),l=l.insert(a,o),A.Ba[A.currentUser.toKey()]=l}(n,i.batchId,r),await Ip(n,i.changes),await xp(n.remoteStore)}catch(i){const s=S_(i,"Failed to persist write");r.reject(s)}}async function EU(t,e){const r=Et(t);try{const n=await Ej(r.localStore,e);e.targetChanges.forEach((i,s)=>{const A=r.Na.get(s);A&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?A.va=!0:i.modifiedDocuments.size>0?ct(A.va):i.removedDocuments.size>0&&(ct(A.va),A.va=!1))}),await Ip(r,n,e)}catch(n){await Gu(n)}}function VE(t,e,r){const n=Et(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,A)=>{const a=A.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(A,a){const o=Et(A);o.onlineState=a;let l=!1;o.queries.forEach((u,d)=>{for(const m of d.j_)m.Z_(a)&&(l=!0)}),l&&U_(o)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function cV(t,e,r){const n=Et(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let A=new $r(ze.comparator);A=A.insert(s,Gr.newNoDocument(s,ft.min()));const a=Rt().add(s),o=new fw(ft.min(),new Map,new $r(Ut),A,a);await EU(n,o),n.Oa=n.Oa.remove(s),n.Na.delete(e),L_(n)}else await i2(n.localStore,e,!1).then(()=>A2(n,e,r)).catch(Gu)}async function hV(t,e){const r=Et(t),n=e.batch.batchId;try{const i=await bj(r.localStore,e);IU(r,n,null),xU(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ip(r,i)}catch(i){await Gu(i)}}async function dV(t,e,r){const n=Et(t);try{const i=await function(A,a){const o=Et(A);return o.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return o.mutationQueue.lookupMutationBatch(l,a).next(d=>(ct(d!==null),u=d.keys(),o.mutationQueue.removeMutationBatch(l,d))).next(()=>o.mutationQueue.performConsistencyCheck(l)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>o.localDocuments.getDocuments(l,u))})}(n.localStore,e);IU(n,e,r),xU(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ip(n,i)}catch(i){await Gu(i)}}function xU(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function IU(t,e,r){const n=Et(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function A2(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||FU(t,n)})}function FU(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(b_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),L_(t))}function KE(t,e,r){for(const n of r)n instanceof _U?(t.La.addReference(n.key,e),fV(t,n)):n instanceof CU?(Oe("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||FU(t,n.key)):it()}function fV(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Oe("SyncEngine","New document in limbo: "+r),t.xa.add(n),L_(t))}function L_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ze(rr.fromString(e)),n=t.qa.next();t.Na.set(n,new nV(r)),t.Oa=t.Oa.insert(r,n),gU(t.remoteStore,new Ka(Js(_p(r.path)),n,"TargetPurposeLimboResolution",Ws.oe))}}async function Ip(t,e,r){const n=Et(t),i=[],s=[],A=[];n.Fa.isEmpty()||(n.Fa.forEach((a,o)=>{A.push(n.Ka(o,e,r).then(l=>{var u;if((l||r)&&n.isPrimaryClient){const d=l?!l.fromCache:(u=r==null?void 0:r.targetChanges.get(o.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(o.targetId,d?"current":"not-current")}if(l){i.push(l);const d=__.Wi(o.targetId,l);s.push(d)}}))}),await Promise.all(A),n.Ca.d_(i),await async function(o,l){const u=Et(o);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ye.forEach(l,m=>ye.forEach(m.$i,p=>u.persistence.referenceDelegate.addReference(d,m.targetId,p)).next(()=>ye.forEach(m.Ui,p=>u.persistence.referenceDelegate.removeReference(d,m.targetId,p)))))}catch(d){if(!Ul(d))throw d;Oe("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const m=d.targetId;if(!d.fromCache){const p=u.os.get(m),_=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(_);u.os=u.os.insert(m,E)}}}(n.localStore,s))}async function pV(t,e){const r=Et(t);if(!r.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const n=await hU(r.localStore,e);r.currentUser=e,function(s,A){s.ka.forEach(a=>{a.forEach(o=>{o.reject(new Ke(Fe.CANCELLED,A))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ip(r,n.hs)}}function gV(t,e){const r=Et(t),n=r.Na.get(e);if(n&&n.va)return Rt().add(n.key);{let i=Rt();const s=r.Ma.get(e);if(!s)return i;for(const A of s){const a=r.Fa.get(A);i=i.unionWith(a.view.Va)}return i}}function SU(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cV.bind(null,e),e.Ca.d_=Zj.bind(null,e.eventManager),e.Ca.$a=eV.bind(null,e.eventManager),e}function NU(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dV.bind(null,e),e}class Zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ww(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return cU(this.persistence,new uU,e.initialUser,this.serializer)}Ga(e){return new lU(mw.Zr,this.serializer)}Wa(e){return new fU}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zf.provider={build:()=>new Zf};class mV extends Zf{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await NU(this.Ja.syncEngine),await xp(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return cU(this.persistence,new uU,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new sj(n,e.asyncQueue,r)}Ha(e,r){const n=new Q8(r,this.persistence);return new U8(e.asyncQueue,n)}Ga(e){const r=Bj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new B_(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,Lj(),Im(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new fU}}class B0{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>VE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=pV.bind(null,this.syncEngine),await Xj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Jj}()}createDatastore(e){const r=ww(e.databaseInfo.databaseId),n=function(s){return new Qj(s)}(e.databaseInfo);return function(s,A,a,o){return new Rj(s,A,a,o)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,A,a){return new Oj(n,i,s,A,a)}(this.localStore,this.datastore,e.asyncQueue,r=>VE(this.syncEngine,r,0),function(){return DE.D()?new DE:new Nj}())}createSyncEngine(e,r){return function(i,s,A,a,o,l,u){const d=new iV(i,s,A,a,o,l);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Et(i);Oe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ep(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}B0.provider={build:()=>new B0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ke(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(i,s){const A=Et(i),a={documents:s.map(d=>Yf(A.serializer,d))},o=await A.Lo("BatchGetDocuments",A.serializer.databaseId,rr.emptyPath(),a,s.length),l=new Map;o.forEach(d=>{const m=OH(A.serializer,d);l.set(m.key.toString(),m)});const u=[];return s.forEach(d=>{const m=l.get(d.toString());ct(!!m),u.push(m)}),u}(this.datastore,e);return r.forEach(n=>this.recordVersion(n)),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,n)=>{const i=ze.fromPath(n);this.mutations.push(new h_(i,this.precondition(i)))}),await async function(n,i){const s=Et(n),A={writes:i.map(a=>Jf(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,rr.emptyPath(),A)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw it();r=ft.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new Ke(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(ft.min())?qr.exists(!1):qr.updateTime(r):qr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(ft.min()))throw new Ke(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qr.updateTime(r)}return qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,r,n,i,s){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=s,this._u=n.maxAttempts,this.t_=new C_(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new wV(this.datastore),r=this.cu(e);r&&r.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(i=>{this.lu(i)}))}).catch(n=>{this.lu(n)})})}cu(e){try{const r=this.updateFunction(e);return!vp(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!RT(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ri.UNAUTHENTICATED,this.clientId=rT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async A=>{Oe("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(n,A=>(Oe("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=S_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function V1(t,e){t.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await hU(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GE(t,e){t.asyncQueue.verifyOperationInProgress();const r=await BV(t);Oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>OE(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>OE(e.remoteStore,i)),t._onlineComponents=e}async function BV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await V1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Uu("Error using user provided cache. Falling back to memory cache: "+r),await V1(t,new Zf)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),await V1(t,new Zf);return t._offlineComponents}async function k_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),await GE(t,t._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),await GE(t,new B0))),t._onlineComponents}function _V(t){return k_(t).then(e=>e.syncEngine)}function CV(t){return k_(t).then(e=>e.datastore)}async function _0(t){const e=await k_(t),r=e.eventManager;return r.onListen=sV.bind(null,e.syncEngine),r.onUnlisten=oV.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=AV.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=lV.bind(null,e.syncEngine),r}function bV(t,e,r={}){const n=new vA;return t.asyncQueue.enqueueAndForget(async()=>function(s,A,a,o,l){const u=new P_({next:m=>{u.Za(),A.enqueueAndForget(()=>T_(s,d));const p=m.docs.has(a);!p&&m.fromCache?l.reject(new Ke(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&o&&o.source==="server"?l.reject(new Ke(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),d=new Q_(_p(a.path),u,{includeMetadataChanges:!0,_a:!0});return N_(s,d)}(await _0(t),t.asyncQueue,e,r,n)),n.promise}function EV(t,e,r={}){const n=new vA;return t.asyncQueue.enqueueAndForget(async()=>function(s,A,a,o,l){const u=new P_({next:m=>{u.Za(),A.enqueueAndForget(()=>T_(s,d)),m.fromCache&&o.source==="server"?l.reject(new Ke(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),d=new Q_(a,u,{includeMetadataChanges:!0,_a:!0});return N_(s,d)}(await _0(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t,e,r){if(!r)throw new Ke(Fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xV(t,e,r,n){if(e===!0&&n===!0)throw new Ke(Fe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function zE(t){if(!ze.isDocumentKey(t))throw new Ke(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WE(t){if(ze.isDocumentKey(t))throw new Ke(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it()}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vw(t);throw new Ke(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TU((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ke(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ke(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ke(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bw{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new v8;switch(n.type){case"firstParty":return new b8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ke(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=qE.get(r);n&&(Oe("ComponentProvider","Removing Datastore"),qE.delete(r),n.terminate())}(this),Promise.resolve()}}function IV(t,e,r,n={}){var i;const s=(t=ai(t,Bw))._getSettings(),A=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==A&&Uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:A,ssl:!1})),n.mockUserToken){let a,o;if(typeof n.mockUserToken=="string")a=n.mockUserToken,o=ri.MOCK_USER;else{a=MD(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new Ke(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new ri(l)}t._authCredentials=new B8(new tT(a,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class oi{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oi(this.firestore,e,this._key)}}class fl extends oo{constructor(e,r,n){super(e,r,_p(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oi(this.firestore,null,new ze(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function Zt(t,e,...r){if(t=on(t),UU("collection","path",e),t instanceof Bw){const n=rr.fromString(e,...r);return WE(n),new fl(t,null,n)}{if(!(t instanceof oi||t instanceof fl))throw new Ke(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(rr.fromString(e,...r));return WE(n),new fl(t.firestore,null,n)}}function ir(t,e,...r){if(t=on(t),arguments.length===1&&(e=rT.newId()),UU("doc","path",e),t instanceof Bw){const n=rr.fromString(e,...r);return zE(n),new oi(t,null,new ze(n))}{if(!(t instanceof oi||t instanceof fl))throw new Ke(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(rr.fromString(e,...r));return zE(n),new oi(t.firestore,t instanceof fl?t.converter:null,new ze(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new C_(this,"async_queue_retry"),this.Vu=()=>{const n=Im();n&&Oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Im();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Im();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new vA;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ul(e))throw e;Oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(A){let a=A.message||"";return A.stack&&(a=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),a}(n);throw Oi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=F_.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&it()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function YE(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class tA extends Bw{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new XE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XE(e),this._firestoreClient=void 0,await e}}}function FV(t,e){const r=typeof t=="object"?t:WB(),n=typeof t=="string"?t:"(default)",i=qB(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=DD("firestore");s&&IV(i,...s)}return i}function Ph(t){if(t._terminated)throw new Ke(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QU(t),t._firestoreClient}function QU(t){var e,r,n;const i=t._freezeSettings(),s=function(a,o,l,u){return new tH(a,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,TU(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new vV(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const o=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(o),_online:o}}(t._componentsProvider))}function SV(t,e){Uu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return NV(t,B0.provider,{build:n=>new mV(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function NV(t,e,r){if((t=ai(t,tA))._firestoreClient||t._terminated)throw new Ke(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Ke(Fe.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},QU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ou(Fn.fromBase64String(e))}catch(r){throw new Ke(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ou(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ke(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ke(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ke(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=/^__.*__$/;class UV{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,r,this.fieldTransforms):new Uh(e,this.data,r,this.fieldTransforms)}}class LU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ao(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function PU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class M_{constructor(e,r,n,i,s,A){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new M_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return C0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(PU(this.Cu)&&TV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class QV{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ww(e)}Qu(e,r,n,i=!1){return new M_({Cu:e,methodName:r,qu:n,path:Jr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(t){const e=t._freezeSettings(),r=ww(t._databaseId);return new QV(t._databaseId,!!e.ignoreUndefinedProperties,r)}function _w(t,e,r,n,i,s={}){const A=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);V_("Data must be an object, but it was:",A,n);const a=kU(n,A);let o,l;if(s.merge)o=new is(A.fieldMask),l=A.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const m=a2(e,d,r);if(!A.contains(m))throw new Ke(Fe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);DU(u,m)||u.push(m)}o=new is(u),l=A.fieldTransforms.filter(d=>o.covers(d.field))}else o=null,l=A.fieldTransforms;return new UV(new ii(a),o,l)}class Cw extends R_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cw}}function H_(t,e,r,n){const i=t.Qu(1,e,r);V_("Data must be an object, but it was:",i,n);const s=[],A=ii.empty();qu(n,(o,l)=>{const u=K_(e,o,r);l=on(l);const d=i.Nu(u);if(l instanceof Cw)s.push(u);else{const m=Fp(l,d);m!=null&&(s.push(u),A.set(u,m))}});const a=new is(s);return new LU(A,a,i.fieldTransforms)}function j_(t,e,r,n,i,s){const A=t.Qu(1,e,r),a=[a2(e,n,r)],o=[i];if(s.length%2!=0)throw new Ke(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(a2(e,s[m])),o.push(s[m+1]);const l=[],u=ii.empty();for(let m=a.length-1;m>=0;--m)if(!DU(l,a[m])){const p=a[m];let _=o[m];_=on(_);const E=A.Nu(p);if(_ instanceof Cw)l.push(p);else{const B=Fp(_,E);B!=null&&(l.push(p),u.set(p,B))}}const d=new is(l);return new LU(u,d,A.fieldTransforms)}function LV(t,e,r,n=!1){return Fp(r,t.Qu(n?4:3,e))}function Fp(t,e){if(RU(t=on(t)))return V_("Unsupported field value:",e,t),kU(t,e);if(t instanceof R_)return function(n,i){if(!PU(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let A=0;for(const a of n){let o=Fp(a,i.Lu(A));o==null&&(o={nullValue:"NULL_VALUE"}),s.push(o),A++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=on(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BH(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=nr.fromDate(n);return{timestampValue:yh(i.serializer,s)}}if(n instanceof nr){const s=new nr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yh(i.serializer,s)}}if(n instanceof D_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ou)return{bytesValue:HT(i.serializer,n._byteString)};if(n instanceof oi){const s=i.databaseId,A=n.firestore._databaseId;if(!A.isEqual(s))throw i.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:m_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof O_)return function(A,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(o=>{if(typeof o!="number")throw a.Bu("VectorValues must only contain numeric values.");return c_(a.serializer,o)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${vw(n)}`)}(t,e)}function kU(t,e){const r={};return hT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qu(t,(n,i)=>{const s=Fp(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function RU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nr||t instanceof D_||t instanceof Ou||t instanceof oi||t instanceof R_||t instanceof O_)}function V_(t,e,r){if(!RU(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=vw(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function a2(t,e,r){if((e=on(e))instanceof kh)return e._internalPath;if(typeof e=="string")return K_(t,e);throw C0("Field path arguments must be of type string or ",t,!1,void 0,r)}const PV=new RegExp("[~\\*/\\[\\]]");function K_(t,e,r){if(e.search(PV)>=0)throw C0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new kh(...e.split("."))._internalPath}catch{throw C0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function C0(t,e,r,n,i){const s=n&&!n.isEmpty(),A=i!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let o="";return(s||A)&&(o+=" (found",s&&(o+=` in field ${n}`),A&&(o+=` in document ${i}`),o+=")"),new Ke(Fe.INVALID_ARGUMENT,a+t+o)}function DU(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(bw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class kV extends b0{data(){return super.data()}}function bw(t,e){return typeof e=="string"?K_(t,e):e instanceof kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G_{}class q_ extends G_{}function Ii(t,e,...r){let n=[];e instanceof G_&&n.push(e),n=n.concat(r),function(s){const A=s.filter(o=>o instanceof z_).length,a=s.filter(o=>o instanceof Ew).length;if(A>1||A>0&&a>0)throw new Ke(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Ew extends q_{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Ew(e,r,n)}_apply(e){const r=this._parse(e);return MU(e._query,r),new oo(e.firestore,e.converter,Xv(e._query,r))}_parse(e){const r=Rh(e.firestore);return function(s,A,a,o,l,u,d){let m;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ke(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){ZE(d,u);const p=[];for(const _ of d)p.push(JE(o,s,_));m={arrayValue:{values:p}}}else m=JE(o,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||ZE(d,u),m=LV(a,A,d,u==="in"||u==="not-in");return Gt.create(l,u,m)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function xi(t,e,r){const n=e,i=bw("where",t);return Ew._create(i,n,r)}class z_ extends G_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new z_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:gr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let A=i;const a=s.getFlattenedFilters();for(const o of a)MU(A,o),A=Xv(A,o)}(e._query,r),new oo(e.firestore,e.converter,Xv(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class W_ extends q_{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new W_(e,r)}_apply(e){const r=function(i,s,A){if(i.startAt!==null)throw new Ke(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ke(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wf(s,A)}(e._query,this._field,this._direction);return new oo(e.firestore,e.converter,function(i,s){const A=i.explicitOrderBy.concat([s]);return new Th(i.path,i.collectionGroup,A,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Sp(t,e="asc"){const r=e,n=bw("orderBy",t);return W_._create(n,r)}class $_ extends q_{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new $_(e,r,n)}_apply(e){return new oo(e.firestore,e.converter,g0(e._query,this._limit,this._limitType))}}function RV(t){return $_._create("limit",t,"F")}function JE(t,e,r){if(typeof(r=on(r))=="string"){if(r==="")throw new Ke(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bT(e)&&r.indexOf("/")!==-1)throw new Ke(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(rr.fromString(r));if(!ze.isDocumentKey(n))throw new Ke(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return qf(t,new ze(n))}if(r instanceof oi)return qf(t,r._key);throw new Ke(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vw(r)}.`)}function ZE(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MU(t,e){const r=function(i,s){for(const A of i)for(const a of A.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ke(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class HU{convertValue(e,r="none"){switch(Lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw it()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return qu(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(A=>Vr(A.doubleValue));return new O_(s)}convertGeoPoint(e){return new D_(Vr(e.latitude),Vr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=l_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Kf(e));default:return null}}convertTimestamp(e){const r=no(e);return new nr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=rr.fromString(e);ct(YT(n));const i=new Qu(n.get(1),n.get(3)),s=new ze(n.popFirst(5));return i.isEqual(r)||Oi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class DV extends HU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ou(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new oi(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class X_ extends b0{constructor(e,r,n,i,s,A){super(e,r,n,i,A),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(bw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Fm extends X_{data(e={}){return super.data(e)}}class jU{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Gc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Fm(this._firestore,this._userDataWriter,n.key,n,new Gc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ke(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let A=0;return i._snapshot.docChanges.map(a=>{const o=new Fm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:A++}})}{let A=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const o=new Fm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return a.type!==0&&(l=A.indexOf(a.doc.key),A=A.delete(a.doc.key)),a.type!==1&&(A=A.add(a.doc),u=A.indexOf(a.doc.key)),{type:OV(a.type),doc:o,oldIndex:l,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function OV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){t=ai(t,oi);const e=ai(t.firestore,tA);return bV(Ph(e),t._key).then(r=>VU(e,t,r))}class Iw extends HU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ou(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new oi(this.firestore,null,r)}}function zr(t){t=ai(t,oo);const e=ai(t.firestore,tA),r=Ph(e),n=new Iw(e);return OU(t._query),EV(r,t._query).then(i=>new jU(e,n,t,i))}function MV(t,e,r){t=ai(t,oi);const n=ai(t.firestore,tA),i=xw(t.converter,e,r);return Tp(n,[_w(Rh(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,qr.none())])}function os(t,e,r,...n){t=ai(t,oi);const i=ai(t.firestore,tA),s=Rh(i);let A;return A=typeof(e=on(e))=="string"||e instanceof kh?j_(s,"updateDoc",t._key,e,r,n):H_(s,"updateDoc",t._key,e),Tp(i,[A.toMutation(t._key,qr.exists(!0))])}function Np(t){return Tp(ai(t.firestore,tA),[new Qh(t._key,qr.none())])}function Oh(t,e){const r=ai(t.firestore,tA),n=ir(t),i=xw(t.converter,e);return Tp(r,[_w(Rh(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,qr.exists(!1))]).then(()=>n)}function ex(t,...e){var r,n,i;t=on(t);let s={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||YE(e[A])||(s=e[A],A++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(YE(e[A])){const d=e[A];e[A]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[A+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[A+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let o,l,u;if(t instanceof oi)l=ai(t.firestore,tA),u=_p(t._key.path),o={next:d=>{e[A]&&e[A](VU(l,t,d))},error:e[A+1],complete:e[A+2]};else{const d=ai(t,oo);l=ai(d.firestore,tA),u=d._query;const m=new Iw(l);o={next:p=>{e[A]&&e[A](new jU(l,m,d,p))},error:e[A+1],complete:e[A+2]},OU(t._query)}return function(m,p,_,E){const B=new P_(E),w=new Q_(p,B,_);return m.asyncQueue.enqueueAndForget(async()=>N_(await _0(m),w)),()=>{B.Za(),m.asyncQueue.enqueueAndForget(async()=>T_(await _0(m),w))}}(Ph(l),u,a,o)}function Tp(t,e){return function(n,i){const s=new vA;return n.asyncQueue.enqueueAndForget(async()=>uV(await _V(n),i,s)),s.promise}(Ph(t),e)}function VU(t,e,r){const n=r.docs.get(e._key),i=new Iw(t);return new X_(t,i,e._key,n,new Gc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Rh(e)}set(e,r,n){this._verifyNotCommitted();const i=zo(e,this._firestore),s=xw(i.converter,r,n),A=_w(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(A.toMutation(i._key,qr.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=zo(e,this._firestore);let A;return A=typeof(r=on(r))=="string"||r instanceof kh?j_(this._dataReader,"WriteBatch.update",s._key,r,n,i):H_(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(A.toMutation(s._key,qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=zo(e,this._firestore);return this._mutations=this._mutations.concat(new Qh(r._key,qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zo(t,e){if((t=on(t)).firestore!==e)throw new Ke(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=Rh(r)}get(r){const n=zo(r,this._firestore),i=new DV(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||s.length!==1)return it();const A=s[0];if(A.isFoundDocument())return new b0(this._firestore,i,A.key,A,n.converter);if(A.isNoDocument())return new b0(this._firestore,i,n._key,null,n.converter);throw it()})}set(r,n,i){const s=zo(r,this._firestore),A=xw(s.converter,n,i),a=_w(this._dataReader,"Transaction.set",s._key,A,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(r,n,i,...s){const A=zo(r,this._firestore);let a;return a=typeof(n=on(n))=="string"||n instanceof kh?j_(this._dataReader,"Transaction.update",A._key,n,i,s):H_(this._dataReader,"Transaction.update",A._key,n),this._transaction.update(A._key,a),this}delete(r){const n=zo(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=zo(e,this._firestore),n=new Iw(this._firestore);return super.get(e).then(i=>new X_(this._firestore,n,r._key,i._document,new Gc(!1,!1),r.converter))}}function KU(t,e,r){t=ai(t,tA);const n=Object.assign(Object.assign({},HV),r);return function(s){if(s.maxAttempts<1)throw new Ke(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(s,A,a){const o=new vA;return s.asyncQueue.enqueueAndForget(async()=>{const l=await CV(s);new yV(s.asyncQueue,l,a,A,o).au()}),o.promise}(Ph(t),i=>e(new VV(t,i)),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){return Ph(t=ai(t,tA)),new jV(t,e=>Tp(t,e))}(function(e,r=!0){(function(i){Nh=i})(Fh),hh(new Fu("firestore",(n,{instanceIdentifier:i,options:s})=>{const A=n.getProvider("app").getImmediate(),a=new tA(new _8(n.getProvider("auth-internal")),new x8(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ke(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(l.options.projectId,u)}(A,i),A);return s=Object.assign({useFetchStreams:r},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),hl(Gb,"4.7.3",e),hl(Gb,"4.7.3","esm2017")})();const KV={apiKey:"AIzaSyA_ZzeP_DAoXeRuallrOaJ4xFaxjnuhw-8",authDomain:"posys-103de.firebaseapp.com",projectId:"posys-103de",storageBucket:"posys-103de.firebasestorage.app",messagingSenderId:"401054148688",appId:"1:401054148688:web:1c2aea9e8b40958b514955",measurementId:"G-Q2GWQXMFLX"},GU=zB(KV),Je=FV(GU),Fw=WN(GU);SV(Je).catch(t=>{t.code==="failed-precondition"?console.warn(" Ya hay otra pestaa usando persistencia."):t.code==="unimplemented"?console.warn(" El navegador no soporta persistencia offline."):console.error(" Error en persistencia offline:",t)});function GV(){const[t,e]=Y.useState(""),[r,n]=Y.useState(""),[i,s]=Y.useState(!1),[A,a]=Y.useState(""),o=nw(),l=async u=>{u.preventDefault();try{const m=(await iM(Fw,t,r)).user.uid,p=ir(Je,"users",m),_=await Dh(p);if(_.exists()){const B=_.data().role;B==="admin"?o("/admin"):B==="vendedor"?o("/admin/salesV2"):a("Rol no vlido")}else a("No se encontr el perfil de usuario")}catch(d){console.error(d),a("Credenciales incorrectas o error de conexin")}};return f.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Iniciar Sesin"}),f.jsxs("form",{onSubmit:l,className:"space-y-4 w-64",children:[f.jsx("input",{type:"email",placeholder:"Correo",value:t,onChange:u=>e(u.target.value),className:"w-full p-2 border rounded-[20px]",required:!0}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:i?"text":"password",placeholder:"Contrasea",value:r,onChange:u=>n(u.target.value),className:"w-full p-2 border rounded-[20px] pr-10",required:!0}),f.jsx("button",{type:"button",onClick:()=>s(u=>!u),className:"absolute inset-y-0 right-2 my-auto text-sm text-gray-600 hover:text-gray-800","aria-label":i?"Ocultar contrasea":"Mostrar contrasea",title:i?"Ocultar contrasea":"Mostrar contrasea",children:i?"Ocultar":"Ver"})]}),A&&f.jsx("p",{className:"text-red-600 text-sm",children:A}),f.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-[20px] hover:bg-blue-700",children:"Entrar"})]})]})}function Zi({children:t,allowedRoles:e}){const[r,n]=Y.useState(!0),[i,s]=Y.useState(!1);return Y.useEffect(()=>{const A=kN(Fw,async a=>{if(a){const o=ir(Je,"users",a.uid),l=await Dh(o);if(l.exists()){const u=l.data().role;s(e.includes(u))}}n(!1)});return()=>A()},[e]),r?f.jsx("div",{className:"p-4",children:"Cargando..."}):i?t:f.jsx(Nv,{to:"/"})}function qV({role:t}){const e="/admin",r=({isActive:a})=>`block rounded px-3 py-2 text-sm ${a?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,n=nw(),[i,s]=Y.useState(!1),A=async()=>{await RN(Fw),n("/")};return f.jsxs("div",{className:"min-h-screen flex",children:[f.jsxs("aside",{className:`${i?"w-15":"w-55"} bg-gray-50 border-r p-3 transition-all duration-300 flex flex-col items-center`,children:[f.jsx("button",{onClick:()=>s(!i),className:"mb-2 p-2 rounded bg-gray-200 hover:bg-gray-300","aria-label":i?"Expandir men":"Colapsar men",children:i?f.jsx("span",{title:"Expandir men",children:""}):f.jsx("span",{title:"Colapsar men",children:""})}),!i&&f.jsxs(f.Fragment,{children:[f.jsxs("nav",{className:"space-y-1",children:[t==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx(ki,{to:`${e}/financialDashboard`,className:r,children:"Dashboard"}),f.jsx(ki,{to:`${e}/batches`,className:r,children:"Inventario"}),f.jsx(ki,{to:`${e}/paidBatches`,className:r,children:"Inventarios Pagados"}),f.jsx(ki,{to:`${e}/billing`,className:r,children:"Facturacion"}),f.jsx(ki,{to:`${e}/expenses`,className:r,children:"Gastos"}),f.jsx(ki,{to:`${e}/salesV2`,className:r,children:"Venta"}),f.jsx(ki,{to:`${e}/bills`,className:r,children:"Cierre"}),f.jsx(ki,{to:`${e}/billhistoric`,className:r,children:"Historial de Cierres"}),f.jsx(ki,{to:`${e}/transactionclose`,className:r,children:"Liquidaciones"}),f.jsx(ki,{to:`${e}/products`,className:r,children:"Productos"}),f.jsx(ki,{to:`${e}/users`,className:r,children:"Usuarios"}),f.jsx(ki,{to:`${e}/fix`,className:r,children:"Fix de lotes"})]}),t==="vendedor"&&f.jsxs(f.Fragment,{children:[f.jsx(ki,{to:`${e}/salesV2`,className:r,children:"Venta"}),f.jsx(ki,{to:`${e}/bills`,className:r,children:"Cierre"})]})]}),f.jsx("button",{onClick:A,className:"mt-4 bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600",children:"Cerrar sesin"})]})]}),f.jsx("main",{className:"flex-1 p-6",children:f.jsx(YR,{})})]})}const qU=6048e5,zV=864e5,tx=Symbol.for("constructDateFrom");function bA(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&tx in t?t[tx](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ki(t,e){return bA(e||t,t)}function WV(t,e,r){const n=Ki(t,r==null?void 0:r.in);return isNaN(e)?bA(t,NaN):(n.setDate(n.getDate()+e),n)}function $V(t,e,r){const n=Ki(t,r==null?void 0:r.in);if(isNaN(e))return bA(t,NaN);const i=n.getDate(),s=bA(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const A=s.getDate();return i>=A?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}let XV={};function Sw(){return XV}function ep(t,e){var a,o,l,u;const r=Sw(),n=(e==null?void 0:e.weekStartsOn)??((o=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:o.weekStartsOn)??r.weekStartsOn??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=Ki(t,e==null?void 0:e.in),s=i.getDay(),A=(s<n?7:0)+s-n;return i.setDate(i.getDate()-A),i.setHours(0,0,0,0),i}function E0(t,e){return ep(t,{...e,weekStartsOn:1})}function zU(t,e){const r=Ki(t,e==null?void 0:e.in),n=r.getFullYear(),i=bA(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=E0(i),A=bA(r,0);A.setFullYear(n,0,4),A.setHours(0,0,0,0);const a=E0(A);return r.getTime()>=s.getTime()?n+1:r.getTime()>=a.getTime()?n:n-1}function rx(t){const e=Ki(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function YV(t,...e){const r=bA.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function nx(t,e){const r=Ki(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function JV(t,e,r){const[n,i]=YV(r==null?void 0:r.in,t,e),s=nx(n),A=nx(i),a=+s-rx(s),o=+A-rx(A);return Math.round((a-o)/zV)}function ZV(t,e){const r=zU(t,e),n=bA(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),E0(n)}function e7(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function t7(t){return!(!e7(t)&&typeof t!="number"||isNaN(+Ki(t)))}function WU(t,e){const r=Ki(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function $U(t,e){const r=Ki(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function r7(t,e){const r=Ki(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const n7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i7=(t,e,r)=>{let n;const i=n7[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function K1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const s7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},A7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o7={date:K1({formats:s7,defaultWidth:"full"}),time:K1({formats:A7,defaultWidth:"full"}),dateTime:K1({formats:a7,defaultWidth:"full"})},l7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u7=(t,e,r,n)=>l7[t];function yd(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const A=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):A;i=t.formattingValues[a]||t.formattingValues[A]}else{const A=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[a]||t.values[A]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const c7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},p7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m7=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},w7={ordinalNumber:m7,era:yd({values:c7,defaultWidth:"wide"}),quarter:yd({values:h7,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yd({values:d7,defaultWidth:"wide"}),day:yd({values:f7,defaultWidth:"wide"}),dayPeriod:yd({values:p7,defaultWidth:"wide",formattingValues:g7,defaultFormattingWidth:"wide"})};function vd(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const A=s[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(a)?v7(a,d=>d.test(A)):y7(a,d=>d.test(A));let l;l=t.valueCallback?t.valueCallback(o):o,l=r.valueCallback?r.valueCallback(l):l;const u=e.slice(A.length);return{value:l,rest:u}}}function y7(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function v7(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function B7(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let A=t.valueCallback?t.valueCallback(s[0]):s[0];A=r.valueCallback?r.valueCallback(A):A;const a=e.slice(i.length);return{value:A,rest:a}}}const _7=/^(\d+)(th|st|nd|rd)?/i,C7=/\d+/i,b7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E7={any:[/^b/i,/^(a|c)/i]},x7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I7={any:[/1/i,/2/i,/3/i,/4/i]},F7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},S7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},T7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},U7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Q7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},L7={ordinalNumber:B7({matchPattern:_7,parsePattern:C7,valueCallback:t=>parseInt(t,10)}),era:vd({matchPatterns:b7,defaultMatchWidth:"wide",parsePatterns:E7,defaultParseWidth:"any"}),quarter:vd({matchPatterns:x7,defaultMatchWidth:"wide",parsePatterns:I7,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vd({matchPatterns:F7,defaultMatchWidth:"wide",parsePatterns:S7,defaultParseWidth:"any"}),day:vd({matchPatterns:N7,defaultMatchWidth:"wide",parsePatterns:T7,defaultParseWidth:"any"}),dayPeriod:vd({matchPatterns:U7,defaultMatchWidth:"any",parsePatterns:Q7,defaultParseWidth:"any"})},P7={code:"en-US",formatDistance:i7,formatLong:o7,formatRelative:u7,localize:w7,match:L7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function k7(t,e){const r=Ki(t,e==null?void 0:e.in);return JV(r,r7(r))+1}function R7(t,e){const r=Ki(t,e==null?void 0:e.in),n=+E0(r)-+ZV(r);return Math.round(n/qU)+1}function XU(t,e){var u,d,m,p;const r=Ki(t,e==null?void 0:e.in),n=r.getFullYear(),i=Sw(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(m=i.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,A=bA((e==null?void 0:e.in)||t,0);A.setFullYear(n+1,0,s),A.setHours(0,0,0,0);const a=ep(A,e),o=bA((e==null?void 0:e.in)||t,0);o.setFullYear(n,0,s),o.setHours(0,0,0,0);const l=ep(o,e);return+r>=+a?n+1:+r>=+l?n:n-1}function D7(t,e){var a,o,l,u;const r=Sw(),n=(e==null?void 0:e.firstWeekContainsDate)??((o=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:o.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,i=XU(t,e),s=bA((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ep(s,e)}function O7(t,e){const r=Ki(t,e==null?void 0:e.in),n=+ep(r,e)-+D7(r,e);return Math.round(n/qU)+1}function fr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Uo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return fr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):fr(r+1,2)},d(t,e){return fr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return fr(t.getHours()%12||12,e.length)},H(t,e){return fr(t.getHours(),e.length)},m(t,e){return fr(t.getMinutes(),e.length)},s(t,e){return fr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return fr(i,e.length)}},uc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ix={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Uo.y(t,e)},Y:function(t,e,r,n){const i=XU(t,n),s=i>0?i:1-i;if(e==="YY"){const A=s%100;return fr(A,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):fr(s,e.length)},R:function(t,e){const r=zU(t);return fr(r,e.length)},u:function(t,e){const r=t.getFullYear();return fr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return fr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return fr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Uo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return fr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=O7(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):fr(i,e.length)},I:function(t,e,r){const n=R7(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):fr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Uo.d(t,e)},D:function(t,e,r){const n=k7(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):fr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return fr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return fr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return fr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=uc.noon:n===0?i=uc.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=uc.evening:n>=12?i=uc.afternoon:n>=4?i=uc.morning:i=uc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Uo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Uo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):fr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):fr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Uo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Uo.s(t,e)},S:function(t,e){return Uo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Ax(n);case"XXXX":case"XX":return ru(n);case"XXXXX":case"XXX":default:return ru(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Ax(n);case"xxxx":case"xx":return ru(n);case"xxxxx":case"xxx":default:return ru(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sx(n,":");case"OOOO":default:return"GMT"+ru(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sx(n,":");case"zzzz":default:return"GMT"+ru(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return fr(n,e.length)},T:function(t,e,r){return fr(+t,e.length)}};function sx(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+fr(s,2)}function Ax(t,e){return t%60===0?(t>0?"-":"+")+fr(Math.abs(t)/60,2):ru(t,e)}function ru(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=fr(Math.trunc(n/60),2),s=fr(n%60,2);return r+i+e+s}const ax=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},YU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},M7=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return ax(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",ax(n,e)).replace("{{time}}",YU(i,e))},H7={p:YU,P:M7},j7=/^D+$/,V7=/^Y+$/,K7=["D","DD","YY","YYYY"];function G7(t){return j7.test(t)}function q7(t){return V7.test(t)}function z7(t,e,r){const n=W7(t,e,r);if(console.warn(n),K7.includes(t))throw new RangeError(n)}function W7(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y7=/^'([^]*?)'?$/,J7=/''/g,Z7=/[a-zA-Z]/;function an(t,e,r){var u,d,m,p;const n=Sw(),i=n.locale??P7,s=n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,A=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=Ki(t,r==null?void 0:r.in);if(!t7(a))throw new RangeError("Invalid time value");let o=e.match(X7).map(_=>{const E=_[0];if(E==="p"||E==="P"){const B=H7[E];return B(_,i.formatLong)}return _}).join("").match($7).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:e9(_)};if(ix[E])return{isToken:!0,value:_};if(E.match(Z7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(o=i.localize.preprocessor(a,o));const l={firstWeekContainsDate:s,weekStartsOn:A,locale:i};return o.map(_=>{if(!_.isToken)return _.value;const E=_.value;(q7(E)||G7(E))&&z7(E,e,String(t));const B=ix[E[0]];return B(a,E,i.localize,l)}).join("")}function e9(t){const e=t.match(Y7);return e?e[1].replace(J7,"'"):t}function t9(t,e,r){return WV(t,-14,r)}function r9(t,e,r){return $V(t,-1,r)}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o2=function(t,e){return o2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},o2(t,e)};function FA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var l2=function(){return l2=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},l2.apply(this,arguments)};function Ri(t,e,r,n){function i(s){return s instanceof r?s:new r(function(A){A(s)})}return new(r||(r=Promise))(function(s,A){function a(u){try{l(n.next(u))}catch(d){A(d)}}function o(u){try{l(n.throw(u))}catch(d){A(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,o)}l((n=n.apply(t,[])).next())})}function _i(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A;return A={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function a(l){return function(u){return o([l,u])}}function o(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function _g(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var io=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Nw=function(t,e){return io.fromClientRect(t,e.getBoundingClientRect())},n9=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new io(0,0,n,i)},Tw=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},wn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var A=t[i];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},ox="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Cg=0;Cg<ox.length;Cg++)i9[ox.charCodeAt(Cg)]=Cg;var lx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Md=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bg=0;bg<lx.length;bg++)Md[lx.charCodeAt(bg)]=bg;var s9=function(t){var e=t.length*.75,r=t.length,n,i=0,s,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Md[t.charCodeAt(n)],A=Md[t.charCodeAt(n+1)],a=Md[t.charCodeAt(n+2)],o=Md[t.charCodeAt(n+3)],u[i++]=s<<2|A>>4,u[i++]=(A&15)<<4|a>>2,u[i++]=(a&3)<<6|o&63;return l},A9=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},a9=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},mu=5,J_=11,G1=2,o9=J_-mu,JU=65536>>mu,l9=1<<mu,q1=l9-1,u9=1024>>mu,c9=JU+u9,h9=c9,d9=32,f9=h9+d9,p9=65536>>J_,g9=1<<o9,m9=g9-1,ux=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},w9=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},y9=function(t,e){var r=s9(t),n=Array.isArray(r)?a9(r):new Uint32Array(r),i=Array.isArray(r)?A9(r):new Uint16Array(r),s=24,A=ux(i,s/2,n[4]/2),a=n[5]===2?ux(i,(s+n[4])/2):w9(n,Math.ceil((s+n[4])/4));return new v9(n[0],n[1],n[2],n[3],A,a)},v9=function(){function t(e,r,n,i,s,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>mu],r=(r<<G1)+(e&q1),this.data[r];if(e<=65535)return r=this.index[JU+(e-55296>>mu)],r=(r<<G1)+(e&q1),this.data[r];if(e<this.highStart)return r=f9-p9+(e>>J_),r=this.index[r],r+=e>>mu&m9,r=this.index[r],r=(r<<G1)+(e&q1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),cx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eg=0;Eg<cx.length;Eg++)B9[cx.charCodeAt(Eg)]=Eg;var _9="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",hx=50,C9=1,ZU=2,e3=3,b9=4,E9=5,dx=7,t3=8,fx=9,Jo=10,u2=11,px=12,c2=13,x9=14,Hd=15,h2=16,xg=17,Bd=18,I9=19,gx=20,d2=21,_d=22,z1=23,cc=24,bs=25,jd=26,Vd=27,hc=28,F9=29,ou=30,S9=31,Ig=32,Fg=33,f2=34,p2=35,g2=36,tp=37,m2=38,Sm=39,Nm=40,W1=41,r3=42,N9=43,T9=[9001,65288],n3="!",Vt="",Sg="",w2=y9(_9),Sa=[ou,g2],y2=[C9,ZU,e3,E9],i3=[Jo,t3],mx=[Vd,jd],U9=y2.concat(i3),wx=[m2,Sm,Nm,f2,p2],Q9=[Hd,c2],L9=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,A){var a=w2.get(s);if(a>hx?(i.push(!0),a-=hx):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(A),r.push(h2);if(a===b9||a===u2){if(A===0)return n.push(A),r.push(ou);var o=r[A-1];return U9.indexOf(o)===-1?(n.push(n[A-1]),r.push(o)):(n.push(A),r.push(ou))}if(n.push(A),a===S9)return r.push(e==="strict"?d2:tp);if(a===r3||a===F9)return r.push(ou);if(a===N9)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(tp):r.push(ou);r.push(a)}),[n,r,i]},$1=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var A=n[s];if(A===e)return!0;if(A!==Jo)break}if(i===Jo)for(var s=r;s>0;){s--;var a=n[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var o=r;o<=n.length;){o++;var A=n[o];if(A===e)return!0;if(A!==Jo)break}if(a!==Jo)break}return!1},yx=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Jo)r--;else return n}return 0},P9=function(t,e,r,n,i){if(r[n]===0)return Vt;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Vt;var A=s-1,a=s+1,o=e[s],l=A>=0?e[A]:0,u=e[a];if(o===ZU&&u===e3)return Vt;if(y2.indexOf(o)!==-1)return n3;if(y2.indexOf(u)!==-1||i3.indexOf(u)!==-1)return Vt;if(yx(s,e)===t3)return Sg;if(w2.get(t[s])===u2||(o===Ig||o===Fg)&&w2.get(t[a])===u2||o===dx||u===dx||o===fx||[Jo,c2,Hd].indexOf(o)===-1&&u===fx||[xg,Bd,I9,cc,hc].indexOf(u)!==-1||yx(s,e)===_d||$1(z1,_d,s,e)||$1([xg,Bd],d2,s,e)||$1(px,px,s,e))return Vt;if(o===Jo)return Sg;if(o===z1||u===z1)return Vt;if(u===h2||o===h2)return Sg;if([c2,Hd,d2].indexOf(u)!==-1||o===x9||l===g2&&Q9.indexOf(o)!==-1||o===hc&&u===g2||u===gx||Sa.indexOf(u)!==-1&&o===bs||Sa.indexOf(o)!==-1&&u===bs||o===Vd&&[tp,Ig,Fg].indexOf(u)!==-1||[tp,Ig,Fg].indexOf(o)!==-1&&u===jd||Sa.indexOf(o)!==-1&&mx.indexOf(u)!==-1||mx.indexOf(o)!==-1&&Sa.indexOf(u)!==-1||[Vd,jd].indexOf(o)!==-1&&(u===bs||[_d,Hd].indexOf(u)!==-1&&e[a+1]===bs)||[_d,Hd].indexOf(o)!==-1&&u===bs||o===bs&&[bs,hc,cc].indexOf(u)!==-1)return Vt;if([bs,hc,cc,xg,Bd].indexOf(u)!==-1)for(var d=s;d>=0;){var m=e[d];if(m===bs)return Vt;if([hc,cc].indexOf(m)!==-1)d--;else break}if([Vd,jd].indexOf(u)!==-1)for(var d=[xg,Bd].indexOf(o)!==-1?A:s;d>=0;){var m=e[d];if(m===bs)return Vt;if([hc,cc].indexOf(m)!==-1)d--;else break}if(m2===o&&[m2,Sm,f2,p2].indexOf(u)!==-1||[Sm,f2].indexOf(o)!==-1&&[Sm,Nm].indexOf(u)!==-1||[Nm,p2].indexOf(o)!==-1&&u===Nm||wx.indexOf(o)!==-1&&[gx,jd].indexOf(u)!==-1||wx.indexOf(u)!==-1&&o===Vd||Sa.indexOf(o)!==-1&&Sa.indexOf(u)!==-1||o===cc&&Sa.indexOf(u)!==-1||Sa.concat(bs).indexOf(o)!==-1&&u===_d&&T9.indexOf(t[a])===-1||Sa.concat(bs).indexOf(u)!==-1&&o===Bd)return Vt;if(o===W1&&u===W1){for(var p=r[s],_=1;p>0&&(p--,e[p]===W1);)_++;if(_%2!==0)return Vt}return o===Ig&&u===Fg?Vt:Sg},k9=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=L9(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[bs,ou,r3].indexOf(a)!==-1?tp:a}));var A=e.wordBreak==="keep-all"?s.map(function(a,o){return a&&t[o]>=19968&&t[o]<=40959}):void 0;return[n,i,A]},R9=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===n3,this.start=n,this.end=i}return t.prototype.slice=function(){return wn.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),D9=function(t,e){var r=Tw(t),n=k9(r,e),i=n[0],s=n[1],A=n[2],a=r.length,o=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var u=Vt;l<a&&(u=P9(r,s,i,++l,A))===Vt;);if(u!==Vt||l===a){var d=new R9(r,u,o,l);return o=l,{value:d,done:!1}}return{done:!0,value:null}}}},O9=1,M9=2,Up=4,vx=8,x0=10,Bx=47,lf=92,H9=9,j9=32,Ng=34,Cd=61,V9=35,K9=36,G9=37,Tg=39,Ug=40,bd=41,q9=95,ts=45,z9=33,W9=60,$9=62,X9=64,Y9=91,J9=93,Z9=61,eK=123,Qg=63,tK=125,_x=124,rK=126,nK=128,Cx=65533,X1=42,hu=43,iK=44,sK=58,AK=59,rp=46,aK=0,oK=8,lK=11,uK=14,cK=31,hK=127,YA=-1,s3=48,A3=97,a3=101,dK=102,fK=117,pK=122,o3=65,l3=69,u3=70,gK=85,mK=90,bi=function(t){return t>=s3&&t<=57},wK=function(t){return t>=55296&&t<=57343},dc=function(t){return bi(t)||t>=o3&&t<=u3||t>=A3&&t<=dK},yK=function(t){return t>=A3&&t<=pK},vK=function(t){return t>=o3&&t<=mK},BK=function(t){return yK(t)||vK(t)},_K=function(t){return t>=nK},Lg=function(t){return t===x0||t===H9||t===j9},I0=function(t){return BK(t)||_K(t)||t===q9},bx=function(t){return I0(t)||bi(t)||t===ts},CK=function(t){return t>=aK&&t<=oK||t===lK||t>=uK&&t<=cK||t===hK},Oo=function(t,e){return t!==lf?!1:e!==x0},Pg=function(t,e,r){return t===ts?I0(e)||Oo(e,r):I0(t)?!0:!!(t===lf&&Oo(t,e))},Y1=function(t,e,r){return t===hu||t===ts?bi(e)?!0:e===rp&&bi(r):bi(t===rp?e:t)},bK=function(t){var e=0,r=1;(t[e]===hu||t[e]===ts)&&(t[e]===ts&&(r=-1),e++);for(var n=[];bi(t[e]);)n.push(t[e++]);var i=n.length?parseInt(wn.apply(void 0,n),10):0;t[e]===rp&&e++;for(var s=[];bi(t[e]);)s.push(t[e++]);var A=s.length,a=A?parseInt(wn.apply(void 0,s),10):0;(t[e]===l3||t[e]===a3)&&e++;var o=1;(t[e]===hu||t[e]===ts)&&(t[e]===ts&&(o=-1),e++);for(var l=[];bi(t[e]);)l.push(t[e++]);var u=l.length?parseInt(wn.apply(void 0,l),10):0;return r*(i+a*Math.pow(10,-A))*Math.pow(10,o*u)},EK={type:2},xK={type:3},IK={type:4},FK={type:13},SK={type:8},NK={type:21},TK={type:9},UK={type:10},QK={type:11},LK={type:12},PK={type:14},kg={type:23},kK={type:1},RK={type:25},DK={type:24},OK={type:26},MK={type:27},HK={type:28},jK={type:29},VK={type:31},v2={type:32},c3=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Tw(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==v2;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ng:return this.consumeStringToken(Ng);case V9:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(bx(r)||Oo(n,i)){var s=Pg(r,n,i)?M9:O9,A=this.consumeName();return{type:5,value:A,flags:s}}break;case K9:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),FK;break;case Tg:return this.consumeStringToken(Tg);case Ug:return EK;case bd:return xK;case X1:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),PK;break;case hu:if(Y1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case iK:return IK;case ts:var a=e,o=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Y1(a,o,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Pg(a,o,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===ts&&l===$9)return this.consumeCodePoint(),this.consumeCodePoint(),DK;break;case rp:if(Y1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bx:if(this.peekCodePoint(0)===X1)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===X1&&(u=this.consumeCodePoint(),u===Bx))return this.consumeToken();if(u===YA)return this.consumeToken()}break;case sK:return OK;case AK:return MK;case W9:if(this.peekCodePoint(0)===z9&&this.peekCodePoint(1)===ts&&this.peekCodePoint(2)===ts)return this.consumeCodePoint(),this.consumeCodePoint(),RK;break;case X9:var d=this.peekCodePoint(0),m=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Pg(d,m,p)){var A=this.consumeName();return{type:7,value:A}}break;case Y9:return HK;case lf:if(Oo(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case J9:return jK;case Z9:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),SK;break;case eK:return QK;case tK:return LK;case fK:case gK:var _=this.peekCodePoint(0),E=this.peekCodePoint(1);return _===hu&&(dc(E)||E===Qg)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case _x:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),TK;if(this.peekCodePoint(0)===_x)return this.consumeCodePoint(),NK;break;case rK:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),UK;break;case YA:return v2}return Lg(e)?(this.consumeWhiteSpace(),VK):bi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):I0(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:wn(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();dc(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Qg&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(wn.apply(void 0,e.map(function(o){return o===Qg?s3:o})),16),s=parseInt(wn.apply(void 0,e.map(function(o){return o===Qg?u3:o})),16);return{type:30,start:i,end:s}}var A=parseInt(wn.apply(void 0,e),16);if(this.peekCodePoint(0)===ts&&dc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var a=[];dc(r)&&a.length<6;)a.push(r),r=this.consumeCodePoint();var s=parseInt(wn.apply(void 0,a),16);return{type:30,start:A,end:s}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Ug?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ug?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===YA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Tg||r===Ng){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===YA||this.peekCodePoint(0)===bd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),kg)}for(;;){var i=this.consumeCodePoint();if(i===YA||i===bd)return{type:22,value:wn.apply(void 0,e)};if(Lg(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===YA||this.peekCodePoint(0)===bd?(this.consumeCodePoint(),{type:22,value:wn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),kg);if(i===Ng||i===Tg||i===Ug||CK(i))return this.consumeBadUrlRemnants(),kg;if(i===lf)if(Oo(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),kg;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Lg(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===bd||e===YA)return;Oo(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=wn.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===YA||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===x0)return this._value.splice(0,n),kK;if(i===lf){var s=this._value[n+1];s!==YA&&s!==void 0&&(s===x0?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Oo(i,s)&&(r+=this.consumeStringSlice(n),r+=wn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Up,n=this.peekCodePoint(0);for((n===hu||n===ts)&&e.push(this.consumeCodePoint());bi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===rp&&bi(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=vx;bi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===l3||n===a3)&&((i===hu||i===ts)&&bi(s)||bi(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=vx;bi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[bK(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Pg(i,s,A)){var a=this.consumeName();return{type:15,number:r,flags:n,unit:a}}return i===G9?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(dc(e)){for(var r=wn(e);dc(this.peekCodePoint(0))&&r.length<6;)r+=wn(this.consumeCodePoint());Lg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||wK(n)||n>1114111?Cx:n}return e===YA?Cx:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(bx(r))e+=wn(r);else if(Oo(r,this.peekCodePoint(0)))e+=wn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),h3=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new c3;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||GK(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?v2:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Qp=function(t){return t.type===15},Mh=function(t){return t.type===17},vr=function(t){return t.type===20},KK=function(t){return t.type===0},B2=function(t,e){return vr(t)&&t.value===e},d3=function(t){return t.type!==31},Bh=function(t){return t.type!==31&&t.type!==4},ca=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},GK=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},bl=function(t){return t.type===17||t.type===15},xn=function(t){return t.type===16||bl(t)},f3=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},si={type:17,number:0,flags:Up},Z_={type:16,number:50,flags:Up},Zo={type:16,number:100,flags:Up},Kd=function(t,e,r){var n=t[0],i=t[1];return[Fr(n,e),Fr(typeof i<"u"?i:n,r)]},Fr=function(t,e){if(t.type===16)return t.number/100*e;if(Qp(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},p3="deg",g3="grad",m3="rad",w3="turn",Uw={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case p3:return Math.PI*e.number/180;case g3:return Math.PI/200*e.number;case m3:return e.number;case w3:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},y3=function(t){return t.type===15&&(t.unit===p3||t.unit===g3||t.unit===m3||t.unit===w3)},v3=function(t){var e=t.filter(vr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[si,si];case"to top":case"bottom":return $s(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[si,Zo];case"to right":case"left":return $s(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Zo,Zo];case"to bottom":case"top":return $s(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Zo,si];case"to left":case"right":return $s(270)}return 0},$s=function(t){return Math.PI*t/180},pl={name:"color",parse:function(t,e){if(e.type===18){var r=qK[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return el(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),A=e.value.substring(3,4);return el(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(A+A,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return el(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),A=e.value.substring(6,8);return el(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(A,16)/255)}}if(e.type===20){var a=$a[e.value.toUpperCase()];if(typeof a<"u")return a}return $a.TRANSPARENT}},gl=function(t){return(255&t)===0},Kn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},el=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},Ex=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},xx=function(t,e){var r=e.filter(Bh);if(r.length===3){var n=r.map(Ex),i=n[0],s=n[1],A=n[2];return el(i,s,A,1)}if(r.length===4){var a=r.map(Ex),i=a[0],s=a[1],A=a[2],o=a[3];return el(i,s,A,o)}return 0};function J1(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var Ix=function(t,e){var r=e.filter(Bh),n=r[0],i=r[1],s=r[2],A=r[3],a=(n.type===17?$s(n.number):Uw.parse(t,n))/(Math.PI*2),o=xn(i)?i.number/100:0,l=xn(s)?s.number/100:0,u=typeof A<"u"&&xn(A)?Fr(A,1):1;if(o===0)return el(l*255,l*255,l*255,1);var d=l<=.5?l*(o+1):l+o-l*o,m=l*2-d,p=J1(m,d,a+1/3),_=J1(m,d,a),E=J1(m,d,a-1/3);return el(p*255,_*255,E*255,u)},qK={hsl:Ix,hsla:Ix,rgb:xx,rgba:xx},uf=function(t,e){return pl.parse(t,h3.create(e).parseComponentValue())},$a={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zK={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(vr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},WK={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Qw=function(t,e){var r=pl.parse(t,e[0]),n=e[1];return n&&xn(n)?{color:r,stop:n}:{color:r,stop:null}},Fx=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=si),n.stop===null&&(n.stop=Zo);for(var i=[],s=0,A=0;A<t.length;A++){var a=t[A].stop;if(a!==null){var o=Fr(a,e);o>s?i.push(o):i.push(s),s=o}else i.push(null)}for(var l=null,A=0;A<i.length;A++){var u=i[A];if(u===null)l===null&&(l=A);else if(l!==null){for(var d=A-l,m=i[l-1],p=(u-m)/(d+1),_=1;_<=d;_++)i[l+_-1]=p*_;l=null}}return t.map(function(E,B){var w=E.color;return{color:w,stop:Math.max(Math.min(1,i[B]/e),0)}})},$K=function(t,e,r){var n=e/2,i=r/2,s=Fr(t[0],e)-n,A=i-Fr(t[1],r);return(Math.atan2(A,s)+Math.PI*2)%(Math.PI*2)},XK=function(t,e,r){var n=typeof t=="number"?t:$K(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,A=r/2,a=i/2,o=Math.sin(n-Math.PI/2)*a,l=Math.cos(n-Math.PI/2)*a;return[i,s-l,s+l,A-o,A+o]},fA=function(t,e){return Math.sqrt(t*t+e*e)},Sx=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(A,a){var o=a[0],l=a[1],u=fA(r-o,n-l);return(i?u<A.optimumDistance:u>A.optimumDistance)?{optimumCorner:a,optimumDistance:u}:A},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},YK=function(t,e,r,n,i){var s=0,A=0;switch(t.size){case 0:t.shape===0?s=A=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),A=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=A=Math.min(fA(e,r),fA(e,r-i),fA(e-n,r),fA(e-n,r-i));else if(t.shape===1){var a=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),o=Sx(n,i,e,r,!0),l=o[0],u=o[1];s=fA(l-e,(u-r)/a),A=a*s}break;case 1:t.shape===0?s=A=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),A=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=A=Math.max(fA(e,r),fA(e,r-i),fA(e-n,r),fA(e-n,r-i));else if(t.shape===1){var a=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=Sx(n,i,e,r,!1),l=d[0],u=d[1];s=fA(l-e,(u-r)/a),A=a*s}break}return Array.isArray(t.size)&&(s=Fr(t.size[0],n),A=t.size.length===2?Fr(t.size[1],i):s),[s,A]},JK=function(t,e){var r=$s(180),n=[];return ca(e).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&A.value==="to"){r=v3(i);return}else if(y3(A)){r=Uw.parse(t,A);return}}var a=Qw(t,i);n.push(a)}),{angle:r,stops:n,type:1}},Rg=function(t,e){var r=$s(180),n=[];return ca(e).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){r=v3(i);return}else if(y3(A)){r=(Uw.parse(t,A)+$s(270))%$s(360);return}}var a=Qw(t,i);n.push(a)}),{angle:r,stops:n,type:1}},ZK=function(t,e){var r=$s(180),n=[],i=1,s=0,A=3,a=[];return ca(e).forEach(function(o,l){var u=o[0];if(l===0){if(vr(u)&&u.value==="linear"){i=1;return}else if(vr(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var d=pl.parse(t,u.values[0]);n.push({stop:si,color:d})}else if(u.name==="to"){var d=pl.parse(t,u.values[0]);n.push({stop:Zo,color:d})}else if(u.name==="color-stop"){var m=u.values.filter(Bh);if(m.length===2){var d=pl.parse(t,m[1]),p=m[0];Mh(p)&&n.push({stop:{type:16,number:p.number*100,flags:p.flags},color:d})}}}}),i===1?{angle:(r+$s(180))%$s(360),stops:n,type:i}:{size:A,shape:s,stops:n,position:a,type:i}},B3="closest-side",_3="farthest-side",C3="closest-corner",b3="farthest-corner",E3="circle",x3="ellipse",I3="cover",F3="contain",eG=function(t,e){var r=0,n=3,i=[],s=[];return ca(e).forEach(function(A,a){var o=!0;if(a===0){var l=!1;o=A.reduce(function(d,m){if(l)if(vr(m))switch(m.value){case"center":return s.push(Z_),d;case"top":case"left":return s.push(si),d;case"right":case"bottom":return s.push(Zo),d}else(xn(m)||bl(m))&&s.push(m);else if(vr(m))switch(m.value){case E3:return r=0,!1;case x3:return r=1,!1;case"at":return l=!0,!1;case B3:return n=0,!1;case I3:case _3:return n=1,!1;case F3:case C3:return n=2,!1;case b3:return n=3,!1}else if(bl(m)||xn(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return d},o)}if(o){var u=Qw(t,A);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},Dg=function(t,e){var r=0,n=3,i=[],s=[];return ca(e).forEach(function(A,a){var o=!0;if(a===0?o=A.reduce(function(u,d){if(vr(d))switch(d.value){case"center":return s.push(Z_),!1;case"top":case"left":return s.push(si),!1;case"right":case"bottom":return s.push(Zo),!1}else if(xn(d)||bl(d))return s.push(d),!1;return u},o):a===1&&(o=A.reduce(function(u,d){if(vr(d))switch(d.value){case E3:return r=0,!1;case x3:return r=1,!1;case F3:case B3:return n=0,!1;case _3:return n=1,!1;case C3:return n=2,!1;case I3:case b3:return n=3,!1}else if(bl(d)||xn(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},o)),o){var l=Qw(t,A);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},tG=function(t){return t.type===1},rG=function(t){return t.type===2},e5={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=S3[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function nG(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!S3[t.name])}var S3={"linear-gradient":JK,"-moz-linear-gradient":Rg,"-ms-linear-gradient":Rg,"-o-linear-gradient":Rg,"-webkit-linear-gradient":Rg,"radial-gradient":eG,"-moz-radial-gradient":Dg,"-ms-radial-gradient":Dg,"-o-radial-gradient":Dg,"-webkit-radial-gradient":Dg,"-webkit-gradient":ZK},iG={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Bh(n)&&nG(n)}).map(function(n){return e5.parse(t,n)})}},sG={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(vr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},AG={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return ca(e).map(function(r){return r.filter(xn)}).map(f3)}},aG={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return ca(e).map(function(r){return r.filter(vr).map(function(n){return n.value}).join(" ")}).map(oG)}},oG=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},nh;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(nh||(nh={}));var lG={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return ca(e).map(function(r){return r.filter(uG)})}},uG=function(t){return vr(t)||xn(t)},Lw=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},cG=Lw("top"),hG=Lw("right"),dG=Lw("bottom"),fG=Lw("left"),Pw=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return f3(r.filter(xn))}}},pG=Pw("top-left"),gG=Pw("top-right"),mG=Pw("bottom-right"),wG=Pw("bottom-left"),kw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},yG=kw("top"),vG=kw("right"),BG=kw("bottom"),_G=kw("left"),Rw=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Qp(r)?r.number:0}}},CG=Rw("top"),bG=Rw("right"),EG=Rw("bottom"),xG=Rw("left"),IG={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},FG={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},SG={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(vr).reduce(function(r,n){return r|NG(n.value)},0)}},NG=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},TG={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},UG={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},F0;(function(t){t.NORMAL="normal",t.STRICT="strict"})(F0||(F0={}));var QG={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return F0.STRICT;case"normal":default:return F0.NORMAL}}},LG={name:"line-height",initialValue:"normal",prefix:!1,type:4},Nx=function(t,e){return vr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:xn(t)?Fr(t,e):e},PG={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:e5.parse(t,e)}},kG={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},_2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Dw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},RG=Dw("top"),DG=Dw("right"),OG=Dw("bottom"),MG=Dw("left"),HG={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(vr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},jG={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ow=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},VG=Ow("top"),KG=Ow("right"),GG=Ow("bottom"),qG=Ow("left"),zG={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},WG={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},$G={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&B2(e[0],"none")?[]:ca(e).map(function(r){for(var n={color:$a.TRANSPARENT,offsetX:si,offsetY:si,blur:si},i=0,s=0;s<r.length;s++){var A=r[s];bl(A)?(i===0?n.offsetX=A:i===1?n.offsetY=A:n.blur=A,i++):n.color=pl.parse(t,A)}return n})}},XG={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},YG={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=eq[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},JG=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},ZG=function(t){var e=t.filter(function(o){return o.type===17}).map(function(o){return o.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],a=e[13];return e[14],e[15],e.length===16?[r,n,i,s,A,a]:null},eq={matrix:JG,matrix3d:ZG},Tx={type:16,number:50,flags:Up},tq=[Tx,Tx],rq={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(xn);return r.length!==2?tq:[r[0],r[1]]}},nq={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},cf;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(cf||(cf={}));var iq={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return cf.BREAK_ALL;case"keep-all":return cf.KEEP_ALL;case"normal":default:return cf.NORMAL}}},sq={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Mh(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},N3={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Aq={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Mh(e)?e.number:1}},aq={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oq={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(vr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},lq={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},uq={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},cq={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Mh(e))return e.number;if(vr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},hq={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(vr).map(function(r){return r.value})}},dq={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ln=function(t,e){return(t&e)!==0},fq={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},pq={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(d3),s=0;s<i.length;s++){var A=i[s],a=i[s+1];if(A.type===20){var o=a&&Mh(a)?a.number:1;n.push({counter:A.value,increment:o})}}return n}},gq={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(d3),i=0;i<n.length;i++){var s=n[i],A=n[i+1];if(vr(s)&&s.value!=="none"){var a=A&&Mh(A)?A.number:0;r.push({counter:s.value,reset:a})}}return r}},mq={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Qp).map(function(r){return N3.parse(t,r)})}},wq={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(KK);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var A=i[s].value,a=i[s+1].value;n.push({open:A,close:a})}return n}},Ux=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},yq={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&B2(e[0],"none")?[]:ca(e).map(function(r){for(var n={color:255,offsetX:si,offsetY:si,blur:si,spread:si,inset:!1},i=0,s=0;s<r.length;s++){var A=r[s];B2(A,"inset")?n.inset=!0:bl(A)?(i===0?n.offsetX=A:i===1?n.offsetY=A:i===2?n.blur=A:n.spread=A,i++):n.color=pl.parse(t,A)}return n})}},vq={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(vr).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},Bq={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},_q={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Qp(e)?e.number:0}},Cq=function(){function t(e,r){var n,i;this.animationDuration=Xe(e,mq,r.animationDuration),this.backgroundClip=Xe(e,zK,r.backgroundClip),this.backgroundColor=Xe(e,WK,r.backgroundColor),this.backgroundImage=Xe(e,iG,r.backgroundImage),this.backgroundOrigin=Xe(e,sG,r.backgroundOrigin),this.backgroundPosition=Xe(e,AG,r.backgroundPosition),this.backgroundRepeat=Xe(e,aG,r.backgroundRepeat),this.backgroundSize=Xe(e,lG,r.backgroundSize),this.borderTopColor=Xe(e,cG,r.borderTopColor),this.borderRightColor=Xe(e,hG,r.borderRightColor),this.borderBottomColor=Xe(e,dG,r.borderBottomColor),this.borderLeftColor=Xe(e,fG,r.borderLeftColor),this.borderTopLeftRadius=Xe(e,pG,r.borderTopLeftRadius),this.borderTopRightRadius=Xe(e,gG,r.borderTopRightRadius),this.borderBottomRightRadius=Xe(e,mG,r.borderBottomRightRadius),this.borderBottomLeftRadius=Xe(e,wG,r.borderBottomLeftRadius),this.borderTopStyle=Xe(e,yG,r.borderTopStyle),this.borderRightStyle=Xe(e,vG,r.borderRightStyle),this.borderBottomStyle=Xe(e,BG,r.borderBottomStyle),this.borderLeftStyle=Xe(e,_G,r.borderLeftStyle),this.borderTopWidth=Xe(e,CG,r.borderTopWidth),this.borderRightWidth=Xe(e,bG,r.borderRightWidth),this.borderBottomWidth=Xe(e,EG,r.borderBottomWidth),this.borderLeftWidth=Xe(e,xG,r.borderLeftWidth),this.boxShadow=Xe(e,yq,r.boxShadow),this.color=Xe(e,IG,r.color),this.direction=Xe(e,FG,r.direction),this.display=Xe(e,SG,r.display),this.float=Xe(e,TG,r.cssFloat),this.fontFamily=Xe(e,lq,r.fontFamily),this.fontSize=Xe(e,uq,r.fontSize),this.fontStyle=Xe(e,dq,r.fontStyle),this.fontVariant=Xe(e,hq,r.fontVariant),this.fontWeight=Xe(e,cq,r.fontWeight),this.letterSpacing=Xe(e,UG,r.letterSpacing),this.lineBreak=Xe(e,QG,r.lineBreak),this.lineHeight=Xe(e,LG,r.lineHeight),this.listStyleImage=Xe(e,PG,r.listStyleImage),this.listStylePosition=Xe(e,kG,r.listStylePosition),this.listStyleType=Xe(e,_2,r.listStyleType),this.marginTop=Xe(e,RG,r.marginTop),this.marginRight=Xe(e,DG,r.marginRight),this.marginBottom=Xe(e,OG,r.marginBottom),this.marginLeft=Xe(e,MG,r.marginLeft),this.opacity=Xe(e,Aq,r.opacity);var s=Xe(e,HG,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Xe(e,jG,r.overflowWrap),this.paddingTop=Xe(e,VG,r.paddingTop),this.paddingRight=Xe(e,KG,r.paddingRight),this.paddingBottom=Xe(e,GG,r.paddingBottom),this.paddingLeft=Xe(e,qG,r.paddingLeft),this.paintOrder=Xe(e,vq,r.paintOrder),this.position=Xe(e,WG,r.position),this.textAlign=Xe(e,zG,r.textAlign),this.textDecorationColor=Xe(e,aq,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Xe(e,oq,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Xe(e,$G,r.textShadow),this.textTransform=Xe(e,XG,r.textTransform),this.transform=Xe(e,YG,r.transform),this.transformOrigin=Xe(e,rq,r.transformOrigin),this.visibility=Xe(e,nq,r.visibility),this.webkitTextStrokeColor=Xe(e,Bq,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Xe(e,_q,r.webkitTextStrokeWidth),this.wordBreak=Xe(e,iq,r.wordBreak),this.zIndex=Xe(e,sq,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return gl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Ln(this.display,4)||Ln(this.display,33554432)||Ln(this.display,268435456)||Ln(this.display,536870912)||Ln(this.display,67108864)||Ln(this.display,134217728)},t}(),bq=function(){function t(e,r){this.content=Xe(e,fq,r.content),this.quotes=Xe(e,wq,r.quotes)}return t}(),Qx=function(){function t(e,r){this.counterIncrement=Xe(e,pq,r.counterIncrement),this.counterReset=Xe(e,gq,r.counterReset)}return t}(),Xe=function(t,e,r){var n=new c3,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new h3(n.read());switch(e.type){case 2:var A=s.parseComponentValue();return e.parse(t,vr(A)?A.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Uw.parse(t,s.parseComponentValue());case"color":return pl.parse(t,s.parseComponentValue());case"image":return e5.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return bl(a)?a:si;case"length-percentage":var o=s.parseComponentValue();return xn(o)?o:si;case"time":return N3.parse(t,s.parseComponentValue())}break}},Eq="data-html2canvas-debug",xq=function(t){var e=t.getAttribute(Eq);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},C2=function(t,e){var r=xq(t);return r===1||e===r},ha=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,C2(r,3))debugger;this.styles=new Cq(e,window.getComputedStyle(r,null)),x2(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Nw(this.context,r),C2(r,4)&&(this.flags|=16)}return t}(),Iq="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Lx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Og=0;Og<Lx.length;Og++)Gd[Lx.charCodeAt(Og)]=Og;var Fq=function(t){var e=t.length*.75,r=t.length,n,i=0,s,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Gd[t.charCodeAt(n)],A=Gd[t.charCodeAt(n+1)],a=Gd[t.charCodeAt(n+2)],o=Gd[t.charCodeAt(n+3)],u[i++]=s<<2|A>>4,u[i++]=(A&15)<<4|a>>2,u[i++]=(a&3)<<6|o&63;return l},Sq=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Nq=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},wu=5,t5=11,Z1=2,Tq=t5-wu,T3=65536>>wu,Uq=1<<wu,ey=Uq-1,Qq=1024>>wu,Lq=T3+Qq,Pq=Lq,kq=32,Rq=Pq+kq,Dq=65536>>t5,Oq=1<<Tq,Mq=Oq-1,Px=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Hq=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},jq=function(t,e){var r=Fq(t),n=Array.isArray(r)?Nq(r):new Uint32Array(r),i=Array.isArray(r)?Sq(r):new Uint16Array(r),s=24,A=Px(i,s/2,n[4]/2),a=n[5]===2?Px(i,(s+n[4])/2):Hq(n,Math.ceil((s+n[4])/4));return new Vq(n[0],n[1],n[2],n[3],A,a)},Vq=function(){function t(e,r,n,i,s,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>wu],r=(r<<Z1)+(e&ey),this.data[r];if(e<=65535)return r=this.index[T3+(e-55296>>wu)],r=(r<<Z1)+(e&ey),this.data[r];if(e<this.highStart)return r=Rq-Dq+(e>>t5),r=this.index[r],r+=e>>wu&Mq,r=this.index[r],r=(r<<Z1)+(e&ey),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),kx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mg=0;Mg<kx.length;Mg++)Kq[kx.charCodeAt(Mg)]=Mg;var Gq=1,ty=2,ry=3,Rx=4,Dx=5,qq=7,Ox=8,ny=9,iy=10,Mx=11,Hx=12,jx=13,Vx=14,sy=15,zq=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Wq=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var A=t[i];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},$q=jq(Iq),Vs="",Ay="",Xq=function(t){return $q.get(t)},Yq=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],A=e[r];if(s===ty&&A===ry)return Vs;if(s===ty||s===ry||s===Rx||A===ty||A===ry||A===Rx)return Ay;if(s===Ox&&[Ox,ny,Mx,Hx].indexOf(A)!==-1||(s===Mx||s===ny)&&(A===ny||A===iy)||(s===Hx||s===iy)&&A===iy||A===jx||A===Dx||A===qq||s===Gq)return Vs;if(s===jx&&A===Vx){for(;i===Dx;)i=e[--n];if(i===Vx)return Vs}if(s===sy&&A===sy){for(var a=0;i===sy;)a++,i=e[--n];if(a%2===0)return Vs}return Ay},Jq=function(t){var e=zq(t),r=e.length,n=0,i=0,s=e.map(Xq);return{next:function(){if(n>=r)return{done:!0,value:null};for(var A=Vs;n<r&&(A=Yq(e,s,++n))===Vs;);if(A!==Vs||n===r){var a=Wq.apply(null,e.slice(i,n));return i=n,{value:a,done:!1}}return{done:!0,value:null}}}},Zq=function(t){for(var e=Jq(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},ez=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},tz=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Tw(n.data).map(function(o){return wn(o)}),s=0,A={},a=i.every(function(o,l){r.setStart(n,s),r.setEnd(n,s+o.length);var u=r.getBoundingClientRect();s+=o.length;var d=u.x>A.x||u.y>A.y;return A=u,l===0?!0:d});return t.body.removeChild(e),a},rz=function(){return typeof new Image().crossOrigin<"u"},nz=function(){return typeof new XMLHttpRequest().responseType=="string"},iz=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Kx=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},sz=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var A=b2(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),Gx(A).then(function(a){n.drawImage(a,0,0);var o=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",Kx(o)?Gx(b2(r,r,0,0,l)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),Kx(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},b2=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",A=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(i),A},Gx=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ti={get SUPPORT_RANGE_BOUNDS(){var t=ez(document);return Object.defineProperty(ti,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=ti.SUPPORT_RANGE_BOUNDS&&tz(document);return Object.defineProperty(ti,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=iz(document);return Object.defineProperty(ti,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?sz(document):Promise.resolve(!1);return Object.defineProperty(ti,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=rz();return Object.defineProperty(ti,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=nz();return Object.defineProperty(ti,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ti,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ti,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},hf=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Az=function(t,e,r,n){var i=lz(e,r),s=[],A=0;return i.forEach(function(a){if(r.textDecorationLine.length||a.trim().length>0)if(ti.SUPPORT_RANGE_BOUNDS){var o=qx(n,A,a.length).getClientRects();if(o.length>1){var l=r5(a),u=0;l.forEach(function(m){s.push(new hf(m,io.fromDOMRectList(t,qx(n,u+A,m.length).getClientRects()))),u+=m.length})}else s.push(new hf(a,io.fromDOMRectList(t,o)))}else{var d=n.splitText(a.length);s.push(new hf(a,az(t,n))),n=d}else ti.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));A+=a.length}),s},az=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=Nw(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return io.EMPTY},qx=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},r5=function(t){if(ti.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Zq(t)},oz=function(t,e){if(ti.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return cz(t,e)},lz=function(t,e){return e.letterSpacing!==0?r5(t):oz(t,e)},uz=[32,160,4961,65792,65793,4153,4241],cz=function(t,e){for(var r=D9(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var A=i.value.slice(),a=Tw(A),o="";a.forEach(function(l){uz.indexOf(l)===-1?o+=wn(l):(o.length&&n.push(o),n.push(wn(l)),o="")}),o.length&&n.push(o)}};!(i=r.next()).done;)s();return n},hz=function(){function t(e,r,n){this.text=dz(r.data,n.textTransform),this.textBounds=Az(e,this.text,n,r)}return t}(),dz=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(fz,pz);case 2:return t.toUpperCase();default:return t}},fz=/(^|\s|:|-|\(|\))([a-z])/g,pz=function(t,e,r){return t.length>0?e+r.toUpperCase():t},U3=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(ha),Q3=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(ha),L3=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,A=Nw(r,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(ha),P3=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(ha),E2=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(ha),gz=[{type:15,flags:0,unit:"px",number:3}],mz=[{type:16,flags:0,number:50}],wz=function(t){return t.width>t.height?new io(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new io(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},yz=function(t){var e=t.type===vz?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},S0="checkbox",N0="radio",vz="password",zx=707406591,n5=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=yz(n),(i.type===S0||i.type===N0)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=wz(i.bounds)),i.type){case S0:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=gz;break;case N0:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=mz;break}return i}return e}(ha),k3=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(ha),R3=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(ha),D3=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=M3(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?uf(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):$a.TRANSPARENT,A=n.contentWindow.document.body?uf(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):$a.TRANSPARENT;i.backgroundColor=gl(s)?gl(A)?i.styles.backgroundColor:A:s}}catch{}return i}return e}(ha),Bz=["OL","UL","MENU"],Tm=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,H3(i)&&i.data.trim().length>0)r.textNodes.push(new hz(t,i,r.styles));else if(qc(i))if(G3(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return Tm(t,a,r,n)});else{var A=O3(t,i);A.styles.isVisible()&&(_z(i,A,n)?A.flags|=4:Cz(A.styles)&&(A.flags|=2),Bz.indexOf(i.tagName)!==-1&&(A.flags|=8),r.elements.push(A),i.slot,i.shadowRoot?Tm(t,i.shadowRoot,A,n):!T0(i)&&!j3(i)&&!U0(i)&&Tm(t,i,A,n))}},O3=function(t,e){return I2(e)?new U3(t,e):V3(e)?new Q3(t,e):j3(e)?new L3(t,e):bz(e)?new P3(t,e):Ez(e)?new E2(t,e):xz(e)?new n5(t,e):U0(e)?new k3(t,e):T0(e)?new R3(t,e):K3(e)?new D3(t,e):new ha(t,e)},M3=function(t,e){var r=O3(t,e);return r.flags|=4,Tm(t,e,r,r),r},_z=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||i5(t)&&r.styles.isTransparent()},Cz=function(t){return t.isPositioned()||t.isFloating()},H3=function(t){return t.nodeType===Node.TEXT_NODE},qc=function(t){return t.nodeType===Node.ELEMENT_NODE},x2=function(t){return qc(t)&&typeof t.style<"u"&&!Um(t)},Um=function(t){return typeof t.className=="object"},bz=function(t){return t.tagName==="LI"},Ez=function(t){return t.tagName==="OL"},xz=function(t){return t.tagName==="INPUT"},Iz=function(t){return t.tagName==="HTML"},j3=function(t){return t.tagName==="svg"},i5=function(t){return t.tagName==="BODY"},V3=function(t){return t.tagName==="CANVAS"},Wx=function(t){return t.tagName==="VIDEO"},I2=function(t){return t.tagName==="IMG"},K3=function(t){return t.tagName==="IFRAME"},$x=function(t){return t.tagName==="STYLE"},Fz=function(t){return t.tagName==="SCRIPT"},T0=function(t){return t.tagName==="TEXTAREA"},U0=function(t){return t.tagName==="SELECT"},G3=function(t){return t.tagName==="SLOT"},Xx=function(t){return t.tagName.indexOf("-")>0},Sz=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(a){var o=r.counters[a.counter];o&&a.increment!==0&&(s=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var A=[];return s&&i.forEach(function(a){var o=r.counters[a.counter];A.push(a.counter),o||(o=r.counters[a.counter]=[]),o.push(a.reset)}),A},t}(),Yx={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Jx={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Nz={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Tz={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},fc=function(t,e,r,n,i,s){return t<e||t>r?np(t,i,s.length>0):n.integers.reduce(function(A,a,o){for(;t>=a;)t-=a,A+=n.values[o];return A},"")+s},q3=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},mn=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(q3(Math.abs(t),s,n,function(A){return wn(Math.floor(A%s)+e)})+i)},Xl=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return q3(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},Fc=1,Po=2,ko=4,qd=8,Na=function(t,e,r,n,i,s){if(t<-9999||t>9999)return np(t,4,i.length>0);var A=Math.abs(t),a=i;if(A===0)return e[0]+a;for(var o=0;A>0&&o<=4;o++){var l=A%10;l===0&&Ln(s,Fc)&&a!==""?a=e[l]+a:l>1||l===1&&o===0||l===1&&o===1&&Ln(s,Po)||l===1&&o===1&&Ln(s,ko)&&t>100||l===1&&o>1&&Ln(s,qd)?a=e[l]+(o>0?r[o-1]:"")+a:l===1&&o>0&&(a=r[o-1]+a),A=Math.floor(A/10)}return(t<0?n:"")+a},Zx="",eI="",tI="",ay="",np=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",A=r?" ":"";switch(e){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var a=mn(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return Xl(t,"",i);case 6:return fc(t,1,3999,Yx,3,n).toLowerCase();case 7:return fc(t,1,3999,Yx,3,n);case 8:return mn(t,945,969,!1,n);case 9:return mn(t,97,122,!1,n);case 10:return mn(t,65,90,!1,n);case 11:return mn(t,1632,1641,!0,n);case 12:case 49:return fc(t,1,9999,Jx,3,n);case 35:return fc(t,1,9999,Jx,3,n).toLowerCase();case 13:return mn(t,2534,2543,!0,n);case 14:case 30:return mn(t,6112,6121,!0,n);case 15:return Xl(t,"",i);case 16:return Xl(t,"",i);case 17:case 48:return Na(t,"",Zx,"",i,Po|ko|qd);case 47:return Na(t,"",eI,"",i,Fc|Po|ko|qd);case 42:return Na(t,"",Zx,"",i,Po|ko|qd);case 41:return Na(t,"",eI,"",i,Fc|Po|ko|qd);case 26:return Na(t,"","",tI,i,0);case 25:return Na(t,"","",tI,i,Fc|Po|ko);case 31:return Na(t,"","",ay,s,Fc|Po|ko);case 33:return Na(t,"","",ay,s,0);case 32:return Na(t,"","",ay,s,Fc|Po|ko);case 18:return mn(t,2406,2415,!0,n);case 20:return fc(t,1,19999,Tz,3,n);case 21:return mn(t,2790,2799,!0,n);case 22:return mn(t,2662,2671,!0,n);case 22:return fc(t,1,10999,Nz,3,n);case 23:return Xl(t,"");case 24:return Xl(t,"");case 27:return mn(t,3302,3311,!0,n);case 28:return Xl(t,"",i);case 29:return Xl(t,"",i);case 34:return mn(t,3792,3801,!0,n);case 37:return mn(t,6160,6169,!0,n);case 38:return mn(t,4160,4169,!0,n);case 39:return mn(t,2918,2927,!0,n);case 40:return mn(t,1776,1785,!0,n);case 43:return mn(t,3046,3055,!0,n);case 44:return mn(t,3174,3183,!0,n);case 45:return mn(t,3664,3673,!0,n);case 46:return mn(t,3872,3881,!0,n);case 3:default:return mn(t,48,57,!0,n)}},z3="data-html2canvas-ignore",rI=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Sz,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=Uz(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,a=i.contentWindow,o=a.document,l=Pz(i).then(function(){return Ri(n,void 0,void 0,function(){var u,d;return _i(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(Oz),a&&(a.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==r.top||a.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-r.left,a.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Lz(o)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(o,d)}).then(function(){return i})]:[2,i]}})})});return o.open(),o.write(Rz(document.doctype)+"<html></html>"),Dz(this.referenceElement.ownerDocument,s,A),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),l},t.prototype.createElementClone=function(e){if(C2(e,2))debugger;if(V3(e))return this.createCanvasClone(e);if(Wx(e))return this.createVideoClone(e);if($x(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return I2(r)&&(I2(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Xx(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return oy(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,A){return A&&typeof A.cssText=="string"?s+A.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),A=i.getContext("2d");if(A)if(!this.options.allowTaint&&s)A.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(a){var o=a.getContextAttributes();(o==null?void 0:o.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!qc(r)||!Fz(r)&&!r.hasAttribute(z3)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!qc(r)||!$x(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(qc(s)&&G3(s)&&typeof s.assignedNodes=="function"){var A=s.assignedNodes();A.length&&A.forEach(function(a){return i.appendChildNode(r,a,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(H3(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&qc(e)&&(x2(e)||Um(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),A=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&x2(i)&&(this.clonedReferenceElement=i),i5(i)&&jz(i);var o=this.counters.parse(new Qx(this.context,s)),l=this.resolvePseudoContent(e,i,A,df.BEFORE);Xx(e)&&(r=!0),Wx(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var u=this.resolvePseudoContent(e,i,a,df.AFTER);return u&&i.appendChild(u),this.counters.pop(o),(s&&(this.options.copyStyles||Um(e))&&!K3(e)||r)&&oy(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(T0(e)||U0(e))&&(T0(i)||U0(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var A=n.content,a=r.ownerDocument;if(!(!a||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Qx(this.context,n));var o=new bq(this.context,n),l=a.createElement("html2canvaspseudoelement");oy(n,l),o.content.forEach(function(d){if(d.type===0)l.appendChild(a.createTextNode(d.value));else if(d.type===22){var m=a.createElement("img");m.src=d.value,m.style.opacity="1",l.appendChild(m)}else if(d.type===18){if(d.name==="attr"){var p=d.values.filter(vr);p.length&&l.appendChild(a.createTextNode(e.getAttribute(p[0].value)||""))}else if(d.name==="counter"){var _=d.values.filter(Bh),E=_[0],B=_[1];if(E&&vr(E)){var w=s.counters.getCounterValue(E.value),b=B&&vr(B)?_2.parse(s.context,B.value):3;l.appendChild(a.createTextNode(np(w,b,!1)))}}else if(d.name==="counters"){var I=d.values.filter(Bh),E=I[0],U=I[1],B=I[2];if(E&&vr(E)){var V=s.counters.getCounterValues(E.value),O=B&&vr(B)?_2.parse(s.context,B.value):3,L=U&&U.type===0?U.value:"",F=V.map(function(S){return np(S,O,!1)}).join(L);l.appendChild(a.createTextNode(F))}}}else if(d.type===20)switch(d.value){case"open-quote":l.appendChild(a.createTextNode(Ux(o.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(Ux(o.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(d.value))}}),l.className=F2+" "+S2;var u=i===df.BEFORE?" "+F2:" "+S2;return Um(r)?r.className.baseValue+=u:r.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),df;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(df||(df={}));var Uz=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(z3,"true"),t.body.appendChild(r),r},Qz=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Lz=function(t){return Promise.all([].slice.call(t.images,0).map(Qz))},Pz=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},kz=["all","d","content"],oy=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);kz.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Rz=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Dz=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Oz=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Mz=":before",Hz=":after",F2="___html2canvas___pseudoelement_before",S2="___html2canvas___pseudoelement_after",nI=`{
    content: "" !important;
    display: none !important;
}`,jz=function(t){Vz(t,"."+F2+Mz+nI+`
         .`+S2+Hz+nI)},Vz=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},W3=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Kz=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(uy(e)||Wz(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Ri(this,void 0,void 0,function(){var r,n,i,s,A=this;return _i(this,function(a){switch(a.label){case 0:return r=W3.isSameOrigin(e),n=!ly(e)&&this._options.useCORS===!0&&ti.SUPPORT_CORS_IMAGES&&!r,i=!ly(e)&&!r&&!uy(e)&&typeof this._options.proxy=="string"&&ti.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!ly(e)&&!uy(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,l){var u=new Image;u.onload=function(){return o(u)},u.onerror=l,($z(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return o(u)},500),A._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,A){var a=ti.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")s(o.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(m){return A(m)},!1),d.readAsDataURL(o.response)}else A("Failed to proxy resource "+i+" with status code "+o.status)},o.onerror=A;var l=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),r._options.imageTimeout){var u=r._options.imageTimeout;o.timeout=u,o.ontimeout=function(){return A("Timed out ("+u+"ms) proxying "+i)}}o.send()})},t}(),Gz=/^data:image\/svg\+xml/i,qz=/^data:image\/.*;base64,/i,zz=/^data:image\/.*/i,Wz=function(t){return ti.SUPPORT_SVG_DRAWING||!Xz(t)},ly=function(t){return zz.test(t)},$z=function(t){return qz.test(t)},uy=function(t){return t.substr(0,4)==="blob"},Xz=function(t){return t.substr(-3).toLowerCase()==="svg"||Gz.test(t)},We=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),pc=function(t,e,r){return new We(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Hg=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=pc(this.start,this.startControl,e),i=pc(this.startControl,this.endControl,e),s=pc(this.endControl,this.end,e),A=pc(n,i,e),a=pc(i,s,e),o=pc(A,a,e);return r?new t(this.start,n,A,o):new t(o,a,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),qs=function(t){return t.type===1},Yz=function(){function t(e){var r=e.styles,n=e.bounds,i=Kd(r.borderTopLeftRadius,n.width,n.height),s=i[0],A=i[1],a=Kd(r.borderTopRightRadius,n.width,n.height),o=a[0],l=a[1],u=Kd(r.borderBottomRightRadius,n.width,n.height),d=u[0],m=u[1],p=Kd(r.borderBottomLeftRadius,n.width,n.height),_=p[0],E=p[1],B=[];B.push((s+o)/n.width),B.push((_+d)/n.width),B.push((A+E)/n.height),B.push((l+m)/n.height);var w=Math.max.apply(Math,B);w>1&&(s/=w,A/=w,o/=w,l/=w,d/=w,m/=w,_/=w,E/=w);var b=n.width-o,I=n.height-m,U=n.width-d,V=n.height-E,O=r.borderTopWidth,L=r.borderRightWidth,F=r.borderBottomWidth,x=r.borderLeftWidth,k=Fr(r.paddingTop,e.bounds.width),S=Fr(r.paddingRight,e.bounds.width),T=Fr(r.paddingBottom,e.bounds.width),Q=Fr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||A>0?Hr(n.left+x/3,n.top+O/3,s-x/3,A-O/3,ar.TOP_LEFT):new We(n.left+x/3,n.top+O/3),this.topRightBorderDoubleOuterBox=s>0||A>0?Hr(n.left+b,n.top+O/3,o-L/3,l-O/3,ar.TOP_RIGHT):new We(n.left+n.width-L/3,n.top+O/3),this.bottomRightBorderDoubleOuterBox=d>0||m>0?Hr(n.left+U,n.top+I,d-L/3,m-F/3,ar.BOTTOM_RIGHT):new We(n.left+n.width-L/3,n.top+n.height-F/3),this.bottomLeftBorderDoubleOuterBox=_>0||E>0?Hr(n.left+x/3,n.top+V,_-x/3,E-F/3,ar.BOTTOM_LEFT):new We(n.left+x/3,n.top+n.height-F/3),this.topLeftBorderDoubleInnerBox=s>0||A>0?Hr(n.left+x*2/3,n.top+O*2/3,s-x*2/3,A-O*2/3,ar.TOP_LEFT):new We(n.left+x*2/3,n.top+O*2/3),this.topRightBorderDoubleInnerBox=s>0||A>0?Hr(n.left+b,n.top+O*2/3,o-L*2/3,l-O*2/3,ar.TOP_RIGHT):new We(n.left+n.width-L*2/3,n.top+O*2/3),this.bottomRightBorderDoubleInnerBox=d>0||m>0?Hr(n.left+U,n.top+I,d-L*2/3,m-F*2/3,ar.BOTTOM_RIGHT):new We(n.left+n.width-L*2/3,n.top+n.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=_>0||E>0?Hr(n.left+x*2/3,n.top+V,_-x*2/3,E-F*2/3,ar.BOTTOM_LEFT):new We(n.left+x*2/3,n.top+n.height-F*2/3),this.topLeftBorderStroke=s>0||A>0?Hr(n.left+x/2,n.top+O/2,s-x/2,A-O/2,ar.TOP_LEFT):new We(n.left+x/2,n.top+O/2),this.topRightBorderStroke=s>0||A>0?Hr(n.left+b,n.top+O/2,o-L/2,l-O/2,ar.TOP_RIGHT):new We(n.left+n.width-L/2,n.top+O/2),this.bottomRightBorderStroke=d>0||m>0?Hr(n.left+U,n.top+I,d-L/2,m-F/2,ar.BOTTOM_RIGHT):new We(n.left+n.width-L/2,n.top+n.height-F/2),this.bottomLeftBorderStroke=_>0||E>0?Hr(n.left+x/2,n.top+V,_-x/2,E-F/2,ar.BOTTOM_LEFT):new We(n.left+x/2,n.top+n.height-F/2),this.topLeftBorderBox=s>0||A>0?Hr(n.left,n.top,s,A,ar.TOP_LEFT):new We(n.left,n.top),this.topRightBorderBox=o>0||l>0?Hr(n.left+b,n.top,o,l,ar.TOP_RIGHT):new We(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||m>0?Hr(n.left+U,n.top+I,d,m,ar.BOTTOM_RIGHT):new We(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=_>0||E>0?Hr(n.left,n.top+V,_,E,ar.BOTTOM_LEFT):new We(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||A>0?Hr(n.left+x,n.top+O,Math.max(0,s-x),Math.max(0,A-O),ar.TOP_LEFT):new We(n.left+x,n.top+O),this.topRightPaddingBox=o>0||l>0?Hr(n.left+Math.min(b,n.width-L),n.top+O,b>n.width+L?0:Math.max(0,o-L),Math.max(0,l-O),ar.TOP_RIGHT):new We(n.left+n.width-L,n.top+O),this.bottomRightPaddingBox=d>0||m>0?Hr(n.left+Math.min(U,n.width-x),n.top+Math.min(I,n.height-F),Math.max(0,d-L),Math.max(0,m-F),ar.BOTTOM_RIGHT):new We(n.left+n.width-L,n.top+n.height-F),this.bottomLeftPaddingBox=_>0||E>0?Hr(n.left+x,n.top+Math.min(V,n.height-F),Math.max(0,_-x),Math.max(0,E-F),ar.BOTTOM_LEFT):new We(n.left+x,n.top+n.height-F),this.topLeftContentBox=s>0||A>0?Hr(n.left+x+Q,n.top+O+k,Math.max(0,s-(x+Q)),Math.max(0,A-(O+k)),ar.TOP_LEFT):new We(n.left+x+Q,n.top+O+k),this.topRightContentBox=o>0||l>0?Hr(n.left+Math.min(b,n.width+x+Q),n.top+O+k,b>n.width+x+Q?0:o-x+Q,l-(O+k),ar.TOP_RIGHT):new We(n.left+n.width-(L+S),n.top+O+k),this.bottomRightContentBox=d>0||m>0?Hr(n.left+Math.min(U,n.width-(x+Q)),n.top+Math.min(I,n.height+O+k),Math.max(0,d-(L+S)),m-(F+T),ar.BOTTOM_RIGHT):new We(n.left+n.width-(L+S),n.top+n.height-(F+T)),this.bottomLeftContentBox=_>0||E>0?Hr(n.left+x+Q,n.top+V,Math.max(0,_-(x+Q)),E-(F+T),ar.BOTTOM_LEFT):new We(n.left+x+Q,n.top+n.height-(F+T))}return t}(),ar;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ar||(ar={}));var Hr=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),A=r*s,a=n*s,o=t+r,l=e+n;switch(i){case ar.TOP_LEFT:return new Hg(new We(t,l),new We(t,l-a),new We(o-A,e),new We(o,e));case ar.TOP_RIGHT:return new Hg(new We(t,e),new We(t+A,e),new We(o,l-a),new We(o,l));case ar.BOTTOM_RIGHT:return new Hg(new We(o,e),new We(o,e+a),new We(t+A,l),new We(t,l));case ar.BOTTOM_LEFT:default:return new Hg(new We(o,l),new We(o-A,l),new We(t,e+a),new We(t,e))}},Q0=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Jz=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},L0=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Zz=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),jg=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),eW=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),tW=function(t){return t.type===0},$3=function(t){return t.type===1},rW=function(t){return t.type===2},iI=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},nW=function(t,e,r,n,i){return t.map(function(s,A){switch(A){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},X3=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Y3=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Yz(this.container),this.container.styles.opacity<1&&this.effects.push(new eW(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Zz(n,i,s))}if(this.container.styles.overflowX!==0){var A=Q0(this.curves),a=L0(this.curves);iI(A,a)?this.effects.push(new jg(A,6)):(this.effects.push(new jg(A,2)),this.effects.push(new jg(a,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(o){return!$3(o)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=Q0(n.curves),a=L0(n.curves);iI(A,a)||i.unshift(new jg(a,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(o){return Ln(o.target,e)})},t}(),N2=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Ln(i.flags,4),A=Ln(i.flags,2),a=new Y3(i,t);Ln(i.styles.display,2048)&&n.push(a);var o=Ln(i.flags,8)?[]:n;if(s||A){var l=s||i.styles.isPositioned()?r:e,u=new X3(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var m=0;l.negativeZIndex.some(function(_,E){return d>_.element.container.styles.zIndex.order?(m=E,!1):m>0}),l.negativeZIndex.splice(m,0,u)}else if(d>0){var p=0;l.positiveZIndex.some(function(_,E){return d>=_.element.container.styles.zIndex.order?(p=E+1,!1):p>0}),l.positiveZIndex.splice(p,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);N2(a,u,s?u:r,o)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),N2(a,e,r,o);Ln(i.flags,8)&&J3(i,o)})},J3=function(t,e){for(var r=t instanceof E2?t.start:1,n=t instanceof E2?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof P3&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=np(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},iW=function(t){var e=new Y3(t,null),r=new X3(e),n=[];return N2(e,r,r,n),J3(e.container,n),r},sI=function(t,e){switch(e){case 0:return Xs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Xs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Xs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Xs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},sW=function(t,e){switch(e){case 0:return Xs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Xs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Xs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Xs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},AW=function(t,e){switch(e){case 0:return Xs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Xs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Xs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Xs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},aW=function(t,e){switch(e){case 0:return Vg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Vg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Vg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Vg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Vg=function(t,e){var r=[];return qs(t)?r.push(t.subdivide(.5,!1)):r.push(t),qs(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Xs=function(t,e,r,n){var i=[];return qs(t)?i.push(t.subdivide(.5,!1)):i.push(t),qs(r)?i.push(r.subdivide(.5,!0)):i.push(r),qs(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),qs(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Z3=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},P0=function(t){var e=t.styles,r=t.bounds,n=Fr(e.paddingLeft,r.width),i=Fr(e.paddingRight,r.width),s=Fr(e.paddingTop,r.width),A=Fr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+A))},oW=function(t,e){return t===0?e.bounds:t===2?P0(e):Z3(e)},lW=function(t,e){return t===0?e.bounds:t===2?P0(e):Z3(e)},cy=function(t,e,r){var n=oW(Sc(t.styles.backgroundOrigin,e),t),i=lW(Sc(t.styles.backgroundClip,e),t),s=uW(Sc(t.styles.backgroundSize,e),r,n),A=s[0],a=s[1],o=Kd(Sc(t.styles.backgroundPosition,e),n.width-A,n.height-a),l=cW(Sc(t.styles.backgroundRepeat,e),o,s,n,i),u=Math.round(n.left+o[0]),d=Math.round(n.top+o[1]);return[l,u,d,A,a]},gc=function(t){return vr(t)&&t.value===nh.AUTO},Kg=function(t){return typeof t=="number"},uW=function(t,e,r){var n=e[0],i=e[1],s=e[2],A=t[0],a=t[1];if(!A)return[0,0];if(xn(A)&&a&&xn(a))return[Fr(A,r.width),Fr(a,r.height)];var o=Kg(s);if(vr(A)&&(A.value===nh.CONTAIN||A.value===nh.COVER)){if(Kg(s)){var l=r.width/r.height;return l<s!=(A.value===nh.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=Kg(n),d=Kg(i),m=u||d;if(gc(A)&&(!a||gc(a))){if(u&&d)return[n,i];if(!o&&!m)return[r.width,r.height];if(m&&o){var p=u?n:i*s,_=d?i:n/s;return[p,_]}var E=u?n:r.width,B=d?i:r.height;return[E,B]}if(o){var w=0,b=0;return xn(A)?w=Fr(A,r.width):xn(a)&&(b=Fr(a,r.height)),gc(A)?w=b*s:(!a||gc(a))&&(b=w/s),[w,b]}var I=null,U=null;if(xn(A)?I=Fr(A,r.width):a&&xn(a)&&(U=Fr(a,r.height)),I!==null&&(!a||gc(a))&&(U=u&&d?I/n*i:r.height),U!==null&&gc(A)&&(I=u&&d?U/i*n:r.width),I!==null&&U!==null)return[I,U];throw new Error("Unable to calculate background-size for element")},Sc=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},cW=function(t,e,r,n,i){var s=e[0],A=e[1],a=r[0],o=r[1];switch(t){case 2:return[new We(Math.round(n.left),Math.round(n.top+A)),new We(Math.round(n.left+n.width),Math.round(n.top+A)),new We(Math.round(n.left+n.width),Math.round(o+n.top+A)),new We(Math.round(n.left),Math.round(o+n.top+A))];case 3:return[new We(Math.round(n.left+s),Math.round(n.top)),new We(Math.round(n.left+s+a),Math.round(n.top)),new We(Math.round(n.left+s+a),Math.round(n.height+n.top)),new We(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new We(Math.round(n.left+s),Math.round(n.top+A)),new We(Math.round(n.left+s+a),Math.round(n.top+A)),new We(Math.round(n.left+s+a),Math.round(n.top+A+o)),new We(Math.round(n.left+s),Math.round(n.top+A+o))];default:return[new We(Math.round(i.left),Math.round(i.top)),new We(Math.round(i.left+i.width),Math.round(i.top)),new We(Math.round(i.left+i.width),Math.round(i.height+i.top)),new We(Math.round(i.left),Math.round(i.height+i.top))]}},hW="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",AI="Hidden Text",dW=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),i.src=hW,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(AI)),n.appendChild(s),n.appendChild(i);var a=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(AI)),n.style.lineHeight="normal",i.style.verticalAlign="super";var o=i.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:a,middle:o}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),eQ=function(){function t(e,r){this.context=e,this.options=r}return t}(),fW=1e4,pW=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new dW(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),rW(r)&&(this.ctx.globalAlpha=r.opacity),tW(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),$3(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Ri(this,void 0,void 0,function(){var n;return _i(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Ri(this,void 0,void 0,function(){return _i(this,function(n){switch(n.label){case 0:if(Ln(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var A=r5(r.text);A.reduce(function(a,o){return s.ctx.fillText(o,a,r.bounds.top+i),a+s.ctx.measureText(o).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),i=vW(r.fontFamily).join(", "),s=Qp(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Ri(this,void 0,void 0,function(){var i,s,A,a,o,l,u,d,m=this;return _i(this,function(p){return i=this.createFontStyle(n),s=i[0],A=i[1],a=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(A,a),l=o.baseline,u=o.middle,d=n.paintOrder,r.textBounds.forEach(function(_){d.forEach(function(E){switch(E){case 0:m.ctx.fillStyle=Kn(n.color),m.renderTextWithLetterSpacing(_,n.letterSpacing,l);var B=n.textShadow;B.length&&_.text.trim().length&&(B.slice(0).reverse().forEach(function(w){m.ctx.shadowColor=Kn(w.color),m.ctx.shadowOffsetX=w.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=w.offsetY.number*m.options.scale,m.ctx.shadowBlur=w.blur.number,m.renderTextWithLetterSpacing(_,n.letterSpacing,l)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),n.textDecorationLine.length&&(m.ctx.fillStyle=Kn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:m.ctx.fillRect(_.bounds.left,Math.round(_.bounds.top+l),_.bounds.width,1);break;case 2:m.ctx.fillRect(_.bounds.left,Math.round(_.bounds.top),_.bounds.width,1);break;case 3:m.ctx.fillRect(_.bounds.left,Math.ceil(_.bounds.top+u),_.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&_.text.trim().length&&(m.ctx.strokeStyle=Kn(n.webkitTextStrokeColor),m.ctx.lineWidth=n.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(_.text,_.bounds.left,_.bounds.top+l)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=P0(r),A=L0(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Ri(this,void 0,void 0,function(){var n,i,s,A,a,o,b,b,l,u,d,m,U,p,_,V,E,B,w,b,I,U,V;return _i(this,function(O){switch(O.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,A=0,a=n.textNodes,O.label=1;case 1:return A<a.length?(o=a[A],[4,this.renderTextNode(o,s)]):[3,4];case 2:O.sent(),O.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof U3))return[3,8];O.label=5;case 5:return O.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=O.sent(),this.renderReplacedElement(n,i,b),[3,8];case 7:return O.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Q3&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof L3))return[3,12];O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=O.sent(),this.renderReplacedElement(n,i,b),[3,12];case 11:return O.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof D3&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:u=O.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),O.label=14;case 14:if(n instanceof n5&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===S0?n.checked&&(this.ctx.save(),this.path([new We(n.bounds.left+d*.39363,n.bounds.top+d*.79),new We(n.bounds.left+d*.16,n.bounds.top+d*.5549),new We(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new We(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new We(n.bounds.left+d*.72983,n.bounds.top+d*.23),new We(n.bounds.left+d*.84,n.bounds.top+d*.34085),new We(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=Kn(zx),this.ctx.fill(),this.ctx.restore()):n.type===N0&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=Kn(zx),this.ctx.fill(),this.ctx.restore())),gW(n)&&n.value.length){switch(m=this.createFontStyle(s),U=m[0],p=m[1],_=this.fontMetrics.getMetrics(U,p).baseline,this.ctx.font=U,this.ctx.fillStyle=Kn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=wW(n.styles.textAlign),V=P0(n),E=0,n.styles.textAlign){case 1:E+=V.width/2;break;case 2:E+=V.width;break}B=V.add(E,0,0,-V.height/2+1),this.ctx.save(),this.path([new We(V.left,V.top),new We(V.left+V.width,V.top),new We(V.left+V.width,V.top+V.height),new We(V.left,V.top+V.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new hf(n.value,B),s.letterSpacing,_),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ln(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];b=void 0,I=w.url,O.label=15;case 15:return O.trys.push([15,17,,18]),[4,this.context.cache.match(I)];case 16:return b=O.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return O.sent(),this.context.logger.error("Error loading list-style-image "+I),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(U=this.createFontStyle(s)[0],this.ctx.font=U,this.ctx.fillStyle=Kn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",V=new io(n.bounds.left,n.bounds.top+Fr(n.styles.paddingTop,n.bounds.width),n.bounds.width,Nx(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new hf(r.listValue,V),s.letterSpacing,Nx(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),O.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Ri(this,void 0,void 0,function(){var n,i,w,s,A,w,a,o,w,l,u,w,d,m,w,p,_,w,E,B,w;return _i(this,function(b){switch(b.label){case 0:if(Ln(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,i=r.negativeZIndex,b.label=2;case 2:return n<i.length?(w=i[n],[4,this.renderStack(w)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),s=0,A=r.nonInlineLevel,b.label=7;case 7:return s<A.length?(w=A[s],[4,this.renderNode(w)]):[3,10];case 8:b.sent(),b.label=9;case 9:return s++,[3,7];case 10:a=0,o=r.nonPositionedFloats,b.label=11;case 11:return a<o.length?(w=o[a],[4,this.renderStack(w)]):[3,14];case 12:b.sent(),b.label=13;case 13:return a++,[3,11];case 14:l=0,u=r.nonPositionedInlineLevel,b.label=15;case 15:return l<u.length?(w=u[l],[4,this.renderStack(w)]):[3,18];case 16:b.sent(),b.label=17;case 17:return l++,[3,15];case 18:d=0,m=r.inlineLevel,b.label=19;case 19:return d<m.length?(w=m[d],[4,this.renderNode(w)]):[3,22];case 20:b.sent(),b.label=21;case 21:return d++,[3,19];case 22:p=0,_=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return p<_.length?(w=_[p],[4,this.renderStack(w)]):[3,26];case 24:b.sent(),b.label=25;case 25:return p++,[3,23];case 26:E=0,B=r.positiveZIndex,b.label=27;case 27:return E<B.length?(w=B[E],[4,this.renderStack(w)]):[3,30];case 28:b.sent(),b.label=29;case 29:return E++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var A=qs(i)?i.start:i;s===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),qs(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var A=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=A.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,i);var o=a.getContext("2d");return o.drawImage(r,0,0,r.width,r.height,0,0,n,i),a},e.prototype.renderBackgroundImage=function(r){return Ri(this,void 0,void 0,function(){var n,i,s,A,a,o;return _i(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var d,m,p,k,le,ie,Q,z,F,_,k,le,ie,Q,z,E,B,w,b,I,U,V,O,L,F,x,k,S,T,Q,z,oe,le,ie,K,se,de,pe,M,X,te,$;return _i(this,function(re){switch(re.label){case 0:if(u.type!==0)return[3,5];d=void 0,m=u.url,re.label=1;case 1:return re.trys.push([1,3,,4]),[4,s.context.cache.match(m)];case 2:return d=re.sent(),[3,4];case 3:return re.sent(),s.context.logger.error("Error loading background-image "+m),[3,4];case 4:return d&&(p=cy(r,n,[d.width,d.height,d.width/d.height]),k=p[0],le=p[1],ie=p[2],Q=p[3],z=p[4],F=s.ctx.createPattern(s.resizeImage(d,Q,z),"repeat"),s.renderRepeat(k,F,le,ie)),[3,6];case 5:tG(u)?(_=cy(r,n,[null,null,null]),k=_[0],le=_[1],ie=_[2],Q=_[3],z=_[4],E=XK(u.angle,Q,z),B=E[0],w=E[1],b=E[2],I=E[3],U=E[4],V=document.createElement("canvas"),V.width=Q,V.height=z,O=V.getContext("2d"),L=O.createLinearGradient(w,I,b,U),Fx(u.stops,B).forEach(function(ae){return L.addColorStop(ae.stop,Kn(ae.color))}),O.fillStyle=L,O.fillRect(0,0,Q,z),Q>0&&z>0&&(F=s.ctx.createPattern(V,"repeat"),s.renderRepeat(k,F,le,ie))):rG(u)&&(x=cy(r,n,[null,null,null]),k=x[0],S=x[1],T=x[2],Q=x[3],z=x[4],oe=u.position.length===0?[Z_]:u.position,le=Fr(oe[0],Q),ie=Fr(oe[oe.length-1],z),K=YK(u,le,ie,Q,z),se=K[0],de=K[1],se>0&&de>0&&(pe=s.ctx.createRadialGradient(S+le,T+ie,0,S+le,T+ie,se),Fx(u.stops,se*2).forEach(function(ae){return pe.addColorStop(ae.stop,Kn(ae.color))}),s.path(k),s.ctx.fillStyle=pe,se!==de?(M=r.bounds.left+.5*r.bounds.width,X=r.bounds.top+.5*r.bounds.height,te=de/se,$=1/te,s.ctx.save(),s.ctx.translate(M,X),s.ctx.transform(1,0,0,te,0,0),s.ctx.translate(-M,-X),s.ctx.fillRect(S,$*(T-X)+X,Q,z*$),s.ctx.restore()):s.ctx.fill())),re.label=6;case 6:return n--,[2]}})},s=this,A=0,a=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return A<a.length?(o=a[A],[5,i(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Ri(this,void 0,void 0,function(){return _i(this,function(s){return this.path(sI(i,n)),this.ctx.fillStyle=Kn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Ri(this,void 0,void 0,function(){var A,a;return _i(this,function(o){switch(o.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return o.sent(),[2];case 2:return A=sW(s,i),this.path(A),this.ctx.fillStyle=Kn(r),this.ctx.fill(),a=AW(s,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Ri(this,void 0,void 0,function(){var n,i,s,A,a,o,l,u,d=this;return _i(this,function(m){switch(m.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!gl(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=mW(Sc(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),gl(n.backgroundColor)||(this.ctx.fillStyle=Kn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){d.ctx.save();var _=Q0(r.curves),E=p.inset?0:fW,B=nW(_,-E+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(d.path(_),d.ctx.clip(),d.mask(B)):(d.mask(_),d.ctx.clip(),d.path(B)),d.ctx.shadowOffsetX=p.offsetX.number+E,d.ctx.shadowOffsetY=p.offsetY.number,d.ctx.shadowColor=Kn(p.color),d.ctx.shadowBlur=p.blur.number,d.ctx.fillStyle=p.inset?Kn(p.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),m.label=2;case 2:a=0,o=0,l=s,m.label=3;case 3:return o<l.length?(u=l[o],u.style!==0&&!gl(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,r.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,r.curves,3)];case 6:return m.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,r.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,r.curves)];case 10:m.sent(),m.label=11;case 11:a++,m.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,A){return Ri(this,void 0,void 0,function(){var a,o,l,u,d,m,p,_,E,B,w,b,I,U,V,O,V,O;return _i(this,function(L){return this.ctx.save(),a=aW(s,i),o=sI(s,i),A===2&&(this.path(o),this.ctx.clip()),qs(o[0])?(l=o[0].start.x,u=o[0].start.y):(l=o[0].x,u=o[0].y),qs(o[1])?(d=o[1].end.x,m=o[1].end.y):(d=o[1].x,m=o[1].y),i===0||i===2?p=Math.abs(l-d):p=Math.abs(u-m),this.ctx.beginPath(),A===3?this.formatPath(a):this.formatPath(o.slice(0,2)),_=n<3?n*3:n*2,E=n<3?n*2:n,A===3&&(_=n,E=n),B=!0,p<=_*2?B=!1:p<=_*2+E?(w=p/(2*_+E),_*=w,E*=w):(b=Math.floor((p+E)/(_+E)),I=(p-b*_)/(b-1),U=(p-(b+1)*_)/b,E=U<=0||Math.abs(E-I)<Math.abs(E-U)?I:U),B&&(A===3?this.ctx.setLineDash([0,_+E]):this.ctx.setLineDash([_,E])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Kn(r),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(qs(o[0])&&(V=o[3],O=o[0],this.ctx.beginPath(),this.formatPath([new We(V.end.x,V.end.y),new We(O.start.x,O.start.y)]),this.ctx.stroke()),qs(o[1])&&(V=o[1],O=o[2],this.ctx.beginPath(),this.formatPath([new We(V.end.x,V.end.y),new We(O.start.x,O.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Ri(this,void 0,void 0,function(){var n;return _i(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Kn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=iW(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(eQ),gW=function(t){return t instanceof R3||t instanceof k3?!0:t instanceof n5&&t.type!==N0&&t.type!==S0},mW=function(t,e){switch(t){case 0:return Q0(e);case 2:return Jz(e);case 1:default:return L0(e)}},wW=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},yW=["-apple-system","system-ui"],vW=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return yW.indexOf(e)===-1}):t},BW=function(t){FA(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Ri(this,void 0,void 0,function(){var n,i;return _i(this,function(s){switch(s.label){case 0:return n=b2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,_W(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Kn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(eQ),_W=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},CW=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,_g([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,_g([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,_g([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,_g([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),bW=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new CW({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Kz(this,e)}return t.instanceCount=1,t}(),s5=function(t,e){return e===void 0&&(e={}),EW(t,e)};typeof window<"u"&&W3.setContext(window);var EW=function(t,e){return Ri(void 0,void 0,void 0,function(){var r,n,i,s,A,a,o,l,u,d,m,p,_,E,B,w,b,I,U,V,L,O,L,F,x,k,S,T,Q,z,oe,le,ie,K,se,de,pe,M,X,te;return _i(this,function($){switch($.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(F=e.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(x=e.imageTimeout)!==null&&x!==void 0?x:15e3,proxy:e.proxy,useCORS:(k=e.useCORS)!==null&&k!==void 0?k:!1},s=l2({logging:(S=e.logging)!==null&&S!==void 0?S:!0,cache:e.cache},i),A={windowWidth:(T=e.windowWidth)!==null&&T!==void 0?T:n.innerWidth,windowHeight:(Q=e.windowHeight)!==null&&Q!==void 0?Q:n.innerHeight,scrollX:(z=e.scrollX)!==null&&z!==void 0?z:n.pageXOffset,scrollY:(oe=e.scrollY)!==null&&oe!==void 0?oe:n.pageYOffset},a=new io(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),o=new bW(s,a),l=(le=e.foreignObjectRendering)!==null&&le!==void 0?le:!1,u={allowTaint:(ie=e.allowTaint)!==null&&ie!==void 0?ie:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),d=new rI(o,t,u),m=d.clonedReferenceElement,m?[4,d.toIFrame(r,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=$.sent(),_=i5(m)||Iz(m)?n9(m.ownerDocument):Nw(o,m),E=_.width,B=_.height,w=_.left,b=_.top,I=xW(o,m,e.backgroundColor),U={canvas:e.canvas,backgroundColor:I,scale:(se=(K=e.scale)!==null&&K!==void 0?K:n.devicePixelRatio)!==null&&se!==void 0?se:1,x:((de=e.x)!==null&&de!==void 0?de:0)+w,y:((pe=e.y)!==null&&pe!==void 0?pe:0)+b,width:(M=e.width)!==null&&M!==void 0?M:Math.ceil(E),height:(X=e.height)!==null&&X!==void 0?X:Math.ceil(B)},l?(o.logger.debug("Document cloned, using foreign object rendering"),L=new BW(o,U),[4,L.render(m)]):[3,3];case 2:return V=$.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+w+","+b+" with size "+E+"x"+B+" using computed rendering"),o.logger.debug("Starting DOM parsing"),O=M3(o,m),I===O.styles.backgroundColor&&(O.styles.backgroundColor=$a.TRANSPARENT),o.logger.debug("Starting renderer for element at "+U.x+","+U.y+" with size "+U.width+"x"+U.height),L=new pW(o,U),[4,L.render(O)];case 4:V=$.sent(),$.label=5;case 5:return(!((te=e.removeContainer)!==null&&te!==void 0)||te)&&(rI.destroy(p)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,V]}})})},xW=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?uf(t,getComputedStyle(n.documentElement).backgroundColor):$a.TRANSPARENT,s=n.body?uf(t,getComputedStyle(n.body).backgroundColor):$a.TRANSPARENT,A=typeof r=="string"?uf(t,r):r===null?$a.TRANSPARENT:4294967295;return e===n.documentElement?gl(i)?gl(s)?A:s:i:A};const A5=Object.freeze(Object.defineProperty({__proto__:null,default:s5},Symbol.toStringTag,{value:"Module"})),IW="modulepreload",FW=function(t){return"/"+t},aI={},ml=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),a=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));i=Promise.allSettled(r.map(o=>{if(o=FW(o),o in aI)return;aI[o]=!0;const l=o.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":IW,l||(d.as="script"),d.crossOrigin="",d.href=o,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((m,p)=>{d.addEventListener("load",m),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(A){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=A,window.dispatchEvent(a),!a.defaultPrevented)throw A}return i.then(A=>{for(const a of A||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function pr(t){"@babel/helpers - typeof";return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(t)}var EA=Uint8Array,Fs=Uint16Array,a5=Int32Array,o5=new EA([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l5=new EA([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oI=new EA([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tQ=function(t,e){for(var r=new Fs(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new a5(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},rQ=tQ(o5,2),SW=rQ.b,T2=rQ.r;SW[28]=258,T2[258]=28;var NW=tQ(l5,0),lI=NW.r,U2=new Fs(32768);for(var Pr=0;Pr<32768;++Pr){var Qo=(Pr&43690)>>1|(Pr&21845)<<1;Qo=(Qo&52428)>>2|(Qo&13107)<<2,Qo=(Qo&61680)>>4|(Qo&3855)<<4,U2[Pr]=((Qo&65280)>>8|(Qo&255)<<8)>>1}var ff=function(t,e,r){for(var n=t.length,i=0,s=new Fs(e);i<n;++i)t[i]&&++s[t[i]-1];var A=new Fs(e);for(i=1;i<e;++i)A[i]=A[i-1]+s[i-1]<<1;var a;if(r){a=new Fs(1<<e);var o=15-e;for(i=0;i<n;++i)if(t[i])for(var l=i<<4|t[i],u=e-t[i],d=A[t[i]-1]++<<u,m=d|(1<<u)-1;d<=m;++d)a[U2[d]>>o]=l}else for(a=new Fs(n),i=0;i<n;++i)t[i]&&(a[i]=U2[A[t[i]-1]++]>>15-t[i]);return a},Mu=new EA(288);for(var Pr=0;Pr<144;++Pr)Mu[Pr]=8;for(var Pr=144;Pr<256;++Pr)Mu[Pr]=9;for(var Pr=256;Pr<280;++Pr)Mu[Pr]=7;for(var Pr=280;Pr<288;++Pr)Mu[Pr]=8;var k0=new EA(32);for(var Pr=0;Pr<32;++Pr)k0[Pr]=5;var TW=ff(Mu,9,0),UW=ff(k0,5,0),nQ=function(t){return(t+7)/8|0},QW=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new EA(t.subarray(e,r))},Ta=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Ed=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},hy=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:sQ,l:0};if(i==1){var A=new EA(r[0].s+1);return A[r[0].s]=1,{t:A,l:1}}r.sort(function(V,O){return V.f-O.f}),r.push({s:-1,f:25001});var a=r[0],o=r[1],l=0,u=1,d=2;for(r[0]={s:-1,f:a.f+o.f,l:a,r:o};u!=i-1;)a=r[r[l].f<r[d].f?l++:d++],o=r[l!=u&&r[l].f<r[d].f?l++:d++],r[u++]={s:-1,f:a.f+o.f,l:a,r:o};for(var m=s[0].s,n=1;n<i;++n)s[n].s>m&&(m=s[n].s);var p=new Fs(m+1),_=Q2(r[u-1],p,0);if(_>e){var n=0,E=0,B=_-e,w=1<<B;for(s.sort(function(O,L){return p[L.s]-p[O.s]||O.f-L.f});n<i;++n){var b=s[n].s;if(p[b]>e)E+=w-(1<<_-p[b]),p[b]=e;else break}for(E>>=B;E>0;){var I=s[n].s;p[I]<e?E-=1<<e-p[I]++-1:++n}for(;n>=0&&E;--n){var U=s[n].s;p[U]==e&&(--p[U],++E)}_=e}return{t:new EA(p),l:_}},Q2=function(t,e,r){return t.s==-1?Math.max(Q2(t.l,e,r+1),Q2(t.r,e,r+1)):e[t.s]=r},uI=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Fs(++e),n=0,i=t[0],s=1,A=function(o){r[n++]=o},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)A(32754);s>2&&(A(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(A(i),--s;s>6;s-=6)A(8304);s>2&&(A(s-3<<5|8208),s=0)}for(;s--;)A(i);s=1,i=t[a]}return{c:r.subarray(0,n),n:e}},xd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},iQ=function(t,e,r){var n=r.length,i=nQ(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},cI=function(t,e,r,n,i,s,A,a,o,l,u){Ta(e,u++,r),++i[256];for(var d=hy(i,15),m=d.t,p=d.l,_=hy(s,15),E=_.t,B=_.l,w=uI(m),b=w.c,I=w.n,U=uI(E),V=U.c,O=U.n,L=new Fs(19),F=0;F<b.length;++F)++L[b[F]&31];for(var F=0;F<V.length;++F)++L[V[F]&31];for(var x=hy(L,7),k=x.t,S=x.l,T=19;T>4&&!k[oI[T-1]];--T);var Q=l+5<<3,z=xd(i,Mu)+xd(s,k0)+A,oe=xd(i,m)+xd(s,E)+A+14+3*T+xd(L,k)+2*L[16]+3*L[17]+7*L[18];if(o>=0&&Q<=z&&Q<=oe)return iQ(e,u,t.subarray(o,o+l));var le,ie,K,se;if(Ta(e,u,1+(oe<z)),u+=2,oe<z){le=ff(m,p,0),ie=m,K=ff(E,B,0),se=E;var de=ff(k,S,0);Ta(e,u,I-257),Ta(e,u+5,O-1),Ta(e,u+10,T-4),u+=14;for(var F=0;F<T;++F)Ta(e,u+3*F,k[oI[F]]);u+=3*T;for(var pe=[b,V],M=0;M<2;++M)for(var X=pe[M],F=0;F<X.length;++F){var te=X[F]&31;Ta(e,u,de[te]),u+=k[te],te>15&&(Ta(e,u,X[F]>>5&127),u+=X[F]>>12)}}else le=TW,ie=Mu,K=UW,se=k0;for(var F=0;F<a;++F){var $=n[F];if($>255){var te=$>>18&31;Ed(e,u,le[te+257]),u+=ie[te+257],te>7&&(Ta(e,u,$>>23&31),u+=o5[te]);var re=$&31;Ed(e,u,K[re]),u+=se[re],re>3&&(Ed(e,u,$>>5&8191),u+=l5[re])}else Ed(e,u,le[$]),u+=ie[$]}return Ed(e,u,le[256]),u+ie[256]},LW=new a5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sQ=new EA(0),PW=function(t,e,r,n,i,s){var A=s.z||t.length,a=new EA(n+A+5*(1+Math.ceil(A/7e3))+i),o=a.subarray(n,a.length-i),l=s.l,u=(s.r||0)&7;if(e){u&&(o[0]=s.r>>3);for(var d=LW[e-1],m=d>>13,p=d&8191,_=(1<<r)-1,E=s.p||new Fs(32768),B=s.h||new Fs(_+1),w=Math.ceil(r/3),b=2*w,I=function(Ce){return(t[Ce]^t[Ce+1]<<w^t[Ce+2]<<b)&_},U=new a5(25e3),V=new Fs(288),O=new Fs(32),L=0,F=0,x=s.i||0,k=0,S=s.w||0,T=0;x+2<A;++x){var Q=I(x),z=x&32767,oe=B[Q];if(E[z]=oe,B[Q]=z,S<=x){var le=A-x;if((L>7e3||k>24576)&&(le>423||!l)){u=cI(t,o,0,U,V,O,F,k,T,x-T,u),k=L=F=0,T=x;for(var ie=0;ie<286;++ie)V[ie]=0;for(var ie=0;ie<30;++ie)O[ie]=0}var K=2,se=0,de=p,pe=z-oe&32767;if(le>2&&Q==I(x-pe))for(var M=Math.min(m,le)-1,X=Math.min(32767,x),te=Math.min(258,le);pe<=X&&--de&&z!=oe;){if(t[x+K]==t[x+K-pe]){for(var $=0;$<te&&t[x+$]==t[x+$-pe];++$);if($>K){if(K=$,se=pe,$>M)break;for(var re=Math.min(pe,$-2),ae=0,ie=0;ie<re;++ie){var _e=x-pe+ie&32767,Be=E[_e],xe=_e-Be&32767;xe>ae&&(ae=xe,oe=_e)}}}z=oe,oe=E[z],pe+=z-oe&32767}if(se){U[k++]=268435456|T2[K]<<18|lI[se];var Qe=T2[K]&31,Ee=lI[se]&31;F+=o5[Qe]+l5[Ee],++V[257+Qe],++O[Ee],S=x+K,++L}else U[k++]=t[x],++V[t[x]]}}for(x=Math.max(x,S);x<A;++x)U[k++]=t[x],++V[t[x]];u=cI(t,o,l,U,V,O,F,k,T,x-T,u),l||(s.r=u&7|o[u/8|0]<<3,u-=7,s.h=B,s.p=E,s.i=x,s.w=S)}else{for(var x=s.w||0;x<A+l;x+=65535){var He=x+65535;He>=A&&(o[u/8|0]=l,He=A),u=iQ(o,u+1,t.subarray(x,He))}s.i=A}return QW(a,0,n+nQ(u)+i)},AQ=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,A=0;A!=s;){for(var a=Math.min(A+2655,s);A<a;++A)i+=n+=r[A];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},kW=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),A=new EA(s.length+t.length);A.set(s),A.set(t,s.length),t=A,i.w=s.length}return PW(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},aQ=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},RW=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=AQ();i.p(e.dictionary),aQ(t,2,i.d())}};function L2(t,e){e||(e={});var r=AQ();r.p(t);var n=kW(t,e,e.dictionary?6:2,4);return RW(n,e),aQ(n,n.length-4,r.d()),n}var DW=typeof TextDecoder<"u"&&new TextDecoder,OW=0;try{DW.decode(sQ,{stream:!0}),OW=1}catch{}function MW(t){if(Array.isArray(t))return t}function HW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,A,a=[],o=!0,l=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(o=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);o=!0);}catch(u){l=!0,i=u}finally{try{if(!o&&r.return!=null&&(A=r.return(),Object(A)!==A))return}finally{if(l)throw i}}return a}}function hI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function jW(t,e){if(t){if(typeof t=="string")return hI(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hI(t,e):void 0}}function VW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dI(t,e){return MW(t)||HW(t,e)||jW(t,e)||VW()}function fI(t,e="utf8"){return new TextDecoder(e).decode(t)}const KW=new TextEncoder;function GW(t){return KW.encode(t)}const qW=1024*8,zW=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),dy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class u5{constructor(e=qW,r={}){dr(this,"buffer");dr(this,"byteLength");dr(this,"byteOffset");dr(this,"length");dr(this,"offset");dr(this,"lastWrittenByte");dr(this,"littleEndian");dr(this,"_data");dr(this,"_mark");dr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let A=i;(ArrayBuffer.isView(e)||e instanceof u5)&&(e.byteLength!==e.buffer.byteLength&&(A=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=A,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,A,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=dy[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===zW&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+n));a.reverse();const o=new dy[r](a.buffer);return this.offset+=n,o.reverse(),o}const A=new dy[r](s);return this.offset+=n,A}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return fI(this.readBytes(e))}decodeText(e=1,r="utf8"){return fI(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(GW(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hh(t){let e=t.length;for(;--e>=0;)t[e]=0}const WW=3,$W=258,oQ=29,XW=256,YW=XW+1+oQ,lQ=30,JW=512,ZW=new Array((YW+2)*2);Hh(ZW);const e$=new Array(lQ*2);Hh(e$);const t$=new Array(JW);Hh(t$);const r$=new Array($W-WW+1);Hh(r$);const n$=new Array(oQ);Hh(n$);const i$=new Array(lQ);Hh(i$);const s$=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,A=0;for(;r!==0;){A=r>2e3?2e3:r,r-=A;do i=i+e[n++]|0,s=s+i|0;while(--A);i%=65521,s%=65521}return i|s<<16|0};var P2=s$;const A$=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},a$=new Uint32Array(A$()),o$=(t,e,r,n)=>{const i=a$,s=n+r;t^=-1;for(let A=n;A<s;A++)t=t>>>8^i[(t^e[A])&255];return t^-1};var JA=o$,k2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},uQ={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const l$=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var u$=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)l$(r,n)&&(t[n]=r[n])}}return t},c$=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let A=t[n];r.set(A,i),i+=A.length}return r},cQ={assign:u$,flattenChunks:c$};let hQ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hQ=!1}const ip=new Uint8Array(256);for(let t=0;t<256;t++)ip[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ip[254]=ip[254]=1;var h$=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,A=t.length,a=0;for(i=0;i<A;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<A&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<A&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const d$=(t,e)=>{if(e<65534&&t.subarray&&hQ)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var f$=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let A=t[n++];if(A<128){s[i++]=A;continue}let a=ip[A];if(a>4){s[i++]=65533,n+=a-1;continue}for(A&=a===2?31:a===3?15:7;a>1&&n<r;)A=A<<6|t[n++]&63,a--;if(a>1){s[i++]=65533;continue}A<65536?s[i++]=A:(A-=65536,s[i++]=55296|A>>10&1023,s[i++]=56320|A&1023)}return d$(s,i)},p$=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+ip[t[r]]>e?r:e},R2={string2buf:h$,buf2string:f$,utf8border:p$};function g$(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var m$=g$;const Gg=16209,w$=16191;var y$=function(e,r){let n,i,s,A,a,o,l,u,d,m,p,_,E,B,w,b,I,U,V,O,L,F,x,k;const S=e.state;n=e.next_in,x=e.input,i=n+(e.avail_in-5),s=e.next_out,k=e.output,A=s-(r-e.avail_out),a=s+(e.avail_out-257),o=S.dmax,l=S.wsize,u=S.whave,d=S.wnext,m=S.window,p=S.hold,_=S.bits,E=S.lencode,B=S.distcode,w=(1<<S.lenbits)-1,b=(1<<S.distbits)-1;e:do{_<15&&(p+=x[n++]<<_,_+=8,p+=x[n++]<<_,_+=8),I=E[p&w];t:for(;;){if(U=I>>>24,p>>>=U,_-=U,U=I>>>16&255,U===0)k[s++]=I&65535;else if(U&16){V=I&65535,U&=15,U&&(_<U&&(p+=x[n++]<<_,_+=8),V+=p&(1<<U)-1,p>>>=U,_-=U),_<15&&(p+=x[n++]<<_,_+=8,p+=x[n++]<<_,_+=8),I=B[p&b];r:for(;;){if(U=I>>>24,p>>>=U,_-=U,U=I>>>16&255,U&16){if(O=I&65535,U&=15,_<U&&(p+=x[n++]<<_,_+=8,_<U&&(p+=x[n++]<<_,_+=8)),O+=p&(1<<U)-1,O>o){e.msg="invalid distance too far back",S.mode=Gg;break e}if(p>>>=U,_-=U,U=s-A,O>U){if(U=O-U,U>u&&S.sane){e.msg="invalid distance too far back",S.mode=Gg;break e}if(L=0,F=m,d===0){if(L+=l-U,U<V){V-=U;do k[s++]=m[L++];while(--U);L=s-O,F=k}}else if(d<U){if(L+=l+d-U,U-=d,U<V){V-=U;do k[s++]=m[L++];while(--U);if(L=0,d<V){U=d,V-=U;do k[s++]=m[L++];while(--U);L=s-O,F=k}}}else if(L+=d-U,U<V){V-=U;do k[s++]=m[L++];while(--U);L=s-O,F=k}for(;V>2;)k[s++]=F[L++],k[s++]=F[L++],k[s++]=F[L++],V-=3;V&&(k[s++]=F[L++],V>1&&(k[s++]=F[L++]))}else{L=s-O;do k[s++]=k[L++],k[s++]=k[L++],k[s++]=k[L++],V-=3;while(V>2);V&&(k[s++]=k[L++],V>1&&(k[s++]=k[L++]))}}else if(U&64){e.msg="invalid distance code",S.mode=Gg;break e}else{I=B[(I&65535)+(p&(1<<U)-1)];continue r}break}}else if(U&64)if(U&32){S.mode=w$;break e}else{e.msg="invalid literal/length code",S.mode=Gg;break e}else{I=E[(I&65535)+(p&(1<<U)-1)];continue t}break}}while(n<i&&s<a);V=_>>3,n-=V,_-=V<<3,p&=(1<<_)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),S.hold=p,S.bits=_};const mc=15,pI=852,gI=592,mI=0,fy=1,wI=2,v$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),B$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),C$=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),b$=(t,e,r,n,i,s,A,a)=>{const o=a.bits;let l=0,u=0,d=0,m=0,p=0,_=0,E=0,B=0,w=0,b=0,I,U,V,O,L,F=null,x;const k=new Uint16Array(mc+1),S=new Uint16Array(mc+1);let T=null,Q,z,oe;for(l=0;l<=mc;l++)k[l]=0;for(u=0;u<n;u++)k[e[r+u]]++;for(p=o,m=mc;m>=1&&k[m]===0;m--);if(p>m&&(p=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<m&&k[d]===0;d++);for(p<d&&(p=d),B=1,l=1;l<=mc;l++)if(B<<=1,B-=k[l],B<0)return-1;if(B>0&&(t===mI||m!==1))return-1;for(S[1]=0,l=1;l<mc;l++)S[l+1]=S[l]+k[l];for(u=0;u<n;u++)e[r+u]!==0&&(A[S[e[r+u]]++]=u);if(t===mI?(F=T=A,x=20):t===fy?(F=v$,T=B$,x=257):(F=_$,T=C$,x=0),b=0,u=0,l=d,L=s,_=p,E=0,V=-1,w=1<<p,O=w-1,t===fy&&w>pI||t===wI&&w>gI)return 1;for(;;){Q=l-E,A[u]+1<x?(z=0,oe=A[u]):A[u]>=x?(z=T[A[u]-x],oe=F[A[u]-x]):(z=96,oe=0),I=1<<l-E,U=1<<_,d=U;do U-=I,i[L+(b>>E)+U]=Q<<24|z<<16|oe|0;while(U!==0);for(I=1<<l-1;b&I;)I>>=1;if(I!==0?(b&=I-1,b+=I):b=0,u++,--k[l]===0){if(l===m)break;l=e[r+A[u]]}if(l>p&&(b&O)!==V){for(E===0&&(E=p),L+=d,_=l-E,B=1<<_;_+E<m&&(B-=k[_+E],!(B<=0));)_++,B<<=1;if(w+=1<<_,t===fy&&w>pI||t===wI&&w>gI)return 1;V=b&O,i[V]=p<<24|_<<16|L-s|0}}return b!==0&&(i[L+b]=l-E<<24|64<<16|0),a.bits=p,0};var pf=b$;const E$=0,dQ=1,fQ=2,{Z_FINISH:yI,Z_BLOCK:x$,Z_TREES:qg,Z_OK:Hu,Z_STREAM_END:I$,Z_NEED_DICT:F$,Z_STREAM_ERROR:rA,Z_DATA_ERROR:pQ,Z_MEM_ERROR:gQ,Z_BUF_ERROR:S$,Z_DEFLATED:vI}=uQ,Mw=16180,BI=16181,_I=16182,CI=16183,bI=16184,EI=16185,xI=16186,II=16187,FI=16188,SI=16189,R0=16190,Ua=16191,py=16192,NI=16193,gy=16194,TI=16195,UI=16196,QI=16197,LI=16198,zg=16199,Wg=16200,PI=16201,kI=16202,RI=16203,DI=16204,OI=16205,my=16206,MI=16207,HI=16208,jr=16209,mQ=16210,wQ=16211,N$=852,T$=592,U$=15,Q$=U$,jI=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function L$(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Mw||e.mode>wQ?1:0},yQ=t=>{if(Wu(t))return rA;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Mw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(N$),e.distcode=e.distdyn=new Int32Array(T$),e.sane=1,e.back=-1,Hu},vQ=t=>{if(Wu(t))return rA;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,yQ(t)},BQ=(t,e)=>{let r;if(Wu(t))return rA;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?rA:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,vQ(t))},_Q=(t,e)=>{if(!t)return rA;const r=new L$;t.state=r,r.strm=t,r.window=null,r.mode=Mw;const n=BQ(t,e);return n!==Hu&&(t.state=null),n},P$=t=>_Q(t,Q$);let VI=!0,wy,yy;const k$=t=>{if(VI){wy=new Int32Array(512),yy=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(pf(dQ,t.lens,0,288,wy,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;pf(fQ,t.lens,0,32,yy,0,t.work,{bits:5}),VI=!1}t.lencode=wy,t.lenbits=9,t.distcode=yy,t.distbits=5},CQ=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},R$=(t,e)=>{let r,n,i,s,A,a,o,l,u,d,m,p,_,E,B=0,w,b,I,U,V,O,L,F;const x=new Uint8Array(4);let k,S;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wu(t)||!t.output||!t.input&&t.avail_in!==0)return rA;r=t.state,r.mode===Ua&&(r.mode=py),A=t.next_out,i=t.output,o=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,l=r.hold,u=r.bits,d=a,m=o,F=Hu;e:for(;;)switch(r.mode){case Mw:if(r.wrap===0){r.mode=py;break}for(;u<16;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(r.wrap&2&&l===35615){r.wbits===0&&(r.wbits=15),r.check=0,x[0]=l&255,x[1]=l>>>8&255,r.check=JA(r.check,x,2,0),l=0,u=0,r.mode=BI;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=jr;break}if((l&15)!==vI){t.msg="unknown compression method",r.mode=jr;break}if(l>>>=4,u-=4,L=(l&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){t.msg="invalid window size",r.mode=jr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=l&512?SI:Ua,l=0,u=0;break;case BI:for(;u<16;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(r.flags=l,(r.flags&255)!==vI){t.msg="unknown compression method",r.mode=jr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=jr;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&r.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,r.check=JA(r.check,x,2,0)),l=0,u=0,r.mode=_I;case _I:for(;u<32;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.head&&(r.head.time=l),r.flags&512&&r.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,x[2]=l>>>16&255,x[3]=l>>>24&255,r.check=JA(r.check,x,4,0)),l=0,u=0,r.mode=CI;case CI:for(;u<16;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&r.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,r.check=JA(r.check,x,2,0)),l=0,u=0,r.mode=bI;case bI:if(r.flags&1024){for(;u<16;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&r.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,r.check=JA(r.check,x,2,0)),l=0,u=0}else r.head&&(r.head.extra=null);r.mode=EI;case EI:if(r.flags&1024&&(p=r.length,p>a&&(p=a),p&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+p),L)),r.flags&512&&r.wrap&4&&(r.check=JA(r.check,n,p,s)),a-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=xI;case xI:if(r.flags&2048){if(a===0)break e;p=0;do L=n[s+p++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&p<a);if(r.flags&512&&r.wrap&4&&(r.check=JA(r.check,n,p,s)),a-=p,s+=p,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=II;case II:if(r.flags&4096){if(a===0)break e;p=0;do L=n[s+p++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&p<a);if(r.flags&512&&r.wrap&4&&(r.check=JA(r.check,n,p,s)),a-=p,s+=p,L)break e}else r.head&&(r.head.comment=null);r.mode=FI;case FI:if(r.flags&512){for(;u<16;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(r.wrap&4&&l!==(r.check&65535)){t.msg="header crc mismatch",r.mode=jr;break}l=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ua;break;case SI:for(;u<32;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}t.adler=r.check=jI(l),l=0,u=0,r.mode=R0;case R0:if(r.havedict===0)return t.next_out=A,t.avail_out=o,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=u,F$;t.adler=r.check=1,r.mode=Ua;case Ua:if(e===x$||e===qg)break e;case py:if(r.last){l>>>=u&7,u-=u&7,r.mode=my;break}for(;u<3;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}switch(r.last=l&1,l>>>=1,u-=1,l&3){case 0:r.mode=NI;break;case 1:if(k$(r),r.mode=zg,e===qg){l>>>=2,u-=2;break e}break;case 2:r.mode=UI;break;case 3:t.msg="invalid block type",r.mode=jr}l>>>=2,u-=2;break;case NI:for(l>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=jr;break}if(r.length=l&65535,l=0,u=0,r.mode=gy,e===qg)break e;case gy:r.mode=TI;case TI:if(p=r.length,p){if(p>a&&(p=a),p>o&&(p=o),p===0)break e;i.set(n.subarray(s,s+p),A),a-=p,s+=p,o-=p,A+=p,r.length-=p;break}r.mode=Ua;break;case UI:for(;u<14;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(r.nlen=(l&31)+257,l>>>=5,u-=5,r.ndist=(l&31)+1,l>>>=5,u-=5,r.ncode=(l&15)+4,l>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=jr;break}r.have=0,r.mode=QI;case QI:for(;r.have<r.ncode;){for(;u<3;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.lens[T[r.have++]]=l&7,l>>>=3,u-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,k={bits:r.lenbits},F=pf(E$,r.lens,0,19,r.lencode,0,r.work,k),r.lenbits=k.bits,F){t.msg="invalid code lengths set",r.mode=jr;break}r.have=0,r.mode=LI;case LI:for(;r.have<r.nlen+r.ndist;){for(;B=r.lencode[l&(1<<r.lenbits)-1],w=B>>>24,b=B>>>16&255,I=B&65535,!(w<=u);){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(I<16)l>>>=w,u-=w,r.lens[r.have++]=I;else{if(I===16){for(S=w+2;u<S;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(l>>>=w,u-=w,r.have===0){t.msg="invalid bit length repeat",r.mode=jr;break}L=r.lens[r.have-1],p=3+(l&3),l>>>=2,u-=2}else if(I===17){for(S=w+3;u<S;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}l>>>=w,u-=w,L=0,p=3+(l&7),l>>>=3,u-=3}else{for(S=w+7;u<S;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}l>>>=w,u-=w,L=0,p=11+(l&127),l>>>=7,u-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=jr;break}for(;p--;)r.lens[r.have++]=L}}if(r.mode===jr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=jr;break}if(r.lenbits=9,k={bits:r.lenbits},F=pf(dQ,r.lens,0,r.nlen,r.lencode,0,r.work,k),r.lenbits=k.bits,F){t.msg="invalid literal/lengths set",r.mode=jr;break}if(r.distbits=6,r.distcode=r.distdyn,k={bits:r.distbits},F=pf(fQ,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,k),r.distbits=k.bits,F){t.msg="invalid distances set",r.mode=jr;break}if(r.mode=zg,e===qg)break e;case zg:r.mode=Wg;case Wg:if(a>=6&&o>=258){t.next_out=A,t.avail_out=o,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=u,y$(t,m),A=t.next_out,i=t.output,o=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,l=r.hold,u=r.bits,r.mode===Ua&&(r.back=-1);break}for(r.back=0;B=r.lencode[l&(1<<r.lenbits)-1],w=B>>>24,b=B>>>16&255,I=B&65535,!(w<=u);){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(b&&!(b&240)){for(U=w,V=b,O=I;B=r.lencode[O+((l&(1<<U+V)-1)>>U)],w=B>>>24,b=B>>>16&255,I=B&65535,!(U+w<=u);){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}l>>>=U,u-=U,r.back+=U}if(l>>>=w,u-=w,r.back+=w,r.length=I,b===0){r.mode=OI;break}if(b&32){r.back=-1,r.mode=Ua;break}if(b&64){t.msg="invalid literal/length code",r.mode=jr;break}r.extra=b&15,r.mode=PI;case PI:if(r.extra){for(S=r.extra;u<S;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=kI;case kI:for(;B=r.distcode[l&(1<<r.distbits)-1],w=B>>>24,b=B>>>16&255,I=B&65535,!(w<=u);){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(!(b&240)){for(U=w,V=b,O=I;B=r.distcode[O+((l&(1<<U+V)-1)>>U)],w=B>>>24,b=B>>>16&255,I=B&65535,!(U+w<=u);){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}l>>>=U,u-=U,r.back+=U}if(l>>>=w,u-=w,r.back+=w,b&64){t.msg="invalid distance code",r.mode=jr;break}r.offset=I,r.extra=b&15,r.mode=RI;case RI:if(r.extra){for(S=r.extra;u<S;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=jr;break}r.mode=DI;case DI:if(o===0)break e;if(p=m-o,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=jr;break}p>r.wnext?(p-=r.wnext,_=r.wsize-p):_=r.wnext-p,p>r.length&&(p=r.length),E=r.window}else E=i,_=A-r.offset,p=r.length;p>o&&(p=o),o-=p,r.length-=p;do i[A++]=E[_++];while(--p);r.length===0&&(r.mode=Wg);break;case OI:if(o===0)break e;i[A++]=r.length,o--,r.mode=Wg;break;case my:if(r.wrap){for(;u<32;){if(a===0)break e;a--,l|=n[s++]<<u,u+=8}if(m-=o,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?JA(r.check,i,m,A-m):P2(r.check,i,m,A-m)),m=o,r.wrap&4&&(r.flags?l:jI(l))!==r.check){t.msg="incorrect data check",r.mode=jr;break}l=0,u=0}r.mode=MI;case MI:if(r.wrap&&r.flags){for(;u<32;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(r.wrap&4&&l!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=jr;break}l=0,u=0}r.mode=HI;case HI:F=I$;break e;case jr:F=pQ;break e;case mQ:return gQ;case wQ:default:return rA}return t.next_out=A,t.avail_out=o,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=u,(r.wsize||m!==t.avail_out&&r.mode<jr&&(r.mode<my||e!==yI))&&CQ(t,t.output,t.next_out,m-t.avail_out),d-=t.avail_in,m-=t.avail_out,t.total_in+=d,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?JA(r.check,i,m,t.next_out-m):P2(r.check,i,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ua?128:0)+(r.mode===zg||r.mode===gy?256:0),(d===0&&m===0||e===yI)&&F===Hu&&(F=S$),F},D$=t=>{if(Wu(t))return rA;let e=t.state;return e.window&&(e.window=null),t.state=null,Hu},O$=(t,e)=>{if(Wu(t))return rA;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Hu):rA},M$=(t,e)=>{const r=e.length;let n,i,s;return Wu(t)||(n=t.state,n.wrap!==0&&n.mode!==R0)?rA:n.mode===R0&&(i=1,i=P2(i,e,r,0),i!==n.check)?pQ:(s=CQ(t,e,r,r),s?(n.mode=mQ,gQ):(n.havedict=1,Hu))};var H$=vQ,j$=BQ,V$=yQ,K$=P$,G$=_Q,q$=R$,z$=D$,W$=O$,$$=M$,X$="pako inflate (from Nodeca project)",Da={inflateReset:H$,inflateReset2:j$,inflateResetKeep:V$,inflateInit:K$,inflateInit2:G$,inflate:q$,inflateEnd:z$,inflateGetHeader:W$,inflateSetDictionary:$$,inflateInfo:X$};function Y$(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var J$=Y$;const bQ=Object.prototype.toString,{Z_NO_FLUSH:Z$,Z_FINISH:eX,Z_OK:sp,Z_STREAM_END:vy,Z_NEED_DICT:By,Z_STREAM_ERROR:tX,Z_DATA_ERROR:KI,Z_MEM_ERROR:rX}=uQ;function Lp(t){this.options=cQ.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m$,this.strm.avail_out=0;let r=Da.inflateInit2(this.strm,e.windowBits);if(r!==sp)throw new Error(k2[r]);if(this.header=new J$,Da.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=R2.string2buf(e.dictionary):bQ.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Da.inflateSetDictionary(this.strm,e.dictionary),r!==sp)))throw new Error(k2[r])}Lp.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,A,a;if(this.ended)return!1;for(e===~~e?A=e:A=e===!0?eX:Z$,bQ.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Da.inflate(r,A),s===By&&i&&(s=Da.inflateSetDictionary(r,i),s===sp?s=Da.inflate(r,A):s===KI&&(s=By));r.avail_in>0&&s===vy&&r.state.wrap>0&&t[r.next_in]!==0;)Da.inflateReset(r),s=Da.inflate(r,A);switch(s){case tX:case KI:case By:case rX:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===vy))if(this.options.to==="string"){let o=R2.utf8border(r.output,r.next_out),l=r.next_out-o,u=R2.buf2string(r.output,o);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(o,o+l),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===sp&&a===0)){if(s===vy)return s=Da.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Lp.prototype.onData=function(t){this.chunks.push(t)};Lp.prototype.onEnd=function(t){t===sp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cQ.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function nX(t,e){const r=new Lp(e);if(r.push(t),r.err)throw r.msg||k2[r.err];return r.result}var iX=Lp,sX=nX,AX={Inflate:iX,inflate:sX};const{Inflate:aX,inflate:oX}=AX;var GI=aX,lX=oX;const EQ=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;EQ[t]=e}const qI=4294967295;function uX(t,e,r){let n=t;for(let i=0;i<r;i++)n=EQ[(n^e[i])&255]^n>>>8;return n}function cX(t,e){return(uX(qI,t,e)^qI)>>>0}function zI(t,e,r){const n=t.readUint32(),i=cX(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function xQ(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function IQ(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function FQ(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function SQ(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function NQ(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+hX(e[s-i],r[s],r[s-i])&255}}function hX(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),A=Math.abs(n-r);return i<=s&&i<=A?t:s<=A?e:r}function dX(t,e,r,n,i,s){switch(t){case 0:xQ(e,r,i);break;case 1:IQ(e,r,i,s);break;case 2:FQ(e,r,n,i);break;case 3:SQ(e,r,n,i,s);break;case 4:NQ(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const fX=new Uint16Array([255]),pX=new Uint8Array(fX.buffer),gX=pX[0]===255;function mX(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,A=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,o=new Uint8Array(n*r*a);let l=0;for(let u=0;u<7;u++){const d=A[u],m=Math.ceil((r-d.x)/d.xStep),p=Math.ceil((n-d.y)/d.yStep);if(m<=0||p<=0)continue;const _=m*a,E=new Uint8Array(_);for(let B=0;B<p;B++){const w=e[l++],b=e.subarray(l,l+_);l+=_;const I=new Uint8Array(_);dX(w,b,I,E,_,a),E.set(I);for(let U=0;U<m;U++){const V=d.x+U*d.xStep,O=d.y+B*d.yStep;if(!(V>=r||O>=n))for(let L=0;L<a;L++)o[(O*r+V)*a+L]=I[U*a+L]}}}if(s===16){const u=new Uint16Array(o.buffer);if(gX)for(let d=0;d<u.length;d++)u[d]=wX(u[d]);return u}else return o}function wX(t){return(t&255)<<8|t>>8&255}const yX=new Uint16Array([255]),vX=new Uint8Array(yX.buffer),BX=vX[0]===255,_X=new Uint8Array(0);function WI(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,A=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*r),o=new Uint8Array(n*a);let l=_X,u=0,d,m;for(let p=0;p<n;p++){switch(d=e.subarray(u+1,u+1+a),m=o.subarray(p*a,(p+1)*a),e[u]){case 0:xQ(d,m,a);break;case 1:IQ(d,m,a,A);break;case 2:FQ(d,m,l,a);break;case 3:SQ(d,m,l,a,A);break;case 4:NQ(d,m,l,a,A);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}l=m,u+=a+1}if(s===16){const p=new Uint16Array(o.buffer);if(BX)for(let _=0;_<p.length;_++)p[_]=CX(p[_]);return p}else return o}function CX(t){return(t&255)<<8|t>>8&255}const Qm=Uint8Array.of(137,80,78,71,13,10,26,10);function $I(t){if(!bX(t.readBytes(Qm.length)))throw new Error("wrong PNG signature")}function bX(t){if(t.length<Qm.length)return!1;for(let e=0;e<Qm.length;e++)if(t[e]!==Qm[e])return!1;return!0}const EX="tEXt",xX=0,TQ=new TextDecoder("latin1");function IX(t){if(SX(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const FX=/^[\u0000-\u00FF]*$/;function SX(t){if(!FX.test(t))throw new Error("invalid latin1 text")}function NX(t,e,r){const n=UQ(e);t[n]=TX(e,r-n.length-1)}function UQ(t){for(t.mark();t.readByte()!==xX;);const e=t.offset;t.reset();const r=TQ.decode(t.readBytes(e-t.offset-1));return t.skip(1),IX(r),r}function TX(t,e){return TQ.decode(t.readBytes(e))}const Cs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},_y={UNKNOWN:-1,DEFLATE:0},XI={UNKNOWN:-1,ADAPTIVE:0},Cy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},$g={NONE:0,BACKGROUND:1,PREVIOUS:2},by={SOURCE:0,OVER:1};class UX extends u5{constructor(r,n={}){super(r);dr(this,"_checkCrc");dr(this,"_inflator");dr(this,"_png");dr(this,"_apng");dr(this,"_end");dr(this,"_hasPalette");dr(this,"_palette");dr(this,"_hasTransparency");dr(this,"_transparency");dr(this,"_compressionMethod");dr(this,"_filterMethod");dr(this,"_interlaceMethod");dr(this,"_colorType");dr(this,"_isAnimated");dr(this,"_numberOfFrames");dr(this,"_numberOfPlays");dr(this,"_frames");dr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new GI,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=_y.UNKNOWN,this._filterMethod=XI.UNKNOWN,this._interlaceMethod=Cy.UNKNOWN,this._colorType=Cs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for($I(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for($I(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case EX:NX(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?zI(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?zI(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=QX(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Cs.GREYSCALE:i=1;break;case Cs.TRUECOLOUR:i=3;break;case Cs.INDEXED_COLOUR:i=1;break;case Cs.GREYSCALE_ALPHA:i=2;break;case Cs.TRUECOLOUR_ALPHA:i=4;break;case Cs.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==_y.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Cs.GREYSCALE:case Cs.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Cs.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Cs.UNKNOWN:case Cs.GREYSCALE_ALPHA:case Cs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=UQ(this),i=this.readUint8();if(i!==_y.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:lX(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=WI({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case $g.NONE:break;case $g.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let A=0;A<this._png.width;A++){const a=(s*r.width+A)*this._png.channels;for(let o=0;o<this._png.channels;o++)i.data[a+o]=0}break;case $g.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(A,a)=>{const o=((A+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,l=(A*n.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(n.blendOp){case by.SOURCE:for(let A=0;A<n.height;A++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:l}=s(A,a);for(let u=0;u<this._png.channels;u++)r.data[o+u]=n.data[l+u]}break;case by.OVER:for(let A=0;A<n.height;A++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:l}=s(A,a);for(let u=0;u<this._png.channels;u++){const d=n.data[l+this._png.channels-1]/i,m=u%(this._png.channels-1)===0?1:n.data[l+u],p=Math.floor(d*m+(1-d)*r.data[o+u]);r.data[o+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==XI.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Cy.NO_INTERLACE)this._png.data=WI({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Cy.ADAM7)this._png.data=mX({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:$g.NONE,blendOp:by.SOURCE,data:r}),this._inflator=new GI,this._writingDataChunks=!1}}function QX(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var YI;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(YI||(YI={}));function LX(t,e){return new UX(t,e).decode()}var bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ey(){bt.console&&typeof bt.console.log=="function"&&bt.console.log.apply(bt.console,arguments)}var Cr={log:Ey,warn:function(t){bt.console&&(typeof bt.console.warn=="function"?bt.console.warn.apply(bt.console,arguments):Ey.call(null,arguments))},error:function(t){bt.console&&(typeof bt.console.error=="function"?bt.console.error.apply(bt.console,arguments):Ey(t))}};function xy(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){nu(n.response,e,r)},n.onerror=function(){Cr.error("could not download file")},n.send()}function JI(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var nu=bt.saveAs||((typeof window>"u"?"undefined":pr(window))!=="object"||window!==bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=bt.URL||bt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?JI(i.href)?xy(t,e,r):Xg(i,i.target="_blank"):Xg(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(JI(t))xy(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Xg(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:pr(s)!=="object"&&(Cr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return xy(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(bt.HTMLElement)||bt.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||i&&s)&&(typeof FileReader>"u"?"undefined":pr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=A?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},a.readAsDataURL(t)}else{var o=bt.URL||bt.webkitURL,l=o.createObjectURL(t);n?n.location=l:location.href=l,n=null,setTimeout(function(){o.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function QQ(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,A=i.exec(t);A&&(e=s(A),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),o=this.g.toString(16),l=this.b.toString(16);return a.length==1&&(a="0"+a),o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),"#"+a+o+l}}var Lm=bt.atob.bind(bt),ZI=bt.btoa.bind(bt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Iy(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=wi(r,n,i,s,e[0],7,-680876936),s=wi(s,r,n,i,e[1],12,-389564586),i=wi(i,s,r,n,e[2],17,606105819),n=wi(n,i,s,r,e[3],22,-1044525330),r=wi(r,n,i,s,e[4],7,-176418897),s=wi(s,r,n,i,e[5],12,1200080426),i=wi(i,s,r,n,e[6],17,-1473231341),n=wi(n,i,s,r,e[7],22,-45705983),r=wi(r,n,i,s,e[8],7,1770035416),s=wi(s,r,n,i,e[9],12,-1958414417),i=wi(i,s,r,n,e[10],17,-42063),n=wi(n,i,s,r,e[11],22,-1990404162),r=wi(r,n,i,s,e[12],7,1804603682),s=wi(s,r,n,i,e[13],12,-40341101),i=wi(i,s,r,n,e[14],17,-1502002290),r=yi(r,n=wi(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=yi(s,r,n,i,e[6],9,-1069501632),i=yi(i,s,r,n,e[11],14,643717713),n=yi(n,i,s,r,e[0],20,-373897302),r=yi(r,n,i,s,e[5],5,-701558691),s=yi(s,r,n,i,e[10],9,38016083),i=yi(i,s,r,n,e[15],14,-660478335),n=yi(n,i,s,r,e[4],20,-405537848),r=yi(r,n,i,s,e[9],5,568446438),s=yi(s,r,n,i,e[14],9,-1019803690),i=yi(i,s,r,n,e[3],14,-187363961),n=yi(n,i,s,r,e[8],20,1163531501),r=yi(r,n,i,s,e[13],5,-1444681467),s=yi(s,r,n,i,e[2],9,-51403784),i=yi(i,s,r,n,e[7],14,1735328473),r=vi(r,n=yi(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=vi(s,r,n,i,e[8],11,-2022574463),i=vi(i,s,r,n,e[11],16,1839030562),n=vi(n,i,s,r,e[14],23,-35309556),r=vi(r,n,i,s,e[1],4,-1530992060),s=vi(s,r,n,i,e[4],11,1272893353),i=vi(i,s,r,n,e[7],16,-155497632),n=vi(n,i,s,r,e[10],23,-1094730640),r=vi(r,n,i,s,e[13],4,681279174),s=vi(s,r,n,i,e[0],11,-358537222),i=vi(i,s,r,n,e[3],16,-722521979),n=vi(n,i,s,r,e[6],23,76029189),r=vi(r,n,i,s,e[9],4,-640364487),s=vi(s,r,n,i,e[12],11,-421815835),i=vi(i,s,r,n,e[15],16,530742520),r=Bi(r,n=vi(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Bi(s,r,n,i,e[7],10,1126891415),i=Bi(i,s,r,n,e[14],15,-1416354905),n=Bi(n,i,s,r,e[5],21,-57434055),r=Bi(r,n,i,s,e[12],6,1700485571),s=Bi(s,r,n,i,e[3],10,-1894986606),i=Bi(i,s,r,n,e[10],15,-1051523),n=Bi(n,i,s,r,e[1],21,-2054922799),r=Bi(r,n,i,s,e[8],6,1873313359),s=Bi(s,r,n,i,e[15],10,-30611744),i=Bi(i,s,r,n,e[6],15,-1560198380),n=Bi(n,i,s,r,e[13],21,1309151649),r=Bi(r,n,i,s,e[4],6,-145523070),s=Bi(s,r,n,i,e[11],10,-1120210379),i=Bi(i,s,r,n,e[2],15,718787259),n=Bi(n,i,s,r,e[9],21,-343485551),t[0]=tl(r,t[0]),t[1]=tl(n,t[1]),t[2]=tl(i,t[2]),t[3]=tl(s,t[3])}function Hw(t,e,r,n,i,s){return e=tl(tl(e,t),tl(n,s)),tl(e<<i|e>>>32-i,r)}function wi(t,e,r,n,i,s,A){return Hw(e&r|~e&n,t,e,i,s,A)}function yi(t,e,r,n,i,s,A){return Hw(e&n|r&~n,t,e,i,s,A)}function vi(t,e,r,n,i,s,A){return Hw(e^r^n,t,e,i,s,A)}function Bi(t,e,r,n,i,s,A){return Hw(r^(e|~n),t,e,i,s,A)}function LQ(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Iy(n,PX(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Iy(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Iy(n,i),n}function PX(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var e4="0123456789abcdef".split("");function kX(t){for(var e="",r=0;r<4;r++)e+=e4[t>>8*r+4&15]+e4[t>>8*r&15];return e}function RX(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function D2(t){return LQ(t).map(RX).join("")}var DX=function(t){for(var e=0;e<t.length;e++)t[e]=kX(t[e]);return t.join("")}(LQ("hello"))!="5d41402abc4b2a76b9719d911017c592";function tl(t,e){if(DX){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function O2(t,e){var r,n,i,s;if(t!==r){for(var A=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],o=0;o<256;o++)a[o]=o;var l=0;for(o=0;o<256;o++){var u=a[o];l=(l+u+A.charCodeAt(o))%256,a[o]=a[l],a[l]=u}r=t,n=a}else a=n;var d=e.length,m=0,p=0,_="";for(o=0;o<d;o++)p=(p+(u=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=u,A=a[(a[m]+a[p])%256],_+=String.fromCharCode(e.charCodeAt(o)^A);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var t4={print:4,modify:8,copy:16,"annot-forms":32};function Nc(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(t4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=t4[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),A=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,A),this.P=-(1+(255^i)),this.encryptionKey=D2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=O2(this.encryptionKey,this.padding)}function Tc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function r4(t){if(pr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var A=e[r][s];try{A[0].apply(t,n)}catch(a){bt.console&&Cr.error("jsPDF PubSub Error",a.message,a)}A[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ap(t){if(!(this instanceof Ap))return new Ap(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function PQ(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Wo(t,e,r,n,i){if(!(this instanceof Wo))return new Wo(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,PQ.call(this,n,i)}function du(t,e,r,n,i){if(!(this instanceof du))return new du(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,PQ.call(this,n,i)}function ut(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],A=[],a=1,o=16,l="S",u=null;pr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(o=t.floatPrecision),l=t.defaultPathOperation||"S"),A=t.filters||(s===!0?["FlateEncode"]:A),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=r4;var _="1.3",E=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(y){_=y};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return B};var w=p.__private__.getPageFormat=function(y){return B[y]};i=i||"a4";var b="compat",I="advanced",U=b;function V(){this.saveGraphicsState(),ne(new gt(wt,0,0,-wt,0,Ui()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),l="n",U=I}function O(){this.restoreGraphicsState(),l="S",U=b}var L=p.__private__.combineFontStyleAndFontWeight=function(y,R){if(y=="bold"&&R=="normal"||y=="bold"&&R==400||y=="normal"&&R=="italic"||y=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(y=R==400||R==="normal"?y==="italic"?"italic":"normal":R!=700&&R!=="bold"||y!=="normal"?(R==700?"bold":R)+""+y:"bold"),y};p.advancedAPI=function(y){var R=U===b;return R&&V.call(this),typeof y!="function"||(y(this),R&&O.call(this)),this},p.compatAPI=function(y){var R=U===I;return R&&O.call(this),typeof y!="function"||(y(this),R&&V.call(this)),this},p.isAdvancedAPI=function(){return U===I};var F,x=function(y){if(U!==I)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=p.roundToPrecision=p.__private__.roundToPrecision=function(y,R){var J=e||R;if(isNaN(y)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(J).replace(/0+$/,"")};F=p.hpf=p.__private__.hpf=typeof o=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return k(y,o)}:o==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return k(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return k(y,16)};var S=p.f2=p.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return k(y,2)},T=p.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return k(y,3)},Q=p.scale=p.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return U===b?y*wt:U===I?y:void 0},z=function(y){return Q(function(R){return U===b?Ui()-R:U===I?R:void 0}(y))};p.__private__.setPrecision=p.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var oe,le="00000000000000000000000000000000",ie=p.__private__.getFileId=function(){return le},K=p.__private__.setFileId=function(y){return le=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(lr=new Nc(u.userPermissions,u.userPassword,u.ownerPassword,le)),le};p.setFileId=function(y){return K(y),this},p.getFileId=function(){return ie()};var se=p.__private__.convertDateToPDFDate=function(y){var R=y.getTimezoneOffset(),J=R<0?"+":"-",Ae=Math.floor(Math.abs(R/60)),he=Math.abs(R%60),Ne=[J,te(Ae),"'",te(he),"'"].join("");return["D:",y.getFullYear(),te(y.getMonth()+1),te(y.getDate()),te(y.getHours()),te(y.getMinutes()),te(y.getSeconds()),Ne].join("")},de=p.__private__.convertPDFDateToDate=function(y){var R=parseInt(y.substr(2,4),10),J=parseInt(y.substr(6,2),10)-1,Ae=parseInt(y.substr(8,2),10),he=parseInt(y.substr(10,2),10),Ne=parseInt(y.substr(12,2),10),Le=parseInt(y.substr(14,2),10);return new Date(R,J,Ae,he,Ne,Le,0)},pe=p.__private__.setCreationDate=function(y){var R;if(y===void 0&&(y=new Date),y instanceof Date)R=se(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=y}return oe=R},M=p.__private__.getCreationDate=function(y){var R=oe;return y==="jsDate"&&(R=de(oe)),R};p.setCreationDate=function(y){return pe(y),this},p.getCreationDate=function(y){return M(y)};var X,te=p.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},$=p.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},re=0,ae=[],_e=[],Be=0,xe=[],Qe=[],Ee=!1,He=_e;p.__private__.setCustomOutputDestination=function(y){Ee=!0,He=y};var Ce=function(y){Ee||(He=y)};p.__private__.resetCustomOutputDestination=function(){Ee=!1,He=_e};var ne=p.__private__.out=function(y){return y=y.toString(),Be+=y.length+1,He.push(y),He},Qt=p.__private__.write=function(y){return ne(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},xt=p.__private__.getArrayBuffer=function(y){for(var R=y.length,J=new ArrayBuffer(R),Ae=new Uint8Array(J);R--;)Ae[R]=y.charCodeAt(R);return J},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return pt};var ke=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(y){return ke=U===I?y/wt:y,this};var ve,Ue=p.__private__.getFontSize=p.getFontSize=function(){return U===b?ke:ke*wt},Ge=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(y){return Ge=y,this},p.__private__.getR2L=p.getR2L=function(){return Ge};var je,Ye=p.__private__.setZoomMode=function(y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))ve=y;else if(isNaN(y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');ve=y}else ve=parseInt(y,10)};p.__private__.getZoomMode=function(){return ve};var tt,Ve=p.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');je=y};p.__private__.getPageMode=function(){return je};var It=p.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');tt=y};p.__private__.getLayoutMode=function(){return tt},p.__private__.setDisplayMode=p.setDisplayMode=function(y,R,J){return Ye(y),It(R),Ve(J),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(y){if(Object.keys(At).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[y]},p.__private__.getDocumentProperties=function(){return At},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(y){for(var R in At)At.hasOwnProperty(R)&&y[R]&&(At[R]=y[R]);return this},p.__private__.setDocumentProperty=function(y,R){if(Object.keys(At).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[y]=R};var Ze,wt,dt,er,Wt,at={},Ct={},or=[],mt={},kt={},Ft={},Rr={},Nr=null,sr=0,vt=[],Dt=new r4(p),TA=t.hotfixes||[],ln={},Ls={},ui=[],gt=function y(R,J,Ae,he,Ne,Le){if(!(this instanceof y))return new y(R,J,Ae,he,Ne,Le);isNaN(R)&&(R=1),isNaN(J)&&(J=0),isNaN(Ae)&&(Ae=0),isNaN(he)&&(he=1),isNaN(Ne)&&(Ne=0),isNaN(Le)&&(Le=0),this._matrix=[R,J,Ae,he,Ne,Le]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(y)},gt.prototype.multiply=function(y){var R=y.sx*this.sx+y.shy*this.shx,J=y.sx*this.shy+y.shy*this.sy,Ae=y.shx*this.sx+y.sy*this.shx,he=y.shx*this.shy+y.sy*this.sy,Ne=y.tx*this.sx+y.ty*this.shx+this.tx,Le=y.tx*this.shy+y.ty*this.sy+this.ty;return new gt(R,J,Ae,he,Ne,Le)},gt.prototype.decompose=function(){var y=this.sx,R=this.shy,J=this.shx,Ae=this.sy,he=this.tx,Ne=this.ty,Le=Math.sqrt(y*y+R*R),$e=(y/=Le)*J+(R/=Le)*Ae;J-=y*$e,Ae-=R*$e;var st=Math.sqrt(J*J+Ae*Ae);return $e/=st,y*(Ae/=st)<R*(J/=st)&&(y=-y,R=-R,$e=-$e,Le=-Le),{scale:new gt(Le,0,0,st,0,0),translate:new gt(1,0,0,1,he,Ne),rotate:new gt(y,R,-R,y,0,0),skew:new gt(1,0,$e,1,0,0)}},gt.prototype.toString=function(y){return this.join(" ")},gt.prototype.inversed=function(){var y=this.sx,R=this.shy,J=this.shx,Ae=this.sy,he=this.tx,Ne=this.ty,Le=1/(y*Ae-R*J),$e=Ae*Le,st=-R*Le,yt=-J*Le,St=y*Le;return new gt($e,st,yt,St,-$e*he-yt*Ne,-st*he-St*Ne)},gt.prototype.applyToPoint=function(y){var R=y.x*this.sx+y.y*this.shx+this.tx,J=y.x*this.shy+y.y*this.sy+this.ty;return new HA(R,J)},gt.prototype.applyToRectangle=function(y){var R=this.applyToPoint(y),J=this.applyToPoint(new HA(y.x+y.w,y.y+y.h));return new mo(R.x,R.y,J.x-R.x,J.y-R.y)},gt.prototype.clone=function(){var y=this.sx,R=this.shy,J=this.shx,Ae=this.sy,he=this.tx,Ne=this.ty;return new gt(y,R,J,Ae,he,Ne)},p.Matrix=gt;var Tr=p.matrixMult=function(y,R){return R.multiply(y)},Ps=new gt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ps;var Dn=function(y,R){if(!kt[y]){var J=(R instanceof Wo?"Sh":"P")+(Object.keys(mt).length+1).toString(10);R.id=J,kt[y]=J,mt[J]=R,Dt.publish("addPattern",R)}};p.ShadingPattern=Wo,p.TilingPattern=du,p.addShadingPattern=function(y,R){return x("addShadingPattern()"),Dn(y,R),this},p.beginTilingPattern=function(y){x("beginTilingPattern()"),jA(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},p.endTilingPattern=function(y,R){x("endTilingPattern()"),R.stream=Qe[X].join(`
`),Dn(y,R),Dt.publish("endTilingPattern",R),ui.pop().restore()};var On,Dr=p.__private__.newObject=function(){var y=Cn();return Or(y,!0),y},Cn=p.__private__.newObjectDeferred=function(){return re++,ae[re]=function(){return Be},re},Or=function(y,R){return R=typeof R=="boolean"&&R,ae[y]=Be,R&&ne(y+" 0 obj"),y},fa=p.__private__.newAdditionalObject=function(){var y={objId:Cn(),content:""};return xe.push(y),y},UA=Cn(),ci=Cn(),us=p.__private__.decodeColorString=function(y){var R=y.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var J=parseFloat(R[0]);R=[J,J,J,"r"]}for(var Ae="#",he=0;he<3;he++)Ae+=("0"+Math.floor(255*parseFloat(R[he])).toString(16)).slice(-2);return Ae},Si=p.__private__.encodeColorString=function(y){var R;typeof y=="string"&&(y={ch1:y});var J=y.ch1,Ae=y.ch2,he=y.ch3,Ne=y.ch4,Le=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var $e=new QQ(J);if($e.ok)J=$e.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var st=parseInt(J.substr(1),16);J=st>>16&255,Ae=st>>8&255,he=255&st}if(Ae===void 0||Ne===void 0&&J===Ae&&Ae===he)R=typeof J=="string"?J+" "+Le[0]:y.precision===2?S(J/255)+" "+Le[0]:T(J/255)+" "+Le[0];else if(Ne===void 0||pr(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",Le[1]].join(" ");R=typeof J=="string"?[J,Ae,he,Le[1]].join(" "):y.precision===2?[S(J/255),S(Ae/255),S(he/255),Le[1]].join(" "):[T(J/255),T(Ae/255),T(he/255),Le[1]].join(" ")}else R=typeof J=="string"?[J,Ae,he,Ne,Le[2]].join(" "):y.precision===2?[S(J),S(Ae),S(he),S(Ne),Le[2]].join(" "):[T(J),T(Ae),T(he),T(Ne),Le[2]].join(" ");return R},hi=p.__private__.getFilters=function(){return A},un=p.__private__.putStream=function(y){var R=(y=y||{}).data||"",J=y.filters||hi(),Ae=y.alreadyAppliedFilters||[],he=y.addLength1||!1,Ne=R.length,Le=y.objectId,$e=function(tn){return tn};if(u!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&($e=lr.encryptor(Le,0));var st={};J===!0&&(J=["FlateEncode"]);var yt=y.additionalKeyValues||[],St=(st=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(R,J):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(st.data.length!==0&&(yt.push({key:"Length",value:st.data.length}),he===!0&&yt.push({key:"Length1",value:Ne})),St.length!=0)if(St.split("/").length-1==1)yt.push({key:"Filter",value:St});else{yt.push({key:"Filter",value:"["+St+"]"});for(var qt=0;qt<yt.length;qt+=1)if(yt[qt].key==="DecodeParms"){for(var br=[],Ur=0;Ur<st.reverseChain.split("/").length-1;Ur+=1)br.push("null");br.push(yt[qt].value),yt[qt].value="["+br.join(" ")+"]"}}ne("<<");for(var Ar=0;Ar<yt.length;Ar++)ne("/"+yt[Ar].key+" "+yt[Ar].value);ne(">>"),st.data.length!==0&&(ne("stream"),ne($e(st.data)),ne("endstream"))},QA=p.__private__.putPage=function(y){var R=y.number,J=y.data,Ae=y.objId,he=y.contentsObjId;Or(Ae,!0),ne("<</Type /Page"),ne("/Parent "+y.rootDictionaryObjId+" 0 R"),ne("/Resources "+y.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(F(y.mediaBox.bottomLeftX))+" "+parseFloat(F(y.mediaBox.bottomLeftY))+" "+F(y.mediaBox.topRightX)+" "+F(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&ne("/CropBox ["+F(y.cropBox.bottomLeftX)+" "+F(y.cropBox.bottomLeftY)+" "+F(y.cropBox.topRightX)+" "+F(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&ne("/BleedBox ["+F(y.bleedBox.bottomLeftX)+" "+F(y.bleedBox.bottomLeftY)+" "+F(y.bleedBox.topRightX)+" "+F(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&ne("/TrimBox ["+F(y.trimBox.bottomLeftX)+" "+F(y.trimBox.bottomLeftY)+" "+F(y.trimBox.topRightX)+" "+F(y.trimBox.topRightY)+"]"),y.artBox!==null&&ne("/ArtBox ["+F(y.artBox.bottomLeftX)+" "+F(y.artBox.bottomLeftY)+" "+F(y.artBox.topRightX)+" "+F(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&ne("/UserUnit "+y.userUnit),Dt.publish("putPage",{objId:Ae,pageContext:vt[R],pageNumber:R,page:J}),ne("/Contents "+he+" 0 R"),ne(">>"),ne("endobj");var Ne=J.join(`
`);return U===I&&(Ne+=`
Q`),Or(he,!0),un({data:Ne,filters:hi(),objectId:he}),ne("endobj"),Ae},cs=p.__private__.putPages=function(){var y,R,J=[];for(y=1;y<=sr;y++)vt[y].objId=Cn(),vt[y].contentsObjId=Cn();for(y=1;y<=sr;y++)J.push(QA({number:y,data:Qe[y],objId:vt[y].objId,contentsObjId:vt[y].contentsObjId,mediaBox:vt[y].mediaBox,cropBox:vt[y].cropBox,bleedBox:vt[y].bleedBox,trimBox:vt[y].trimBox,artBox:vt[y].artBox,userUnit:vt[y].userUnit,rootDictionaryObjId:UA,resourceDictionaryObjId:ci}));Or(UA,!0),ne("<</Type /Pages");var Ae="/Kids [";for(R=0;R<sr;R++)Ae+=J[R]+" 0 R ";ne(Ae+"]"),ne("/Count "+sr),ne(">>"),ne("endobj"),Dt.publish("postPutPages")},nA=function(y){Dt.publish("putFont",{font:y,out:ne,newObject:Dr,putStream:un}),y.isAlreadyPutted!==!0&&(y.objectNumber=Dr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Tc(y.postScriptName)),ne("/Subtype /Type1"),typeof y.encoding=="string"&&ne("/Encoding /"+y.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},LA=function(y){y.objectNumber=Dr();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[F(y.x),F(y.y),F(y.x+y.width),F(y.y+y.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var J=y.pages[1].join(`
`);un({data:J,additionalKeyValues:R,objectId:y.objectNumber}),ne("endobj")},pa=function(y,R){R||(R=21);var J=Dr(),Ae=function(Le,$e){var st,yt=[],St=1/($e-1);for(st=0;st<1;st+=St)yt.push(st);if(yt.push(1),Le[0].offset!=0){var qt={offset:0,color:Le[0].color};Le.unshift(qt)}if(Le[Le.length-1].offset!=1){var br={offset:1,color:Le[Le.length-1].color};Le.push(br)}for(var Ur="",Ar=0,tn=0;tn<yt.length;tn++){for(st=yt[tn];st>Le[Ar+1].offset;)Ar++;var yr=Le[Ar].offset,bn=(st-yr)/(Le[Ar+1].offset-yr),Ds=Le[Ar].color,aA=Le[Ar+1].color;Ur+=$(Math.round((1-bn)*Ds[0]+bn*aA[0]).toString(16))+$(Math.round((1-bn)*Ds[1]+bn*aA[1]).toString(16))+$(Math.round((1-bn)*Ds[2]+bn*aA[2]).toString(16))}return Ur.trim()}(y.colors,R),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+R+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),un({data:Ae,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),ne("endobj"),y.objectNumber=Dr(),ne("<< /ShadingType "+y.type),ne("/ColorSpace /DeviceRGB");var Ne="/Coords ["+F(parseFloat(y.coords[0]))+" "+F(parseFloat(y.coords[1]))+" ";y.type===2?Ne+=F(parseFloat(y.coords[2]))+" "+F(parseFloat(y.coords[3])):Ne+=F(parseFloat(y.coords[2]))+" "+F(parseFloat(y.coords[3]))+" "+F(parseFloat(y.coords[4]))+" "+F(parseFloat(y.coords[5])),ne(Ne+="]"),y.matrix&&ne("/Matrix ["+y.matrix.toString()+"]"),ne("/Function "+J+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},ga=function(y,R){var J=Cn(),Ae=Dr();R.push({resourcesOid:J,objectOid:Ae}),y.objectNumber=Ae;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+y.boundingBox.map(F).join(" ")+"]"}),he.push({key:"XStep",value:F(y.xStep)}),he.push({key:"YStep",value:F(y.yStep)}),he.push({key:"Resources",value:J+" 0 R"}),y.matrix&&he.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),un({data:y.stream,additionalKeyValues:he,objectId:y.objectNumber}),ne("endobj")},jh=function(y){for(var R in y.objectNumber=Dr(),ne("<<"),y)switch(R){case"opacity":ne("/ca "+S(y[R]));break;case"stroke-opacity":ne("/CA "+S(y[R]))}ne(">>"),ne("endobj")},PA=function(y){Or(y.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in ne("/Font <<"),at)at.hasOwnProperty(R)&&(d===!1||d===!0&&m.hasOwnProperty(R))&&ne("/"+R+" "+at[R].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(mt).length>0){for(var R in ne("/Shading <<"),mt)mt.hasOwnProperty(R)&&mt[R]instanceof Wo&&mt[R].objectNumber>=0&&ne("/"+R+" "+mt[R].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),ne(">>")}}(),function(R){if(Object.keys(mt).length>0){for(var J in ne("/Pattern <<"),mt)mt.hasOwnProperty(J)&&mt[J]instanceof p.TilingPattern&&mt[J].objectNumber>=0&&mt[J].objectNumber<R&&ne("/"+J+" "+mt[J].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),ne(">>")}}(y.objectOid),function(){if(Object.keys(Ft).length>0){var R;for(R in ne("/ExtGState <<"),Ft)Ft.hasOwnProperty(R)&&Ft[R].objectNumber>=0&&ne("/"+R+" "+Ft[R].objectNumber+" 0 R");Dt.publish("putGStateDict"),ne(">>")}}(),function(){for(var R in ne("/XObject <<"),ln)ln.hasOwnProperty(R)&&ln[R].objectNumber>=0&&ne("/"+R+" "+ln[R].objectNumber+" 0 R");Dt.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},Ll=function(y){Ct[y.fontName]=Ct[y.fontName]||{},Ct[y.fontName][y.fontStyle]=y.id},lo=function(y,R,J,Ae,he){var Ne={id:"F"+(Object.keys(at).length+1).toString(10),postScriptName:y,fontName:R,fontStyle:J,encoding:Ae,isStandardFont:he||!1,metadata:{}};return Dt.publish("addFont",{font:Ne,instance:this}),at[Ne.id]=Ne,Ll(Ne),Ne.id},Mn=p.__private__.pdfEscape=p.pdfEscape=function(y,R){return function(J,Ae){var he,Ne,Le,$e,st,yt,St,qt,br;if(Le=(Ae=Ae||{}).sourceEncoding||"Unicode",st=Ae.outputEncoding,(Ae.autoencode||st)&&at[Ze].metadata&&at[Ze].metadata[Le]&&at[Ze].metadata[Le].encoding&&($e=at[Ze].metadata[Le].encoding,!st&&at[Ze].encoding&&(st=at[Ze].encoding),!st&&$e.codePages&&(st=$e.codePages[0]),typeof st=="string"&&(st=$e[st]),st)){for(St=!1,yt=[],he=0,Ne=J.length;he<Ne;he++)(qt=st[J.charCodeAt(he)])?yt.push(String.fromCharCode(qt)):yt.push(J[he]),yt[he].charCodeAt(0)>>8&&(St=!0);J=yt.join("")}for(he=J.length;St===void 0&&he!==0;)J.charCodeAt(he-1)>>8&&(St=!0),he--;if(!St)return J;for(yt=Ae.noBOM?[]:[254,255],he=0,Ne=J.length;he<Ne;he++){if((br=(qt=J.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yt.push(br),yt.push(qt-(br<<8))}return String.fromCharCode.apply(void 0,yt)}(y,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hs=p.__private__.beginPage=function(y){Qe[++sr]=[],vt[sr]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},kl(sr),Ce(Qe[X])},uo=function(y,R){var J,Ae,he;switch(r=R||r,typeof y=="string"&&(J=w(y.toLowerCase()),Array.isArray(J)&&(Ae=J[0],he=J[1])),Array.isArray(y)&&(Ae=y[0]*wt,he=y[1]*wt),isNaN(Ae)&&(Ae=i[0],he=i[1]),(Ae>14400||he>14400)&&(Cr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),he=Math.min(14400,he)),i=[Ae,he],r.substr(0,1)){case"l":he>Ae&&(i=[he,Ae]);break;case"p":Ae>he&&(i=[he,Ae])}hs(i),MA(fo),ne(AA),wr!==0&&ne(wr+" J"),Kl!==0&&ne(Kl+" j"),Dt.publish("addPage",{pageNumber:sr})},Pl=function(y){y>0&&y<=sr&&(Qe.splice(y,1),vt.splice(y,1),sr--,X>sr&&(X=sr),this.setPage(X))},kl=function(y){y>0&&y<=sr&&(X=y)},Rl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Qe.length-1},Dl=function(y,R,J){var Ae,he=void 0;return J=J||{},y=y!==void 0?y:at[Ze].fontName,R=R!==void 0?R:at[Ze].fontStyle,Ae=y.toLowerCase(),Ct[Ae]!==void 0&&Ct[Ae][R]!==void 0?he=Ct[Ae][R]:Ct[y]!==void 0&&Ct[y][R]!==void 0?he=Ct[y][R]:J.disableWarning===!1&&Cr.warn("Unable to look up font label for font '"+y+"', '"+R+"'. Refer to getFontList() for available fonts."),he||J.noFallback||(he=Ct.times[R])==null&&(he=Ct.times.normal),he},kA=p.__private__.putInfo=function(){var y=Dr(),R=function(Ae){return Ae};for(var J in u!==null&&(R=lr.encryptor(y,0)),ne("<<"),ne("/Producer ("+Mn(R("jsPDF "+ut.version))+")"),At)At.hasOwnProperty(J)&&At[J]&&ne("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+Mn(R(At[J]))+")");ne("/CreationDate ("+Mn(R(oe))+")"),ne(">>"),ne("endobj")},Ol=p.__private__.putCatalog=function(y){var R=(y=y||{}).rootDictionaryObjId||UA;switch(Dr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+R+" 0 R"),ve||(ve="fullwidth"),ve){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+ve;J.substr(J.length-1)==="%"&&(ve=parseInt(ve)/100),typeof ve=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+S(ve)+"]")}switch(tt||(tt="continuous"),tt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}je&&ne("/PageMode /"+je),Dt.publish("putCatalog"),ne(">>"),ne("endobj")},Xr=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(re+1)),ne("/Root "+re+" 0 R"),ne("/Info "+(re-1)+" 0 R"),u!==null&&ne("/Encrypt "+lr.oid+" 0 R"),ne("/ID [ <"+le+"> <"+le+"> ]"),ne(">>")},Ml=p.__private__.putHeader=function(){ne("%PDF-"+_),ne("%")},Xu=p.__private__.putXRef=function(){var y="0000000000";ne("xref"),ne("0 "+(re+1)),ne("0000000000 65535 f ");for(var R=1;R<=re;R++)typeof ae[R]=="function"?ne((y+ae[R]()).slice(-10)+" 00000 n "):ae[R]!==void 0?ne((y+ae[R]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},iA=p.__private__.buildDocument=function(){var y;re=0,Be=0,_e=[],ae=[],xe=[],UA=Cn(),ci=Cn(),Ce(_e),Dt.publish("buildDocument"),Ml(),cs(),function(){Dt.publish("putAdditionalObjects");for(var J=0;J<xe.length;J++){var Ae=xe[J];Or(Ae.objId,!0),ne(Ae.content),ne("endobj")}Dt.publish("postPutAdditionalObjects")}(),y=[],function(){for(var J in at)at.hasOwnProperty(J)&&(d===!1||d===!0&&m.hasOwnProperty(J))&&nA(at[J])}(),function(){var J;for(J in Ft)Ft.hasOwnProperty(J)&&jh(Ft[J])}(),function(){for(var J in ln)ln.hasOwnProperty(J)&&LA(ln[J])}(),function(J){var Ae;for(Ae in mt)mt.hasOwnProperty(Ae)&&(mt[Ae]instanceof Wo?pa(mt[Ae]):mt[Ae]instanceof du&&ga(mt[Ae],J))}(y),Dt.publish("putResources"),y.forEach(PA),PA({resourcesOid:ci,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources"),u!==null&&(lr.oid=Dr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+lr.v),ne("/R "+lr.r),ne("/U <"+lr.toHexString(lr.U)+">"),ne("/O <"+lr.toHexString(lr.O)+">"),ne("/P "+lr.P),ne(">>"),ne("endobj")),kA(),Ol();var R=Be;return Xu(),Xr(),ne("startxref"),ne(""+R),ne("%%EOF"),Ce(Qe[X]),_e.join(`
`)},RA=p.__private__.getBlob=function(y){return new Blob([xt(y)],{type:"application/pdf"})},Gi=p.output=p.__private__.output=(On=function(y,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",y){case void 0:return iA();case"save":p.save(R.filename);break;case"arraybuffer":return xt(iA());case"blob":return RA(iA());case"bloburi":case"bloburl":if(bt.URL!==void 0&&typeof bt.URL.createObjectURL=="function")return bt.URL&&bt.URL.createObjectURL(RA(iA()))||void 0;Cr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",Ae=iA();try{J=ZI(Ae)}catch{J=ZI(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+R.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(he=R.pdfObjectUrl,Ne="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",$e=bt.open();return $e!==null&&$e.document.write(Le),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',yt=bt.open();if(yt!==null){yt.document.write(st);var St=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=R.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(St.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',br=bt.open();if(br!==null&&(br.document.write(qt),br.document.title=R.filename),br||typeof safari>"u")return br;break;case"datauri":case"dataurl":return bt.document.location.href=this.output("datauristring",R);default:return null}},On.foo=function(){try{return On.apply(this,arguments)}catch(J){var y=J.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var R="Error in function "+y.split(`
`)[0].split("<")[0]+": "+J.message;if(!bt.console)throw new Error(R);bt.console.error(R,J),bt.alert&&alert(R)}},On.foo.bar=On,On.foo),ma=function(y){return Array.isArray(TA)===!0&&TA.indexOf(y)>-1};switch(n){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=ma("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);wt=n}var lr=null;pe(),K();var Ni=p.__private__.getPageInfo=p.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[y].objId,pageNumber:y,pageContext:vt[y]}},co=p.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in vt)if(vt[R].objId===y)break;return Ni(R)},ho=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:vt[X].objId,pageNumber:X,pageContext:vt[X]}};p.addPage=function(){return uo.apply(this,arguments),this},p.setPage=function(){return kl.apply(this,arguments),Ce.call(this,Qe[X]),this},p.insertPage=function(y){return this.addPage(),this.movePage(X,y),this},p.movePage=function(y,R){var J,Ae;if(y>R){J=Qe[y],Ae=vt[y];for(var he=y;he>R;he--)Qe[he]=Qe[he-1],vt[he]=vt[he-1];Qe[R]=J,vt[R]=Ae,this.setPage(R)}else if(y<R){J=Qe[y],Ae=vt[y];for(var Ne=y;Ne<R;Ne++)Qe[Ne]=Qe[Ne+1],vt[Ne]=vt[Ne+1];Qe[R]=J,vt[R]=Ae,this.setPage(R)}return this},p.deletePage=function(){return Pl.apply(this,arguments),this},p.__private__.text=p.text=function(y,R,J,Ae,he){var Ne,Le,$e,st,yt,St,qt,br,Ur,Ar=(Ae=Ae||{}).scope||this;if(typeof y=="number"&&typeof R=="number"&&(typeof J=="string"||Array.isArray(J))){var tn=J;J=R,R=y,y=tn}if(arguments[3]instanceof gt==0?($e=arguments[4],st=arguments[5],pr(qt=arguments[3])==="object"&&qt!==null||(typeof $e=="string"&&(st=$e,$e=null),typeof qt=="string"&&(st=qt,qt=null),typeof qt=="number"&&($e=qt,qt=null),Ae={flags:qt,angle:$e,align:st})):(x("The transform parameter of text() with a Matrix value"),Ur=he),isNaN(R)||isNaN(J)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Ar;var yr,bn="",Ds=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:OA,aA=Ar.internal.scaleFactor;function Zu(Er){return Er=Er.split("	").join(Array(Ae.TabLen||9).join(" ")),Mn(Er,qt)}function Ca(Er){for(var xr,dn=Er.concat(),fn=[],Ea=dn.length;Ea--;)typeof(xr=dn.shift())=="string"?fn.push(xr):Array.isArray(Er)&&(xr.length===1||xr[1]===void 0&&xr[2]===void 0)?fn.push(xr[0]):fn.push([xr[0],xr[1],xr[2]]);return fn}function cn(Er,xr){var dn;if(typeof Er=="string")dn=xr(Er)[0];else if(Array.isArray(Er)){for(var fn,Ea,nc=Er.concat(),$A=[],Jh=nc.length;Jh--;)typeof(fn=nc.shift())=="string"?$A.push(xr(fn)[0]):Array.isArray(fn)&&typeof fn[0]=="string"&&(Ea=xr(fn[0],fn[1],fn[2]),$A.push([Ea[0],Ea[1],Ea[2]]));dn=$A}return dn}var Wi=!1,yo=!0;if(typeof y=="string")Wi=!0;else if(Array.isArray(y)){var fs=y.concat();Le=[];for(var h,C=fs.length;C--;)(typeof(h=fs.shift())!="string"||Array.isArray(h)&&typeof h[0]!="string")&&(yo=!1);Wi=yo}if(Wi===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var P=ke/Ar.internal.scaleFactor,q=P*(Ds-1);switch(Ae.baseline){case"bottom":J-=q;break;case"top":J+=P-q;break;case"hanging":J+=P-2*q;break;case"middle":J+=P/2-q}if((St=Ae.maxWidth||0)>0&&(typeof y=="string"?y=Ar.splitTextToSize(y,St):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(Er,xr){return Er.concat(Ar.splitTextToSize(xr,St))},[]))),Ne={text:y,x:R,y:J,options:Ae,mutex:{pdfEscape:Mn,activeFontKey:Ze,fonts:at,activeFontSize:ke}},Dt.publish("preProcessText",Ne),y=Ne.text,$e=(Ae=Ne.options).angle,Ur instanceof gt==0&&$e&&typeof $e=="number"){$e*=Math.PI/180,Ae.rotationDirection===0&&($e=-$e),U===I&&($e=-$e);var fe=Math.cos($e),be=Math.sin($e);Ur=new gt(fe,be,-be,fe,0,0)}else $e&&$e instanceof gt&&(Ur=$e);U!==I||Ur||(Ur=Ps),(yt=Ae.charSpace||va)!==void 0&&(bn+=F(Q(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(br=Ae.horizontalScale)!==void 0&&(bn+=F(100*br)+` Tz
`),Ae.lang;var Re=-1,tr=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Mr=Ar.internal.getCurrentPageInfo().pageContext;switch(tr){case 0:case!1:case"fill":Re=0;break;case 1:case!0:case"stroke":Re=1;break;case 2:case"fillThenStroke":Re=2;break;case 3:case"invisible":Re=3;break;case 4:case"fillAndAddForClipping":Re=4;break;case 5:case"strokeAndAddPathForClipping":Re=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Re=6;break;case 7:case"addToPathForClipping":Re=7}var Ot=Mr.usedRenderingMode!==void 0?Mr.usedRenderingMode:-1;Re!==-1?bn+=Re+` Tr
`:Ot!==-1&&(bn+=`0 Tr
`),Re!==-1&&(Mr.usedRenderingMode=Re),st=Ae.align||"left";var jt,ur=ke*Ds,Os=Ar.internal.pageSize.getWidth(),$n=at[Ze];yt=Ae.charSpace||va,St=Ae.maxWidth||0,qt=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var ps=[],KA=function(Er){return Ar.getStringUnitWidth(Er,{font:$n,charSpace:yt,fontSize:ke,doKerning:!1})*ke/aA};if(Object.prototype.toString.call(y)==="[object Array]"){var $i;Le=Ca(y),st!=="left"&&(jt=Le.map(KA));var Xi,Gl=0;if(st==="right"){R-=jt[0],y=[],C=Le.length;for(var GA=0;GA<C;GA++)GA===0?(Xi=Hn(R),$i=sA(J)):(Xi=Q(Gl-jt[GA]),$i=-ur),y.push([Le[GA],Xi,$i]),Gl=jt[GA]}else if(st==="center"){R-=jt[0]/2,y=[],C=Le.length;for(var vo=0;vo<C;vo++)vo===0?(Xi=Hn(R),$i=sA(J)):(Xi=Q((Gl-jt[vo])/2),$i=-ur),y.push([Le[vo],Xi,$i]),Gl=jt[vo]}else if(st==="left"){y=[],C=Le.length;for(var $h=0;$h<C;$h++)y.push(Le[$h])}else if(st==="justify"&&$n.encoding==="Identity-H"){y=[],C=Le.length,St=St!==0?St:Os;for(var Bo=0,hn=0;hn<C;hn++)if($i=hn===0?sA(J):-ur,Xi=hn===0?Hn(R):Bo,hn<C-1){var jw=Q((St-jt[hn])/(Le[hn].split(" ").length-1)),qA=Le[hn].split(" ");y.push([qA[0]+" ",Xi,$i]),Bo=0;for(var zA=1;zA<qA.length;zA++){var ec=(KA(qA[zA-1]+" "+qA[zA])-KA(qA[zA]))*aA+jw;zA==qA.length-1?y.push([qA[zA],ec,0]):y.push([qA[zA]+" ",ec,0]),Bo-=ec}}else y.push([Le[hn],Xi,$i]);y.push(["",Bo,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],C=Le.length,St=St!==0?St:Os,hn=0;hn<C;hn++)$i=hn===0?sA(J):-ur,Xi=hn===0?Hn(R):0,hn<C-1?ps.push(F(Q((St-jt[hn])/(Le[hn].split(" ").length-1)))):ps.push(0),y.push([Le[hn],Xi,$i])}}(typeof Ae.R2L=="boolean"?Ae.R2L:Ge)===!0&&(y=cn(y,function(Er,xr,dn){return[Er.split("").reverse().join(""),xr,dn]})),Ne={text:y,x:R,y:J,options:Ae,mutex:{pdfEscape:Mn,activeFontKey:Ze,fonts:at,activeFontSize:ke}},Dt.publish("postProcessText",Ne),y=Ne.text,yr=Ne.mutex.isHex||!1;var Xh=at[Ze].encoding;Xh!=="WinAnsiEncoding"&&Xh!=="StandardEncoding"||(y=cn(y,function(Er,xr,dn){return[Zu(Er),xr,dn]})),Le=Ca(y),y=[];for(var tc,rc,ql,zl=Array.isArray(Le[0])?1:0,ba="",Yh=function(Er,xr,dn){var fn="";return dn instanceof gt?(dn=typeof Ae.angle=="number"?Tr(dn,new gt(1,0,0,1,Er,xr)):Tr(new gt(1,0,0,1,Er,xr),dn),U===I&&(dn=Tr(new gt(1,0,0,-1,0,0),dn)),fn=dn.join(" ")+` Tm
`):fn=F(Er)+" "+F(xr)+` Td
`,fn},gs=0;gs<Le.length;gs++){switch(ba="",zl){case 1:ql=(yr?"<":"(")+Le[gs][0]+(yr?">":")"),tc=parseFloat(Le[gs][1]),rc=parseFloat(Le[gs][2]);break;case 0:ql=(yr?"<":"(")+Le[gs]+(yr?">":")"),tc=Hn(R),rc=sA(J)}ps!==void 0&&ps[gs]!==void 0&&(ba=ps[gs]+` Tw
`),gs===0?y.push(ba+Yh(tc,rc,Ur)+ql):zl===0?y.push(ba+ql):zl===1&&y.push(ba+Yh(tc,rc,Ur)+ql)}y=zl===0?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var WA=`BT
/`;return WA+=Ze+" "+ke+` Tf
`,WA+=F(ke*Ds)+` TL
`,WA+=ds+`
`,WA+=bn,WA+=y,ne(WA+="ET"),m[Ze]=!0,Ar};var Yu=p.__private__.clip=p.clip=function(y){return ne(y==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Yu("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var Ht=p.__private__.isValidStyle=function(y){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(R=!0),R};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(y){return Ht(y)&&(l=y),this};var wa=p.__private__.getStyle=p.getStyle=function(y){var R=l;switch(y){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=y}return R},DA=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(y){return qi("f",y),this},p.fillEvenOdd=function(y){return qi("f*",y),this},p.fillStroke=function(y){return qi("B",y),this},p.fillStrokeEvenOdd=function(y){return qi("B*",y),this};var qi=function(y,R){pr(R)==="object"?Vh(R,y):ne(y)},Hl=function(y){y===null||U===I&&y===void 0||(y=wa(y),ne(y))};function Ju(y,R,J,Ae,he){var Ne=new du(R||this.boundingBox,J||this.xStep,Ae||this.yStep,this.gState,he||this.matrix);Ne.stream=this.stream;var Le=y+"$$"+this.cloneIndex+++"$$";return Dn(Le,Ne),Ne}var Vh=function(y,R){var J=kt[y.key],Ae=mt[J];if(Ae instanceof Wo)ne("q"),ne(Kh(R)),Ae.gState&&p.setGState(Ae.gState),ne(y.matrix.toString()+" cm"),ne("/"+J+" sh"),ne("Q");else if(Ae instanceof du){var he=new gt(1,0,0,-1,0,Ui());y.matrix&&(he=he.multiply(y.matrix||Ps),J=Ju.call(Ae,y.key,y.boundingBox,y.xStep,y.yStep,he).id),ne("q"),ne("/Pattern cs"),ne("/"+J+" scn"),Ae.gState&&p.setGState(Ae.gState),ne(R),ne("Q")}},Kh=function(y){switch(y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jl=p.moveTo=function(y,R){return ne(F(Q(y))+" "+F(z(R))+" m"),this},ya=p.lineTo=function(y,R){return ne(F(Q(y))+" "+F(z(R))+" l"),this},zi=p.curveTo=function(y,R,J,Ae,he,Ne){return ne([F(Q(y)),F(z(R)),F(Q(J)),F(z(Ae)),F(Q(he)),F(z(Ne)),"c"].join(" ")),this};p.__private__.line=p.line=function(y,R,J,Ae,he){if(isNaN(y)||isNaN(R)||isNaN(J)||isNaN(Ae)||!Ht(he))throw new Error("Invalid arguments passed to jsPDF.line");return U===b?this.lines([[J-y,Ae-R]],y,R,[1,1],he||"S"):this.lines([[J-y,Ae-R]],y,R,[1,1]).stroke()},p.__private__.lines=p.lines=function(y,R,J,Ae,he,Ne){var Le,$e,st,yt,St,qt,br,Ur,Ar,tn,yr,bn;if(typeof y=="number"&&(bn=J,J=R,R=y,y=bn),Ae=Ae||[1,1],Ne=Ne||!1,isNaN(R)||isNaN(J)||!Array.isArray(y)||!Array.isArray(Ae)||!Ht(he)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jl(R,J),Le=Ae[0],$e=Ae[1],yt=y.length,tn=R,yr=J,st=0;st<yt;st++)(St=y[st]).length===2?(tn=St[0]*Le+tn,yr=St[1]*$e+yr,ya(tn,yr)):(qt=St[0]*Le+tn,br=St[1]*$e+yr,Ur=St[2]*Le+tn,Ar=St[3]*$e+yr,tn=St[4]*Le+tn,yr=St[5]*$e+yr,zi(qt,br,Ur,Ar,tn,yr));return Ne&&DA(),Hl(he),this},p.path=function(y){for(var R=0;R<y.length;R++){var J=y[R],Ae=J.c;switch(J.op){case"m":jl(Ae[0],Ae[1]);break;case"l":ya(Ae[0],Ae[1]);break;case"c":zi.apply(this,Ae);break;case"h":DA()}}return this},p.__private__.rect=p.rect=function(y,R,J,Ae,he){if(isNaN(y)||isNaN(R)||isNaN(J)||isNaN(Ae)||!Ht(he))throw new Error("Invalid arguments passed to jsPDF.rect");return U===b&&(Ae=-Ae),ne([F(Q(y)),F(z(R)),F(Q(J)),F(Q(Ae)),"re"].join(" ")),Hl(he),this},p.__private__.triangle=p.triangle=function(y,R,J,Ae,he,Ne,Le){if(isNaN(y)||isNaN(R)||isNaN(J)||isNaN(Ae)||isNaN(he)||isNaN(Ne)||!Ht(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-y,Ae-R],[he-J,Ne-Ae],[y-he,R-Ne]],y,R,[1,1],Le,!0),this},p.__private__.roundedRect=p.roundedRect=function(y,R,J,Ae,he,Ne,Le){if(isNaN(y)||isNaN(R)||isNaN(J)||isNaN(Ae)||isNaN(he)||isNaN(Ne)||!Ht(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*J),Ne=Math.min(Ne,.5*Ae),this.lines([[J-2*he,0],[he*$e,0,he,Ne-Ne*$e,he,Ne],[0,Ae-2*Ne],[0,Ne*$e,-he*$e,Ne,-he,Ne],[2*he-J,0],[-he*$e,0,-he,-Ne*$e,-he,-Ne],[0,2*Ne-Ae],[0,-Ne*$e,he*$e,-Ne,he,-Ne]],y+he,R,[1,1],Le,!0),this},p.__private__.ellipse=p.ellipse=function(y,R,J,Ae,he){if(isNaN(y)||isNaN(R)||isNaN(J)||isNaN(Ae)||!Ht(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*J,Le=4/3*(Math.SQRT2-1)*Ae;return jl(y+J,R),zi(y+J,R-Le,y+Ne,R-Ae,y,R-Ae),zi(y-Ne,R-Ae,y-J,R-Le,y-J,R),zi(y-J,R+Le,y-Ne,R+Ae,y,R+Ae),zi(y+Ne,R+Ae,y+J,R+Le,y+J,R),Hl(he),this},p.__private__.circle=p.circle=function(y,R,J,Ae){if(isNaN(y)||isNaN(R)||isNaN(J)||!Ht(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,R,J,J,Ae)},p.setFont=function(y,R,J){return J&&(R=L(R,J)),Ze=Dl(y,R,{disableWarning:!1}),this};var ks=p.__private__.getFont=p.getFont=function(){return at[Dl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var y,R,J={};for(y in Ct)if(Ct.hasOwnProperty(y))for(R in J[y]=[],Ct[y])Ct[y].hasOwnProperty(R)&&J[y].push(R);return J},p.addFont=function(y,R,J,Ae,he){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(J=L(J,Ae)),lo.call(this,y,R,J,he=he||"Identity-H")};var OA,fo=t.lineWidth||.200025,Bt=p.__private__.getLineWidth=p.getLineWidth=function(){return fo},MA=p.__private__.setLineWidth=p.setLineWidth=function(y){return fo=y,ne(F(Q(y))+" w"),this};p.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(y,R){if(y=y||[],R=R||0,isNaN(R)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(J){return F(Q(J))}).join(" "),R=F(Q(R)),ne("["+y+"] "+R+" d"),this};var Gh=p.__private__.getLineHeight=p.getLineHeight=function(){return ke*OA};p.__private__.getLineHeight=p.getLineHeight=function(){return ke*OA};var qh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(OA=y),this},zh=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return OA};qh(t.lineHeight);var Hn=p.__private__.getHorizontalCoordinate=function(y){return Q(y)},sA=p.__private__.getVerticalCoordinate=function(y){return U===I?y:vt[X].mediaBox.topRightY-vt[X].mediaBox.bottomLeftY-Q(y)},Wh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(y){return F(Hn(y))},po=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(y){return F(sA(y))},AA=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return us(AA)},p.__private__.setStrokeColor=p.setDrawColor=function(y,R,J,Ae){return AA=Si({ch1:y,ch2:R,ch3:J,ch4:Ae,pdfColorType:"draw",precision:2}),ne(AA),this};var go=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return us(go)},p.__private__.setFillColor=p.setFillColor=function(y,R,J,Ae){return go=Si({ch1:y,ch2:R,ch3:J,ch4:Ae,pdfColorType:"fill",precision:2}),ne(go),this};var ds=t.textColor||"0 g",Rs=p.__private__.getTextColor=p.getTextColor=function(){return us(ds)};p.__private__.setTextColor=p.setTextColor=function(y,R,J,Ae){return ds=Si({ch1:y,ch2:R,ch3:J,ch4:Ae,pdfColorType:"text",precision:3}),this};var va=t.charSpace,Vl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(va||0)};p.__private__.setCharSpace=p.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return va=y,this};var wr=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(y){var R=p.CapJoinStyles[y];if(R===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wr=R,ne(R+" J"),this};var Kl=0;p.__private__.setLineJoin=p.setLineJoin=function(y){var R=p.CapJoinStyles[y];if(R===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kl=R,ne(R+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(F(Q(y))+" M"),this},p.GState=Ap,p.setGState=function(y){(y=typeof y=="string"?Ft[Rr[y]]:Ba(null,y)).equals(Nr)||(ne("/"+y.id+" gs"),Nr=y)};var Ba=function(y,R){if(!y||!Rr[y]){var J=!1;for(var Ae in Ft)if(Ft.hasOwnProperty(Ae)&&Ft[Ae].equals(R)){J=!0;break}if(J)R=Ft[Ae];else{var he="GS"+(Object.keys(Ft).length+1).toString(10);Ft[he]=R,R.id=he}return y&&(Rr[y]=R.id),Dt.publish("addGState",R),R}};p.addGState=function(y,R){return Ba(y,R),this},p.saveGraphicsState=function(){return ne("q"),or.push({key:Ze,size:ke,color:ds}),this},p.restoreGraphicsState=function(){ne("Q");var y=or.pop();return Ze=y.key,ke=y.size,ds=y.color,Nr=null,this},p.setCurrentTransformationMatrix=function(y){return ne(y.toString()+" cm"),this},p.comment=function(y){return ne("#"+y),this};var HA=function(y,R){var J=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Ne){isNaN(Ne)||(J=parseFloat(Ne))}});var Ae=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Ne){isNaN(Ne)||(Ae=parseFloat(Ne))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(Ne){he=Ne.toString()}}),this},mo=function(y,R,J,Ae){HA.call(this,y,R),this.type="rect";var he=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Le){isNaN(Le)||(he=parseFloat(Le))}});var Ne=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Le){isNaN(Le)||(Ne=parseFloat(Le))}}),this},_a=function(){this.page=sr,this.currentPage=X,this.pages=Qe.slice(0),this.pagesContext=vt.slice(0),this.x=dt,this.y=er,this.matrix=Wt,this.width=Ti(X),this.height=Ui(X),this.outputDestination=He,this.id="",this.objectNumber=-1};_a.prototype.restore=function(){sr=this.page,X=this.currentPage,vt=this.pagesContext,Qe=this.pages,dt=this.x,er=this.y,Wt=this.matrix,wo(X,this.width),di(X,this.height),He=this.outputDestination};var jA=function(y,R,J,Ae,he){ui.push(new _a),sr=X=0,Qe=[],dt=y,er=R,Wt=he,hs([J,Ae])};for(var VA in p.beginFormObject=function(y,R,J,Ae,he){return jA(y,R,J,Ae,he),this},p.endFormObject=function(y){return function(R){if(Ls[R])ui.pop().restore();else{var J=new _a,Ae="Xo"+(Object.keys(ln).length+1).toString(10);J.id=Ae,Ls[R]=Ae,ln[Ae]=J,Dt.publish("addFormObject",J),ui.pop().restore()}}(y),this},p.doFormObject=function(y,R){var J=ln[Ls[y]];return ne("q"),ne(R.toString()+" cm"),ne("/"+J.id+" Do"),ne("Q"),this},p.getFormObject=function(y){var R=ln[Ls[y]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},p.save=function(y,R){return y=y||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(nu(RA(iA()),y),typeof nu.unload=="function"&&bt.setTimeout&&setTimeout(nu.unload,911),this):new Promise(function(J,Ae){try{var he=nu(RA(iA()),y);typeof nu.unload=="function"&&bt.setTimeout&&setTimeout(nu.unload,911),J(he)}catch(Ne){Ae(Ne.message)}})},ut.API)ut.API.hasOwnProperty(VA)&&(VA==="events"&&ut.API.events.length?function(y,R){var J,Ae,he;for(he=R.length-1;he!==-1;he--)J=R[he][0],Ae=R[he][1],y.subscribe.apply(y,[J].concat(typeof Ae=="function"?[Ae]:Ae))}(Dt,ut.API.events):p[VA]=ut.API[VA]);var Ti=p.getPageWidth=function(y){return(vt[y=y||X].mediaBox.topRightX-vt[y].mediaBox.bottomLeftX)/wt},wo=p.setPageWidth=function(y,R){vt[y].mediaBox.topRightX=R*wt+vt[y].mediaBox.bottomLeftX},Ui=p.getPageHeight=function(y){return(vt[y=y||X].mediaBox.topRightY-vt[y].mediaBox.bottomLeftY)/wt},di=p.setPageHeight=function(y,R){vt[y].mediaBox.topRightY=R*wt+vt[y].mediaBox.bottomLeftY};return p.internal={pdfEscape:Mn,getStyle:wa,getFont:ks,getFontSize:Ue,getCharSpace:Vl,getTextColor:Rs,getLineHeight:Gh,getLineHeightFactor:zh,getLineWidth:Bt,write:Qt,getHorizontalCoordinate:Hn,getVerticalCoordinate:sA,getCoordinateString:Wh,getVerticalCoordinateString:po,collections:{},newObject:Dr,newAdditionalObject:fa,newObjectDeferred:Cn,newObjectDeferredBegin:Or,getFilters:hi,putStream:un,events:Dt,scaleFactor:wt,pageSize:{getWidth:function(){return Ti(X)},setWidth:function(y){wo(X,y)},getHeight:function(){return Ui(X)},setHeight:function(y){di(X,y)}},encryptionOptions:u,encryption:lr,getEncryptor:function(y){return u!==null?lr.encryptor(y,0):function(R){return R}},output:Gi,getNumberOfPages:Rl,pages:Qe,out:ne,f2:S,f3:T,getPageInfo:Ni,getPageInfoByObjId:co,getCurrentPageInfo:ho,getPDFVersion:E,Point:HA,Rectangle:mo,Matrix:gt,hasHotfix:ma},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ti(X)},set:function(y){wo(X,y)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ui(X)},set:function(y){di(X,y)},enumerable:!0,configurable:!0}),(function(y){for(var R=0,J=pt.length;R<J;R++){var Ae=lo.call(this,y[R][0],y[R][1],y[R][2],pt[R][3],!0);d===!1&&(m[Ae]=!0);var he=y[R][0].split("-");Ll({id:Ae,fontName:he[0],fontStyle:he[1]||""})}Dt.publish("addFonts",{fonts:at,dictionary:Ct})}).call(p,pt),Ze="F1",uo(i,r),Dt.publish("initialized"),p}Nc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Nc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Nc.prototype.processOwnerPassword=function(t,e){return O2(D2(e).substr(0,5),t)},Nc.prototype.encryptor=function(t,e){var r=D2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return O2(r,n)}},Ap.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||pr(t)!==pr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ut.API={events:[]},ut.version="3.0.2";var sn=ut.API,c5=1,$u=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nt=function(t){return t.toFixed(2)},Lo=function(t){return t.toFixed(5)};sn.__acroform__={};var ls=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},n4=function(t){return t*c5},ZA=function(t){var e=new RQ,r=nt.internal.getHeight(t)||0,n=nt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Nt(n)),Number(Nt(r))],e},OX=sn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},MX=sn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},HX=sn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},vn=sn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HX(t,e-1)},Bn=sn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return OX(t,e-1)},_n=sn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return MX(t,e-1)},jX=sn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],A=t[2],a=t[3],o={};return o.lowerLeft_X=r(i)||0,o.lowerLeft_Y=n(s+a)||0,o.upperRight_X=r(i+A)||0,o.upperRight_Y=n(s)||0,[Number(Nt(o.lowerLeft_X)),Number(Nt(o.lowerLeft_Y)),Number(Nt(o.upperRight_X)),Number(Nt(o.upperRight_Y))]},VX=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=M2(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Nt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ZA(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},M2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var s=r,A=nt.internal.getHeight(t)||0;A=A<0?-A:A;var a=nt.internal.getWidth(t)||0;a=a<0?-a:a;var o=function(S,T,Q){if(S+1<i.length){var z=T+" "+i[S+1][0];return Yg(z,t,Q).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var l,u,d=Yg("3",t,s).height,m=t.multiline?A-s:(A-d)/2,p=m+=2,_=0,E=0,B=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Yg(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",b=0,I=0;I<i.length;I++)if(i.hasOwnProperty(I)){var U=!1;if(i[I].length!==1&&B!==i[I].length-1){if((d+2)*(b+2)+2>A)continue e;w+=i[I][B],U=!0,E=I,I--}else{w=(w+=i[I][B]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var V=parseInt(I),O=o(V,w,s),L=I>=i.length-1;if(O&&!L){w+=" ",B=0;continue}if(O||L){if(L)E=V;else if(t.multiline&&(d+2)*(b+2)+2>A)continue e}else{if(!t.multiline||(d+2)*(b+2)+2>A)continue e;E=V}}for(var F="",x=_;x<=E;x++){var k=i[x];if(t.multiline){if(x===E){F+=k[B]+" ",B=(B+1)%k.length;continue}if(x===_){F+=k[k.length-1]+" ";continue}}F+=k[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,u=Yg(F,t,s).width,t.textAlign){case"right":l=a-u-2;break;case"center":l=(a-u)/2;break;default:l=2}e+=Nt(l)+" "+Nt(p)+` Td
`,e+="("+$u(F)+`) Tj
`,e+=-Nt(l)+` 0 Td
`,p=-(s+2),u=0,_=U?E:E+1,b++,w=""}break}return n.text=e,n.fontSize=s,n},Yg=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},KX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},GX=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},qX=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(SA.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(KX)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");c5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new DQ,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&GX(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var A in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var a=n[A],o=[],l=a.Rect;if(a.Rect&&(a.Rect=jX(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=nt.createDefaultAppearanceStream(a),pr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(o=a.getKeyValueListForStream()),a.Rect=l,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=VX(a);o.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(d+="/"+m+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var A in p)if(p.hasOwnProperty(A)){var _=p[A];typeof _=="function"&&(_=_.call(i,a)),d+="/"+A+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,a)),d+="/"+A+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);d+=">>"}o.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:o,objectId:a.objId}),i.internal.out("endobj")}s&&function(E,B){for(var w in E)if(E.hasOwnProperty(w)){var b=w,I=E[w];B.internal.newObjectDeferredBegin(I.objId,!0),pr(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete E[b]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},kQ=sn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(A){return A};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),pr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+$u(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fy=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+$u(n(t))+")"},sa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sa.prototype.toString=function(){return this.objId+" 0 R"},sa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},sa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:kQ(i,this.objId,this.scope)}):i instanceof sa?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var RQ=function(){sa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ls(RQ,sa);var DQ=function(){sa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+$u(r(t))+")"}},set:function(r){t=r}})};ls(DQ,sa);var SA=function t(){sa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vn(e,3)},set:function(w){w?this.F=Bn(e,3):this.F=_n(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof D0)return;s="FieldObject"+t.FieldNum++}var w=function(b){return b};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+$u(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(w){A=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/c5:l},set:function(w){l=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof D0||this instanceof wl))return Fy(d,this.objId,this.scope)},set:function(w){w=w.toString(),d=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Qn==0?Fy(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof Qn==0?w.substr(0,1)==="("?wc(w.substr(1,w.length-2)):wc(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn==1?wc(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Qn==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Qn==0?Fy(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof Qn==0?w.substr(0,1)==="("?wc(w.substr(1,w.length-2)):wc(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn==1?wc(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Qn==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(w){w=!!w,E=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,1)},set:function(w){w?this.Ff=Bn(this.Ff,1):this.Ff=_n(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,2)},set:function(w){w?this.Ff=Bn(this.Ff,2):this.Ff=_n(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,3)},set:function(w){w?this.Ff=Bn(this.Ff,3):this.Ff=_n(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');B=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(B){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};ls(SA,sa);var yu=function(){SA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kQ(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,A,a){a||(a=1);for(var o,l=[];o=A.exec(s);)l.push(o[a]);return l}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,18)},set:function(r){r?this.Ff=Bn(this.Ff,18):this.Ff=_n(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Bn(this.Ff,19):this.Ff=_n(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,20)},set:function(r){r?(this.Ff=Bn(this.Ff,20),e.sort()):this.Ff=_n(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,22)},set:function(r){r?this.Ff=Bn(this.Ff,22):this.Ff=_n(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(r){r?this.Ff=Bn(this.Ff,23):this.Ff=_n(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,27)},set:function(r){r?this.Ff=Bn(this.Ff,27):this.Ff=_n(this.Ff,27)}}),this.hasAppearanceStream=!1};ls(yu,SA);var vu=function(){yu.call(this),this.fontName="helvetica",this.combo=!1};ls(vu,yu);var Bu=function(){vu.call(this),this.combo=!0};ls(Bu,vu);var gf=function(){Bu.call(this),this.edit=!0};ls(gf,Bu);var Qn=function(){SA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,15)},set:function(r){r?this.Ff=Bn(this.Ff,15):this.Ff=_n(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,16)},set:function(r){r?this.Ff=Bn(this.Ff,16):this.Ff=_n(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,17)},set:function(r){r?this.Ff=Bn(this.Ff,17):this.Ff=_n(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(r){r?this.Ff=Bn(this.Ff,26):this.Ff=_n(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+$u(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){pr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ls(Qn,SA);var mf=function(){Qn.call(this),this.pushButton=!0};ls(mf,Qn);var _u=function(){Qn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ls(_u,Qn);var D0=function(){var t,e;SA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,A=[];for(s in A.push("<<"),n)A.push("/"+s+" ("+$u(i(n[s]))+")");return A.push(">>"),A.join(`
`)},set:function(i){pr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ls(D0,SA),_u.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},_u.prototype.createOption=function(t){var e=new D0;return e.Parent=this,e.optionName=t,this.Kids.push(e),zX.call(this.scope,e),e};var wf=function(){Qn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};ls(wf,Qn);var wl=function(){SA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,13)},set:function(e){e?this.Ff=Bn(this.Ff,13):this.Ff=_n(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,21)},set:function(e){e?this.Ff=Bn(this.Ff,21):this.Ff=_n(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(e){e?this.Ff=Bn(this.Ff,23):this.Ff=_n(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,24)},set:function(e){e?this.Ff=Bn(this.Ff,24):this.Ff=_n(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,25)},set:function(e){e?this.Ff=Bn(this.Ff,25):this.Ff=_n(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(e){e?this.Ff=Bn(this.Ff,26):this.Ff=_n(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ls(wl,SA);var yf=function(){wl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,14)},set:function(t){t?this.Ff=Bn(this.Ff,14):this.Ff=_n(this.Ff,14)}}),this.password=!0};ls(yf,wl);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ZA(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=M2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Nt(nt.internal.getWidth(t))+" "+Nt(nt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Nt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ZA(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=nt.internal.getHeight(t),A=nt.internal.getWidth(t),a=M2(t,t.caption);return i.push("1 g"),i.push("0 0 "+Nt(A)+" "+Nt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Nt(A-1)+" "+Nt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Nt(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ZA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(nt.internal.getWidth(t))+" "+Nt(nt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=nt.RadioButton.Circle.YesNormal,e.D[t]=nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ZA(t);e.scope=t.scope;var r=[],n=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=nt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Lo(nt.internal.getWidth(t)/2)+" "+Lo(nt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ZA(t);e.scope=t.scope;var r=[],n=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*nt.internal.Bezier_C).toFixed(5)),A=Number((n*nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Lo(nt.internal.getWidth(t)/2)+" "+Lo(nt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Lo(nt.internal.getWidth(t)/2)+" "+Lo(nt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ZA(t);e.scope=t.scope;var r=[],n=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Lo(nt.internal.getWidth(t)/2)+" "+Lo(nt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=nt.RadioButton.Cross.YesNormal,e.D[t]=nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ZA(t);e.scope=t.scope;var r=[],n=nt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Nt(nt.internal.getWidth(t)-2)+" "+Nt(nt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Nt(n.x1.x)+" "+Nt(n.x1.y)+" m"),r.push(Nt(n.x2.x)+" "+Nt(n.x2.y)+" l"),r.push(Nt(n.x4.x)+" "+Nt(n.x4.y)+" m"),r.push(Nt(n.x3.x)+" "+Nt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ZA(t);e.scope=t.scope;var r=nt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(nt.internal.getWidth(t))+" "+Nt(nt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Nt(nt.internal.getWidth(t)-2)+" "+Nt(nt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Nt(r.x1.x)+" "+Nt(r.x1.y)+" m"),n.push(Nt(r.x2.x)+" "+Nt(r.x2.y)+" l"),n.push(Nt(r.x4.x)+" "+Nt(r.x4.y)+" m"),n.push(Nt(r.x3.x)+" "+Nt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ZA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(nt.internal.getWidth(t))+" "+Nt(nt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};nt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=nt.internal.getWidth(t),r=nt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},nt.internal.getWidth=function(t){var e=0;return pr(t)==="object"&&(e=n4(t.Rect[2])),e},nt.internal.getHeight=function(t){var e=0;return pr(t)==="object"&&(e=n4(t.Rect[3])),e};var zX=sn.addField=function(t){if(qX(this,t),!(t instanceof SA))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};sn.AcroFormChoiceField=yu,sn.AcroFormListBox=vu,sn.AcroFormComboBox=Bu,sn.AcroFormEditBox=gf,sn.AcroFormButton=Qn,sn.AcroFormPushButton=mf,sn.AcroFormRadioButton=_u,sn.AcroFormCheckBox=wf,sn.AcroFormTextField=wl,sn.AcroFormPasswordField=yf,sn.AcroFormAppearance=nt,sn.AcroForm={ChoiceField:yu,ListBox:vu,ComboBox:Bu,EditBox:gf,Button:Qn,PushButton:mf,RadioButton:_u,CheckBox:wf,TextField:wl,PasswordField:yf,Appearance:nt},ut.AcroForm={ChoiceField:yu,ListBox:vu,ComboBox:Bu,EditBox:gf,Button:Qn,PushButton:mf,RadioButton:_u,CheckBox:wf,TextField:wl,PasswordField:yf,Appearance:nt};var WX=ut.AcroForm;function OQ(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(S,T){var Q,z,oe,le,ie,K=r;if((T=T||r)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(O(S))for(ie in n)for(oe=n[ie],Q=0;Q<oe.length;Q+=1){for(le=!0,z=0;z<oe[Q].length;z+=1)if(oe[Q][z]!==void 0&&oe[Q][z]!==S[z]){le=!1;break}if(le===!0){K=ie;break}}else for(ie in n)for(oe=n[ie],Q=0;Q<oe.length;Q+=1){for(le=!0,z=0;z<oe[Q].length;z+=1)if(oe[Q][z]!==void 0&&oe[Q][z]!==S.charCodeAt(z)){le=!1;break}if(le===!0){K=ie;break}}return K===r&&T!==r&&(K=T),K},s=function S(T){for(var Q=this.internal.write,z=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:T.width}),le.push({key:"Height",value:T.height}),T.colorSpace===w.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===w.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var ie="",K=0,se=T.transparency.length;K<se;K++)ie+=T.transparency[K]+" "+T.transparency[K]+" ";le.push({key:"Mask",value:"["+ie+"]"})}T.sMask!==void 0&&le.push({key:"SMask",value:T.objectId+1+" 0 R"});var de=T.filter!==void 0?["/"+T.filter]:void 0;if(z({data:T.data,additionalKeyValues:le,alreadyAppliedFilters:de,objectId:T.objectId}),Q("endobj"),"sMask"in T&&T.sMask!==void 0){var pe=(T.predictor!=null?"/Predictor "+T.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+T.width,M={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:pe,data:T.sMask};"filter"in T&&(M.filter=T.filter),S.call(this,M)}if(T.colorSpace===w.INDEXED){var X=this.internal.newObject();z({data:F(new Uint8Array(T.palette)),objectId:X}),Q("endobj")}},A=function(){var S=this.internal.collections[e+"images"];for(var T in S)s.call(this,S[T])},a=function(){var S,T=this.internal.collections[e+"images"],Q=this.internal.write;for(var z in T)Q("/I"+(S=T[z]).index,S.objectId,"0","R")},o=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",A),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var S=this.internal.collections[e+"images"];return o.call(this),S},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(S){return typeof t["process"+S.toUpperCase()]=="function"},m=function(S){return pr(S)==="object"&&S.nodeType===1},p=function(S,T){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var Q=""+S.getAttribute("src");if(Q.indexOf("data:image/")===0)return Lm(unescape(Q).split("base64,").pop());var z=t.loadFile(Q,!0);if(z!==void 0)return z}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var oe;switch(T){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return Lm(S.toDataURL(oe,1).split("base64,").pop())}},_=function(S){var T=this.internal.collections[e+"images"];if(T){for(var Q in T)if(S===T[Q].alias)return T[Q]}},E=function(S,T,Q){return S||T||(S=-96,T=-96),S<0&&(S=-1*Q.width*72/S/this.internal.scaleFactor),T<0&&(T=-1*Q.height*72/T/this.internal.scaleFactor),S===0&&(S=T*Q.width/Q.height),T===0&&(T=S*Q.height/Q.width),[S,T]},B=function(S,T,Q,z,oe,le){var ie=E.call(this,Q,z,oe),K=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,de=l.call(this);if(Q=ie[0],z=ie[1],de[oe.index]=oe,le){le*=Math.PI/180;var pe=Math.cos(le),M=Math.sin(le),X=function($){return $.toFixed(4)},te=[X(pe),X(M),X(-1*M),X(pe),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,K(S),se(T+z),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([K(Q),"0","0",K(z),"0","0","cm"].join(" "))):this.internal.write([K(Q),"0","0",K(z),K(S),se(T+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(S){var T,Q,z=0;if(typeof S=="string")for(Q=S.length,T=0;T<Q;T++)z=(z<<5)-z+S.charCodeAt(T),z|=0;else if(O(S))for(Q=S.byteLength/2,T=0;T<Q;T++)z=(z<<5)-z+S[T],z|=0;return z},U=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var T=!0;return S.length===0&&(T=!1),S.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(T=!1),T},V=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var T=S.indexOf(",");return T<0?null:S.substring(0,T).trim().endsWith("base64")?S.substring(T+1):null};t.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},L=t.__addimage__.binaryStringToUint8Array=function(S){for(var T=S.length,Q=new Uint8Array(T),z=0;z<T;z++)Q[z]=S.charCodeAt(z);return Q},F=t.__addimage__.arrayBufferToBinaryString=function(S){for(var T="",Q=O(S)?S:new Uint8Array(S),z=0;z<Q.length;z+=8192)T+=String.fromCharCode.apply(null,Q.subarray(z,z+8192));return T};t.addImage=function(){var S,T,Q,z,oe,le,ie,K,se;if(typeof arguments[1]=="number"?(T=r,Q=arguments[1],z=arguments[2],oe=arguments[3],le=arguments[4],ie=arguments[5],K=arguments[6],se=arguments[7]):(T=arguments[1],Q=arguments[2],z=arguments[3],oe=arguments[4],le=arguments[5],ie=arguments[6],K=arguments[7],se=arguments[8]),pr(S=arguments[0])==="object"&&!m(S)&&"imageData"in S){var de=S;S=de.imageData,T=de.format||T||r,Q=de.x||Q||0,z=de.y||z||0,oe=de.w||de.width||oe,le=de.h||de.height||le,ie=de.alias||ie,K=de.compression||K,se=de.rotation||de.angle||se}var pe=this.internal.getFilters();if(K===void 0&&pe.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(Q)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var M=x.call(this,S,T,ie,K);return B.call(this,Q,z,oe,le,M,se),this};var x=function(S,T,Q,z){var oe,le,ie;if(typeof S=="string"&&i(S)===r){S=unescape(S);var K=k(S,!1);(K!==""||(K=t.loadFile(S,!0))!==void 0)&&(S=K)}if(m(S)&&(S=p(S,T)),T=i(S,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ie=Q)==null||ie.length===0)&&(Q=function(se){return typeof se=="string"||O(se)?I(se):O(se.data)?I(se.data):null}(S)),(oe=_.call(this,Q))||(S instanceof Uint8Array||T==="RGBA"||(le=S,S=L(S)),oe=this["process"+T.toUpperCase()](S,u.call(this),Q,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in t.image_compression?se:b.NONE}(z),le)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},k=t.__addimage__.convertBase64ToBinaryString=function(S,T){T=typeof T!="boolean"||T;var Q,z="";if(typeof S=="string"){var oe;Q=(oe=V(S))!==null&&oe!==void 0?oe:S;try{z=Lm(Q)}catch(le){if(T)throw U(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(S){var T,Q,z="";if(m(S)&&(S=p(S)),typeof S=="string"&&i(S)===r&&((z=k(S,!1))===""&&(z=t.loadFile(S)||""),S=z),Q=i(S),!d(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(S instanceof Uint8Array||(S=L(S)),!(T=this["process"+Q.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=Q,T}})(ut.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ut.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,A=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(r.objId),l=r.pageContext.annotations,u=!1,d=0;d<l.length&&!u;d++)switch((n=l[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<l.length;m++){n=l[m];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(E.objId),b=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+A(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+p(w(n.contents))+")",s+=" /Popup "+B.objId+" 0 R",s+=" /P "+o.objId+" 0 R",s+=" /T ("+p(w(b))+") >>",E.content=s;var I=E.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+A(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+I,n.open&&(s+=" /Open true"),s+=" >>",B.content=s,this.internal.write(E.objId,"0 R",B.objId,"0 R");break;case"freetext":i="/Rect ["+A(n.bounds.x)+" "+a(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var U=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var V=this.annotations._nameMap[n.options.name];n.options.pageNumber=V.page,n.options.top=V.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var O=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,A){var a=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:o(r),y:l(n),w:o(r+i),h:l(n+s)},options:A,type:"link"})},t.textWithLink=function(r,n,i,s){var A,a,o=this.getTextWidth(r),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(r,a).length;A=Math.ceil(l*u)}else a=o,A=l;return this.text(r,n,i,s),i+=.2*l,s.align==="center"&&(n-=o/2),s.align==="right"&&(n-=o),this.link(n,i-l,a,A,s),o},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ut.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},A=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},a=t.__arabicParser__.isArabicEndLetter=function(E){return A(E)&&s(E)&&e[E.charCodeAt(0)].length<=2},o=t.__arabicParser__.isArabicAlfLetter=function(E){return A(E)&&i.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return A(E)&&s(E)&&e[E.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return A(E)&&s(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return A(E)&&s(E)&&e[E.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return A(E)&&s(E)&&e[E.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(E){var B=0,w=r,b="",I=0;for(B=0;B<E.length;B+=1)w[E.charCodeAt(B)]!==void 0?(I++,typeof(w=w[E.charCodeAt(B)])=="number"&&(b+=String.fromCharCode(w),w=r,I=0),B===E.length-1&&(w=r,b+=E.charAt(B-(I-1)),B-=I-1,I=0)):(w=r,b+=E.charAt(B-I),B-=I,I=0);return b};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&n[E.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(E,B,w){return A(E)?s(E)===!1?-1:!l(E)||!A(B)&&!A(w)||!A(w)&&a(B)||a(E)&&!A(B)||a(E)&&o(B)||a(E)&&a(B)?0:u(E)&&A(B)&&!a(B)&&A(w)&&l(w)?3:a(E)||!A(w)?1:2:-1},p=function(E){var B=0,w=0,b=0,I="",U="",V="",O=(E=E||"").split("\\s+"),L=[];for(B=0;B<O.length;B+=1){for(L.push(""),w=0;w<O[B].length;w+=1)I=O[B][w],U=O[B][w-1],V=O[B][w+1],A(I)?(b=m(I,U,V),L[B]+=b!==-1?String.fromCharCode(e[I.charCodeAt(0)][b]):I):L[B]+=I;L[B]=d(L[B])}return L.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var E,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(B)){var b=0;for(w=[],b=0;b<B.length;b+=1)Array.isArray(B[b])?w.push([p(B[b][0]),B[b][1],B[b][2]]):w.push([p(B[b])]);E=w}else E=p(B);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",_])}(ut.API),ut.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(a){A=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ut.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var o=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return o},set:function(E){o=E}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(E){l=E}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(E){_=E}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(o){return n.call(this),this.internal.__cell__.headerFunction=typeof o=="function"?o:void 0,this},t.getTextDimensions=function(o,l){n.call(this);var u=(l=l||{}).fontSize||this.getFontSize(),d=l.font||this.getFont(),m=l.scaleFactor||this.internal.scaleFactor,p=0,_=0,E=0,B=this;if(!Array.isArray(o)&&typeof o!="string"){if(typeof o!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");o=String(o)}var w=l.maxWidth;w>0?typeof o=="string"?o=this.splitTextToSize(o,w):Object.prototype.toString.call(o)==="[object Array]"&&(o=o.reduce(function(I,U){return I.concat(B.splitTextToSize(U,w))},[])):o=Array.isArray(o)?o:[o];for(var b=0;b<o.length;b++)p<(E=this.getStringUnitWidth(o[b],{font:d})*u)&&(p=E);return p!==0&&(_=o.length),{w:p/=m,h:Math.max((_*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var o=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(o.left,o.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=t.cell=function(){var o;o=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===o.lineNumber?(o.x=(l.x||0)+(l.width||0),o.y=l.y||0):l.y+l.height+o.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),o.y=d.top,p&&m&&(this.printHeaderRow(o.lineNumber,!0),o.y+=m[0].height)):o.y=l.y+l.height||o.y),o.text[0]!==void 0&&(this.rect(o.x,o.y,o.width,o.height,r===!0?"FD":void 0),o.align==="right"?this.text(o.text,o.x+o.width-u,o.y+u,{align:"right",baseline:"top"}):o.align==="center"?this.text(o.text,o.x+o.width/2,o.y+u,{align:"center",baseline:"top",maxWidth:o.width-u-u}):this.text(o.text,o.x+u,o.y+u,{align:"left",baseline:"top",maxWidth:o.width-u-u})),this.internal.__cell__.lastCell=o,this};t.table=function(o,l,u,d,m){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,_,E,B,w=[],b=[],I=[],U={},V={},O=[],L=[],F=(m=m||{}).autoSize||!1,x=m.printHeaders!==!1,k=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,S=m.margins||Object.assign({width:this.getPageWidth()},e),T=typeof m.padding=="number"?m.padding:3,Q=m.headerBackgroundColor||"#c8c8c8",z=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=x,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=z,this.setFontSize(k),d==null)b=w=Object.keys(u[0]),I=w.map(function(){return"left"});else if(Array.isArray(d)&&pr(d[0])==="object")for(w=d.map(function(de){return de.name}),b=d.map(function(de){return de.prompt||de.name||""}),I=d.map(function(de){return de.align||"left"}),p=0;p<d.length;p+=1)V[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&typeof d[0]=="string"&&(b=w=d,I=w.map(function(){return"left"}));if(F||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<w.length;p+=1){for(U[B=w[p]]=u.map(function(de){return de[B]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=U[B],this.setFont(void 0,"normal"),E=0;E<_.length;E+=1)O.push(this.getTextDimensions(_[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[B]=Math.max.apply(null,O)+T+T,O=[]}if(x){var oe={};for(p=0;p<w.length;p+=1)oe[w[p]]={},oe[w[p]].text=b[p],oe[w[p]].align=I[p];var le=a.call(this,oe,V);L=w.map(function(de){return new s(o,l,V[de],le,oe[de].text,void 0,oe[de].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ie=d.reduce(function(de,pe){return de[pe.name]=pe.align,de},{});for(p=0;p<u.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:u[p]},this);var K=a.call(this,u[p],V);for(E=0;E<w.length;E+=1){var se=u[p][w[E]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:E,data:se},this),A.call(this,new s(o,l,V[w[E]],K,se,p+2,ie[w[E]]))}}return this.internal.__cell__.table_x=o,this.internal.__cell__.table_y=l,this};var a=function(o,l){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(o).map(function(p){var _=o[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,l[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/m+u+u},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(o){n.call(this),this.internal.__cell__.tableHeaderRow=o},t.printHeaderRow=function(o,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),l&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=o;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,u),this.setTextColor(_)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(ut.API);var MQ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},HQ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],H2=OQ(HQ),jQ=[100,200,300,400,500,600,700,800,900],$X=OQ(jQ);function Sy(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return MQ[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof H2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function i4(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var XX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},s4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function A4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function a4(t){return t.trimLeft()}function YX(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function JX(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Jg,o4,l4,yc,Zg,u4,c4,h4,Ny=["times"];function d4(t,e,r,n){var i=4,s=p4;switch(n){case ut.API.image_compression.FAST:i=1,s=f4;break;case ut.API.image_compression.MEDIUM:i=6,s=g4;break;case ut.API.image_compression.SLOW:i=9,s=m4}t=function(a,o,l,u){for(var d,m=a.length/o,p=new Uint8Array(a.length+m),_=[ZX,f4,p4,g4,m4],E=0;E<m;E+=1){var B=E*o,w=a.subarray(B,B+o);if(u)p.set(u(w,l,d),B+E);else{for(var b=_.length,I=[],U=0;U<b;U+=1)I[U]=_[U](w,l,d);var V=tY(I.concat());p.set(I[V],B+E)}d=w}return p}(t,e,r,s);var A=L2(t,{level:i});return ut.API.__addimage__.arrayBufferToBinaryString(A)}function ZX(t){var e=Array.apply([],t);return e.unshift(0),e}function f4(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function p4(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var A=r&&r[s]||0;i[s+1]=t[s]-A+256&255}return i}function g4(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var A=t[s-e]||0,a=r&&r[s]||0;i[s+1]=t[s]+256-(A+a>>>1)&255}return i}function m4(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var A=eY(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-A+256&255}return i}function eY(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function tY(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Ty(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),A=(1<<r)-1;return VQ(t,i)>>s&A}function w4(t,e,r,n){var i=r*n,s=Math.floor(i/8),A=16-(i-8*s+n),a=(1<<n)-1,o=(e&a)<<A;(function(l,u,d){if(u+1<l.byteLength)l.setUint16(u,d,!1);else{var m=d>>8&255;l.setUint8(u,m)}})(t,s,VQ(t,s)&~(a<<A)&65535|o)}function VQ(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function rY(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,A=1<<1+(7&i);t[e++],t[e++];var a=null,o=null;s&&(a=e,o=A,e+=3*A);var l=!0,u=[],d=0,m=null,p=0,_=null;for(this.width=r,this.height=n;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];d=t[e++]|t[e++]<<8,m=t[e++],1&E||(m=null),p=E>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var B=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,U=t[e++],V=U>>6&1,O=1<<1+(7&U),L=a,F=o,x=!1;U>>7&&(x=!0,L=e,F=O,e+=3*O);var k=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}u.push({x:B,y:w,width:b,height:I,has_local_palette:x,palette_offset:L,palette_size:F,data_offset:k,data_length:e-k,transparent_index:m,interlaced:!!V,delay:d,disposal:p});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return _},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,Q){var z=this.frameInfo(T),oe=z.width*z.height,le=new Uint8Array(oe);y4(t,z.data_offset,le,oe);var ie=z.palette_offset,K=z.transparent_index;K===null&&(K=256);var se=z.width,de=r-se,pe=se,M=4*(z.y*r+z.x),X=4*((z.y+z.height)*r+z.x),te=M,$=4*de;z.interlaced===!0&&($+=4*r*7);for(var re=8,ae=0,_e=le.length;ae<_e;++ae){var Be=le[ae];if(pe===0&&(pe=se,(te+=$)>=X&&($=4*de+4*r*(re-1),te=M+(se+de)*(re<<1),re>>=1)),Be===K)te+=4;else{var xe=t[ie+3*Be],Qe=t[ie+3*Be+1],Ee=t[ie+3*Be+2];Q[te++]=Ee,Q[te++]=Qe,Q[te++]=xe,Q[te++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(T,Q){var z=this.frameInfo(T),oe=z.width*z.height,le=new Uint8Array(oe);y4(t,z.data_offset,le,oe);var ie=z.palette_offset,K=z.transparent_index;K===null&&(K=256);var se=z.width,de=r-se,pe=se,M=4*(z.y*r+z.x),X=4*((z.y+z.height)*r+z.x),te=M,$=4*de;z.interlaced===!0&&($+=4*r*7);for(var re=8,ae=0,_e=le.length;ae<_e;++ae){var Be=le[ae];if(pe===0&&(pe=se,(te+=$)>=X&&($=4*de+4*r*(re-1),te=M+(se+de)*(re<<1),re>>=1)),Be===K)te+=4;else{var xe=t[ie+3*Be],Qe=t[ie+3*Be+1],Ee=t[ie+3*Be+2];Q[te++]=xe,Q[te++]=Qe,Q[te++]=Ee,Q[te++]=255}--pe}}}function y4(t,e,r,n){for(var i=t[e++],s=1<<i,A=s+1,a=A+1,o=i+1,l=(1<<o)-1,u=0,d=0,m=0,p=t[e++],_=new Int32Array(4096),E=null;;){for(;u<16&&p!==0;)d|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<o)break;var B=d&l;if(d>>=o,u-=o,B!==s){if(B===A)break;for(var w=B<a?B:E,b=0,I=w;I>s;)I=_[I]>>8,++b;var U=I;if(m+b+(w!==B?1:0)>n)return void Cr.log("Warning, gif stream longer than expected.");r[m++]=U;var V=m+=b;for(w!==B&&(r[m++]=U),I=w;b--;)I=_[I],r[--V]=255&I,I>>=8;E!==null&&a<4096&&(_[a++]=E<<8|U,a>=l+1&&o<12&&(++o,l=l<<1|1)),E=B}else a=A+1,l=(1<<(o=i+1))-1,E=null}return m!==n&&Cr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Uy(t){var e,r,n,i,s,A=Math.floor,a=new Array(64),o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(65535),m=new Array(65535),p=new Array(64),_=new Array(64),E=[],B=0,w=7,b=new Array(64),I=new Array(64),U=new Array(64),V=new Array(256),O=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(M,X){for(var te=0,$=0,re=new Array,ae=1;ae<=16;ae++){for(var _e=1;_e<=M[ae];_e++)re[X[$]]=[],re[X[$]][0]=te,re[X[$]][1]=ae,$++,te++;te*=2}return re}function ie(M){for(var X=M[0],te=M[1]-1;te>=0;)X&1<<te&&(B|=1<<w),te--,--w<0&&(B==255?(K(255),K(0)):K(B),w=7,B=0)}function K(M){E.push(M)}function se(M){K(M>>8&255),K(255&M)}function de(M,X,te,$,re){for(var ae,_e=re[0],Be=re[240],xe=function(ke,ve){var Ue,Ge,je,Ye,tt,Ve,It,At,Ze,wt,dt=0;for(Ze=0;Ze<8;++Ze){Ue=ke[dt],Ge=ke[dt+1],je=ke[dt+2],Ye=ke[dt+3],tt=ke[dt+4],Ve=ke[dt+5],It=ke[dt+6];var er=Ue+(At=ke[dt+7]),Wt=Ue-At,at=Ge+It,Ct=Ge-It,or=je+Ve,mt=je-Ve,kt=Ye+tt,Ft=Ye-tt,Rr=er+kt,Nr=er-kt,sr=at+or,vt=at-or;ke[dt]=Rr+sr,ke[dt+4]=Rr-sr;var Dt=.707106781*(vt+Nr);ke[dt+2]=Nr+Dt,ke[dt+6]=Nr-Dt;var TA=.382683433*((Rr=Ft+mt)-(vt=Ct+Wt)),ln=.5411961*Rr+TA,Ls=1.306562965*vt+TA,ui=.707106781*(sr=mt+Ct),gt=Wt+ui,Tr=Wt-ui;ke[dt+5]=Tr+ln,ke[dt+3]=Tr-ln,ke[dt+1]=gt+Ls,ke[dt+7]=gt-Ls,dt+=8}for(dt=0,Ze=0;Ze<8;++Ze){Ue=ke[dt],Ge=ke[dt+8],je=ke[dt+16],Ye=ke[dt+24],tt=ke[dt+32],Ve=ke[dt+40],It=ke[dt+48];var Ps=Ue+(At=ke[dt+56]),Dn=Ue-At,On=Ge+It,Dr=Ge-It,Cn=je+Ve,Or=je-Ve,fa=Ye+tt,UA=Ye-tt,ci=Ps+fa,us=Ps-fa,Si=On+Cn,hi=On-Cn;ke[dt]=ci+Si,ke[dt+32]=ci-Si;var un=.707106781*(hi+us);ke[dt+16]=us+un,ke[dt+48]=us-un;var QA=.382683433*((ci=UA+Or)-(hi=Dr+Dn)),cs=.5411961*ci+QA,nA=1.306562965*hi+QA,LA=.707106781*(Si=Or+Dr),pa=Dn+LA,ga=Dn-LA;ke[dt+40]=ga+cs,ke[dt+24]=ga-cs,ke[dt+8]=pa+nA,ke[dt+56]=pa-nA,dt++}for(Ze=0;Ze<64;++Ze)wt=ke[Ze]*ve[Ze],p[Ze]=wt>0?wt+.5|0:wt-.5|0;return p}(M,X),Qe=0;Qe<64;++Qe)_[L[Qe]]=xe[Qe];var Ee=_[0]-te;te=_[0],Ee==0?ie($[0]):(ie($[m[ae=32767+Ee]]),ie(d[ae]));for(var He=63;He>0&&_[He]==0;)He--;if(He==0)return ie(_e),te;for(var Ce,ne=1;ne<=He;){for(var Qt=ne;_[ne]==0&&ne<=He;)++ne;var xt=ne-Qt;if(xt>=16){Ce=xt>>4;for(var pt=1;pt<=Ce;++pt)ie(Be);xt&=15}ae=32767+_[ne],ie(re[(xt<<4)+m[ae]]),ie(d[ae]),ne++}return He!=63&&ie(_e),te}function pe(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(X){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var re=A((te[$]*X+50)/100);re=Math.min(Math.max(re,1),255),a[L[$]]=re}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var Be=A((ae[_e]*X+50)/100);Be=Math.min(Math.max(Be,1),255),o[L[_e]]=Be}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,Ee=0;Ee<8;Ee++)for(var He=0;He<8;He++)l[Qe]=1/(a[L[Qe]]*xe[Ee]*xe[He]*8),u[Qe]=1/(o[L[Qe]]*xe[Ee]*xe[He]*8),Qe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,X){X&&pe(X),E=new Array,B=0,w=7,se(65496),se(65504),se(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),se(1),se(1),K(0),K(0),function(){se(65499),se(132),K(0);for(var Ge=0;Ge<64;Ge++)K(a[Ge]);K(1);for(var je=0;je<64;je++)K(o[je])}(),function(Ge,je){se(65472),se(17),K(8),se(je),se(Ge),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(M.width,M.height),function(){se(65476),se(418),K(0);for(var Ge=0;Ge<16;Ge++)K(F[Ge+1]);for(var je=0;je<=11;je++)K(x[je]);K(16);for(var Ye=0;Ye<16;Ye++)K(k[Ye+1]);for(var tt=0;tt<=161;tt++)K(S[tt]);K(1);for(var Ve=0;Ve<16;Ve++)K(T[Ve+1]);for(var It=0;It<=11;It++)K(Q[It]);K(17);for(var At=0;At<16;At++)K(z[At+1]);for(var Ze=0;Ze<=161;Ze++)K(oe[Ze])}(),se(65498),se(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var te=0,$=0,re=0;B=0,w=7,this.encode.displayName="_encode_";for(var ae,_e,Be,xe,Qe,Ee,He,Ce,ne,Qt=M.data,xt=M.width,pt=M.height,ke=4*xt,ve=0;ve<pt;){for(ae=0;ae<ke;){for(Qe=ke*ve+ae,He=-1,Ce=0,ne=0;ne<64;ne++)Ee=Qe+(Ce=ne>>3)*ke+(He=4*(7&ne)),ve+Ce>=pt&&(Ee-=ke*(ve+1+Ce-pt)),ae+He>=ke&&(Ee-=ae+He-ke+4),_e=Qt[Ee++],Be=Qt[Ee++],xe=Qt[Ee++],b[ne]=(O[_e]+O[Be+256|0]+O[xe+512|0]>>16)-128,I[ne]=(O[_e+768|0]+O[Be+1024|0]+O[xe+1280|0]>>16)-128,U[ne]=(O[_e+1280|0]+O[Be+1536|0]+O[xe+1792|0]>>16)-128;te=de(b,l,te,e,n),$=de(I,u,$,r,i),re=de(U,u,re,r,i),ae+=32}ve+=8}if(w>=0){var Ue=[];Ue[1]=w+1,Ue[0]=(1<<w+1)-1,ie(Ue)}return se(65497),new Uint8Array(E)},t=t||50,function(){for(var M=String.fromCharCode,X=0;X<256;X++)V[X]=M(X)}(),e=le(F,x),r=le(T,Q),n=le(k,S),i=le(z,oe),function(){for(var M=1,X=2,te=1;te<=15;te++){for(var $=M;$<X;$++)m[32767+$]=te,d[32767+$]=[],d[32767+$][1]=te,d[32767+$][0]=$;for(var re=-(X-1);re<=-M;re++)m[32767+re]=te,d[32767+re]=[],d[32767+re][1]=te,d[32767+re][0]=X-1+re;M<<=1,X<<=1}}(),function(){for(var M=0;M<256;M++)O[M]=19595*M,O[M+256|0]=38470*M,O[M+512|0]=7471*M+32768,O[M+768|0]=-11059*M,O[M+1024|0]=-21709*M,O[M+1280|0]=32768*M+8421375,O[M+1536|0]=-27439*M,O[M+1792|0]=-5329*M}(),pe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hA(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function v4(t){function e(x){if(!x)throw Error("assert :P")}function r(x,k,S){for(var T=0;4>T;T++)if(x[k+T]!=S.charCodeAt(T))return!0;return!1}function n(x,k,S,T,Q){for(var z=0;z<Q;z++)x[k+z]=S[T+z]}function i(x,k,S,T){for(var Q=0;Q<T;Q++)x[k+Q]=S}function s(x){return new Int32Array(x)}function A(x,k){for(var S=[],T=0;T<x;T++)S.push(new k);return S}function a(x,k){var S=[];return function T(Q,z,oe){for(var le=oe[z],ie=0;ie<le&&(Q.push(oe.length>z+1?[]:new k),!(oe.length<z+1));ie++)T(Q[ie],z+1,oe)}(S,0,x),S}var o=function(){var x=this;function k(c,g){for(var v=1<<g-1>>>0;c&v;)v>>>=1;return v?(c&v-1)+v:c}function S(c,g,v,N,D){e(!(N%v));do c[g+(N-=v)]=D;while(0<N)}function T(c,g,v,N,D){if(e(2328>=D),512>=D)var H=s(512);else if((H=s(D))==null)return 0;return function(j,G,W,Z,ue,we){var ee,ce,ge=G,Ie=1<<W,me=s(16),Se=s(16);for(e(ue!=0),e(Z!=null),e(j!=null),e(0<W),ce=0;ce<ue;++ce){if(15<Z[ce])return 0;++me[Z[ce]]}if(me[0]==ue)return 0;for(Se[1]=0,ee=1;15>ee;++ee){if(me[ee]>1<<ee)return 0;Se[ee+1]=Se[ee]+me[ee]}for(ce=0;ce<ue;++ce)ee=Z[ce],0<Z[ce]&&(we[Se[ee]++]=ce);if(Se[15]==1)return(Z=new Q).g=0,Z.value=we[0],S(j,ge,1,Ie,Z),Ie;var Te,De=-1,Pe=Ie-1,ht=0,rt=1,Lt=1,ot=1<<W;for(ce=0,ee=1,ue=2;ee<=W;++ee,ue<<=1){if(rt+=Lt<<=1,0>(Lt-=me[ee]))return 0;for(;0<me[ee];--me[ee])(Z=new Q).g=ee,Z.value=we[ce++],S(j,ge+ht,ue,ot,Z),ht=k(ht,ee)}for(ee=W+1,ue=2;15>=ee;++ee,ue<<=1){if(rt+=Lt<<=1,0>(Lt-=me[ee]))return 0;for(;0<me[ee];--me[ee]){if(Z=new Q,(ht&Pe)!=De){for(ge+=ot,Te=1<<(De=ee)-W;15>De&&!(0>=(Te-=me[De]));)++De,Te<<=1;Ie+=ot=1<<(Te=De-W),j[G+(De=ht&Pe)].g=Te+W,j[G+De].value=ge-G-De}Z.g=ee-W,Z.value=we[ce++],S(j,ge+(ht>>W),ue,ot,Z),ht=k(ht,ee)}}return rt!=2*Se[15]-1?0:Ie}(c,g,v,N,D,H)}function Q(){this.value=this.g=0}function z(){this.value=this.g=0}function oe(){this.G=A(5,Q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(GA,z)}function le(c,g,v,N){e(c!=null),e(g!=null),e(2147483648>N),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=g,c.pa=v,c.Jd=g,c.Yc=v+N,c.Zc=4<=N?v+N-4+1:v,_e(c)}function ie(c,g){for(var v=0;0<g--;)v|=xe(c,128)<<g;return v}function K(c,g){var v=ie(c,g);return Be(c)?-v:v}function se(c,g,v,N){var D,H=0;for(e(c!=null),e(g!=null),e(4294967288>N),c.Sb=N,c.Ra=0,c.u=0,c.h=0,4<N&&(N=4),D=0;D<N;++D)H+=g[v+D]<<8*D;c.Ra=H,c.bb=N,c.oa=g,c.pa=v}function de(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Bo-8>>>0,++c.bb,c.u-=8;$(c)&&(c.h=1,c.u=0)}function pe(c,g){if(e(0<=g),!c.h&&g<=$h){var v=te(c)&vo[g];return c.u+=g,de(c),v}return c.h=1,c.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(c){return c.Ra>>>(c.u&Bo-1)>>>0}function $(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Bo}function re(c,g){c.u=g,c.h=$(c)}function ae(c){c.u>=hn&&(e(c.u>=hn),de(c))}function _e(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function Be(c){return ie(c,1)}function xe(c,g){var v=c.Ca;0>c.b&&_e(c);var N=c.b,D=v*g>>>8,H=(c.I>>>N>D)+0;for(H?(v-=D,c.I-=D+1<<N>>>0):v=D+1,N=v,D=0;256<=N;)D+=8,N>>=8;return N=7^D+jw[N],c.b-=N,c.Ca=(v<<N)-1,H}function Qe(c,g,v){c[g+0]=v>>24&255,c[g+1]=v>>16&255,c[g+2]=v>>8&255,c[g+3]=255&v}function Ee(c,g){return c[g+0]|c[g+1]<<8}function He(c,g){return Ee(c,g)|c[g+2]<<16}function Ce(c,g){return Ee(c,g)|Ee(c,g+2)<<16}function ne(c,g){var v=1<<g;return e(c!=null),e(0<g),c.X=s(v),c.X==null?0:(c.Mb=32-g,c.Xa=g,1)}function Qt(c,g){e(c!=null),e(g!=null),e(c.Xa==g.Xa),n(g.X,0,c.X,0,1<<g.Xa)}function xt(){this.X=[],this.Xa=this.Mb=0}function pt(c,g,v,N){e(v!=null),e(N!=null);var D=v[0],H=N[0];return D==0&&(D=(c*H+g/2)/g),H==0&&(H=(g*D+c/2)/c),0>=D||0>=H?0:(v[0]=D,N[0]=H,1)}function ke(c,g){return c+(1<<g)-1>>>g}function ve(c,g){return((4278255360&c)+(4278255360&g)>>>0&4278255360)+((16711935&c)+(16711935&g)>>>0&16711935)>>>0}function Ue(c,g){x[g]=function(v,N,D,H,j,G,W){var Z;for(Z=0;Z<j;++Z){var ue=x[c](G[W+Z-1],D,H+Z);G[W+Z]=ve(v[N+Z],ue)}}}function Ge(){this.ud=this.hd=this.jd=0}function je(c,g){return((4278124286&(c^g))>>>1)+(c&g)>>>0}function Ye(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function tt(c,g){return Ye(c+(c-g+.5>>1))}function Ve(c,g,v){return Math.abs(g-v)-Math.abs(c-v)}function It(c,g,v,N,D,H,j){for(N=H[j-1],v=0;v<D;++v)H[j+v]=N=ve(c[g+v],N)}function At(c,g,v,N,D){var H;for(H=0;H<v;++H){var j=c[g+H],G=j>>8&255,W=16711935&(W=(W=16711935&j)+((G<<16)+G));N[D+H]=(4278255360&j)+W>>>0}}function Ze(c,g){g.jd=255&c,g.hd=c>>8&255,g.ud=c>>16&255}function wt(c,g,v,N,D,H){var j;for(j=0;j<N;++j){var G=g[v+j],W=G>>>8,Z=G,ue=255&(ue=(ue=G>>>16)+((c.jd<<24>>24)*(W<<24>>24)>>>5));Z=255&(Z=(Z+=(c.hd<<24>>24)*(W<<24>>24)>>>5)+((c.ud<<24>>24)*(ue<<24>>24)>>>5)),D[H+j]=(4278255360&G)+(ue<<16)+Z}}function dt(c,g,v,N,D){x[g]=function(H,j,G,W,Z,ue,we,ee,ce){for(W=we;W<ee;++W)for(we=0;we<ce;++we)Z[ue++]=D(G[N(H[j++])])},x[c]=function(H,j,G,W,Z,ue,we){var ee=8>>H.b,ce=H.Ea,ge=H.K[0],Ie=H.w;if(8>ee)for(H=(1<<H.b)-1,Ie=(1<<ee)-1;j<G;++j){var me,Se=0;for(me=0;me<ce;++me)me&H||(Se=N(W[Z++])),ue[we++]=D(ge[Se&Ie]),Se>>=ee}else x["VP8LMapColor"+v](W,Z,ge,Ie,ue,we,j,G,ce)}}function er(c,g,v,N,D){for(v=g+v;g<v;){var H=c[g++];N[D++]=H>>16&255,N[D++]=H>>8&255,N[D++]=255&H}}function Wt(c,g,v,N,D){for(v=g+v;g<v;){var H=c[g++];N[D++]=H>>16&255,N[D++]=H>>8&255,N[D++]=255&H,N[D++]=H>>24&255}}function at(c,g,v,N,D){for(v=g+v;g<v;){var H=(j=c[g++])>>16&240|j>>12&15,j=240&j|j>>28&15;N[D++]=H,N[D++]=j}}function Ct(c,g,v,N,D){for(v=g+v;g<v;){var H=(j=c[g++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;N[D++]=H,N[D++]=j}}function or(c,g,v,N,D){for(v=g+v;g<v;){var H=c[g++];N[D++]=255&H,N[D++]=H>>8&255,N[D++]=H>>16&255}}function mt(c,g,v,N,D,H){if(H==0)for(v=g+v;g<v;)Qe(N,((H=c[g++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),D+=32;else n(N,D,c,g,v)}function kt(c,g){x[g][0]=x[c+"0"],x[g][1]=x[c+"1"],x[g][2]=x[c+"2"],x[g][3]=x[c+"3"],x[g][4]=x[c+"4"],x[g][5]=x[c+"5"],x[g][6]=x[c+"6"],x[g][7]=x[c+"7"],x[g][8]=x[c+"8"],x[g][9]=x[c+"9"],x[g][10]=x[c+"10"],x[g][11]=x[c+"11"],x[g][12]=x[c+"12"],x[g][13]=x[c+"13"],x[g][14]=x[c+"0"],x[g][15]=x[c+"0"]}function Ft(c){return c==Gw||c==qw||c==Mp||c==zw}function Rr(){this.eb=[],this.size=this.A=this.fb=0}function Nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function sr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rr,this.f.kb=new Nr,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function TA(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function ln(c,g){var v=c.T,N=g.ba.f.RGBA,D=N.eb,H=N.fb+c.ka*N.A,j=Hs[g.ba.S],G=c.y,W=c.O,Z=c.f,ue=c.N,we=c.ea,ee=c.W,ce=g.cc,ge=g.dc,Ie=g.Mc,me=g.Nc,Se=c.ka,Te=c.ka+c.T,De=c.U,Pe=De+1>>1;for(Se==0?j(G,W,null,null,Z,ue,we,ee,Z,ue,we,ee,D,H,null,null,De):(j(g.ec,g.fc,G,W,ce,ge,Ie,me,Z,ue,we,ee,D,H-N.A,D,H,De),++v);Se+2<Te;Se+=2)ce=Z,ge=ue,Ie=we,me=ee,ue+=c.Rc,ee+=c.Rc,H+=2*N.A,j(G,(W+=2*c.fa)-c.fa,G,W,ce,ge,Ie,me,Z,ue,we,ee,D,H-N.A,D,H,De);return W+=c.fa,c.j+Te<c.o?(n(g.ec,g.fc,G,W,De),n(g.cc,g.dc,Z,ue,Pe),n(g.Mc,g.Nc,we,ee,Pe),v--):1&Te||j(G,W,null,null,Z,ue,we,ee,Z,ue,we,ee,D,H+N.A,null,null,De),v}function Ls(c,g,v){var N=c.F,D=[c.J];if(N!=null){var H=c.U,j=g.ba.S,G=j==Op||j==Mp;g=g.ba.f.RGBA;var W=[0],Z=c.ka;W[0]=c.T,c.Kb&&(Z==0?--W[0]:(--Z,D[0]-=c.width),c.j+c.ka+c.T==c.o&&(W[0]=c.o-c.j-Z));var ue=g.eb;Z=g.fb+Z*g.A,c=E5(N,D[0],c.width,H,W,ue,Z+(G?0:3),g.A),e(v==W),c&&Ft(j)&&Zh(ue,Z,G,H,W,g.A)}return 0}function ui(c){var g=c.ma,v=g.ba.S,N=11>v,D=v==Rp||v==Dp||v==Op||v==Kw||v==12||Ft(v);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!$i(g.Oa,c,D?11:12))return 0;if(D&&Ft(v)&&yo(),c.da)alert("todo:use_scaling");else{if(N){if(g.Ib=TA,c.Kb){if(v=c.U+1>>1,g.memory=s(c.U+2*v),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+c.U,g.Mc=g.cc,g.Nc=g.dc+v,g.Ib=ln,yo()}}else alert("todo:EmitYUV");D&&(g.Jb=Ls,N&&cn())}if(N&&!H5){for(c=0;256>c;++c)dL[c]=89858*(c-128)+jp>>Hp,gL[c]=-22014*(c-128)+jp,pL[c]=-45773*(c-128),fL[c]=113618*(c-128)+jp>>Hp;for(c=td;c<Xw;++c)g=76283*(c-16)+jp>>Hp,mL[c-td]=jt(g,255),wL[c-td]=jt(g+8>>4,15);H5=1}return 1}function gt(c){var g=c.ma,v=c.U,N=c.T;return e(!(1&c.ka)),0>=v||0>=N?0:(v=g.Ib(c,g),g.Jb!=null&&g.Jb(c,g,v),g.Dc+=v,1)}function Tr(c){c.ma.memory=null}function Ps(c,g,v,N){return pe(c,8)!=47?0:(g[0]=pe(c,14)+1,v[0]=pe(c,14)+1,N[0]=pe(c,1),pe(c,3)!=0?0:!c.h)}function Dn(c,g){if(4>c)return c+1;var v=c-2>>1;return(2+(1&c)<<v)+pe(g,v)+1}function On(c,g){return 120<g?g-120:1<=(v=((v=ZQ[g-1])>>4)*c+(8-(15&v)))?v:1;var v}function Dr(c,g,v){var N=te(v),D=c[g+=255&N].g-8;return 0<D&&(re(v,v.u+8),N=te(v),g+=c[g].value,g+=N&(1<<D)-1),re(v,v.u+c[g].g),c[g].value}function Cn(c,g,v){return v.g+=c.g,v.value+=c.value<<g>>>0,e(8>=v.g),c.g}function Or(c,g,v){var N=c.xc;return e((g=N==0?0:c.vc[c.md*(v>>N)+(g>>N)])<c.Wb),c.Ya[g]}function fa(c,g,v,N){var D=c.ab,H=c.c*g,j=c.C;g=j+g;var G=v,W=N;for(N=c.Ta,v=c.Ua;0<D--;){var Z=c.gc[D],ue=j,we=g,ee=G,ce=W,ge=(W=N,G=v,Z.Ea);switch(e(ue<we),e(we<=Z.nc),Z.hc){case 2:ec(ee,ce,(we-ue)*ge,W,G);break;case 0:var Ie=ue,me=we,Se=W,Te=G,De=(ot=Z).Ea;Ie==0&&(qA(ee,ce,null,null,1,Se,Te),It(ee,ce+1,0,0,De-1,Se,Te+1),ce+=De,Te+=De,++Ie);for(var Pe=1<<ot.b,ht=Pe-1,rt=ke(De,ot.b),Lt=ot.K,ot=ot.w+(Ie>>ot.b)*rt;Ie<me;){var zt=Lt,Sn=ot,Pt=1;for(zA(ee,ce,Se,Te-De,1,Se,Te);Pt<De;){var lt=(Pt&~ht)+Pe;lt>De&&(lt=De),(0,zl[zt[Sn++]>>8&15])(ee,ce+ +Pt,Se,Te+Pt-De,lt-Pt,Se,Te+Pt),Pt=lt}ce+=De,Te+=De,++Ie&ht||(ot+=rt)}we!=Z.nc&&n(W,G-ge,W,G+(we-ue-1)*ge,ge);break;case 1:for(ge=ee,me=ce,De=(ee=Z.Ea)-(Te=ee&~(Se=(ce=1<<Z.b)-1)),Ie=ke(ee,Z.b),Pe=Z.K,Z=Z.w+(ue>>Z.b)*Ie;ue<we;){for(ht=Pe,rt=Z,Lt=new Ge,ot=me+Te,zt=me+ee;me<ot;)Ze(ht[rt++],Lt),ba(Lt,ge,me,ce,W,G),me+=ce,G+=ce;me<zt&&(Ze(ht[rt++],Lt),ba(Lt,ge,me,De,W,G),me+=De,G+=De),++ue&Se||(Z+=Ie)}break;case 3:if(ee==W&&ce==G&&0<Z.b){for(me=W,ee=ge=G+(we-ue)*ge-(Te=(we-ue)*ke(Z.Ea,Z.b)),ce=W,Se=G,Ie=[],Te=(De=Te)-1;0<=Te;--Te)Ie[Te]=ce[Se+Te];for(Te=De-1;0<=Te;--Te)me[ee+Te]=Ie[Te];Xh(Z,ue,we,W,ge,W,G)}else Xh(Z,ue,we,ee,ce,W,G)}G=N,W=v}W!=v&&n(N,v,G,W,H)}function UA(c,g){var v=c.V,N=c.Ba+c.c*c.C,D=g-c.C;if(e(g<=c.l.o),e(16>=D),0<D){var H=c.l,j=c.Ta,G=c.Ua,W=H.width;if(fa(c,D,v,N),D=G=[G],e((v=c.C)<(N=g)),e(H.v<H.va),N>H.o&&(N=H.o),v<H.j){var Z=H.j-v;v=H.j,D[0]+=Z*W}if(v>=N?v=0:(D[0]+=4*H.v,H.ka=v-H.j,H.U=H.va-H.v,H.T=N-v,v=1),v){if(G=G[0],11>(v=c.ca).S){var ue=v.f.RGBA,we=(N=v.S,D=H.U,H=H.T,Z=ue.eb,ue.A),ee=H;for(ue=ue.fb+c.Ma*ue.A;0<ee--;){var ce=j,ge=G,Ie=D,me=Z,Se=ue;switch(N){case kp:Yh(ce,ge,Ie,me,Se);break;case Rp:gs(ce,ge,Ie,me,Se);break;case Gw:gs(ce,ge,Ie,me,Se),Zh(me,Se,0,Ie,1,0);break;case U5:xr(ce,ge,Ie,me,Se);break;case Dp:mt(ce,ge,Ie,me,Se,1);break;case qw:mt(ce,ge,Ie,me,Se,1),Zh(me,Se,0,Ie,1,0);break;case Op:mt(ce,ge,Ie,me,Se,0);break;case Mp:mt(ce,ge,Ie,me,Se,0),Zh(me,Se,1,Ie,1,0);break;case Kw:WA(ce,ge,Ie,me,Se);break;case zw:WA(ce,ge,Ie,me,Se),b5(me,Se,Ie,1,0);break;case Q5:Er(ce,ge,Ie,me,Se);break;default:e(0)}G+=W,ue+=we}c.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=v.height)}}c.C=g,e(c.C<=c.i)}function ci(c){var g;if(0<c.ua)return 0;for(g=0;g<c.Wb;++g){var v=c.Ya[g].G,N=c.Ya[g].H;if(0<v[1][N[1]+0].g||0<v[2][N[2]+0].g||0<v[3][N[3]+0].g)return 0}return 1}function us(c,g,v,N,D,H){if(c.Z!=0){var j=c.qd,G=c.rd;for(e(Co[c.Z]!=null);g<v;++g)Co[c.Z](j,G,N,D,N,D,H),j=N,G=D,D+=H;c.qd=j,c.rd=G}}function Si(c,g){var v=c.l.ma,N=v.Z==0||v.Z==1?c.l.j:c.C;if(N=c.C<N?N:c.C,e(g<=c.l.o),g>N){var D=c.l.width,H=v.ca,j=v.tb+D*N,G=c.V,W=c.Ba+c.c*N,Z=c.gc;e(c.ab==1),e(Z[0].hc==3),rc(Z[0],N,g,G,W,H,j),us(v,N,g,H,j,D)}c.C=c.Ma=g}function hi(c,g,v,N,D,H,j){var G=c.$/N,W=c.$%N,Z=c.m,ue=c.s,we=v+c.$,ee=we;D=v+N*D;var ce=v+N*H,ge=280+ue.ua,Ie=c.Pb?G:16777216,me=0<ue.ua?ue.Wa:null,Se=ue.wc,Te=we<ce?Or(ue,W,G):null;e(c.C<H),e(ce<=D);var De=!1;e:for(;;){for(;De||we<ce;){var Pe=0;if(G>=Ie){var ht=we-v;e((Ie=c).Pb),Ie.wd=Ie.m,Ie.xd=ht,0<Ie.s.ua&&Qt(Ie.s.Wa,Ie.s.vb),Ie=G+tL}if(W&Se||(Te=Or(ue,W,G)),e(Te!=null),Te.Qb&&(g[we]=Te.qb,De=!0),!De)if(ae(Z),Te.jc){Pe=Z,ht=g;var rt=we,Lt=Te.pd[te(Pe)&GA-1];e(Te.jc),256>Lt.g?(re(Pe,Pe.u+Lt.g),ht[rt]=Lt.value,Pe=0):(re(Pe,Pe.u+Lt.g-256),e(256<=Lt.value),Pe=Lt.value),Pe==0&&(De=!0)}else Pe=Dr(Te.G[0],Te.H[0],Z);if(Z.h)break;if(De||256>Pe){if(!De)if(Te.nd)g[we]=(Te.qb|Pe<<8)>>>0;else{if(ae(Z),De=Dr(Te.G[1],Te.H[1],Z),ae(Z),ht=Dr(Te.G[2],Te.H[2],Z),rt=Dr(Te.G[3],Te.H[3],Z),Z.h)break;g[we]=(rt<<24|De<<16|Pe<<8|ht)>>>0}if(De=!1,++we,++W>=N&&(W=0,++G,j!=null&&G<=H&&!(G%16)&&j(c,G),me!=null))for(;ee<we;)Pe=g[ee++],me.X[(506832829*Pe&4294967295)>>>me.Mb]=Pe}else if(280>Pe){if(Pe=Dn(Pe-256,Z),ht=Dr(Te.G[4],Te.H[4],Z),ae(Z),ht=On(N,ht=Dn(ht,Z)),Z.h)break;if(we-v<ht||D-we<Pe)break e;for(rt=0;rt<Pe;++rt)g[we+rt]=g[we+rt-ht];for(we+=Pe,W+=Pe;W>=N;)W-=N,++G,j!=null&&G<=H&&!(G%16)&&j(c,G);if(e(we<=D),W&Se&&(Te=Or(ue,W,G)),me!=null)for(;ee<we;)Pe=g[ee++],me.X[(506832829*Pe&4294967295)>>>me.Mb]=Pe}else{if(!(Pe<ge))break e;for(De=Pe-280,e(me!=null);ee<we;)Pe=g[ee++],me.X[(506832829*Pe&4294967295)>>>me.Mb]=Pe;Pe=we,e(!(De>>>(ht=me).Xa)),g[Pe]=ht.X[De],De=!0}De||e(Z.h==$(Z))}if(c.Pb&&Z.h&&we<D)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Qt(c.s.vb,c.s.Wa);else{if(Z.h)break e;j!=null&&j(c,G>H?H:G),c.a=0,c.$=we-v}return 1}return c.a=3,0}function un(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var g=c.Wa;g!=null&&(g.X=null),c.vb=null,e(c!=null)}function QA(){var c=new br;return c==null?null:(c.a=0,c.xb=k5,kt("Predictor","VP8LPredictors"),kt("Predictor","VP8LPredictors_C"),kt("PredictorAdd","VP8LPredictorsAdd"),kt("PredictorAdd","VP8LPredictorsAdd_C"),ec=At,ba=wt,Yh=er,gs=Wt,WA=at,Er=Ct,xr=or,x.VP8LMapColor32b=tc,x.VP8LMapColor8b=ql,c)}function cs(c,g,v,N,D){var H=1,j=[c],G=[g],W=N.m,Z=N.s,ue=null,we=0;e:for(;;){if(v)for(;H&&pe(W,1);){var ee=j,ce=G,ge=N,Ie=1,me=ge.m,Se=ge.gc[ge.ab],Te=pe(me,2);if(ge.Oc&1<<Te)H=0;else{switch(ge.Oc|=1<<Te,Se.hc=Te,Se.Ea=ee[0],Se.nc=ce[0],Se.K=[null],++ge.ab,e(4>=ge.ab),Te){case 0:case 1:Se.b=pe(me,3)+2,Ie=cs(ke(Se.Ea,Se.b),ke(Se.nc,Se.b),0,ge,Se.K),Se.K=Se.K[0];break;case 3:var De,Pe=pe(me,8)+1,ht=16<Pe?0:4<Pe?1:2<Pe?2:3;if(ee[0]=ke(Se.Ea,ht),Se.b=ht,De=Ie=cs(Pe,1,0,ge,Se.K)){var rt,Lt=Pe,ot=Se,zt=1<<(8>>ot.b),Sn=s(zt);if(Sn==null)De=0;else{var Pt=ot.K[0],lt=ot.w;for(Sn[0]=ot.K[0][0],rt=1;rt<1*Lt;++rt)Sn[rt]=ve(Pt[lt+rt],Sn[rt-1]);for(;rt<4*zt;++rt)Sn[rt]=0;ot.K[0]=null,ot.K[0]=Sn,De=1}}Ie=De;break;case 2:break;default:e(0)}H=Ie}}if(j=j[0],G=G[0],H&&pe(W,1)&&!(H=1<=(we=pe(W,4))&&11>=we)){N.a=3;break e}var qe;if(qe=H)t:{var pn,Tt,$t,Qr=N,Xn=j,Qi=G,rn=we,fi=v,Li=Qr.m,Nn=Qr.s,Yt=[null],cr=1,nn=0,hr=eL[rn];r:for(;;){if(fi&&pe(Li,1)){var Yn=pe(Li,3)+2,lA=ke(Xn,Yn),gn=ke(Qi,Yn),Yi=lA*gn;if(!cs(lA,gn,0,Qr,Yt))break r;for(Yt=Yt[0],Nn.xc=Yn,pn=0;pn<Yi;++pn){var _r=Yt[pn]>>8&65535;Yt[pn]=_r,_r>=cr&&(cr=_r+1)}}if(Li.h)break r;for(Tt=0;5>Tt;++Tt){var Tn=L5[Tt];!Tt&&0<rn&&(Tn+=1<<rn),nn<Tn&&(nn=Tn)}var ws=A(cr*hr,Q),Pi=cr,ys=A(Pi,oe);if(ys==null)var vs=null;else e(65536>=Pi),vs=ys;var Ji=s(nn);if(vs==null||Ji==null||ws==null){Qr.a=1;break r}var Bs=ws;for(pn=$t=0;pn<cr;++pn){var Ir=vs[pn],_s=Ir.G,uA=Ir.H,Wl=0,Ia=1,Jn=0;for(Tt=0;5>Tt;++Tt){Tn=L5[Tt],_s[Tt]=Bs,uA[Tt]=$t,!Tt&&0<rn&&(Tn+=1<<rn);i:{var Kp,Yw=Tn,Gp=Qr,rd=Ji,BL=Bs,_L=$t,Jw=0,bo=Gp.m,CL=pe(bo,1);if(i(rd,0,0,Yw),CL){var bL=pe(bo,1)+1,EL=pe(bo,1),K5=pe(bo,EL==0?1:8);rd[K5]=1,bL==2&&(rd[K5=pe(bo,8)]=1);var qp=1}else{var G5=s(19),q5=pe(bo,4)+4;if(19<q5){Gp.a=3;var zp=0;break i}for(Kp=0;Kp<q5;++Kp)G5[JQ[Kp]]=pe(bo,3);var Zw=void 0,nd=void 0,z5=Gp,xL=G5,Wp=Yw,W5=rd,e1=0,Eo=z5.m,$5=8,X5=A(128,Q);n:for(;T(X5,0,7,xL,19);){if(pe(Eo,1)){var IL=2+2*pe(Eo,3);if((Zw=2+pe(Eo,IL))>Wp)break n}else Zw=Wp;for(nd=0;nd<Wp&&Zw--;){ae(Eo);var Y5=X5[0+(127&te(Eo))];re(Eo,Eo.u+Y5.g);var ic=Y5.value;if(16>ic)W5[nd++]=ic,ic!=0&&($5=ic);else{var FL=ic==16,J5=ic-16,SL=XQ[J5],Z5=pe(Eo,$Q[J5])+SL;if(nd+Z5>Wp)break n;for(var NL=FL?$5:0;0<Z5--;)W5[nd++]=NL}}e1=1;break n}e1||(z5.a=3),qp=e1}(qp=qp&&!bo.h)&&(Jw=T(BL,_L,8,rd,Yw)),qp&&Jw!=0?zp=Jw:(Gp.a=3,zp=0)}if(zp==0)break r;if(Ia&&YQ[Tt]==1&&(Ia=Bs[$t].g==0),Wl+=Bs[$t].g,$t+=zp,3>=Tt){var id,t1=Ji[0];for(id=1;id<Tn;++id)Ji[id]>t1&&(t1=Ji[id]);Jn+=t1}}if(Ir.nd=Ia,Ir.Qb=0,Ia&&(Ir.qb=(_s[3][uA[3]+0].value<<24|_s[1][uA[1]+0].value<<16|_s[2][uA[2]+0].value)>>>0,Wl==0&&256>_s[0][uA[0]+0].value&&(Ir.Qb=1,Ir.qb+=_s[0][uA[0]+0].value<<8)),Ir.jc=!Ir.Qb&&6>Jn,Ir.jc){var $p,Fa=Ir;for($p=0;$p<GA;++$p){var xo=$p,Io=Fa.pd[xo],Xp=Fa.G[0][Fa.H[0]+xo];256<=Xp.value?(Io.g=Xp.g+256,Io.value=Xp.value):(Io.g=0,Io.value=0,xo>>=Cn(Xp,8,Io),xo>>=Cn(Fa.G[1][Fa.H[1]+xo],16,Io),xo>>=Cn(Fa.G[2][Fa.H[2]+xo],0,Io),Cn(Fa.G[3][Fa.H[3]+xo],24,Io))}}}Nn.vc=Yt,Nn.Wb=cr,Nn.Ya=vs,Nn.yc=ws,qe=1;break t}qe=0}if(!(H=qe)){N.a=3;break e}if(0<we){if(Z.ua=1<<we,!ne(Z.Wa,we)){N.a=1,H=0;break e}}else Z.ua=0;var r1=N,eC=j,TL=G,n1=r1.s,i1=n1.xc;if(r1.c=eC,r1.i=TL,n1.md=ke(eC,i1),n1.wc=i1==0?-1:(1<<i1)-1,v){N.xb=oL;break e}if((ue=s(j*G))==null){N.a=1,H=0;break e}H=(H=hi(N,ue,0,j,G,G,null))&&!W.h;break e}return H?(D!=null?D[0]=ue:(e(ue==null),e(v)),N.$=0,v||un(Z)):un(Z),H}function nA(c,g){var v=c.c*c.i,N=v+g+16*g;return e(c.c<=g),c.V=s(N),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+v+g,1)}function LA(c,g){var v=c.C,N=g-v,D=c.V,H=c.Ba+c.c*v;for(e(g<=c.l.o);0<N;){var j=16<N?16:N,G=c.l.ma,W=c.l.width,Z=W*j,ue=G.ca,we=G.tb+W*v,ee=c.Ta,ce=c.Ua;fa(c,j,D,H),x5(ee,ce,ue,we,Z),us(G,v,v+j,ue,we,W),N-=j,D+=j*c.c,v+=j}e(v==g),c.C=c.Ma=g}function pa(){this.ub=this.yd=this.td=this.Rb=0}function ga(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jh(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function PA(){this.Yb=function(){var c=[];return function g(v,N,D){for(var H=D[N],j=0;j<H&&(v.push(D.length>N+1?[]:0),!(D.length<N+1));j++)g(v[j],N+1,D)}(c,0,[3,11]),c}()}function Ll(){this.jb=s(3),this.Wc=a([4,8],PA),this.Xc=a([4,17],PA)}function lo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Mn(){this.ld=this.La=this.dd=this.tc=0}function hs(){this.Na=this.la=0}function uo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mn),this.Y=0,this.ya=Array(new Pl),this.aa=0,this.l=new kA}function Rl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Dl(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new pa,this.Kc=new ga,this.ed=new lo,this.Qa=new jh,this.Ic=this.$c=this.Aa=0,this.D=new kl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,M),this.ia=0,this.pb=A(4,uo),this.Pa=new Ll,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rl),this.Hd=0,this.rb=Array(new hs),this.sb=0,this.wa=Array(new Mn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pl),this.L=this.aa=0,this.gd=a([4,2],Mn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function kA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ol(){var c=new Dl;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,ed||(ed=iA)),c}function Xr(c,g,v){return c.a==0&&(c.a=g,c.sc=v,c.cb=0),0}function Ml(c,g,v){return 3<=v&&c[g+0]==157&&c[g+1]==1&&c[g+2]==42}function Xu(c,g){if(c==null)return 0;if(c.a=0,c.sc="OK",g==null)return Xr(c,2,"null VP8Io passed to VP8GetHeaders()");var v=g.data,N=g.w,D=g.ha;if(4>D)return Xr(c,7,"Truncated header.");var H=v[N+0]|v[N+1]<<8|v[N+2]<<16,j=c.Od;if(j.Rb=!(1&H),j.td=H>>1&7,j.yd=H>>4&1,j.ub=H>>5,3<j.td)return Xr(c,3,"Incorrect keyframe parameters.");if(!j.yd)return Xr(c,4,"Frame not displayable.");N+=3,D-=3;var G=c.Kc;if(j.Rb){if(7>D)return Xr(c,7,"cannot parse picture header");if(!Ml(v,N,D))return Xr(c,3,"Bad code word");G.c=16383&(v[N+4]<<8|v[N+3]),G.Td=v[N+4]>>6,G.i=16383&(v[N+6]<<8|v[N+5]),G.Ud=v[N+6]>>6,N+=7,D-=7,c.za=G.c+15>>4,c.Ub=G.i+15>>4,g.width=G.c,g.height=G.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((H=c.Pa).jb,0,255,H.jb.length),e((H=c.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(j.ub>D)return Xr(c,7,"bad partition length");le(H=c.m,v,N,j.ub),N+=j.ub,D-=j.ub,j.Rb&&(G.Ld=Be(H),G.Kd=Be(H)),G=c.Qa;var W,Z=c.Pa;if(e(H!=null),e(G!=null),G.Cb=Be(H),G.Cb){if(G.Bb=Be(H),Be(H)){for(G.Fb=Be(H),W=0;4>W;++W)G.Zb[W]=Be(H)?K(H,7):0;for(W=0;4>W;++W)G.Lb[W]=Be(H)?K(H,6):0}if(G.Bb)for(W=0;3>W;++W)Z.jb[W]=Be(H)?ie(H,8):255}else G.Bb=0;if(H.Ka)return Xr(c,3,"cannot parse segment header");if((G=c.ed).zd=Be(H),G.Tb=ie(H,6),G.wb=ie(H,3),G.Pc=Be(H),G.Pc&&Be(H)){for(Z=0;4>Z;++Z)Be(H)&&(G.vd[Z]=K(H,6));for(Z=0;4>Z;++Z)Be(H)&&(G.od[Z]=K(H,6))}if(c.L=G.Tb==0?0:G.zd?1:2,H.Ka)return Xr(c,3,"cannot parse filter header");var ue=D;if(D=W=N,N=W+ue,G=ue,c.Xb=(1<<ie(c.m,2))-1,ue<3*(Z=c.Xb))v=7;else{for(W+=3*Z,G-=3*Z,ue=0;ue<Z;++ue){var we=v[D+0]|v[D+1]<<8|v[D+2]<<16;we>G&&(we=G),le(c.Jc[+ue],v,W,we),W+=we,G-=we,D+=3}le(c.Jc[+Z],v,W,G),v=W<N?0:5}if(v!=0)return Xr(c,v,"cannot parse partitions");for(v=ie(W=c.m,7),D=Be(W)?K(W,4):0,N=Be(W)?K(W,4):0,G=Be(W)?K(W,4):0,Z=Be(W)?K(W,4):0,W=Be(W)?K(W,4):0,ue=c.Qa,we=0;4>we;++we){if(ue.Cb){var ee=ue.Zb[we];ue.Fb||(ee+=v)}else{if(0<we){c.pb[we]=c.pb[0];continue}ee=v}var ce=c.pb[we];ce.Sc[0]=Ww[jt(ee+D,127)],ce.Sc[1]=$w[jt(ee+0,127)],ce.Eb[0]=2*Ww[jt(ee+N,127)],ce.Eb[1]=101581*$w[jt(ee+G,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=Ww[jt(ee+Z,117)],ce.Qc[1]=$w[jt(ee+W,127)],ce.lc=ee+W}if(!j.Rb)return Xr(c,4,"Not a key frame.");for(Be(H),j=c.Pa,v=0;4>v;++v){for(D=0;8>D;++D)for(N=0;3>N;++N)for(G=0;11>G;++G)Z=xe(H,AL[v][D][N][G])?ie(H,8):iL[v][D][N][G],j.Wc[v][D].Yb[N][G]=Z;for(D=0;17>D;++D)j.Xc[v][D]=j.Wc[v][aL[D]]}return c.kc=Be(H),c.kc&&(c.Bd=ie(H,8)),c.cb=1}function iA(c,g,v,N,D,H,j){var G=g[D].Yb[v];for(v=0;16>D;++D){if(!xe(c,G[v+0]))return D;for(;!xe(c,G[v+1]);)if(G=g[++D].Yb[0],v=0,D==16)return 16;var W=g[D+1].Yb;if(xe(c,G[v+2])){var Z=c,ue=0;if(xe(Z,(ee=G)[(we=v)+3]))if(xe(Z,ee[we+6])){for(G=0,we=2*(ue=xe(Z,ee[we+8]))+(ee=xe(Z,ee[we+9+ue])),ue=0,ee=rL[we];ee[G];++G)ue+=ue+xe(Z,ee[G]);ue+=3+(8<<we)}else xe(Z,ee[we+7])?(ue=7+2*xe(Z,165),ue+=xe(Z,145)):ue=5+xe(Z,159);else ue=xe(Z,ee[we+4])?3+xe(Z,ee[we+5]):2;G=W[2]}else ue=1,G=W[1];W=j+nL[D],0>(Z=c).b&&_e(Z);var we,ee=Z.b,ce=(we=Z.Ca>>1)-(Z.I>>ee)>>31;--Z.b,Z.Ca+=ce,Z.Ca|=1,Z.I-=(we+1&ce)<<ee,H[W]=((ue^ce)-ce)*N[(0<D)+0]}return 16}function RA(c){var g=c.rb[c.sb-1];g.la=0,g.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Gi(c,g,v,N,D){D=c[g+v+32*N]+(D>>3),c[g+v+32*N]=-256&D?0>D?0:255:D}function ma(c,g,v,N,D,H){Gi(c,g,0,v,N+D),Gi(c,g,1,v,N+H),Gi(c,g,2,v,N-H),Gi(c,g,3,v,N-D)}function lr(c){return(20091*c>>16)+c}function Ni(c,g,v,N){var D,H=0,j=s(16);for(D=0;4>D;++D){var G=c[g+0]+c[g+8],W=c[g+0]-c[g+8],Z=(35468*c[g+4]>>16)-lr(c[g+12]),ue=lr(c[g+4])+(35468*c[g+12]>>16);j[H+0]=G+ue,j[H+1]=W+Z,j[H+2]=W-Z,j[H+3]=G-ue,H+=4,g++}for(D=H=0;4>D;++D)G=(c=j[H+0]+4)+j[H+8],W=c-j[H+8],Z=(35468*j[H+4]>>16)-lr(j[H+12]),Gi(v,N,0,0,G+(ue=lr(j[H+4])+(35468*j[H+12]>>16))),Gi(v,N,1,0,W+Z),Gi(v,N,2,0,W-Z),Gi(v,N,3,0,G-ue),H++,N+=32}function co(c,g,v,N){var D=c[g+0]+4,H=35468*c[g+4]>>16,j=lr(c[g+4]),G=35468*c[g+1]>>16;ma(v,N,0,D+j,c=lr(c[g+1]),G),ma(v,N,1,D+H,c,G),ma(v,N,2,D-H,c,G),ma(v,N,3,D-j,c,G)}function ho(c,g,v,N,D){Ni(c,g,v,N),D&&Ni(c,g+16,v,N+4)}function Yu(c,g,v,N){fn(c,g+0,v,N,1),fn(c,g+32,v,N+128,1)}function Ht(c,g,v,N){var D;for(c=c[g+0]+4,D=0;4>D;++D)for(g=0;4>g;++g)Gi(v,N,g,D,c)}function wa(c,g,v,N){c[g+0]&&$A(c,g+0,v,N),c[g+16]&&$A(c,g+16,v,N+4),c[g+32]&&$A(c,g+32,v,N+128),c[g+48]&&$A(c,g+48,v,N+128+4)}function DA(c,g,v,N){var D,H=s(16);for(D=0;4>D;++D){var j=c[g+0+D]+c[g+12+D],G=c[g+4+D]+c[g+8+D],W=c[g+4+D]-c[g+8+D],Z=c[g+0+D]-c[g+12+D];H[0+D]=j+G,H[8+D]=j-G,H[4+D]=Z+W,H[12+D]=Z-W}for(D=0;4>D;++D)j=(c=H[0+4*D]+3)+H[3+4*D],G=H[1+4*D]+H[2+4*D],W=H[1+4*D]-H[2+4*D],Z=c-H[3+4*D],v[N+0]=j+G>>3,v[N+16]=Z+W>>3,v[N+32]=j-G>>3,v[N+48]=Z-W>>3,N+=64}function qi(c,g,v){var N,D=g-32,H=ms,j=255-c[D-1];for(N=0;N<v;++N){var G,W=H,Z=j+c[g-1];for(G=0;G<v;++G)c[g+G]=W[Z+c[D+G]];g+=32}}function Hl(c,g){qi(c,g,4)}function Ju(c,g){qi(c,g,8)}function Vh(c,g){qi(c,g,16)}function Kh(c,g){var v;for(v=0;16>v;++v)n(c,g+32*v,c,g-32,16)}function jl(c,g){var v;for(v=16;0<v;--v)i(c,g,c[g-1],16),g+=32}function ya(c,g,v){var N;for(N=0;16>N;++N)i(g,v+32*N,c,16)}function zi(c,g){var v,N=16;for(v=0;16>v;++v)N+=c[g-1+32*v]+c[g+v-32];ya(N>>5,c,g)}function ks(c,g){var v,N=8;for(v=0;16>v;++v)N+=c[g-1+32*v];ya(N>>4,c,g)}function OA(c,g){var v,N=8;for(v=0;16>v;++v)N+=c[g+v-32];ya(N>>4,c,g)}function fo(c,g){ya(128,c,g)}function Bt(c,g,v){return c+2*g+v+2>>2}function MA(c,g){var v,N=g-32;for(N=new Uint8Array([Bt(c[N-1],c[N+0],c[N+1]),Bt(c[N+0],c[N+1],c[N+2]),Bt(c[N+1],c[N+2],c[N+3]),Bt(c[N+2],c[N+3],c[N+4])]),v=0;4>v;++v)n(c,g+32*v,N,0,N.length)}function Gh(c,g){var v=c[g-1],N=c[g-1+32],D=c[g-1+64],H=c[g-1+96];Qe(c,g+0,16843009*Bt(c[g-1-32],v,N)),Qe(c,g+32,16843009*Bt(v,N,D)),Qe(c,g+64,16843009*Bt(N,D,H)),Qe(c,g+96,16843009*Bt(D,H,H))}function qh(c,g){var v,N=4;for(v=0;4>v;++v)N+=c[g+v-32]+c[g-1+32*v];for(N>>=3,v=0;4>v;++v)i(c,g+32*v,N,4)}function zh(c,g){var v=c[g-1+0],N=c[g-1+32],D=c[g-1+64],H=c[g-1-32],j=c[g+0-32],G=c[g+1-32],W=c[g+2-32],Z=c[g+3-32];c[g+0+96]=Bt(N,D,c[g-1+96]),c[g+1+96]=c[g+0+64]=Bt(v,N,D),c[g+2+96]=c[g+1+64]=c[g+0+32]=Bt(H,v,N),c[g+3+96]=c[g+2+64]=c[g+1+32]=c[g+0+0]=Bt(j,H,v),c[g+3+64]=c[g+2+32]=c[g+1+0]=Bt(G,j,H),c[g+3+32]=c[g+2+0]=Bt(W,G,j),c[g+3+0]=Bt(Z,W,G)}function Hn(c,g){var v=c[g+1-32],N=c[g+2-32],D=c[g+3-32],H=c[g+4-32],j=c[g+5-32],G=c[g+6-32],W=c[g+7-32];c[g+0+0]=Bt(c[g+0-32],v,N),c[g+1+0]=c[g+0+32]=Bt(v,N,D),c[g+2+0]=c[g+1+32]=c[g+0+64]=Bt(N,D,H),c[g+3+0]=c[g+2+32]=c[g+1+64]=c[g+0+96]=Bt(D,H,j),c[g+3+32]=c[g+2+64]=c[g+1+96]=Bt(H,j,G),c[g+3+64]=c[g+2+96]=Bt(j,G,W),c[g+3+96]=Bt(G,W,W)}function sA(c,g){var v=c[g-1+0],N=c[g-1+32],D=c[g-1+64],H=c[g-1-32],j=c[g+0-32],G=c[g+1-32],W=c[g+2-32],Z=c[g+3-32];c[g+0+0]=c[g+1+64]=H+j+1>>1,c[g+1+0]=c[g+2+64]=j+G+1>>1,c[g+2+0]=c[g+3+64]=G+W+1>>1,c[g+3+0]=W+Z+1>>1,c[g+0+96]=Bt(D,N,v),c[g+0+64]=Bt(N,v,H),c[g+0+32]=c[g+1+96]=Bt(v,H,j),c[g+1+32]=c[g+2+96]=Bt(H,j,G),c[g+2+32]=c[g+3+96]=Bt(j,G,W),c[g+3+32]=Bt(G,W,Z)}function Wh(c,g){var v=c[g+0-32],N=c[g+1-32],D=c[g+2-32],H=c[g+3-32],j=c[g+4-32],G=c[g+5-32],W=c[g+6-32],Z=c[g+7-32];c[g+0+0]=v+N+1>>1,c[g+1+0]=c[g+0+64]=N+D+1>>1,c[g+2+0]=c[g+1+64]=D+H+1>>1,c[g+3+0]=c[g+2+64]=H+j+1>>1,c[g+0+32]=Bt(v,N,D),c[g+1+32]=c[g+0+96]=Bt(N,D,H),c[g+2+32]=c[g+1+96]=Bt(D,H,j),c[g+3+32]=c[g+2+96]=Bt(H,j,G),c[g+3+64]=Bt(j,G,W),c[g+3+96]=Bt(G,W,Z)}function po(c,g){var v=c[g-1+0],N=c[g-1+32],D=c[g-1+64],H=c[g-1+96];c[g+0+0]=v+N+1>>1,c[g+2+0]=c[g+0+32]=N+D+1>>1,c[g+2+32]=c[g+0+64]=D+H+1>>1,c[g+1+0]=Bt(v,N,D),c[g+3+0]=c[g+1+32]=Bt(N,D,H),c[g+3+32]=c[g+1+64]=Bt(D,H,H),c[g+3+64]=c[g+2+64]=c[g+0+96]=c[g+1+96]=c[g+2+96]=c[g+3+96]=H}function AA(c,g){var v=c[g-1+0],N=c[g-1+32],D=c[g-1+64],H=c[g-1+96],j=c[g-1-32],G=c[g+0-32],W=c[g+1-32],Z=c[g+2-32];c[g+0+0]=c[g+2+32]=v+j+1>>1,c[g+0+32]=c[g+2+64]=N+v+1>>1,c[g+0+64]=c[g+2+96]=D+N+1>>1,c[g+0+96]=H+D+1>>1,c[g+3+0]=Bt(G,W,Z),c[g+2+0]=Bt(j,G,W),c[g+1+0]=c[g+3+32]=Bt(v,j,G),c[g+1+32]=c[g+3+64]=Bt(N,v,j),c[g+1+64]=c[g+3+96]=Bt(D,N,v),c[g+1+96]=Bt(H,D,N)}function go(c,g){var v;for(v=0;8>v;++v)n(c,g+32*v,c,g-32,8)}function ds(c,g){var v;for(v=0;8>v;++v)i(c,g,c[g-1],8),g+=32}function Rs(c,g,v){var N;for(N=0;8>N;++N)i(g,v+32*N,c,8)}function va(c,g){var v,N=8;for(v=0;8>v;++v)N+=c[g+v-32]+c[g-1+32*v];Rs(N>>4,c,g)}function Vl(c,g){var v,N=4;for(v=0;8>v;++v)N+=c[g+v-32];Rs(N>>3,c,g)}function wr(c,g){var v,N=4;for(v=0;8>v;++v)N+=c[g-1+32*v];Rs(N>>3,c,g)}function Kl(c,g){Rs(128,c,g)}function Ba(c,g,v){var N=c[g-v],D=c[g+0],H=3*(D-N)+Vw[1020+c[g-2*v]-c[g+v]],j=Pp[112+(H+4>>3)];c[g-v]=ms[255+N+Pp[112+(H+3>>3)]],c[g+0]=ms[255+D-j]}function HA(c,g,v,N){var D=c[g+0],H=c[g+v];return Ms[255+c[g-2*v]-c[g-v]]>N||Ms[255+H-D]>N}function mo(c,g,v,N){return 4*Ms[255+c[g-v]-c[g+0]]+Ms[255+c[g-2*v]-c[g+v]]<=N}function _a(c,g,v,N,D){var H=c[g-3*v],j=c[g-2*v],G=c[g-v],W=c[g+0],Z=c[g+v],ue=c[g+2*v],we=c[g+3*v];return 4*Ms[255+G-W]+Ms[255+j-Z]>N?0:Ms[255+c[g-4*v]-H]<=D&&Ms[255+H-j]<=D&&Ms[255+j-G]<=D&&Ms[255+we-ue]<=D&&Ms[255+ue-Z]<=D&&Ms[255+Z-W]<=D}function jA(c,g,v,N){var D=2*N+1;for(N=0;16>N;++N)mo(c,g+N,v,D)&&Ba(c,g+N,v)}function VA(c,g,v,N){var D=2*N+1;for(N=0;16>N;++N)mo(c,g+N*v,1,D)&&Ba(c,g+N*v,1)}function Ti(c,g,v,N){var D;for(D=3;0<D;--D)jA(c,g+=4*v,v,N)}function wo(c,g,v,N){var D;for(D=3;0<D;--D)VA(c,g+=4,v,N)}function Ui(c,g,v,N,D,H,j,G){for(H=2*H+1;0<D--;){if(_a(c,g,v,H,j))if(HA(c,g,v,G))Ba(c,g,v);else{var W=c,Z=g,ue=v,we=W[Z-2*ue],ee=W[Z-ue],ce=W[Z+0],ge=W[Z+ue],Ie=W[Z+2*ue],me=27*(Te=Vw[1020+3*(ce-ee)+Vw[1020+we-ge]])+63>>7,Se=18*Te+63>>7,Te=9*Te+63>>7;W[Z-3*ue]=ms[255+W[Z-3*ue]+Te],W[Z-2*ue]=ms[255+we+Se],W[Z-ue]=ms[255+ee+me],W[Z+0]=ms[255+ce-me],W[Z+ue]=ms[255+ge-Se],W[Z+2*ue]=ms[255+Ie-Te]}g+=N}}function di(c,g,v,N,D,H,j,G){for(H=2*H+1;0<D--;){if(_a(c,g,v,H,j))if(HA(c,g,v,G))Ba(c,g,v);else{var W=c,Z=g,ue=v,we=W[Z-ue],ee=W[Z+0],ce=W[Z+ue],ge=Pp[112+(4+(Ie=3*(ee-we))>>3)],Ie=Pp[112+(Ie+3>>3)],me=ge+1>>1;W[Z-2*ue]=ms[255+W[Z-2*ue]+me],W[Z-ue]=ms[255+we+Ie],W[Z+0]=ms[255+ee-ge],W[Z+ue]=ms[255+ce-me]}g+=N}}function y(c,g,v,N,D,H){Ui(c,g,v,1,16,N,D,H)}function R(c,g,v,N,D,H){Ui(c,g,1,v,16,N,D,H)}function J(c,g,v,N,D,H){var j;for(j=3;0<j;--j)di(c,g+=4*v,v,1,16,N,D,H)}function Ae(c,g,v,N,D,H){var j;for(j=3;0<j;--j)di(c,g+=4,1,v,16,N,D,H)}function he(c,g,v,N,D,H,j,G){Ui(c,g,D,1,8,H,j,G),Ui(v,N,D,1,8,H,j,G)}function Ne(c,g,v,N,D,H,j,G){Ui(c,g,1,D,8,H,j,G),Ui(v,N,1,D,8,H,j,G)}function Le(c,g,v,N,D,H,j,G){di(c,g+4*D,D,1,8,H,j,G),di(v,N+4*D,D,1,8,H,j,G)}function $e(c,g,v,N,D,H,j,G){di(c,g+4,1,D,8,H,j,G),di(v,N+4,1,D,8,H,j,G)}function st(){this.ba=new sr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function St(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function qt(){this.ua=0,this.Wa=new xt,this.vb=new xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new Q}function br(){this.xb=this.a=0,this.l=new kA,this.ca=new sr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new qt,this.ab=0,this.gc=A(4,St),this.Oc=0}function Ur(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new kA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ar(c,g,v,N,D,H,j){for(c=c==null?0:c[g+0],g=0;g<j;++g)D[H+g]=c+v[N+g]&255,c=D[H+g]}function tn(c,g,v,N,D,H,j){var G;if(c==null)Ar(null,null,v,N,D,H,j);else for(G=0;G<j;++G)D[H+G]=c[g+G]+v[N+G]&255}function yr(c,g,v,N,D,H,j){if(c==null)Ar(null,null,v,N,D,H,j);else{var G,W=c[g+0],Z=W,ue=W;for(G=0;G<j;++G)Z=ue+(W=c[g+G])-Z,ue=v[N+G]+(-256&Z?0>Z?0:255:Z)&255,Z=W,D[H+G]=ue}}function bn(c,g,v,N){var D=g.width,H=g.o;if(e(c!=null&&g!=null),0>v||0>=N||v+N>H)return null;if(!c.Cc){if(c.ga==null){var j;if(c.ga=new Ur,(j=c.ga==null)||(j=g.width*g.o,e(c.Gb.length==0),c.Gb=s(j),c.Uc=0,c.Gb==null?j=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,j=1),j=!j),!j){j=c.ga;var G=c.Fa,W=c.P,Z=c.qc,ue=c.mb,we=c.nb,ee=W+1,ce=Z-1,ge=j.l;if(e(G!=null&&ue!=null&&g!=null),Co[0]=null,Co[1]=Ar,Co[2]=tn,Co[3]=yr,j.ca=ue,j.tb=we,j.c=g.width,j.i=g.height,e(0<j.c&&0<j.i),1>=Z)g=0;else if(j.$a=3&G[W+0],j.Z=G[W+0]>>2&3,j.Lc=G[W+0]>>4&3,W=G[W+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||W)g=0;else if(ge.put=gt,ge.ac=ui,ge.bc=Tr,ge.ma=j,ge.width=g.width,ge.height=g.height,ge.Da=g.Da,ge.v=g.v,ge.va=g.va,ge.j=g.j,ge.o=g.o,j.$a)e:{e(j.$a==1),g=QA();t:for(;;){if(g==null){g=0;break e}if(e(j!=null),j.mc=g,g.c=j.c,g.i=j.i,g.l=j.l,g.l.ma=j,g.l.width=j.c,g.l.height=j.i,g.a=0,se(g.m,G,ee,ce),!cs(j.c,j.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&ci(g.s)?(j.ic=1,G=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(G),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(j.ic=0,g=nA(g,j.c)),!g))break t;g=1;break e}j.mc=null,g=0}else g=ce>=j.c*j.i;j=!g}if(j)return null;c.ga.Lc!=1?c.Ga=0:N=H-v}e(c.ga!=null),e(v+N<=H);e:{if(g=(G=c.ga).c,H=G.l.o,G.$a==0){if(ee=c.rc,ce=c.Vc,ge=c.Fa,W=c.P+1+v*g,Z=c.mb,ue=c.nb+v*g,e(W<=c.P+c.qc),G.Z!=0)for(e(Co[G.Z]!=null),j=0;j<N;++j)Co[G.Z](ee,ce,ge,W,Z,ue,g),ee=Z,ce=ue,ue+=g,W+=g;else for(j=0;j<N;++j)n(Z,ue,ge,W,g),ee=Z,ce=ue,ue+=g,W+=g;c.rc=ee,c.Vc=ce}else{if(e(G.mc!=null),g=v+N,e((j=G.mc)!=null),e(g<=j.i),j.C>=g)g=1;else if(G.ic||cn(),G.ic){G=j.V,ee=j.Ba,ce=j.c;var Ie=j.i,me=(ge=1,W=j.$/ce,Z=j.$%ce,ue=j.m,we=j.s,j.$),Se=ce*Ie,Te=ce*g,De=we.wc,Pe=me<Te?Or(we,Z,W):null;e(me<=Se),e(g<=Ie),e(ci(we));t:for(;;){for(;!ue.h&&me<Te;){if(Z&De||(Pe=Or(we,Z,W)),e(Pe!=null),ae(ue),256>(Ie=Dr(Pe.G[0],Pe.H[0],ue)))G[ee+me]=Ie,++me,++Z>=ce&&(Z=0,++W<=g&&!(W%16)&&Si(j,W));else{if(!(280>Ie)){ge=0;break t}Ie=Dn(Ie-256,ue);var ht,rt=Dr(Pe.G[4],Pe.H[4],ue);if(ae(ue),!(me>=(rt=On(ce,rt=Dn(rt,ue)))&&Se-me>=Ie)){ge=0;break t}for(ht=0;ht<Ie;++ht)G[ee+me+ht]=G[ee+me+ht-rt];for(me+=Ie,Z+=Ie;Z>=ce;)Z-=ce,++W<=g&&!(W%16)&&Si(j,W);me<Te&&Z&De&&(Pe=Or(we,Z,W))}e(ue.h==$(ue))}Si(j,W>g?g:W);break t}!ge||ue.h&&me<Se?(ge=0,j.a=ue.h?5:3):j.$=me,g=ge}else g=hi(j,j.V,j.Ba,j.c,j.i,g,LA);if(!g){N=0;break e}}v+N>=H&&(c.Cc=1),N=1}if(!N)return null;if(c.Cc&&((N=c.ga)!=null&&(N.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+v*D}function Ds(c,g,v,N,D,H){for(;0<D--;){var j,G=c,W=g+(v?1:0),Z=c,ue=g+(v?0:3);for(j=0;j<N;++j){var we=Z[ue+4*j];we!=255&&(we*=32897,G[W+4*j+0]=G[W+4*j+0]*we>>23,G[W+4*j+1]=G[W+4*j+1]*we>>23,G[W+4*j+2]=G[W+4*j+2]*we>>23)}g+=H}}function aA(c,g,v,N,D){for(;0<N--;){var H;for(H=0;H<v;++H){var j=c[g+2*H+0],G=15&(Z=c[g+2*H+1]),W=4369*G,Z=(240&Z|Z>>4)*W>>16;c[g+2*H+0]=(240&j|j>>4)*W>>16&240|(15&j|j<<4)*W>>16>>4&15,c[g+2*H+1]=240&Z|G}g+=D}}function Zu(c,g,v,N,D,H,j,G){var W,Z,ue=255;for(Z=0;Z<D;++Z){for(W=0;W<N;++W){var we=c[g+W];H[j+4*W]=we,ue&=we}g+=v,j+=G}return ue!=255}function Ca(c,g,v,N,D){var H;for(H=0;H<D;++H)v[N+H]=c[g+H]>>8}function cn(){Zh=Ds,b5=aA,E5=Zu,x5=Ca}function Wi(c,g,v){x[c]=function(N,D,H,j,G,W,Z,ue,we,ee,ce,ge,Ie,me,Se,Te,De){var Pe,ht=De-1>>1,rt=G[W+0]|Z[ue+0]<<16,Lt=we[ee+0]|ce[ge+0]<<16;e(N!=null);var ot=3*rt+Lt+131074>>2;for(g(N[D+0],255&ot,ot>>16,Ie,me),H!=null&&(ot=3*Lt+rt+131074>>2,g(H[j+0],255&ot,ot>>16,Se,Te)),Pe=1;Pe<=ht;++Pe){var zt=G[W+Pe]|Z[ue+Pe]<<16,Sn=we[ee+Pe]|ce[ge+Pe]<<16,Pt=rt+zt+Lt+Sn+524296,lt=Pt+2*(zt+Lt)>>3;ot=lt+rt>>1,rt=(Pt=Pt+2*(rt+Sn)>>3)+zt>>1,g(N[D+2*Pe-1],255&ot,ot>>16,Ie,me+(2*Pe-1)*v),g(N[D+2*Pe-0],255&rt,rt>>16,Ie,me+(2*Pe-0)*v),H!=null&&(ot=Pt+Lt>>1,rt=lt+Sn>>1,g(H[j+2*Pe-1],255&ot,ot>>16,Se,Te+(2*Pe-1)*v),g(H[j+2*Pe+0],255&rt,rt>>16,Se,Te+(2*Pe+0)*v)),rt=zt,Lt=Sn}1&De||(ot=3*rt+Lt+131074>>2,g(N[D+De-1],255&ot,ot>>16,Ie,me+(De-1)*v),H!=null&&(ot=3*Lt+rt+131074>>2,g(H[j+De-1],255&ot,ot>>16,Se,Te+(De-1)*v)))}}function yo(){Hs[kp]=lL,Hs[Rp]=R5,Hs[U5]=uL,Hs[Dp]=D5,Hs[Op]=O5,Hs[Kw]=M5,Hs[Q5]=cL,Hs[Gw]=R5,Hs[qw]=D5,Hs[Mp]=O5,Hs[zw]=M5}function fs(c){return c&-16384?0>c?0:255:c>>hL}function h(c,g){return fs((19077*c>>8)+(26149*g>>8)-14234)}function C(c,g,v){return fs((19077*c>>8)-(6419*g>>8)-(13320*v>>8)+8708)}function P(c,g){return fs((19077*c>>8)+(33050*g>>8)-17685)}function q(c,g,v,N,D){N[D+0]=h(c,v),N[D+1]=C(c,g,v),N[D+2]=P(c,g)}function fe(c,g,v,N,D){N[D+0]=P(c,g),N[D+1]=C(c,g,v),N[D+2]=h(c,v)}function be(c,g,v,N,D){var H=C(c,g,v);g=H<<3&224|P(c,g)>>3,N[D+0]=248&h(c,v)|H>>5,N[D+1]=g}function Re(c,g,v,N,D){var H=240&P(c,g)|15;N[D+0]=240&h(c,v)|C(c,g,v)>>4,N[D+1]=H}function tr(c,g,v,N,D){N[D+0]=255,q(c,g,v,N,D+1)}function Mr(c,g,v,N,D){fe(c,g,v,N,D),N[D+3]=255}function Ot(c,g,v,N,D){q(c,g,v,N,D),N[D+3]=255}function jt(c,g){return 0>c?0:c>g?g:c}function ur(c,g,v){x[c]=function(N,D,H,j,G,W,Z,ue,we){for(var ee=ue+(-2&we)*v;ue!=ee;)g(N[D+0],H[j+0],G[W+0],Z,ue),g(N[D+1],H[j+0],G[W+0],Z,ue+v),D+=2,++j,++W,ue+=2*v;1&we&&g(N[D+0],H[j+0],G[W+0],Z,ue)}}function Os(c,g,v){return v==0?c==0?g==0?6:5:g==0?4:0:v}function $n(c,g,v,N,D){switch(c>>>30){case 3:fn(g,v,N,D,0);break;case 2:Ea(g,v,N,D);break;case 1:$A(g,v,N,D)}}function ps(c,g){var v,N,D=g.M,H=g.Nb,j=c.oc,G=c.pc+40,W=c.oc,Z=c.pc+584,ue=c.oc,we=c.pc+600;for(v=0;16>v;++v)j[G+32*v-1]=129;for(v=0;8>v;++v)W[Z+32*v-1]=129,ue[we+32*v-1]=129;for(0<D?j[G-1-32]=W[Z-1-32]=ue[we-1-32]=129:(i(j,G-32-1,127,21),i(W,Z-32-1,127,9),i(ue,we-32-1,127,9)),N=0;N<c.za;++N){var ee=g.ya[g.aa+N];if(0<N){for(v=-1;16>v;++v)n(j,G+32*v-4,j,G+32*v+12,4);for(v=-1;8>v;++v)n(W,Z+32*v-4,W,Z+32*v+4,4),n(ue,we+32*v-4,ue,we+32*v+4,4)}var ce=c.Gd,ge=c.Hd+N,Ie=ee.ad,me=ee.Hc;if(0<D&&(n(j,G-32,ce[ge].y,0,16),n(W,Z-32,ce[ge].f,0,8),n(ue,we-32,ce[ge].ea,0,8)),ee.Za){var Se=j,Te=G-32+16;for(0<D&&(N>=c.za-1?i(Se,Te,ce[ge].y[15],4):n(Se,Te,ce[ge+1].y,0,4)),v=0;4>v;v++)Se[Te+128+v]=Se[Te+256+v]=Se[Te+384+v]=Se[Te+0+v];for(v=0;16>v;++v,me<<=2)Se=j,Te=G+j5[v],oA[ee.Ob[v]](Se,Te),$n(me,Ie,16*+v,Se,Te)}else if(Se=Os(N,D,ee.Ob[0]),_o[Se](j,G),me!=0)for(v=0;16>v;++v,me<<=2)$n(me,Ie,16*+v,j,G+j5[v]);for(v=ee.Gc,Se=Os(N,D,ee.Dd),xa[Se](W,Z),xa[Se](ue,we),me=Ie,Se=W,Te=Z,255&(ee=0|v)&&(170&ee?nc(me,256,Se,Te):Jh(me,256,Se,Te)),ee=ue,me=we,255&(v>>=8)&&(170&v?nc(Ie,320,ee,me):Jh(Ie,320,ee,me)),D<c.Ub-1&&(n(ce[ge].y,0,j,G+480,16),n(ce[ge].f,0,W,Z+224,8),n(ce[ge].ea,0,ue,we+224,8)),v=8*H*c.B,ce=c.sa,ge=c.ta+16*N+16*H*c.R,Ie=c.qa,ee=c.ra+8*N+v,me=c.Ha,Se=c.Ia+8*N+v,v=0;16>v;++v)n(ce,ge+v*c.R,j,G+32*v,16);for(v=0;8>v;++v)n(Ie,ee+v*c.B,W,Z+32*v,8),n(me,Se+v*c.B,ue,we+32*v,8)}}function KA(c,g,v,N,D,H,j,G,W){var Z=[0],ue=[0],we=0,ee=W!=null?W.kd:0,ce=W??new yt;if(c==null||12>v)return 7;ce.data=c,ce.w=g,ce.ha=v,g=[g],v=[v],ce.gb=[ce.gb];e:{var ge=g,Ie=v,me=ce.gb;if(e(c!=null),e(Ie!=null),e(me!=null),me[0]=0,12<=Ie[0]&&!r(c,ge[0],"RIFF")){if(r(c,ge[0]+8,"WEBP")){me=3;break e}var Se=Ce(c,ge[0]+4);if(12>Se||4294967286<Se){me=3;break e}if(ee&&Se>Ie[0]-8){me=7;break e}me[0]=Se,ge[0]+=12,Ie[0]-=12}me=0}if(me!=0)return me;for(Se=0<ce.gb[0],v=v[0];;){e:{var Te=c;Ie=g,me=v;var De=Z,Pe=ue,ht=ge=[0];if((ot=we=[we])[0]=0,8>me[0])me=7;else{if(!r(Te,Ie[0],"VP8X")){if(Ce(Te,Ie[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var rt=Ce(Te,Ie[0]+8),Lt=1+He(Te,Ie[0]+12);if(2147483648<=Lt*(Te=1+He(Te,Ie[0]+15))){me=3;break e}ht!=null&&(ht[0]=rt),De!=null&&(De[0]=Lt),Pe!=null&&(Pe[0]=Te),Ie[0]+=18,me[0]-=18,ot[0]=1}me=0}}if(we=we[0],ge=ge[0],me!=0)return me;if(Ie=!!(2&ge),!Se&&we)return 3;if(H!=null&&(H[0]=!!(16&ge)),j!=null&&(j[0]=Ie),G!=null&&(G[0]=0),j=Z[0],ge=ue[0],we&&Ie&&W==null){me=0;break}if(4>v){me=7;break}if(Se&&we||!Se&&!we&&!r(c,g[0],"ALPH")){v=[v],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{rt=c,me=g,Se=v;var ot=ce.gb;De=ce.na,Pe=ce.P,ht=ce.Sa,Lt=22,e(rt!=null),e(Se!=null),Te=me[0];var zt=Se[0];for(e(De!=null),e(ht!=null),De[0]=null,Pe[0]=null,ht[0]=0;;){if(me[0]=Te,Se[0]=zt,8>zt){me=7;break e}var Sn=Ce(rt,Te+4);if(4294967286<Sn){me=3;break e}var Pt=8+Sn+1&-2;if(Lt+=Pt,0<ot&&Lt>ot){me=3;break e}if(!r(rt,Te,"VP8 ")||!r(rt,Te,"VP8L")){me=0;break e}if(zt[0]<Pt){me=7;break e}r(rt,Te,"ALPH")||(De[0]=rt,Pe[0]=Te+8,ht[0]=Sn),Te+=Pt,zt-=Pt}}if(v=v[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],me!=0)break}v=[v],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(ot=c,me=g,Se=v,De=ce.gb[0],Pe=ce.Ja,ht=ce.xa,rt=me[0],Te=!r(ot,rt,"VP8 "),Lt=!r(ot,rt,"VP8L"),e(ot!=null),e(Se!=null),e(Pe!=null),e(ht!=null),8>Se[0])me=7;else{if(Te||Lt){if(ot=Ce(ot,rt+4),12<=De&&ot>De-12){me=3;break e}if(ee&&ot>Se[0]-8){me=7;break e}Pe[0]=ot,me[0]+=8,Se[0]-=8,ht[0]=Lt}else ht[0]=5<=Se[0]&&ot[rt+0]==47&&!(ot[rt+4]>>5),Pe[0]=Se[0];me=0}if(v=v[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],g=g[0],me!=0)break;if(4294967286<ce.Ja)return 3;if(G==null||Ie||(G[0]=ce.xa?2:1),j=[j],ge=[ge],ce.xa){if(5>v){me=7;break}G=j,ee=ge,Ie=H,c==null||5>v?c=0:5<=v&&c[g+0]==47&&!(c[g+4]>>5)?(Se=[0],ot=[0],De=[0],se(Pe=new X,c,g,v),Ps(Pe,Se,ot,De)?(G!=null&&(G[0]=Se[0]),ee!=null&&(ee[0]=ot[0]),Ie!=null&&(Ie[0]=De[0]),c=1):c=0):c=0}else{if(10>v){me=7;break}G=ge,c==null||10>v||!Ml(c,g+3,v-3)?c=0:(ee=c[g+0]|c[g+1]<<8|c[g+2]<<16,Ie=16383&(c[g+7]<<8|c[g+6]),c=16383&(c[g+9]<<8|c[g+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=ce.Ja||!Ie||!c?c=0:(j&&(j[0]=Ie),G&&(G[0]=c),c=1))}if(!c||(j=j[0],ge=ge[0],we&&(Z[0]!=j||ue[0]!=ge)))return 3;W!=null&&(W[0]=ce,W.offset=g-W.w,e(4294967286>g-W.w),e(W.offset==W.ha-v));break}return me==0||me==7&&we&&W==null?(H!=null&&(H[0]|=ce.na!=null&&0<ce.na.length),N!=null&&(N[0]=j),D!=null&&(D[0]=ge),0):me}function $i(c,g,v){var N=g.width,D=g.height,H=0,j=0,G=N,W=D;if(g.Da=c!=null&&0<c.Da,g.Da&&(G=c.cd,W=c.bd,H=c.v,j=c.j,11>v||(H&=-2,j&=-2),0>H||0>j||0>=G||0>=W||H+G>N||j+W>D))return 0;if(g.v=H,g.j=j,g.va=H+G,g.o=j+W,g.U=G,g.T=W,g.da=c!=null&&0<c.da,g.da){if(!pt(G,W,v=[c.ib],H=[c.hb]))return 0;g.ib=v[0],g.hb=H[0]}return g.ob=c!=null&&c.ob,g.Kb=c==null||!c.Sd,g.da&&(g.ob=g.ib<3*N/4&&g.hb<3*D/4,g.Kb=0),1}function Xi(c){if(c==null)return 2;if(11>c.S){var g=c.f.RGBA;g.fb+=(c.height-1)*g.A,g.A=-g.A}else g=c.f.kb,c=c.height,g.O+=(c-1)*g.fa,g.fa=-g.fa,g.N+=(c-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(c-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(c-1)*g.lb,g.lb=-g.lb);return 0}function Gl(c,g,v,N){if(N==null||0>=c||0>=g)return 2;if(v!=null){if(v.Da){var D=v.cd,H=v.bd,j=-2&v.v,G=-2&v.j;if(0>j||0>G||0>=D||0>=H||j+D>c||G+H>g)return 2;c=D,g=H}if(v.da){if(!pt(c,g,D=[v.ib],H=[v.hb]))return 2;c=D[0],g=H[0]}}N.width=c,N.height=g;e:{var W=N.width,Z=N.height;if(c=N.S,0>=W||0>=Z||!(c>=kp&&13>c))c=2;else{if(0>=N.Rd&&N.sd==null){j=H=D=g=0;var ue=(G=W*V5[c])*Z;if(11>c||(H=(Z+1)/2*(g=(W+1)/2),c==12&&(j=(D=W)*Z)),(Z=s(ue+2*H+j))==null){c=1;break e}N.sd=Z,11>c?((W=N.f.RGBA).eb=Z,W.fb=0,W.A=G,W.size=ue):((W=N.f.kb).y=Z,W.O=0,W.fa=G,W.Fd=ue,W.f=Z,W.N=0+ue,W.Ab=g,W.Cd=H,W.ea=Z,W.W=0+ue+H,W.Db=g,W.Ed=H,c==12&&(W.F=Z,W.J=0+ue+2*H),W.Tc=j,W.lb=D)}if(g=1,D=N.S,H=N.width,j=N.height,D>=kp&&13>D)if(11>D)c=N.f.RGBA,g&=(G=Math.abs(c.A))*(j-1)+H<=c.size,g&=G>=H*V5[D],g&=c.eb!=null;else{c=N.f.kb,G=(H+1)/2,ue=(j+1)/2,W=Math.abs(c.fa),Z=Math.abs(c.Ab);var we=Math.abs(c.Db),ee=Math.abs(c.lb),ce=ee*(j-1)+H;g&=W*(j-1)+H<=c.Fd,g&=Z*(ue-1)+G<=c.Cd,g=(g&=we*(ue-1)+G<=c.Ed)&W>=H&Z>=G&we>=G,g&=c.y!=null,g&=c.f!=null,g&=c.ea!=null,D==12&&(g&=ee>=H,g&=ce<=c.Tc,g&=c.F!=null)}else g=0;c=g?0:2}}return c!=0||v!=null&&v.fd&&(c=Xi(N)),c}var GA=64,vo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$h=24,Bo=32,hn=8,jw=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),x.Predictor0=function(){return 4278190080},x.Predictor1=function(c){return c},x.Predictor2=function(c,g,v){return g[v+0]},x.Predictor3=function(c,g,v){return g[v+1]},x.Predictor4=function(c,g,v){return g[v-1]},x.Predictor5=function(c,g,v){return je(je(c,g[v+1]),g[v+0])},x.Predictor6=function(c,g,v){return je(c,g[v-1])},x.Predictor7=function(c,g,v){return je(c,g[v+0])},x.Predictor8=function(c,g,v){return je(g[v-1],g[v+0])},x.Predictor9=function(c,g,v){return je(g[v+0],g[v+1])},x.Predictor10=function(c,g,v){return je(je(c,g[v-1]),je(g[v+0],g[v+1]))},x.Predictor11=function(c,g,v){var N=g[v+0];return 0>=Ve(N>>24&255,c>>24&255,(g=g[v-1])>>24&255)+Ve(N>>16&255,c>>16&255,g>>16&255)+Ve(N>>8&255,c>>8&255,g>>8&255)+Ve(255&N,255&c,255&g)?N:c},x.Predictor12=function(c,g,v){var N=g[v+0];return(Ye((c>>24&255)+(N>>24&255)-((g=g[v-1])>>24&255))<<24|Ye((c>>16&255)+(N>>16&255)-(g>>16&255))<<16|Ye((c>>8&255)+(N>>8&255)-(g>>8&255))<<8|Ye((255&c)+(255&N)-(255&g)))>>>0},x.Predictor13=function(c,g,v){var N=g[v-1];return(tt((c=je(c,g[v+0]))>>24&255,N>>24&255)<<24|tt(c>>16&255,N>>16&255)<<16|tt(c>>8&255,N>>8&255)<<8|tt(255&c,255&N))>>>0};var qA=x.PredictorAdd0;x.PredictorAdd1=It,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var zA=x.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var ec,Xh=x.ColorIndexInverseTransform,tc=x.MapARGB,rc=x.VP8LColorIndexInverseTransformAlpha,ql=x.MapAlpha,zl=x.VP8LPredictorsAdd=[];zl.length=16,(x.VP8LPredictors=[]).length=16,(x.VP8LPredictorsAdd_C=[]).length=16,(x.VP8LPredictors_C=[]).length=16;var ba,Yh,gs,WA,Er,xr,dn,fn,Ea,nc,$A,Jh,h5,d5,f5,p5,g5,m5,w5,y5,v5,B5,_5,C5,Zh,b5,E5,x5,I5=s(511),F5=s(2041),S5=s(225),N5=s(767),T5=0,Vw=F5,Pp=S5,ms=N5,Ms=I5,kp=0,Rp=1,U5=2,Dp=3,Op=4,Kw=5,Q5=6,Gw=7,qw=8,Mp=9,zw=10,$Q=[2,3,7],XQ=[3,3,11],L5=[280,256,256,256,40],YQ=[0,1,1,1,0],JQ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ZQ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],eL=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tL=8,Ww=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$w=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ed=null,rL=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nL=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],P5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],iL=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sL=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],AL=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],aL=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_o=[],oA=[],xa=[],oL=1,k5=2,Co=[],Hs=[];Wi("UpsampleRgbLinePair",q,3),Wi("UpsampleBgrLinePair",fe,3),Wi("UpsampleRgbaLinePair",Ot,4),Wi("UpsampleBgraLinePair",Mr,4),Wi("UpsampleArgbLinePair",tr,4),Wi("UpsampleRgba4444LinePair",Re,2),Wi("UpsampleRgb565LinePair",be,2);var lL=x.UpsampleRgbLinePair,uL=x.UpsampleBgrLinePair,R5=x.UpsampleRgbaLinePair,D5=x.UpsampleBgraLinePair,O5=x.UpsampleArgbLinePair,M5=x.UpsampleRgba4444LinePair,cL=x.UpsampleRgb565LinePair,Hp=16,jp=1<<Hp-1,td=-227,Xw=482,hL=6,H5=0,dL=s(256),fL=s(256),pL=s(256),gL=s(256),mL=s(Xw-td),wL=s(Xw-td);ur("YuvToRgbRow",q,3),ur("YuvToBgrRow",fe,3),ur("YuvToRgbaRow",Ot,4),ur("YuvToBgraRow",Mr,4),ur("YuvToArgbRow",tr,4),ur("YuvToRgba4444Row",Re,2),ur("YuvToRgb565Row",be,2);var j5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vp=[0,2,8],yL=[8,7,6,4,4,2,2,2,1,1,1,1],vL=1;this.WebPDecodeRGBA=function(c,g,v,N,D){var H=Rp,j=new st,G=new sr;j.ba=G,G.S=H,G.width=[G.width],G.height=[G.height];var W=G.width,Z=G.height,ue=new vt;if(ue==null||c==null)var we=2;else e(ue!=null),we=KA(c,g,v,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(we!=0?W=0:(W!=null&&(W[0]=ue.width[0]),Z!=null&&(Z[0]=ue.height[0]),W=1),W){G.width=G.width[0],G.height=G.height[0],N!=null&&(N[0]=G.width),D!=null&&(D[0]=G.height);e:{if(N=new kA,(D=new yt).data=c,D.w=g,D.ha=v,D.kd=1,g=[0],e(D!=null),((c=KA(D.data,D.w,D.ha,null,null,null,g,null,D))==0||c==7)&&g[0]&&(c=4),(g=c)==0){if(e(j!=null),N.data=D.data,N.w=D.w+D.offset,N.ha=D.ha-D.offset,N.put=gt,N.ac=ui,N.bc=Tr,N.ma=j,D.xa){if((c=QA())==null){j=1;break e}if(function(ee,ce){var ge=[0],Ie=[0],me=[0];t:for(;;){if(ee==null)return 0;if(ce==null)return ee.a=2,0;if(ee.l=ce,ee.a=0,se(ee.m,ce.data,ce.w,ce.ha),!Ps(ee.m,ge,Ie,me)){ee.a=3;break t}if(ee.xb=k5,ce.width=ge[0],ce.height=Ie[0],!cs(ge[0],Ie[0],1,ee,null))break t;return 1}return e(ee.a!=0),0}(c,N)){if(N=(g=Gl(N.width,N.height,j.Oa,j.ba))==0){t:{N=c;r:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((v=N.l)!=null),e((D=v.ma)!=null),N.xb!=0){if(N.ca=D.ba,N.tb=D.tb,e(N.ca!=null),!$i(D.Oa,v,Dp)){N.a=2;break r}if(!nA(N,v.width)||v.da)break r;if((v.da||Ft(N.ca.S))&&cn(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&cn()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!ne(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!hi(N,N.V,N.Ba,N.c,N.i,v.o,UA))break r;D.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(g=c.a)}else g=c.a}else{if((c=new Ol)==null){j=1;break e}if(c.Fa=D.na,c.P=D.P,c.qc=D.Sa,Xu(c,N)){if((g=Gl(N.width,N.height,j.Oa,j.ba))==0){if(c.Aa=0,v=j.Oa,e((D=c)!=null),v!=null){if(0<(W=0>(W=v.Md)?0:100<W?255:255*W/100)){for(Z=ue=0;4>Z;++Z)12>(we=D.pb[Z]).lc&&(we.ia=W*yL[0>we.lc?0:we.lc]>>3),ue|=we.ia;ue&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=v.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(ee,ce){if(ee==null)return 0;if(ce==null)return Xr(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!Xu(ee,ce))return 0;if(e(ee.cb),ce.ac==null||ce.ac(ce)){ce.ob&&(ee.L=0);var ge=Vp[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=ce.v-ge>>4,ee.zb=ce.j-ge>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=ce.o+15+ge>>4,ee.Hb=ce.va+15+ge>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var Ie=ee.ed;for(ge=0;4>ge;++ge){var me;if(ee.Qa.Cb){var Se=ee.Qa.Lb[ge];ee.Qa.Fb||(Se+=Ie.Tb)}else Se=Ie.Tb;for(me=0;1>=me;++me){var Te=ee.gd[ge][me],De=Se;if(Ie.Pc&&(De+=Ie.vd[0],me&&(De+=Ie.od[0])),0<(De=0>De?0:63<De?63:De)){var Pe=De;0<Ie.wb&&(Pe=4<Ie.wb?Pe>>2:Pe>>1)>9-Ie.wb&&(Pe=9-Ie.wb),1>Pe&&(Pe=1),Te.dd=Pe,Te.tc=2*De+Pe,Te.ld=40<=De?2:15<=De?1:0}else Te.tc=0;Te.La=me}}}ge=0}else Xr(ee,6,"Frame setup failed"),ge=ee.a;if(ge=ge==0){if(ge){ee.$c=0,0<ee.Aa||(ee.Ic=vL);t:{ge=ee.Ic,Ie=4*(Pe=ee.za);var ht=32*Pe,rt=Pe+1,Lt=0<ee.L?Pe*(0<ee.Aa?2:1):0,ot=(ee.Aa==2?2:1)*Pe;if((Te=Ie+832+(me=3*(16*ge+Vp[ee.L])/2*ht)+(Se=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=Te)ge=0;else{if(Te>ee.Vb){if(ee.Vb=0,ee.Ec=s(Te),ee.Fc=0,ee.Ec==null){ge=Xr(ee,1,"no memory during frame initialization.");break t}ee.Vb=Te}Te=ee.Ec,De=ee.Fc,ee.Ac=Te,ee.Bc=De,De+=Ie,ee.Gd=A(ht,Rl),ee.Hd=0,ee.rb=A(rt+1,hs),ee.sb=1,ee.wa=Lt?A(Lt,Mn):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=Pe),e(!0),ee.oc=Te,ee.pc=De,De+=832,ee.ya=A(ot,Pl),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=Pe),ee.R=16*Pe,ee.B=8*Pe,Pe=(ht=Vp[ee.L])*ee.R,ht=ht/2*ee.B,ee.sa=Te,ee.ta=De+Pe,ee.qa=ee.sa,ee.ra=ee.ta+16*ge*ee.R+ht,ee.Ha=ee.qa,ee.Ia=ee.ra+8*ge*ee.B+ht,ee.$c=0,De+=me,ee.mb=Se?Te:null,ee.nb=Se?De:null,e(De+Se<=ee.Fc+ee.Vb),RA(ee),i(ee.Ac,ee.Bc,0,Ie),ge=1}}if(ge){if(ce.ka=0,ce.y=ee.sa,ce.O=ee.ta,ce.f=ee.qa,ce.N=ee.ra,ce.ea=ee.Ha,ce.Vd=ee.Ia,ce.fa=ee.R,ce.Rc=ee.B,ce.F=null,ce.J=0,!T5){for(ge=-255;255>=ge;++ge)I5[255+ge]=0>ge?-ge:ge;for(ge=-1020;1020>=ge;++ge)F5[1020+ge]=-128>ge?-128:127<ge?127:ge;for(ge=-112;112>=ge;++ge)S5[112+ge]=-16>ge?-16:15<ge?15:ge;for(ge=-255;510>=ge;++ge)N5[255+ge]=0>ge?0:255<ge?255:ge;T5=1}dn=DA,fn=ho,nc=Yu,$A=Ht,Jh=wa,Ea=co,h5=y,d5=R,f5=he,p5=Ne,g5=J,m5=Ae,w5=Le,y5=$e,v5=jA,B5=VA,_5=Ti,C5=wo,oA[0]=qh,oA[1]=Hl,oA[2]=MA,oA[3]=Gh,oA[4]=zh,oA[5]=sA,oA[6]=Hn,oA[7]=Wh,oA[8]=AA,oA[9]=po,_o[0]=zi,_o[1]=Vh,_o[2]=Kh,_o[3]=jl,_o[4]=ks,_o[5]=OA,_o[6]=fo,xa[0]=va,xa[1]=Ju,xa[2]=go,xa[3]=ds,xa[4]=wr,xa[5]=Vl,xa[6]=Kl,ge=1}else ge=0}ge&&(ge=function(zt,Sn){for(zt.M=0;zt.M<zt.Va;++zt.M){var Pt,lt=zt.Jc[zt.M&zt.Xb],qe=zt.m,pn=zt;for(Pt=0;Pt<pn.za;++Pt){var Tt=qe,$t=pn,Qr=$t.Ac,Xn=$t.Bc+4*Pt,Qi=$t.zc,rn=$t.ya[$t.aa+Pt];if($t.Qa.Bb?rn.$b=xe(Tt,$t.Pa.jb[0])?2+xe(Tt,$t.Pa.jb[2]):xe(Tt,$t.Pa.jb[1]):rn.$b=0,$t.kc&&(rn.Ad=xe(Tt,$t.Bd)),rn.Za=!xe(Tt,145)+0,rn.Za){var fi=rn.Ob,Li=0;for($t=0;4>$t;++$t){var Nn,Yt=Qi[0+$t];for(Nn=0;4>Nn;++Nn){Yt=sL[Qr[Xn+Nn]][Yt];for(var cr=P5[xe(Tt,Yt[0])];0<cr;)cr=P5[2*cr+xe(Tt,Yt[cr])];Yt=-cr,Qr[Xn+Nn]=Yt}n(fi,Li,Qr,Xn,4),Li+=4,Qi[0+$t]=Yt}}else Yt=xe(Tt,156)?xe(Tt,128)?1:3:xe(Tt,163)?2:0,rn.Ob[0]=Yt,i(Qr,Xn,Yt,4),i(Qi,0,Yt,4);rn.Dd=xe(Tt,142)?xe(Tt,114)?xe(Tt,183)?1:3:2:0}if(pn.m.Ka)return Xr(zt,7,"Premature end-of-partition0 encountered.");for(;zt.ja<zt.za;++zt.ja){if(pn=lt,Tt=(qe=zt).rb[qe.sb-1],Qr=qe.rb[qe.sb+qe.ja],Pt=qe.ya[qe.aa+qe.ja],Xn=qe.kc?Pt.Ad:0)Tt.la=Qr.la=0,Pt.Za||(Tt.Na=Qr.Na=0),Pt.Hc=0,Pt.Gc=0,Pt.ia=0;else{var nn,hr;if(Tt=Qr,Qr=pn,Xn=qe.Pa.Xc,Qi=qe.ya[qe.aa+qe.ja],rn=qe.pb[Qi.$b],$t=Qi.ad,fi=0,Li=qe.rb[qe.sb-1],Yt=Nn=0,i($t,fi,0,384),Qi.Za)var Yn=0,lA=Xn[3];else{cr=s(16);var gn=Tt.Na+Li.Na;if(gn=ed(Qr,Xn[1],gn,rn.Eb,0,cr,0),Tt.Na=Li.Na=(0<gn)+0,1<gn)dn(cr,0,$t,fi);else{var Yi=cr[0]+3>>3;for(cr=0;256>cr;cr+=16)$t[fi+cr]=Yi}Yn=1,lA=Xn[0]}var _r=15&Tt.la,Tn=15&Li.la;for(cr=0;4>cr;++cr){var ws=1&Tn;for(Yi=hr=0;4>Yi;++Yi)_r=_r>>1|(ws=(gn=ed(Qr,lA,gn=ws+(1&_r),rn.Sc,Yn,$t,fi))>Yn)<<7,hr=hr<<2|(3<gn?3:1<gn?2:$t[fi+0]!=0),fi+=16;_r>>=4,Tn=Tn>>1|ws<<7,Nn=(Nn<<8|hr)>>>0}for(lA=_r,Yn=Tn>>4,nn=0;4>nn;nn+=2){for(hr=0,_r=Tt.la>>4+nn,Tn=Li.la>>4+nn,cr=0;2>cr;++cr){for(ws=1&Tn,Yi=0;2>Yi;++Yi)gn=ws+(1&_r),_r=_r>>1|(ws=0<(gn=ed(Qr,Xn[2],gn,rn.Qc,0,$t,fi)))<<3,hr=hr<<2|(3<gn?3:1<gn?2:$t[fi+0]!=0),fi+=16;_r>>=2,Tn=Tn>>1|ws<<5}Yt|=hr<<4*nn,lA|=_r<<4<<nn,Yn|=(240&Tn)<<nn}Tt.la=lA,Li.la=Yn,Qi.Hc=Nn,Qi.Gc=Yt,Qi.ia=43690&Yt?0:rn.ia,Xn=!(Nn|Yt)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[Pt.$b][Pt.Za],qe.wa[qe.Y+qe.ja].La|=!Xn),pn.Ka)return Xr(zt,7,"Premature end-of-file encountered.")}if(RA(zt),qe=Sn,pn=1,Pt=(lt=zt).D,Tt=0<lt.L&&lt.M>=lt.zb&&lt.M<=lt.Va,lt.Aa==0)t:{if(Pt.M=lt.M,Pt.uc=Tt,ps(lt,Pt),pn=1,Pt=(hr=lt.D).Nb,Tt=(Yt=Vp[lt.L])*lt.R,Qr=Yt/2*lt.B,cr=16*Pt*lt.R,Yi=8*Pt*lt.B,Xn=lt.sa,Qi=lt.ta-Tt+cr,rn=lt.qa,$t=lt.ra-Qr+Yi,fi=lt.Ha,Li=lt.Ia-Qr+Yi,Tn=(_r=hr.M)==0,Nn=_r>=lt.Va-1,lt.Aa==2&&ps(lt,hr),hr.uc)for(ws=(gn=lt).D.M,e(gn.D.uc),hr=gn.yb;hr<gn.Hb;++hr){Yn=hr,lA=ws;var Pi=(ys=(Jn=gn).D).Nb;nn=Jn.R;var ys=ys.wa[ys.Y+Yn],vs=Jn.sa,Ji=Jn.ta+16*Pi*nn+16*Yn,Bs=ys.dd,Ir=ys.tc;if(Ir!=0)if(e(3<=Ir),Jn.L==1)0<Yn&&B5(vs,Ji,nn,Ir+4),ys.La&&C5(vs,Ji,nn,Ir),0<lA&&v5(vs,Ji,nn,Ir+4),ys.La&&_5(vs,Ji,nn,Ir);else{var _s=Jn.B,uA=Jn.qa,Wl=Jn.ra+8*Pi*_s+8*Yn,Ia=Jn.Ha,Jn=Jn.Ia+8*Pi*_s+8*Yn;Pi=ys.ld,0<Yn&&(d5(vs,Ji,nn,Ir+4,Bs,Pi),p5(uA,Wl,Ia,Jn,_s,Ir+4,Bs,Pi)),ys.La&&(m5(vs,Ji,nn,Ir,Bs,Pi),y5(uA,Wl,Ia,Jn,_s,Ir,Bs,Pi)),0<lA&&(h5(vs,Ji,nn,Ir+4,Bs,Pi),f5(uA,Wl,Ia,Jn,_s,Ir+4,Bs,Pi)),ys.La&&(g5(vs,Ji,nn,Ir,Bs,Pi),w5(uA,Wl,Ia,Jn,_s,Ir,Bs,Pi))}}if(lt.ia&&alert("todo:DitherRow"),qe.put!=null){if(hr=16*_r,_r=16*(_r+1),Tn?(qe.y=lt.sa,qe.O=lt.ta+cr,qe.f=lt.qa,qe.N=lt.ra+Yi,qe.ea=lt.Ha,qe.W=lt.Ia+Yi):(hr-=Yt,qe.y=Xn,qe.O=Qi,qe.f=rn,qe.N=$t,qe.ea=fi,qe.W=Li),Nn||(_r-=Yt),_r>qe.o&&(_r=qe.o),qe.F=null,qe.J=null,lt.Fa!=null&&0<lt.Fa.length&&hr<_r&&(qe.J=bn(lt,qe,hr,_r-hr),qe.F=lt.mb,qe.F==null&&qe.F.length==0)){pn=Xr(lt,3,"Could not decode alpha data.");break t}hr<qe.j&&(Yt=qe.j-hr,hr=qe.j,e(!(1&Yt)),qe.O+=lt.R*Yt,qe.N+=lt.B*(Yt>>1),qe.W+=lt.B*(Yt>>1),qe.F!=null&&(qe.J+=qe.width*Yt)),hr<_r&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=hr-qe.j,qe.U=qe.va-qe.v,qe.T=_r-hr,pn=qe.put(qe))}Pt+1!=lt.Ic||Nn||(n(lt.sa,lt.ta-Tt,Xn,Qi+16*lt.R,Tt),n(lt.qa,lt.ra-Qr,rn,$t+8*lt.B,Qr),n(lt.Ha,lt.Ia-Qr,fi,Li+8*lt.B,Qr))}if(!pn)return Xr(zt,6,"Output aborted.")}return 1}(ee,ce)),ce.bc!=null&&ce.bc(ce),ge&=1}return ge?(ee.cb=0,ge):0})(c,N)||(g=c.a)}}else g=c.a}g==0&&j.Oa!=null&&j.Oa.fd&&(g=Xi(j.ba))}j=g}H=j!=0?null:11>H?G.f.RGBA.eb:G.f.kb.y}else H=null;return H};var V5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(x,k){for(var S="",T=0;T<4;T++)S+=String.fromCharCode(x[k++]);return S}function u(x,k){return x[k+0]|x[k+1]<<8}function d(x,k){return(x[k+0]|x[k+1]<<8|x[k+2]<<16)>>>0}function m(x,k){return(x[k+0]|x[k+1]<<8|x[k+2]<<16|x[k+3]<<24)>>>0}new o;var p=[0],_=[0],E=[],B=new o,w=t,b=function(x,k){var S={},T=0,Q=!1,z=0,oe=0;if(S.frames=[],!function(M,X){for(var te=0;te<4;te++)if(M[X+te]!="RIFF".charCodeAt(te))return!0;return!1}(x,k)){for(m(x,k+=4),k+=8;k<x.length;){var le=l(x,k),ie=m(x,k+=4);k+=4;var K=ie+(1&ie);switch(le){case"VP8 ":case"VP8L":S.frames[T]===void 0&&(S.frames[T]={}),(pe=S.frames[T]).src_off=Q?oe:k-8,pe.src_size=z+ie+8,T++,Q&&(Q=!1,z=0,oe=0);break;case"VP8X":(pe=S.header={}).feature_flags=x[k];var se=k+4;pe.canvas_width=1+d(x,se),se+=3,pe.canvas_height=1+d(x,se),se+=3;break;case"ALPH":Q=!0,z=K+8,oe=k-8;break;case"ANIM":(pe=S.header).bgcolor=m(x,k),se=k+4,pe.loop_count=u(x,se),se+=2;break;case"ANMF":var de,pe;(pe=S.frames[T]={}).offset_x=2*d(x,k),k+=3,pe.offset_y=2*d(x,k),k+=3,pe.width=1+d(x,k),k+=3,pe.height=1+d(x,k),k+=3,pe.duration=d(x,k),k+=3,de=x[k++],pe.dispose=1&de,pe.blend=de>>1&1}le!="ANMF"&&(k+=K)}return S}}(w,0);b.response=w,b.rgbaoutput=!0,b.dataurl=!1;var I=b.header?b.header:null,U=b.frames?b.frames:null;if(I){I.loop_counter=I.loop_count,p=[I.canvas_height],_=[I.canvas_width];for(var V=0;V<U.length&&U[V].blend!=0;V++);}var O=U[0],L=B.WebPDecodeRGBA(w,O.src_off,O.src_size,_,p);O.rgba=L,O.imgwidth=_[0],O.imgheight=p[0];for(var F=0;F<_[0]*p[0]*4;F++)E[F]=L[F];return this.width=_,this.height=p,this.data=E,this}(function(t){var e,r,n,i,s,A,a,o,l,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new o,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new A,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new A,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,A=this.internal.Point,a=this.internal.Rectangle,o=this.internal.Matrix,l=new u}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=M;Object.defineProperty(this,"pdf",{get:function(){return X}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Ce){te=!!Ce}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(Ce){$=!!Ce}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(Ce){isNaN(Ce)||(re=Ce)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(Ce){isNaN(Ce)||(ae=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(Ce){var ne;typeof Ce=="number"?ne=[Ce,Ce,Ce,Ce]:((ne=new Array(4))[0]=Ce[0],ne[1]=Ce.length>=2?Ce[1]:ne[0],ne[2]=Ce.length>=3?Ce[2]:ne[0],ne[3]=Ce.length>=4?Ce[3]:ne[1]),l.margin=ne}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(Ce){_e=Ce}});var Be=0;Object.defineProperty(this,"lastBreak",{get:function(){return Be},set:function(Ce){Be=Ce}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(Ce){xe=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(Ce){Ce instanceof u&&(l=Ce)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(Ce){l.path=Ce}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(Ce){Qe=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var ne;ne=m(Ce),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var ne=m(Ce);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var Ee=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(Ce){Ee=null,He=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var ne;if(this.ctx.font=Ce,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var Qt=ne[1];ne[2];var xt=ne[3],pt=ne[4];ne[5];var ke=ne[6],ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pt)[2];pt=Math.floor(ve==="px"?parseFloat(pt)*this.pdf.internal.scaleFactor:ve==="em"?parseFloat(pt)*this.pdf.getFontSize():parseFloat(pt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pt);var Ue=function(wt){var dt,er,Wt=[],at=wt.trim();if(at==="")return Ny;if(at in s4)return[s4[at]];for(;at!=="";){switch(er=null,dt=(at=a4(at)).charAt(0)){case'"':case"'":er=YX(at.substring(1),dt);break;default:er=JX(at)}if(er===null||(Wt.push(er[0]),(at=a4(er[1]))!==""&&at.charAt(0)!==","))return Ny;at=at.replace(/^,/,"")}return Wt}(ke);if(this.fontFaces){var Ge=function(wt,dt){if(Ee===null){var er=function(Wt){var at=[];return Object.keys(Wt).forEach(function(Ct){Wt[Ct].forEach(function(or){var mt=null;switch(or){case"bold":mt={family:Ct,weight:"bold"};break;case"italic":mt={family:Ct,style:"italic"};break;case"bolditalic":mt={family:Ct,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:Ct}}mt!==null&&(mt.ref={name:Ct,style:or},at.push(mt))})}),at}(wt.getFontList());Ee=function(Wt){for(var at={},Ct=0;Ct<Wt.length;++Ct){var or=Sy(Wt[Ct]),mt=or.family,kt=or.stretch,Ft=or.style,Rr=or.weight;at[mt]=at[mt]||{},at[mt][kt]=at[mt][kt]||{},at[mt][kt][Ft]=at[mt][kt][Ft]||{},at[mt][kt][Ft][Rr]=or}return at}(er.concat(dt))}return Ee}(this.pdf,this.fontFaces),je=Ue.map(function(wt){return{family:wt,stretch:"normal",weight:xt,style:Qt}}),Ye=function(wt,dt,er){for(var Wt=(er=er||{}).defaultFontFamily||"times",at=Object.assign({},XX,er.genericFontFamilies||{}),Ct=null,or=null,mt=0;mt<dt.length;++mt)if(at[(Ct=Sy(dt[mt])).family]&&(Ct.family=at[Ct.family]),wt.hasOwnProperty(Ct.family)){or=wt[Ct.family];break}if(!(or=or||wt[Wt]))throw new Error("Could not find a font-family for the rule '"+A4(Ct)+"' and default family '"+Wt+"'.");if(or=function(kt,Ft){if(Ft[kt])return Ft[kt];var Rr=H2[kt],Nr=Rr<=H2.normal?-1:1,sr=i4(Ft,HQ,Rr,Nr);if(!sr)throw new Error("Could not find a matching font-stretch value for "+kt);return sr}(Ct.stretch,or),or=function(kt,Ft){if(Ft[kt])return Ft[kt];for(var Rr=MQ[kt],Nr=0;Nr<Rr.length;++Nr)if(Ft[Rr[Nr]])return Ft[Rr[Nr]];throw new Error("Could not find a matching font-style for "+kt)}(Ct.style,or),!(or=function(kt,Ft){if(Ft[kt])return Ft[kt];if(kt===400&&Ft[500])return Ft[500];if(kt===500&&Ft[400])return Ft[400];var Rr=$X[kt],Nr=i4(Ft,jQ,Rr,kt<400?-1:1);if(!Nr)throw new Error("Could not find a matching font-weight for value "+kt);return Nr}(Ct.weight,or)))throw new Error("Failed to resolve a font for the rule '"+A4(Ct)+"'.");return or}(Ge,je);this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var tt="";(xt==="bold"||parseInt(xt,10)>=700||Qt==="bold")&&(tt="bold"),Qt==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var Ve="",It={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<Ue.length;At++){if(this.pdf.internal.getFont(Ue[At],tt,{noFallback:!0,disableWarning:!0})!==void 0){Ve=Ue[At];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Ue[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=Ue[At],tt="bold";else if(this.pdf.internal.getFont(Ue[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=Ue[At],tt="normal";break}}if(Ve===""){for(var Ze=0;Ze<Ue.length;Ze++)if(It[Ue[Ze]]){Ve=It[Ue[Ze]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){U.call(this,"fill",!1)},d.prototype.stroke=function(){U.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,X){if(isNaN(M)||isNaN(X))throw Cr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new A(M,X));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new A(M,X)},d.prototype.closePath=function(){var M=new A(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&pr(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){M=new A(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(M.x,M.y)},d.prototype.lineTo=function(M,X){if(isNaN(M)||isNaN(X))throw Cr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new A(M,X));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new A(te.x,te.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,X,te,$){if(isNaN(te)||isNaN($)||isNaN(M)||isNaN(X))throw Cr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new A(te,$)),ae=this.ctx.transform.applyToPoint(new A(M,X));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:re.x,y:re.y}),this.ctx.lastPoint=new A(re.x,re.y)},d.prototype.bezierCurveTo=function(M,X,te,$,re,ae){if(isNaN(re)||isNaN(ae)||isNaN(M)||isNaN(X)||isNaN(te)||isNaN($))throw Cr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new A(re,ae)),Be=this.ctx.transform.applyToPoint(new A(M,X)),xe=this.ctx.transform.applyToPoint(new A(te,$));this.path.push({type:"bct",x1:Be.x,y1:Be.y,x2:xe.x,y2:xe.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new A(_e.x,_e.y)},d.prototype.arc=function(M,X,te,$,re,ae){if(isNaN(M)||isNaN(X)||isNaN(te)||isNaN($)||isNaN(re))throw Cr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new A(M,X));M=_e.x,X=_e.y;var Be=this.ctx.transform.applyToPoint(new A(0,te)),xe=this.ctx.transform.applyToPoint(new A(0,0));te=Math.sqrt(Math.pow(Be.x-xe.x,2)+Math.pow(Be.y-xe.y,2))}Math.abs(re-$)>=2*Math.PI&&($=0,re=2*Math.PI),this.path.push({type:"arc",x:M,y:X,radius:te,startAngle:$,endAngle:re,counterclockwise:ae})},d.prototype.arcTo=function(M,X,te,$,re){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,X,te,$){if(isNaN(M)||isNaN(X)||isNaN(te)||isNaN($))throw Cr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,X),this.lineTo(M+te,X),this.lineTo(M+te,X+$),this.lineTo(M,X+$),this.lineTo(M,X),this.lineTo(M+te,X),this.lineTo(M,X)},d.prototype.fillRect=function(M,X,te,$){if(isNaN(M)||isNaN(X)||isNaN(te)||isNaN($))throw Cr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,X,te,$),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},d.prototype.strokeRect=function(M,X,te,$){if(isNaN(M)||isNaN(X)||isNaN(te)||isNaN($))throw Cr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(M,X,te,$),this.stroke())},d.prototype.clearRect=function(M,X,te,$){if(isNaN(M)||isNaN(X)||isNaN(te)||isNaN($))throw Cr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,X,te,$))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(X),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(M){var X,te,$,re;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))X=0,te=0,$=0,re=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ae!==null)X=parseInt(ae[1]),te=parseInt(ae[2]),$=parseInt(ae[3]),re=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)X=parseInt(ae[1]),te=parseInt(ae[2]),$=parseInt(ae[3]),re=parseFloat(ae[4]);else{if(re=1,typeof M=="string"&&M.charAt(0)!=="#"){var _e=new QQ(M);M=_e.ok?_e.toHex():"#000000"}M.length===4?(X=M.substring(1,2),X+=X,te=M.substring(2,3),te+=te,$=M.substring(3,4),$+=$):(X=M.substring(1,3),te=M.substring(3,5),$=M.substring(5,7)),X=parseInt(X,16),te=parseInt(te,16),$=parseInt($,16)}}return{r:X,g:te,b:$,a:re,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,X,te,$){if(isNaN(X)||isNaN(te)||typeof M!="string")throw Cr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!p.call(this)){var re=K(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:M,x:X,y:te,scale:ae,angle:re,align:this.textAlign,maxWidth:$})}},d.prototype.strokeText=function(M,X,te,$){if(isNaN(X)||isNaN(te)||typeof M!="string")throw Cr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){$=isNaN($)?void 0:$;var re=K(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:M,x:X,y:te,scale:ae,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:$})}},d.prototype.measureText=function(M){if(typeof M!="string")throw Cr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,te=this.pdf.internal.scaleFactor,$=X.internal.getFontSize(),re=X.getStringUnitWidth(M)*$/X.internal.scaleFactor;return new function(ae){var _e=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:re*=Math.round(96*te/72*1e4)/1e4})},d.prototype.scale=function(M,X){if(isNaN(M)||isNaN(X))throw Cr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new o(M,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.rotate=function(M){if(isNaN(M))throw Cr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new o(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.translate=function(M,X){if(isNaN(M)||isNaN(X))throw Cr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new o(1,0,0,1,M,X);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.transform=function(M,X,te,$,re,ae){if(isNaN(M)||isNaN(X)||isNaN(te)||isNaN($)||isNaN(re)||isNaN(ae))throw Cr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new o(M,X,te,$,re,ae);this.ctx.transform=this.ctx.transform.multiply(_e)},d.prototype.setTransform=function(M,X,te,$,re,ae){M=isNaN(M)?1:M,X=isNaN(X)?0:X,te=isNaN(te)?0:te,$=isNaN($)?1:$,re=isNaN(re)?0:re,ae=isNaN(ae)?0:ae,this.ctx.transform=new o(M,X,te,$,re,ae)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,X,te,$,re,ae,_e,Be,xe){var Qe=this.pdf.getImageProperties(M),Ee=1,He=1,Ce=1,ne=1;$!==void 0&&Be!==void 0&&(Ce=Be/$,ne=xe/re,Ee=Qe.width/$*Be/$,He=Qe.height/re*xe/re),ae===void 0&&(ae=X,_e=te,X=0,te=0),$!==void 0&&Be===void 0&&(Be=$,xe=re),$===void 0&&Be===void 0&&(Be=Qe.width,xe=Qe.height);for(var Qt,xt=this.ctx.transform.decompose(),pt=K(xt.rotate.shx),ke=new o,ve=(ke=(ke=(ke=ke.multiply(xt.translate)).multiply(xt.skew)).multiply(xt.scale)).applyToRectangle(new a(ae-X*Ce,_e-te*ne,$*Ee,re*He)),Ue=B.call(this,ve),Ge=[],je=0;je<Ue.length;je+=1)Ge.indexOf(Ue[je])===-1&&Ge.push(Ue[je]);if(I(Ge),this.autoPaging)for(var Ye=Ge[0],tt=Ge[Ge.length-1],Ve=Ye;Ve<tt+1;Ve++){this.pdf.setPage(Ve);var It=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=Ve===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Ve===1?0:Ze+(Ve-2)*wt;if(this.ctx.clip_path.length!==0){var er=this.path;Qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Qt,this.posX+this.margin[3],-dt+At+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=er}var Wt=JSON.parse(JSON.stringify(ve));Wt=b([Wt],this.posX+this.margin[3],-dt+At+this.ctx.prevPageLastElemOffset)[0];var at=(Ve>Ye||Ve<tt)&&E.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,wt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,pt),at&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",ve.x,ve.y,ve.w,ve.h,null,null,pt)};var B=function(M,X,te){var $=[];X=X||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":$.push(Math.floor((M.y+re)/te)+1);break;case"arc":$.push(Math.floor((M.y+re-M.radius)/te)+1),$.push(Math.floor((M.y+re+M.radius)/te)+1);break;case"qct":var ae=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);$.push(Math.floor((ae.y+re)/te)+1),$.push(Math.floor((ae.y+ae.h+re)/te)+1);break;case"bct":var _e=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);$.push(Math.floor((_e.y+re)/te)+1),$.push(Math.floor((_e.y+_e.h+re)/te)+1);break;case"rect":$.push(Math.floor((M.y+re)/te)+1),$.push(Math.floor((M.y+M.h+re)/te)+1)}for(var Be=0;Be<$.length;Be+=1)for(;this.pdf.internal.getNumberOfPages()<$[Be];)w.call(this);return $},w=function(){var M=this.fillStyle,X=this.strokeStyle,te=this.font,$=this.lineCap,re=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=X,this.font=te,this.lineCap=$,this.lineWidth=re,this.lineJoin=ae},b=function(M,X,te){for(var $=0;$<M.length;$++)switch(M[$].type){case"bct":M[$].x2+=X,M[$].y2+=te;case"qct":M[$].x1+=X,M[$].y1+=te;default:M[$].x+=X,M[$].y+=te}return M},I=function(M){return M.sort(function(X,te){return X-te})},U=function(M,X){for(var te,$,re=this.fillStyle,ae=this.strokeStyle,_e=this.lineCap,Be=this.lineWidth,xe=Math.abs(Be*this.ctx.transform.scaleX),Qe=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),Ce=[],ne=0;ne<He.length;ne++)if(He[ne].x!==void 0)for(var Qt=B.call(this,He[ne]),xt=0;xt<Qt.length;xt+=1)Ce.indexOf(Qt[xt])===-1&&Ce.push(Qt[xt]);for(var pt=0;pt<Ce.length;pt++)for(;this.pdf.internal.getNumberOfPages()<Ce[pt];)w.call(this);if(I(Ce),this.autoPaging)for(var ke=Ce[0],ve=Ce[Ce.length-1],Ue=ke;Ue<ve+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=re,this.strokeStyle=ae,this.lineCap=_e,this.lineWidth=xe,this.lineJoin=Qe;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=Ue===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=Ue===1?0:Ye+(Ue-2)*tt;if(this.ctx.clip_path.length!==0){var It=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(te,this.posX+this.margin[3],-Ve+je+this.ctx.prevPageLastElemOffset),V.call(this,M,!0),this.path=It}if($=JSON.parse(JSON.stringify(Ee)),this.path=b($,this.posX+this.margin[3],-Ve+je+this.ctx.prevPageLastElemOffset),X===!1||Ue===0){var At=(Ue>ke||Ue<ve)&&E.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,tt,null).clip().discardPath()),V.call(this,M,X),At&&this.pdf.restoreGraphicsState()}this.lineWidth=Be}else this.lineWidth=xe,V.call(this,M,X),this.lineWidth=Be;this.path=Ee},V=function(M,X){if((M!=="stroke"||X||!_.call(this))&&(M==="stroke"||X||!p.call(this))){for(var te,$,re=[],ae=this.path,_e=0;_e<ae.length;_e++){var Be=ae[_e];switch(Be.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:Be,deltas:[],abs:[]});break;case"lt":var xe=re.length;if(ae[_e-1]&&!isNaN(ae[_e-1].x)&&(te=[Be.x-ae[_e-1].x,Be.y-ae[_e-1].y],xe>0)){for(;xe>=0;xe--)if(re[xe-1].close!==!0&&re[xe-1].begin!==!0){re[xe-1].deltas.push(te),re[xe-1].abs.push(Be);break}}break;case"bct":te=[Be.x1-ae[_e-1].x,Be.y1-ae[_e-1].y,Be.x2-ae[_e-1].x,Be.y2-ae[_e-1].y,Be.x-ae[_e-1].x,Be.y-ae[_e-1].y],re[re.length-1].deltas.push(te);break;case"qct":var Qe=ae[_e-1].x+2/3*(Be.x1-ae[_e-1].x),Ee=ae[_e-1].y+2/3*(Be.y1-ae[_e-1].y),He=Be.x+2/3*(Be.x1-Be.x),Ce=Be.y+2/3*(Be.y1-Be.y),ne=Be.x,Qt=Be.y;te=[Qe-ae[_e-1].x,Ee-ae[_e-1].y,He-ae[_e-1].x,Ce-ae[_e-1].y,ne-ae[_e-1].x,Qt-ae[_e-1].y],re[re.length-1].deltas.push(te);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(Be)}}$=X?null:M==="stroke"?"stroke":"fill";for(var xt=!1,pt=0;pt<re.length;pt++)if(re[pt].arc)for(var ke=re[pt].abs,ve=0;ve<ke.length;ve++){var Ue=ke[ve];Ue.type==="arc"?F.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,X,!xt):Q.call(this,Ue.x,Ue.y),xt=!0}else if(re[pt].close===!0)this.pdf.internal.out("h"),xt=!1;else if(re[pt].begin!==!0){var Ge=re[pt].start.x,je=re[pt].start.y;z.call(this,re[pt].deltas,Ge,je),xt=!0}$&&x.call(this,$),X&&k.call(this)}},O=function(M){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-te;case"top":return M+X-te;case"hanging":return M+X-2*te;case"middle":return M+X/2-te;default:return M}},L=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(X,te){this.colorStops.push([X,te])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(M,X,te,$,re,ae,_e,Be,xe){for(var Qe=le.call(this,te,$,re,ae),Ee=0;Ee<Qe.length;Ee++){var He=Qe[Ee];Ee===0&&(xe?S.call(this,He.x1+M,He.y1+X):Q.call(this,He.x1+M,He.y1+X)),oe.call(this,M,X,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}Be?k.call(this):x.call(this,_e)},x=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},k=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(M,X){this.pdf.internal.out(r(M)+" "+n(X)+" m")},T=function(M){var X;switch(M.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var te=this.pdf.getTextDimensions(M.text),$=O.call(this,M.y),re=L.call(this,$)-te.h,ae=this.ctx.transform.applyToPoint(new A(M.x,$)),_e=this.ctx.transform.decompose(),Be=new o;Be=(Be=(Be=Be.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var xe,Qe,Ee,He=this.ctx.transform.applyToRectangle(new a(M.x,$,te.w,te.h)),Ce=Be.applyToRectangle(new a(M.x,re,te.w,te.h)),ne=B.call(this,Ce),Qt=[],xt=0;xt<ne.length;xt+=1)Qt.indexOf(ne[xt])===-1&&Qt.push(ne[xt]);if(I(Qt),this.autoPaging)for(var pt=Qt[0],ke=Qt[Qt.length-1],ve=pt;ve<ke+1;ve++){this.pdf.setPage(ve);var Ue=ve===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],Ye=je-this.margin[0],tt=this.pdf.internal.pageSize.width-this.margin[1],Ve=tt-this.margin[3],It=ve===1?0:Ge+(ve-2)*Ye;if(this.ctx.clip_path.length!==0){var At=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(xe,this.posX+this.margin[3],-1*It+Ue),V.call(this,"fill",!0),this.path=At}var Ze=b([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-It+Ue+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*M.scale),Ee=this.lineWidth,this.lineWidth=Ee*M.scale);var wt=this.autoPaging!=="text";if(wt||Ze.y+Ze.h<=je){if(wt||Ze.y>=Ue&&Ze.x<=tt){var dt=wt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||tt-Ze.x)[0],er=b([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-It+Ue+this.ctx.prevPageLastElemOffset)[0],Wt=wt&&(ve>pt||ve<ke)&&E.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Ye,null).clip().discardPath()),this.pdf.text(dt,er.x,er.y,{angle:M.angle,align:X,renderingMode:M.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else Ze.y<je&&(this.ctx.prevPageLastElemOffset+=je-Ze.y);M.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=Ee)}else M.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*M.scale),Ee=this.lineWidth,this.lineWidth=Ee*M.scale),this.pdf.text(M.text,ae.x+this.posX,ae.y+this.posY,{angle:M.angle,align:X,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=Ee)},Q=function(M,X,te,$){te=te||0,$=$||0,this.pdf.internal.out(r(M+te)+" "+n(X+$)+" l")},z=function(M,X,te){return this.pdf.lines(M,X,te,null,null)},oe=function(M,X,te,$,re,ae,_e,Be){this.pdf.internal.out([e(i(te+M)),e(s($+X)),e(i(re+M)),e(s(ae+X)),e(i(_e+M)),e(s(Be+X)),"c"].join(" "))},le=function(M,X,te,$){for(var re=2*Math.PI,ae=Math.PI/2;X>te;)X-=re;var _e=Math.abs(te-X);_e<re&&$&&(_e=re-_e);for(var Be=[],xe=$?-1:1,Qe=X;_e>1e-5;){var Ee=Qe+xe*Math.min(_e,ae);Be.push(ie.call(this,M,Qe,Ee)),_e-=Math.abs(Ee-Qe),Qe=Ee}return Be},ie=function(M,X,te){var $=(te-X)/2,re=M*Math.cos($),ae=M*Math.sin($),_e=re,Be=-ae,xe=_e*_e+Be*Be,Qe=xe+_e*re+Be*ae,Ee=4/3*(Math.sqrt(2*xe*Qe)-Qe)/(_e*ae-Be*re),He=_e-Ee*Be,Ce=Be+Ee*_e,ne=He,Qt=-Ce,xt=$+X,pt=Math.cos(xt),ke=Math.sin(xt);return{x1:M*Math.cos(X),y1:M*Math.sin(X),x2:He*pt-Ce*ke,y2:He*ke+Ce*pt,x3:ne*pt-Qt*ke,y3:ne*ke+Qt*pt,x4:M*Math.cos(te),y4:M*Math.sin(te)}},K=function(M){return 180*M/Math.PI},se=function(M,X,te,$,re,ae){var _e=M+.5*(te-M),Be=X+.5*($-X),xe=re+.5*(te-re),Qe=ae+.5*($-ae),Ee=Math.min(M,re,_e,xe),He=Math.max(M,re,_e,xe),Ce=Math.min(X,ae,Be,Qe),ne=Math.max(X,ae,Be,Qe);return new a(Ee,Ce,He-Ee,ne-Ce)},de=function(M,X,te,$,re,ae,_e,Be){var xe,Qe,Ee,He,Ce,ne,Qt,xt,pt,ke,ve,Ue,Ge,je,Ye=te-M,tt=$-X,Ve=re-te,It=ae-$,At=_e-re,Ze=Be-ae;for(Qe=0;Qe<41;Qe++)pt=(Qt=(Ee=M+(xe=Qe/40)*Ye)+xe*((Ce=te+xe*Ve)-Ee))+xe*(Ce+xe*(re+xe*At-Ce)-Qt),ke=(xt=(He=X+xe*tt)+xe*((ne=$+xe*It)-He))+xe*(ne+xe*(ae+xe*Ze-ne)-xt),Qe==0?(ve=pt,Ue=ke,Ge=pt,je=ke):(ve=Math.min(ve,pt),Ue=Math.min(Ue,ke),Ge=Math.max(Ge,pt),je=Math.max(je,ke));return new a(Math.round(ve),Math.round(Ue),Math.round(Ge-ve),Math.round(je-Ue))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,X,te=(M=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:X}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(ut.API),function(t){var e=function(A){var a,o,l,u,d,m,p,_,E,B;for(o=[],l=0,u=(A+=a="\0\0\0\0".slice(A.length%4||4)).length;u>l;l+=4)(d=(A.charCodeAt(l)<<24)+(A.charCodeAt(l+1)<<16)+(A.charCodeAt(l+2)<<8)+A.charCodeAt(l+3))!==0?(m=(d=((d=((d=((d=(d-(B=d%85))/85)-(E=d%85))/85)-(_=d%85))/85)-(p=d%85))/85)%85,o.push(m+33,p+33,_+33,E+33,B+33)):o.push(122);return function(w,b){for(var I=b;I>0;I--)w.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(A){var a,o,l,u,d,m=String,p="length",_=255,E="charCodeAt",B="slice",w="replace";for(A[B](-2),A=A[B](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],u=0,d=(A+=a="uuuuu"[B](A[p]%5||5))[p];d>u;u+=5)o=52200625*(A[E](u)-33)+614125*(A[E](u+1)-33)+7225*(A[E](u+2)-33)+85*(A[E](u+3)-33)+(A[E](u+4)-33),l.push(_&o>>24,_&o>>16,_&o>>8,_&o);return function(b,I){for(var U=I;U>0;U--)b.pop()}(l,a[p]),m.fromCharCode.apply(m,l)},n=function(A){return A.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(A){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((A=A.replace(/\s/g,"")).indexOf(">")!==-1&&(A=A.substr(0,A.indexOf(">"))),A.length%2&&(A+="0"),a.test(A)===!1)return"";for(var o="",l=0;l<A.length;l+=2)o+=String.fromCharCode("0x"+(A[l]+A[l+1]));return o},s=function(A){for(var a=new Uint8Array(A.length),o=A.length;o--;)a[o]=A.charCodeAt(o);return(a=L2(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(A,a){var o=0,l=A||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=n(l),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ut.API),function(t){t.loadFile=function(e,r,n){return function(i,s,A){s=s!==!1,A=typeof A=="function"?A:function(){};var a=void 0;try{a=function(o,l,u){var d=new XMLHttpRequest,m=0,p=function(_){var E=_.length,B=[],w=String.fromCharCode;for(m=0;m<E;m+=1)B.push(w(255&_.charCodeAt(m)));return B.join("")};if(d.open("GET",o,!l),d.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(d.onload=function(){d.status===200?u(p(this.responseText)):u(void 0)}),d.send(null),l&&d.status===200)return p(d.responseText)}(i,s,A)}catch{}return a}(e,r,n)},t.loadImageFile=t.loadFile}(ut.API),function(t){function e(){return(bt.html2canvas?Promise.resolve(bt.html2canvas):ml(()=>Promise.resolve().then(()=>A5),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(bt.DOMPurify?Promise.resolve(bt.DOMPurify):ml(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=pr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o,l){for(var u=o.nodeType===3?document.createTextNode(o.nodeValue):o.cloneNode(!1),d=o.firstChild;d;d=d.nextSibling)l!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(a(d,l));return o.nodeType===1&&(o.nodeName==="CANVAS"?(u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0)):o.nodeName!=="TEXTAREA"&&o.nodeName!=="SELECT"||(u.value=o.value),u.addEventListener("load",function(){u.scrollTop=o.scrollTop,u.scrollLeft=o.scrollLeft},!0)),u},A=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return(u=u.setProgress(1,a,1,[a])).set(o)};(A.prototype=Object.create(Promise.prototype)).constructor=A,A.convert=function(a,o){return a.__proto__=o||A.prototype,a},A.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},A.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),o){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},A.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},A.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},A.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},A.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var _=u[p],E=_.src.find(function(B){return B.format==="truetype"});E&&l.addFont(E.url,_.ref.name,_.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,l.context2d.save(!0),o(this.prop.container,m)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},A.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},A.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},A.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},A.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},A.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},A.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},A.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},A.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in A.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},A.prototype.get=function(a,o){return this.then(function(){var l=a in A.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},A.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},A.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},A.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},A.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},A.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return l.updateProgress(null,u),m}).then(u,d).then(function(m){return l.updateProgress(1),m})})},A.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),o&&(o=o.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:A.convert(Object.assign({},u),Promise.prototype),m=l.call(d,a,o);return A.convert(m,u.__proto__)},A.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},A.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},A.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return A.convert(o,this)},A.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},A.prototype.error=function(a){return this.then(function(){throw new Error(a)})},A.prototype.using=A.prototype.set,A.prototype.saveAs=A.prototype.save,A.prototype.export=A.prototype.output,A.prototype.run=A.prototype.then,ut.getPageSize=function(a,o,l){if(pr(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var d,m=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var _,E=0,B=0;if(p.hasOwnProperty(m))E=p[m][1]/d,B=p[m][0]/d;else try{E=l[1],B=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",B>E&&(_=B,B=E,E=_);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",E>B&&(_=B,B=E,E=_)}return{width:B,height:E,unit:o,k:d,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Sy):null;var l=new A(o);return o.worker?l:l.from(a).doCallback()}}(ut.API),ut.API.addJS=function(t){return l4=t,this.internal.events.subscribe("postPutResources",function(){Jg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),o4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jg!==void 0&&o4!==void 0&&this.internal.out("/Names <</JavaScript "+Jg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var A=i[s],a=n.exec(A);if(a!=null){var o=a[1];r.internal.newObjectDeferredBegin(o,!1)}r.internal.write(A)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,u=[];for(s=0;s<l;s++){var d=r.internal.newObject();u.push(d);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var A={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(A),A},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var A=n.children[s];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var a=this.count=this.count_r({count:0},A);if(a>0&&this.line("/Count "+a),A.options&&A.options.pageNumber){var o=r.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(ut.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,A,a){var o,l=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=A||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,o=function(d){for(var m,p=256*d.charCodeAt(4)+d.charCodeAt(5),_=d.length,E={width:0,height:0,numcomponents:1},B=4;B<_;B+=2){if(B+=p,e.indexOf(d.charCodeAt(B+1))!==-1){m=256*d.charCodeAt(B+5)+d.charCodeAt(B+6),E={width:256*d.charCodeAt(B+7)+d.charCodeAt(B+8),height:m,numcomponents:d.charCodeAt(B+9)};break}p=256*d.charCodeAt(B+2)+d.charCodeAt(B+3)}return E}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),o.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:r,width:o.width,height:o.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:i}}return u}}(ut.API),ut.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=LX(t,{checkCrc:!0}),A=s.width,a=s.height,o=s.channels,l=s.palette,u=s.depth;i=l&&o===1?function(L){for(var F=L.width,x=L.height,k=L.data,S=L.palette,T=L.depth,Q=!1,z=[],oe=[],le=void 0,ie=!1,K=0,se=0;se<S.length;se++){var de=dI(S[se],4),pe=de[0],M=de[1],X=de[2],te=de[3];z.push(pe,M,X),te!=null&&(te===0?(K++,oe.length<1&&oe.push(se)):te<255&&(ie=!0))}if(ie||K>1){Q=!0,oe=void 0;var $=F*x;le=new Uint8Array($);for(var re=new DataView(k.buffer),ae=0;ae<$;ae++){var _e=Ty(re,ae,T),Be=dI(S[_e],4)[3];le[ae]=Be}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:k,alphaBytes:le,needSMask:Q,palette:z,mask:oe}}(s):o===2||o===4?function(L){for(var F=L.data,x=L.width,k=L.height,S=L.channels,T=L.depth,Q=S===2?"DeviceGray":"DeviceRGB",z=S-1,oe=x*k,le=z,ie=oe*le,K=1*oe,se=Math.ceil(ie*T/8),de=Math.ceil(K*T/8),pe=new Uint8Array(se),M=new Uint8Array(de),X=new DataView(F.buffer),te=new DataView(pe.buffer),$=new DataView(M.buffer),re=!1,ae=0;ae<oe;ae++){for(var _e=ae*S,Be=0;Be<le;Be++)w4(te,Ty(X,_e+Be,T),ae*le+Be,T);var xe=Ty(X,_e+le,T);xe<(1<<T)-1&&(re=!0),w4($,xe,1*ae,T)}return{colorSpace:Q,colorsPerPixel:z,colorBytes:pe,alphaBytes:M,needSMask:re}}(s):function(L){var F=L.data,x=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:x,colorsPerPixel:x==="DeviceGray"?1:3,colorBytes:F instanceof Uint8Array?F:new Uint8Array(F.buffer),needSMask:!1}}(s);var d,m,p,_=i,E=_.colorSpace,B=_.colorsPerPixel,w=_.colorBytes,b=_.alphaBytes,I=_.needSMask,U=_.palette,V=_.mask,O=null;return n!==ut.API.image_compression.NONE&&typeof L2=="function"?(O=function(L){var F;switch(L){case ut.API.image_compression.FAST:F=11;break;case ut.API.image_compression.MEDIUM:F=13;break;case ut.API.image_compression.SLOW:F=14;break;default:F=12}return F}(n),d=this.decode.FLATE_DECODE,m="/Predictor ".concat(O," "),t=d4(w,A*B,B,n),I&&(p=d4(b,A,1,n))):(d=void 0,m="",t=w,I&&(p=b)),m+="/Colors ".concat(B," /BitsPerComponent ").concat(u," /Columns ").concat(A),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:t,index:e,filter:d,decodeParameters:m,transparency:V,palette:U,sMask:p,predictor:O,width:A,height:a,bitsPerComponent:u,colorSpace:E}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new rY(e),A=s.width,a=s.height,o=[];s.decodeAndBlitFrameRGBA(0,o);var l={data:o,width:A,height:a},u=new Uy(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(ut.API),hA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hA.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Cr.log("bit decode error:"+r)}},hA.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var o=this.palette[s>>7-a&1];this.data[A+4*a]=o.blue,this.data[A+4*a+1]=o.green,this.data[A+4*a+2]=o.red,this.data[A+4*a+3]=255}r!==0&&(this.pos+=4-r)}},hA.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*i*4,a=s>>4,o=15&s,l=this.palette[a];if(this.data[A]=l.blue,this.data[A+1]=l.green,this.data[A+2]=l.red,this.data[A+3]=255,2*i+1>=this.width)break;l=this.palette[o],this.data[A+4]=l.blue,this.data[A+4+1]=l.green,this.data[A+4+2]=l.red,this.data[A+4+3]=255}e!==0&&(this.pos+=4-e)}},hA.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var A=this.palette[i];this.data[s]=A.red,this.data[s+1]=A.green,this.data[s+2]=A.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},hA.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,o=(s>>10&e)/e*255|0,l=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=A,this.data[u+3]=l}this.pos+=t}},hA.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(A&e)/e*255|0,o=(A>>5&r)/r*255|0,l=(A>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},hA.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=s,this.data[A+1]=i,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},hA.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=A}},hA.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new hA(e,!1),A=s.width,a=s.height,o={data:s.getData(),width:A,height:a},l=new Uy(100).encode(o,100);return t.processJPEG.call(this,l,r,n,i)}}(ut.API),v4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new v4(e),A=s.width,a=s.height,o={data:s.getData(),width:A,height:a},l=new Uy(100).encode(o,100);return t.processJPEG.call(this,l,r,n,i)}}(ut.API),ut.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),A=new Uint8Array(i/4),a=0,o=0,l=0;l<i;l+=4){var u=n[l],d=n[l+1],m=n[l+2],p=n[l+3];s[a++]=u,s[a++]=d,s[a++]=m,A[o++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:_,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ut.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},yc=ut.API,Zg=yc.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),A=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,o=a.fof?a.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=l.fof?l.fof:1,d=e.doKerning!==!1,m=0,p=t.length,_=0,E=a[0]||o,B=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?B.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+A*(1e3/s)||0)/1e3):(m=d&&pr(l[n])==="object"&&!isNaN(parseInt(l[n][_],10))?l[n][_]/u:0,B.push((a[n]||E)/o+m)),_=n;return B},u4=yc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return yc.processArabic&&(t=yc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Zg.apply(this,arguments).reduce(function(s,A){return s+A},0)},c4=function(t,e,r,n){for(var i=[],s=0,A=t.length,a=0;s!==A&&a+e[s]<r;)a+=e[s],s++;i.push(t.slice(0,s));var o=s;for(a=0;s!==A;)a+e[s]>n&&(i.push(t.slice(o,s)),a=0,o=s),a+=e[s],s++;return o!==s&&i.push(t.slice(o,s)),i},h4=function(t,e,r){r||(r={});var n,i,s,A,a,o,l,u=[],d=[u],m=r.textIndent||0,p=0,_=0,E=t.split(" "),B=Zg.apply(this,[" ",r])[0];if(o=r.lineIndent===-1?E[0].length+2:r.lineIndent||0){var w=Array(o).join(" "),b=[];E.map(function(U){(U=U.split(/\s*\n/)).length>1?b=b.concat(U.map(function(V,O){return(O&&V.length?`
`:"")+V})):b.push(U[0])}),E=b,o=u4.apply(this,[w,r])}for(s=0,A=E.length;s<A;s++){var I=0;if(n=E[s],o&&n[0]==`
`&&(n=n.substr(1),I=1),m+p+(_=(i=Zg.apply(this,[n,r])).reduce(function(U,V){return U+V},0))>e||I){if(_>e){for(a=c4.apply(this,[n,i,e-(m+p),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);_=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(U,V){return U+V},0)}else u=[n];d.push(u),m=_+o,p=B}else u.push(n),m+=p+_,p=B}return l=o?function(U,V){return(V?w:"")+U.join(" ")}:function(U){return U.join(" ")},d.map(l)},yc.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),m="Unicode";return d.metadata[m]?{widths:d.metadata[m].widths||{0:1},kerning:d.metadata[m].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var A=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,o,l=[];for(a=0,o=n.length;a<o;a++)l=l.concat(h4.apply(this,[n[a],A,s]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var A=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var p,_,E,B,w=["{"];for(var b in m){if(p=m[b],isNaN(parseInt(b,10))?_="'"+b+"'":(b=parseInt(b,10),_=(_=A(b).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof p=="number")p<0?(E=A(p).slice(3),B="-"):(E=A(p).slice(2),B=""),E=B+E.slice(0,-1)+i[E.slice(-1)];else{if(pr(p)!=="object")throw new Error("Don't know what to do with value type "+pr(p)+".");E=a(p)}w.push(_+E)}return w.push("}"),w.join("")},o=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,_,E,B,w={},b=1,I=w,U=[],V="",O="",L=m.length-1,F=1;F<L;F+=1)(B=m[F])=="'"?p?(E=p.join(""),p=void 0):p=[]:p?p.push(B):B=="{"?(U.push([I,E]),I={},E=void 0):B=="}"?((_=U.pop())[0][_[1]]=I,E=void 0,I=_[0]):B=="-"?b=-1:E===void 0?n.hasOwnProperty(B)?(V+=n[B],E=parseInt(V,16)*b,b=1,V=""):V+=B:n.hasOwnProperty(B)?(O+=n[B],I[E]=parseInt(O,16)*b,b=1,E=void 0,O=""):O+=B;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,_=d.Unicode[p.postScriptName];_&&(p.metadata.Unicode={},p.metadata.Unicode.widths=_.widths,p.metadata.Unicode.kerning=_.kerning);var E=u.Unicode[p.postScriptName];E&&(p.metadata.Unicode.encoding=E,p.encoding=E.codePages[0])}])}(ut.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(A,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Lm(a)),A.metadata=t.API.TTFFont.open(a),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(i,n)}}])}(ut),ut.API.addSvgAsImage=function(t,e,r,n,i,s,A,a){if(isNaN(e)||isNaN(r))throw Cr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Cr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var o=document.createElement("canvas");o.width=n,o.height=i;var l=o.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,o.width,o.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(bt.canvg?Promise.resolve(bt.canvg):ml(()=>import("./index.es-CdqFHRQQ.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(l,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){d.addImage(o.toDataURL("image/jpeg",1),e,r,n,i,A,a)})},ut.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},ut.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(A),o=[],l=0,u=0,d=0;function m(_,E){var B,w=!1;for(B=0;B<_.length;B+=1)_[B]===E&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(d=0;d<p;d+=1)r[a[d]].value=r[a[d]].defaultValue,r[a[d]].explicitSet=!1}if(pr(t)==="object"){for(i in t)if(s=t[i],m(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&m(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(l=0;l<s.length;l+=1)if(n=!0,s[l].length===1&&typeof s[l][0]=="number")o.push(String(s[l]-1));else if(s[l].length>1){for(u=0;u<s[l].length;u+=1)typeof s[l][u]!="number"&&(n=!1);n===!0&&o.push([s[l][0]-1,s[l][1]-1].join(" "))}r[i].value="["+o.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,E=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?E.push("/"+_+" /"+r[_].value):E.push("/"+_+" "+r[_].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),l=s.length+A.length+a.length+i.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+s+A+a+o),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(ut.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,A){for(var a,o=A.metadata.Unicode.widths,l=["","0","00","000","0000"],u=[""],d=0,m=s.length;d<m;++d){if(a=A.metadata.characterToGlyph(s.charCodeAt(d)),A.metadata.glyIdsUsed.push(a),A.metadata.toUnicode[a]=s.charCodeAt(d),o.indexOf(a)==-1&&(o.push(a),o.push([parseInt(A.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(l[4-a.length],a)}return u.join("")},n=function(s){var A,a,o,l,u,d,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,o=[],d=0,m=(a=Object.keys(s).sort(function(p,_){return p-_})).length;d<m;d++)A=a[d],o.length>=100&&(u+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar`,o=[]),s[A]!==void 0&&s[A]!==null&&typeof s[A].toString=="function"&&(l=("0000"+s[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),o.push("<"+A+"><"+l+">"));return o.length&&(u+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(A){var a=A.font,o=A.out,l=A.newObject,u=A.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",_=0;_<m.length;_++)p+=String.fromCharCode(m[_]);var E=l();u({data:p,addLength1:!0,objectId:E}),o("endobj");var B=l();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:B}),o("endobj");var w=l();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+Tc(a.fontName)),o("/FontFile2 "+E+" 0 R"),o("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),o("/Flags "+a.metadata.flags),o("/StemV "+a.metadata.stemV),o("/ItalicAngle "+a.metadata.italicAngle),o("/Ascent "+a.metadata.ascender),o("/Descent "+a.metadata.decender),o("/CapHeight "+a.metadata.capHeight),o(">>"),o("endobj");var b=l();o("<<"),o("/Type /Font"),o("/BaseFont /"+Tc(a.fontName)),o("/FontDescriptor "+w+" 0 R"),o("/W "+t.API.PDFObject.convert(d)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+a.encoding+")"),o(">>"),o(">>"),o("endobj"),a.objectNumber=l(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+B+" 0 R"),o("/BaseFont /"+Tc(a.fontName)),o("/Encoding /"+a.encoding),o("/DescendantFonts ["+b+" 0 R]"),o(">>"),o("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(A){var a=A.font,o=A.out,l=A.newObject,u=A.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,m="",p=0;p<d.length;p++)m+=String.fromCharCode(d[p]);var _=l();u({data:m,addLength1:!0,objectId:_}),o("endobj");var E=l();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:E}),o("endobj");var B=l();o("<<"),o("/Descent "+a.metadata.decender),o("/CapHeight "+a.metadata.capHeight),o("/StemV "+a.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+_+" 0 R"),o("/Flags 96"),o("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),o("/FontName /"+Tc(a.fontName)),o("/ItalicAngle "+a.metadata.italicAngle),o("/Ascent "+a.metadata.ascender),o(">>"),o("endobj"),a.objectNumber=l();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Tc(a.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),o("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var A,a=s.text||"",o=s.x,l=s.y,u=s.options||{},d=s.mutex||{},m=d.pdfEscape,p=d.activeFontKey,_=d.fonts,E=p,B="",w=0,b="",I=_[E].encoding;if(_[E].encoding!=="Identity-H")return{text:a,x:o,y:l,options:u,mutex:d};for(b=a,E=p,Array.isArray(a)&&(b=a[0]),w=0;w<b.length;w+=1)_[E].metadata.hasOwnProperty("cmap")&&(A=_[E].metadata.cmap.unicode.codeMap[b[w].charCodeAt(0)]),A||b[w].charCodeAt(0)<256&&_[E].metadata.hasOwnProperty("Unicode")?B+=b[w]:B+="";var U="";return parseInt(E.slice(1))<14||I==="WinAnsiEncoding"?U=m(B,E).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(U=r(B,_[E])),d.isHex=!0,{text:U,x:o,y:l,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var A=s.text||"",a=[],o={text:A,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(A)){var l=0;for(l=0;l<A.length;l+=1)Array.isArray(A[l])&&A[l].length===3?a.push([i(Object.assign({},o,{text:A[l][0]})).text,A[l][1],A[l][2]]):a.push(i(Object.assign({},o,{text:A[l]})).text);s.text=a}else s.text=i(Object.assign({},o,{text:A})).text}])}(ut),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ut.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,A,a,o,l,u,d=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,I=0;this.__bidiEngine__={};var U=function(S){var T=S.charCodeAt(),Q=T>>8,z=E[Q];return z!==void 0?d[256*z+(255&T)]:Q===252||Q===253?"AL":w.test(Q)?"L":Q===8?"R":"N"},V=function(S){for(var T,Q=0;Q<S.length;Q++){if((T=U(S.charAt(Q)))==="L")return!1;if(T==="R")return!0}return!1},O=function(S,T,Q,z){var oe,le,ie,K,se=T[z];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(se="AN");break;case"AL":b=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":z<1||z+1>=T.length||(oe=Q[z-1])!=="EN"&&oe!=="AN"||(le=T[z+1])!=="EN"&&le!=="AN"?se="N":b&&(le="AN"),se=le===oe?le:"N";break;case"ES":se=(oe=z>0?Q[z-1]:"B")==="EN"&&z+1<T.length&&T[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&Q[z-1]==="EN"){se="EN";break}if(b){se="N";break}for(ie=z+1,K=T.length;ie<K&&T[ie]==="ET";)ie++;se=ie<K&&T[ie]==="EN"?"EN":"N";break;case"NSM":if(A&&!a){for(K=T.length,ie=z+1;ie<K&&T[ie]==="NSM";)ie++;if(ie<K){var de=S[z],pe=de>=1425&&de<=2303||de===64286;if(oe=T[ie],pe&&(oe==="R"||oe==="AL")){se="R";break}}}se=z<1||(oe=T[z-1])==="B"?"N":Q[z-1];break;case"B":b=!1,i=!0,se=I;break;case"S":s=!0,se="N"}return se},L=function(S,T,Q){var z=S.split("");return Q&&F(z,Q,{hiLevel:I}),z.reverse(),T&&T.reverse(),z.join("")},F=function(S,T,Q){var z,oe,le,ie,K,se=-1,de=S.length,pe=0,M=[],X=I?p:m,te=[];for(b=!1,i=!1,s=!1,oe=0;oe<de;oe++)te[oe]=U(S[oe]);for(le=0;le<de;le++){if(K=pe,M[le]=O(S,te,M,le),z=240&(pe=X[K][_[M[le]]]),pe&=15,T[le]=ie=X[pe][5],z>0)if(z===16){for(oe=se;oe<le;oe++)T[oe]=1;se=-1}else se=-1;if(X[pe][6])se===-1&&(se=le);else if(se>-1){for(oe=se;oe<le;oe++)T[oe]=ie;se=-1}te[le]==="B"&&(T[le]=0),Q.hiLevel|=ie}s&&function($,re,ae){for(var _e=0;_e<ae;_e++)if($[_e]==="S"){re[_e]=I;for(var Be=_e-1;Be>=0&&$[Be]==="WS";Be--)re[Be]=I}}(te,T,de)},x=function(S,T,Q,z,oe){if(!(oe.hiLevel<S)){if(S===1&&I===1&&!i)return T.reverse(),void(Q&&Q.reverse());for(var le,ie,K,se,de=T.length,pe=0;pe<de;){if(z[pe]>=S){for(K=pe+1;K<de&&z[K]>=S;)K++;for(se=pe,ie=K-1;se<ie;se++,ie--)le=T[se],T[se]=T[ie],T[ie]=le,Q&&(le=Q[se],Q[se]=Q[ie],Q[ie]=le);pe=K}pe++}}},k=function(S,T,Q){var z=S.split(""),oe={hiLevel:I};return Q||(Q=[]),F(z,Q,oe),function(le,ie,K){if(K.hiLevel!==0&&u)for(var se,de=0;de<le.length;de++)ie[de]===1&&(se=B.indexOf(le[de]))>=0&&(le[de]=B[se+1])}(z,Q,oe),x(2,z,T,Q,oe),x(1,z,T,Q,oe),z.join("")};return this.__bidiEngine__.doBidiReorder=function(S,T,Q){if(function(oe,le){if(le)for(var ie=0;ie<oe.length;ie++)le[ie]=ie;a===void 0&&(a=V(oe)),l===void 0&&(l=V(oe))}(S,T),A||!o||l)if(A&&o&&a^l)I=a?1:0,S=L(S,T,Q);else if(!A&&o&&l)I=a?1:0,S=k(S,T,Q),S=L(S,T);else if(!A||a||o||l){if(A&&!o&&a^l)S=L(S,T),a?(I=0,S=k(S,T,Q)):(I=1,S=k(S,T,Q),S=L(S,T));else if(A&&a&&!o&&l)I=1,S=k(S,T,Q),S=L(S,T);else if(!A&&!o&&a^l){var z=u;a?(I=1,S=k(S,T,Q),I=0,u=!1,S=k(S,T,Q),u=z):(I=0,S=k(S,T,Q),S=L(S,T),I=1,u=!1,S=k(S,T,Q),u=z,S=L(S,T))}}else I=0,S=k(S,T,Q);else I=a?1:0,S=k(S,T,Q);return S},this.__bidiEngine__.setOptions=function(S){S&&(A=S.isInputVisual,o=S.isOutputVisual,a=S.isInputRtl,l=S.isOutputRtl,u=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var A=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(A=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?A.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):A.push([r.doBidiReorder(i[a])]);n.text=A}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(ut),ut.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new El(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new mY(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new nY(this.contents),this.head=new sY(this),this.name=new uY(this),this.cmap=new KQ(this),this.toUnicode={},this.hhea=new AY(this),this.maxp=new cY(this),this.hmtx=new hY(this),this.post=new oY(this),this.os2=new aY(this),this.loca=new gY(this),this.glyf=new dY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,a,o,l;for(l=[],A=0,a=(o=this.bbox).length;A<a;A++)e=o[A],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,A,a;for(A=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),A+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return A*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var NA,El=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,A,a,o;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),A=this.readByte(),a=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^A)+256*(255^a)+(255^o)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*A+256*a+o},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),nY=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,A,a,o,l,u,d,m,p,_,E;for(E in p=Object.keys(r).length,o=Math.log(2),d=16*Math.floor(Math.log(p)/o),A=Math.floor(d/o),u=16*p-d,(i=new El).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(A),i.writeShort(u),s=16*p,l=i.pos+s,a=null,_=[],r)for(m=r[E],i.writeString(E),i.writeInt(t(m)),i.writeInt(l),i.writeInt(m.length),_=_.concat(m),E==="head"&&(a=l),l+=m.length;l%4;)_.push(0),l++;return i.write(_),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,A;for(r=GQ.call(r);r.length%4;)r.push(0);for(s=new El(r),i=0,n=0,A=r.length;n<A;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),iY={}.hasOwnProperty,da=function(t,e){for(var r in e)iY.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};NA=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var sY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return da(t,NA),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new El).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),B4=function(){function t(e,r){var n,i,s,A,a,o,l,u,d,m,p,_,E,B,w,b,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=function(){var U,V;for(V=[],o=U=0;0<=m?U<m:U>m;o=0<=m?++U:--U)V.push(e.readUInt16());return V}(),e.pos+=2,E=function(){var U,V;for(V=[],o=U=0;0<=m?U<m:U>m;o=0<=m?++U:--U)V.push(e.readUInt16());return V}(),l=function(){var U,V;for(V=[],o=U=0;0<=m?U<m:U>m;o=0<=m?++U:--U)V.push(e.readUInt16());return V}(),u=function(){var U,V;for(V=[],o=U=0;0<=m?U<m:U>m;o=0<=m?++U:--U)V.push(e.readUInt16());return V}(),i=(this.length-e.pos+this.offset)/2,a=function(){var U,V;for(V=[],o=U=0;0<=i?U<i:U>i;o=0<=i?++U:--U)V.push(e.readUInt16());return V}(),o=w=0,I=s.length;w<I;o=++w)for(B=s[o],n=b=_=E[o];_<=B?b<=B:b>=B;n=_<=B?++b:--b)u[o]===0?A=n+l[o]:(A=a[u[o]/2+(n-_)-(m-o)]||0)!==0&&(A+=l[o]),this.codeMap[n]=65535&A}e.pos=d}return t.encode=function(e,r){var n,i,s,A,a,o,l,u,d,m,p,_,E,B,w,b,I,U,V,O,L,F,x,k,S,T,Q,z,oe,le,ie,K,se,de,pe,M,X,te,$,re,ae,_e,Be,xe,Qe,Ee;switch(z=new El,A=Object.keys(e).sort(function(He,Ce){return He-Ce}),r){case"macroman":for(E=0,B=function(){var He=[];for(_=0;_<256;++_)He.push(0);return He}(),b={0:0},s={},oe=0,se=A.length;oe<se;oe++)b[Be=e[i=A[oe]]]==null&&(b[Be]=++E),s[i]={old:e[i],new:b[e[i]]},B[i]=b[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(B),{charMap:s,subtable:z.data,maxGlyphID:E+1};case"unicode":for(T=[],d=[],I=0,b={},n={},w=l=null,le=0,de=A.length;le<de;le++)b[V=e[i=A[le]]]==null&&(b[V]=++I),n[i]={old:V,new:b[V]},a=b[V]-i,w!=null&&a===l||(w&&d.push(w),T.push(i),l=a),w=i;for(w&&d.push(w),d.push(65535),T.push(65535),k=2*(x=T.length),F=2*Math.pow(Math.log(x)/Math.LN2,2),m=Math.log(F/2)/Math.LN2,L=2*x-F,o=[],O=[],p=[],_=ie=0,pe=T.length;ie<pe;_=++ie){if(S=T[_],u=d[_],S===65535){o.push(0),O.push(0);break}if(S-(Q=n[S].new)>=32768)for(o.push(0),O.push(2*(p.length+x-_)),i=K=S;S<=u?K<=u:K>=u;i=S<=u?++K:--K)p.push(n[i].new);else o.push(Q-S),O.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*x+2*p.length),z.writeUInt16(0),z.writeUInt16(k),z.writeUInt16(F),z.writeUInt16(m),z.writeUInt16(L),ae=0,M=d.length;ae<M;ae++)i=d[ae],z.writeUInt16(i);for(z.writeUInt16(0),_e=0,X=T.length;_e<X;_e++)i=T[_e],z.writeUInt16(i);for(xe=0,te=o.length;xe<te;xe++)a=o[xe],z.writeUInt16(a);for(Qe=0,$=O.length;Qe<$;Qe++)U=O[Qe],z.writeUInt16(U);for(Ee=0,re=p.length;Ee<re;Ee++)E=p[Ee],z.writeUInt16(E);return{charMap:n,subtable:z.data,maxGlyphID:I+1}}},t}(),KQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return da(t,NA),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new B4(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=B4.encode(e,r),(i=new El).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),AY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return da(t,NA),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),aY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return da(t,NA),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),oY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return da(t,NA),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var A,a,o;for(o=[],s=A=0,a=this.file.maxp.numGlyphs;0<=a?A<a:A>a;s=0<=a?++A:--A)o.push(e.readUInt32());return o}).call(this)}},t}(),lY=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},uY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return da(t,NA),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,A,a,o,l,u,d,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),a=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(o={},s=u=0,d=n.length;u<d;s=++u)i=n[s],e.pos=i.offset,l=e.readString(i.length),A=new lY(l,i),o[m=i.nameID]==null&&(o[m]=[]),o[i.nameID].push(A);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},t}(),cY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return da(t,NA),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),hY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return da(t,NA),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,A,a,o;for(e.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,u;for(u=[],r=l=0;0<=i?l<i:l>i;r=0<=i?++l:--l)u.push(e.readInt16());return u}(),this.widths=(function(){var l,u,d,m;for(m=[],l=0,u=(d=this.metrics).length;l<u;l++)s=d[l],m.push(s.advance);return m}).call(this),n=this.widths[this.widths.length-1],o=[],r=A=0;0<=i?A<i:A>i;r=0<=i?++A:--A)o.push(this.widths.push(n));return o},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),GQ=[].slice,dY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return da(t,NA),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,A,a,o,l,u,d;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,A=(a=new El(r.read(i))).readShort(),l=a.readShort(),d=a.readShort(),o=a.readShort(),u=a.readShort(),this.cache[e]=A===-1?new pY(a,l,d,o,u):new fY(a,A,l,d,o,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,A,a,o;for(A=[],s=[],a=0,o=r.length;a<o;a++)i=e[r[a]],s.push(A.length),i&&(A=A.concat(i.encode(n)));return s.push(A.length),{table:A,offsets:s}},t}(),fY=function(){function t(e,r,n,i,s,A){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=A,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),pY=function(){function t(e,r,n,i,s){var A,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;a=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&a;)A.pos+=1&a?4:2,128&a?A.pos+=8:64&a?A.pos+=4:8&a&&(A.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new El(GQ.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),gY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return da(t,NA),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,A=0;A<n.length;++A)if(n[A]=i,s<r.length&&r[s]==A){++s,n[A]=i;var a=this.offsets[A],o=this.offsets[A+1]-a;o>0&&(i+=o)}for(var l=new Array(4*n.length),u=0;u<n.length;++u)l[4*u+3]=255&n[u],l[4*u+2]=(65280&n[u])>>8,l[4*u+1]=(16711680&n[u])>>16,l[4*u]=(4278190080&n[u])>>24;return l},t}(),mY=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,A,a,o;for(i={},A=0,a=e.length;A<a;A++)i[s=e[A]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in o=this.glyphsFor(r))n=o[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,A,a,o,l,u,d,m,p,_,E,B,w;for(i in n=KQ.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(e),p={0:0},w=n.charMap)p[(o=w[i]).old]=o.new;for(_ in m=n.maxGlyphID,A)_ in p||(p[_]=m++);return u=function(b){var I,U;for(I in U={},b)U[b[I]]=I;return U}(p),d=Object.keys(u).sort(function(b,I){return b-I}),E=function(){var b,I,U;for(U=[],b=0,I=d.length;b<I;b++)a=d[b],U.push(u[a]);return U}(),s=this.font.glyf.encode(A,E,p),l=this.font.loca.encode(s.offsets,E),B={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},t}();ut.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,A;if(Array.isArray(r))return"["+function(){var a,o,l;for(l=[],a=0,o=r.length;a<o;a++)n=r[a],l.push(e.convert(n));return l}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)A=r[i],s.push("/"+i+" "+e.convert(A));return s.push(">>"),s.join(`
`)}return""+r},e}();const j2=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:WX,AcroFormAppearance:nt,AcroFormButton:Qn,AcroFormCheckBox:wf,AcroFormChoiceField:yu,AcroFormComboBox:Bu,AcroFormEditBox:gf,AcroFormListBox:vu,AcroFormPasswordField:yf,AcroFormPushButton:mf,AcroFormRadioButton:_u,AcroFormTextField:wl,GState:Ap,ShadingPattern:Wo,TilingPattern:du,default:ut,jsPDF:ut},Symbol.toStringTag,{value:"Module"}));async function wY(t){const e={...t,remaining:t.quantity,status:"PENDIENTE",createdAt:nr.now()};return Oh(Zt(Je,"inventory_batches"),e)}async function qQ(t,e){await os(ir(Je,"inventory_batches",t),{status:"PAGADO",paidAmount:null,paidAt:nr.now()})}async function yY(t,e){const r=Ii(Zt(Je,"batch_allocations"),xi("saleDate",">=",t),xi("saleDate","<=",e)),n=await zr(r),i={};return n.forEach(s=>{const A=s.data(),a=A.batchId;i[a]||(i[a]={batchId:A.batchId,batchDate:A.batchDate,productName:A.productName,quantity:0,amountCharged:0}),i[a].quantity+=Number(A.quantity||0),i[a].amountCharged+=Number(A.amountCharged||0)}),Object.values(i)}async function vY(t){const e=ir(Je,"salesV2",t),r=await Dh(e);if(!r.exists())throw new Error("La venta no existe.");const n=r.data(),i=Array.isArray(n.allocations)?n.allocations:[];return await KU(Je,async s=>{if(i.length>0)for(const A of i){if(!(A!=null&&A.batchId)||!(A!=null&&A.qty))continue;const a=ir(Je,"inventory_batches",A.batchId),o=await s.get(a);if(!o.exists())continue;const l=Number(o.data().remaining??0),u=Number((l+Number(A.qty||0)).toFixed(2));s.update(a,{remaining:u})}s.delete(e)}),{restored:i.reduce((s,A)=>s+(Number(A.qty)||0),0)}}const dA=t=>Math.round((Number(t)||0)*100)/100,em=t=>Math.round((Number(t)||0)*1e3)/1e3,Id=t=>Number(t??0).toFixed(2),Qy=t=>Number(t??0).toFixed(3),_4=(t,e)=>{var n;const r=t.date??((n=t.timestamp)!=null&&n.toDate?an(t.timestamp.toDate(),"yyyy-MM-dd"):void 0);return r?{id:e,productName:t.productName??"(sin nombre)",quantity:Number(t.quantity??0),amount:Number(t.amount??t.amountCharged??0),amountSuggested:Number(t.amountSuggested??0),date:r,userEmail:t.userEmail??t.vendor??"(sin usuario)",clientName:t.clientName??"",amountReceived:Number(t.amountReceived??0),change:String(t.change??"0"),status:t.status??"FLOTANTE",allocations:t.allocations,avgUnitCost:t.avgUnitCost,cogsAmount:t.cogsAmount}:null};function BY({role:t}){const[e,r]=Y.useState([]),[n,i]=Y.useState([]),[s,A]=Y.useState(null),[a,o]=Y.useState(!0),[l,u]=Y.useState(""),[d,m]=Y.useState("ALL"),[p,_]=Y.useState(null),[E,B]=Y.useState(0),[w,b]=Y.useState(0),[I,U]=Y.useState(""),[V,O]=Y.useState(0),[L,F]=Y.useState("0"),x=an(new Date,"yyyy-MM-dd"),k=Y.useRef(null);Y.useEffect(()=>{const $=Ii(Zt(Je,"salesV2"),xi("date","==",x)),re=ex($,ae=>{const _e=[];ae.forEach(Be=>{const xe=_4(Be.data(),Be.id);xe&&_e.push(xe)}),r(_e),o(!1)});return()=>re()},[x]),Y.useEffect(()=>{const $=Ii(Zt(Je,"salesV2"),xi("status","==","FLOTANTE")),re=ex($,ae=>{const _e=[];ae.forEach(Be=>{const xe=_4(Be.data(),Be.id);xe&&_e.push(xe)}),i(_e)});return()=>re()},[]),Y.useEffect(()=>{(async()=>{const re=Ii(Zt(Je,"daily_closures"),xi("date","==",x)),ae=await zr(re);if(ae.empty)A(null);else{const _e=ae.docs[0];A({id:_e.id,..._e.data()})}})()},[x]);const S=k4.useMemo(()=>{if(d==="FLOTANTE"){const $=[...e,...n],re=new Map;for(const ae of $)ae.status==="FLOTANTE"&&re.set(ae.id,ae);return Array.from(re.values())}if(d==="ALL"){const $=[...e,...n],re=new Map;for(const ae of $)re.set(ae.id,ae);return Array.from(re.values())}return e.filter($=>$.status==="PROCESADA")},[d,e,n]);dA(S.reduce(($,re)=>$+(re.amountSuggested||0),0));const T=dA(S.reduce(($,re)=>$+(re.amount||0),0)),Q=em(S.reduce(($,re)=>$+(re.quantity||0),0)),z=dA(S.reduce(($,re)=>$+Number(re.cogsAmount??0),0)),oe=dA(T-z),le={};S.forEach($=>{const re=$.productName||"(sin nombre)";le[re]||(le[re]={totalQuantity:0,totalAmount:0}),le[re].totalQuantity=em(le[re].totalQuantity+($.quantity||0)),le[re].totalAmount=dA(le[re].totalAmount+($.amount||0))});const ie=Object.entries(le).map(([$,re])=>({productName:$,totalQuantity:re.totalQuantity,totalAmount:re.totalAmount})),K=async()=>{try{const $=S.filter(Ee=>Ee.status==="FLOTANTE"),re=$.length>0?$:e.filter(Ee=>Ee.status!=="PROCESADA");if(re.length===0){u("No hay ventas para procesar.");return}const ae={totalCharged:dA(re.reduce((Ee,He)=>Ee+(He.amount||0),0)),totalSuggested:dA(re.reduce((Ee,He)=>Ee+(He.amountSuggested||0),0)),totalUnits:em(re.reduce((Ee,He)=>Ee+(He.quantity||0),0)),totalCOGS:dA(re.reduce((Ee,He)=>Ee+Number(He.cogsAmount??0),0))},_e=dA(ae.totalCharged-ae.totalSuggested),Be=dA(ae.totalCharged-ae.totalCOGS),xe=await Oh(Zt(Je,"daily_closures"),{date:x,createdAt:nr.now(),totalCharged:ae.totalCharged,totalSuggested:ae.totalSuggested,totalDifference:_e,totalUnits:ae.totalUnits,totalCOGS:ae.totalCOGS,grossProfit:Be,products:re.map(Ee=>({productName:Ee.productName,quantity:Ee.quantity,amount:Ee.amount})),salesV2:re.map(Ee=>({id:Ee.id,productName:Ee.productName,quantity:Ee.quantity,amount:Ee.amount,amountSuggested:Ee.amountSuggested,userEmail:Ee.userEmail,clientName:Ee.clientName,amountReceived:Ee.amountReceived,change:Ee.change,status:Ee.status,cogsAmount:Ee.cogsAmount??0,avgUnitCost:Ee.avgUnitCost??null,allocations:Ee.allocations??[],date:Ee.date})),productSummary:Object.entries(re.reduce((Ee,He)=>{const Ce=He.productName||"(sin nombre)";return Ee[Ce]||(Ee[Ce]={totalQuantity:0,totalAmount:0}),Ee[Ce].totalQuantity=em(Ee[Ce].totalQuantity+(He.quantity||0)),Ee[Ce].totalAmount=dA(Ee[Ce].totalAmount+(He.amount||0)),Ee},{})).map(([Ee,He])=>({productName:Ee,totalQuantity:He.totalQuantity,totalAmount:He.totalAmount}))}),Qe=Y_(Je);re.forEach(Ee=>{Qe.update(ir(Je,"salesV2",Ee.id),{status:"PROCESADA",closureId:xe.id,closureDate:x})}),await Qe.commit(),u(` Cierre guardado. Ventas procesadas: ${re.length}.`)}catch($){console.error($),u(" Error al guardar el cierre.")}},se=async $=>{if(window.confirm("Revertir esta venta? Esta accin no se puede deshacer."))try{await os(ir(Je,"salesV2",$),{status:"FLOTANTE",closureId:null,closureDate:null}),u(" Venta revertida a FLOTANTE.")}catch(re){console.error(re),u(" No se pudo revertir la venta.")}},de=$=>{_($),B($.quantity),b($.amount),U($.clientName),O($.amountReceived),F($.change)},pe=async()=>{if(p)try{await os(ir(Je,"salesV2",p.id),{quantity:E,amount:w,amountCharged:w,clientName:I,amountReceived:V,change:L}),_(null),u(" Venta actualizada.")}catch($){console.error($),u(" No se pudo actualizar la venta.")}},M=async $=>{if(window.confirm("Eliminar esta venta? Se restaurar el stock en los lotes asignados."))try{const{restored:re}=await vY($);u(` Venta eliminada. Stock restaurado: ${Number(re).toFixed(2)}.`)}catch(re){console.error(re),u(" No se pudo eliminar la venta.")}},X=async()=>{if(k.current){k.current.classList.add("force-pdf-colors");try{const re=(await s5(k.current,{backgroundColor:"#ffffff"})).toDataURL("image/png"),ae=new ut;ae.addImage(re,"PNG",10,10,190,0),ae.save(`cierre_${x}.pdf`)}finally{k.current.classList.remove("force-pdf-colors")}}},te=!t||t==="admin";return f.jsxs("div",{className:"max-w-7xl mx-auto bg-white p-6 rounded shadow",children:[f.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Cierre de Ventas - ",x]}),f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("label",{className:"text-sm",children:"Filtrar:"}),f.jsxs("select",{className:"border rounded px-2 py-1",value:d,onChange:$=>m($.target.value),children:[f.jsx("option",{value:"ALL",children:"Todas"}),f.jsx("option",{value:"FLOTANTE",children:"Venta Flotante"}),f.jsx("option",{value:"PROCESADA",children:"Venta Procesada"})]})]}),a?f.jsx("p",{children:"Cargando ventas..."}):f.jsxs("div",{ref:k,children:[f.jsxs("table",{className:"min-w-full border text-sm mb-4",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border p-2",children:"Estado"}),f.jsx("th",{className:"border p-2",children:"Producto"}),f.jsx("th",{className:"border p-2",children:"Libras - Unidad"}),f.jsx("th",{className:"border p-2",children:"Monto"}),f.jsx("th",{className:"border p-2",children:"Fecha venta"}),f.jsx("th",{className:"border p-2",children:"Vendedor"}),f.jsx("th",{className:"border p-2",children:"Acciones"})]})}),f.jsxs("tbody",{children:[S.map($=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"border p-1",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${$.status==="PROCESADA"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:$.status})}),f.jsx("td",{className:"border p-1",children:$.productName}),f.jsx("td",{className:"border p-1",children:Qy($.quantity)}),f.jsxs("td",{className:"border p-1",children:["C$",Id($.amount)]}),f.jsx("td",{className:"border p-1",children:$.date}),f.jsx("td",{className:"border p-1",children:$.userEmail}),f.jsx("td",{className:"border p-1",children:$.status==="FLOTANTE"?f.jsxs("div",{className:"flex gap-2 justify-center",children:[te&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>de($),className:"text-xs bg-indigo-600 text-white px-2 py-1 rounded hover:bg-indigo-700",children:"Editar"}),f.jsx("button",{onClick:()=>M($.id),className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",children:"Eliminar"})]}),!te&&f.jsx("span",{className:"text-gray-400 text-xs",children:""})]}):$.status==="PROCESADA"?f.jsx("div",{className:"flex gap-2 justify-center",children:te?f.jsx("button",{onClick:()=>se($.id),className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",children:"Revertir"}):f.jsx("span",{className:"text-gray-400 text-xs",children:""})}):f.jsx("span",{className:"text-gray-400 text-xs",children:"No options"})})]},$.id)),S.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:9,className:"p-3 text-center text-gray-500",children:"Sin ventas para mostrar."})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mb-2",children:[f.jsxs("div",{children:["Total unidades: ",f.jsx("strong",{children:Qy(Q)})]}),f.jsxs("div",{children:["Total cobrado: ",f.jsxs("strong",{children:["C$",Id(T)]})]})]}),(z>0||oe!==T)&&f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm mb-6",children:[f.jsxs("div",{children:["Calculo a Precio compra:"," ",f.jsxs("strong",{children:["C$",Id(z)]})]}),f.jsxs("div",{children:["Ganancia antes de gasto:"," ",f.jsxs("strong",{children:["C$",Id(oe)]})]})]}),f.jsx("h3",{className:"font-semibold mb-2",children:"Consolidado por producto"}),f.jsxs("table",{className:"min-w-full border text-sm mb-2",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border p-2",children:"Producto"}),f.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),f.jsx("th",{className:"border p-2",children:"Total dinero"})]})}),f.jsxs("tbody",{children:[ie.map($=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"border p-1",children:$.productName}),f.jsx("td",{className:"border p-1",children:Qy($.totalQuantity)}),f.jsxs("td",{className:"border p-1",children:["C$",Id($.totalAmount)]})]},$.productName)),ie.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:3,className:"p-3 text-center text-gray-500",children:"Sin datos para consolidar."})})]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:K,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Cerrar ventas del da"}),f.jsx("button",{onClick:X,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Descargar PDF"})]}),l&&f.jsx("p",{className:"mt-2 text-sm",children:l}),p&&f.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-4 space-y-3",children:[f.jsx("h4",{className:"font-semibold text-lg",children:"Editar venta"}),f.jsxs("div",{className:"text-sm text-gray-500",children:[p.productName,"  ",p.userEmail]}),f.jsx("label",{className:"text-sm",children:"Cantidad"}),f.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded px-2 py-1",value:E,onChange:$=>B(parseFloat($.target.value||"0"))}),f.jsx("label",{className:"text-sm",children:"Monto cobrado"}),f.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded px-2 py-1",value:w,onChange:$=>b(parseFloat($.target.value||"0"))}),f.jsx("label",{className:"text-sm",children:"Cliente"}),f.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1",value:I,onChange:$=>U($.target.value)}),f.jsx("label",{className:"text-sm",children:"Paga con"}),f.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded px-2 py-1",value:V,onChange:$=>O(parseFloat($.target.value||"0"))}),f.jsx("label",{className:"text-sm",children:"Vuelto"}),f.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1",value:L,onChange:$=>F($.target.value)}),f.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[f.jsx("button",{onClick:()=>_(null),className:"px-3 py-1 border rounded",children:"Cancelar"}),f.jsx("button",{onClick:pe,className:"px-3 py-1 rounded text-white bg-indigo-600 hover:bg-indigo-700",children:"Guardar cambios"})]})]})})]})}const js=t=>Number(t??0).toFixed(2),vc=t=>Number(t??0).toFixed(3);function _Y(){var b,I,U,V;const t=async O=>{if(!window.confirm(`Eliminar el cierre del ${O.date}?`))return;const L=window.confirm("Tambin quieres reabrir (revertir a FLOTANTE) las ventas vinculadas a este cierre?");try{if(L){const F=await zr(Ii(Zt(Je,"salesV2"),xi("closureId","==",O.id)));if(!F.empty){const x=Y_(Je);F.forEach(k=>{x.update(ir(Je,"salesV2",k.id),{status:"FLOTANTE",closureId:null,closureDate:null})}),await x.commit()}}await Np(ir(Je,"daily_closures",O.id)),(l==null?void 0:l.id)===O.id&&u(null),await _(),m(` Cierre eliminado${L?" y ventas reabiertas.":"."}`)}catch(F){console.error(F),m(" No se pudo eliminar el cierre.")}},[e,r]=Y.useState(an(t9(new Date),"yyyy-MM-dd")),[n,i]=Y.useState(an(new Date,"yyyy-MM-dd")),[s,A]=Y.useState(!0),[a,o]=Y.useState([]),[l,u]=Y.useState(null),[d,m]=Y.useState(""),p=Y.useRef(null),_=async()=>{try{A(!0);const O=Ii(Zt(Je,"daily_closures"),xi("date",">=",e),xi("date","<=",n)),L=await zr(O),F=[];L.forEach(x=>F.push({id:x.id,...x.data()})),F.sort((x,k)=>x.date<k.date?1:x.date>k.date?-1:0),o(F)}catch(O){console.error(O),m(" Error cargando el historial.")}finally{A(!1)}};Y.useEffect(()=>{_()},[]);const E=async O=>{O.preventDefault(),_()},B=Y.useMemo(()=>{if(!l)return{units:0,sug:0,chg:0,diff:0,cogs:0,profit:0};const O=Number(l.totalUnits??0),L=Number(l.totalSuggested??0),F=Number(l.totalCharged??0),x=Number(l.totalDifference??(isFinite(F-L)?F-L:0)),k=Number(l.totalCOGS??0),S=Number(l.grossProfit??(isFinite(F-k)?F-k:0));return{units:O,sug:L,chg:F,diff:x,cogs:k,profit:S}},[l]),w=async()=>{if(!p.current||!l)return;const O=p.current;O.classList.add("force-pdf-colors");try{const[{default:L},{jsPDF:F}]=await Promise.all([ml(()=>Promise.resolve().then(()=>A5),void 0),ml(()=>Promise.resolve().then(()=>j2),void 0)]),k=(await L(O,{backgroundColor:"#ffffff",onclone:Q=>{const z=Q.defaultView;Q.body.querySelectorAll("*").forEach(le=>{const ie=z.getComputedStyle(le);ie.color&&(le.style.color=ie.color),ie.backgroundColor&&ie.backgroundColor!=="rgba(0, 0, 0, 0)"&&(le.style.backgroundColor=ie.backgroundColor),ie.borderColor&&(le.style.borderColor=ie.borderColor)})}})).toDataURL("image/png"),{jsPDF:S}=await ml(async()=>{const{jsPDF:Q}=await Promise.resolve().then(()=>j2);return{jsPDF:Q}},void 0),T=new S;T.addImage(k,"PNG",10,10,190,0),T.save(`cierre_${l.date}.pdf`)}finally{O.classList.remove("force-pdf-colors")}};return f.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-white rounded shadow",children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Histrico de cierres"}),f.jsxs("form",{onSubmit:E,className:"flex flex-wrap items-end gap-3 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm",children:"Desde"}),f.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:e,onChange:O=>r(O.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm",children:"Hasta"}),f.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:n,onChange:O=>i(O.target.value)})]}),f.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Aplicar"})]}),s?f.jsx("p",{children:"Cargando..."}):a.length===0?f.jsx("p",{className:"text-sm text-gray-500",children:"Sin cierres en el rango seleccionado."}):f.jsxs("table",{className:"min-w-full border text-sm mb-6",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border p-2",children:"Fecha"}),f.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),f.jsx("th",{className:"border p-2",children:"Monto de venta"}),f.jsx("th",{className:"border p-2",children:"Monto al costo"}),f.jsx("th",{className:"border p-2",children:"Ganancia sin gastos"}),f.jsx("th",{className:"border p-2",children:"Acciones"})]})}),f.jsx("tbody",{children:a.map(O=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"border p-1",children:O.date}),f.jsx("td",{className:"border p-1",children:vc(O.totalUnits)}),f.jsxs("td",{className:"border p-1",children:["C$",js(O.totalCharged)]}),f.jsxs("td",{className:"border p-1",children:["C$",js(O.totalCOGS)]}),f.jsxs("td",{className:"border p-1",children:["C$",js(O.grossProfit??Number(O.totalCharged??0)-Number(O.totalCOGS??0))]}),f.jsx("td",{className:"border p-1",children:f.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[f.jsx("button",{className:"text-xs bg-gray-800 text-white px-2 py-1 rounded hover:bg-black",onClick:()=>u(O),children:"Ver detalle"}),f.jsx("button",{className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",onClick:()=>t(O),children:"Eliminar"})]})})]},O.id))})]}),l&&f.jsxs("div",{className:"mt-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsxs("h2",{className:"text-xl font-semibold",children:["Detalle ",l.date]}),f.jsx("button",{onClick:()=>u(null),className:"text-sm px-2 py-1 border rounded",children:"Cerrar"}),f.jsx("button",{onClick:w,className:"ml-auto bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 text-sm",children:"Descargar PDF"})]}),f.jsxs("div",{ref:p,className:"space-y-4",children:[f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:f.jsxs("div",{children:["Total unidades: ",f.jsx("strong",{children:vc(B.units)})]})}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:[f.jsxs("div",{children:["Monto al costo:"," ",f.jsxs("strong",{children:["C$",js(B.cogs)]})]}),f.jsxs("div",{children:["Ganancia sin gastos:"," ",f.jsxs("strong",{children:["C$",js(B.profit)]})]})]}),(b=l.salesV2)!=null&&b.length?f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"font-semibold",children:"Ventas incluidas en el cierre"}),f.jsxs("table",{className:"min-w-full border text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border p-2",children:"Producto"}),f.jsx("th",{className:"border p-2",children:"Cantidad"}),f.jsx("th",{className:"border p-2",children:"Monto de ventas"}),f.jsx("th",{className:"border p-2",children:"Monto al costo"}),f.jsx("th",{className:"border p-2",children:"Fecha venta"}),f.jsx("th",{className:"border p-2",children:"Vendedor"})]})}),f.jsx("tbody",{children:l.salesV2.map((O,L)=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"border p-1",children:O.productName??"(sin nombre)"}),f.jsx("td",{className:"border p-1",children:vc(O.quantity)}),f.jsxs("td",{className:"border p-1",children:["C$",js(O.amount)]}),f.jsxs("td",{className:"border p-1",children:["C$",js(O.cogsAmount)]}),f.jsx("td",{className:"border p-1",children:O.date??""}),f.jsx("td",{className:"border p-1",children:O.userEmail??""})]},L))})]})]}):(I=l.sales)!=null&&I.length?f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"font-semibold",children:"Ventas incluidas en el cierre"}),f.jsxs("table",{className:"min-w-full border text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border p-2",children:"Producto"}),f.jsx("th",{className:"border p-2",children:"Cantidad"}),f.jsx("th",{className:"border p-2",children:"Monto"}),f.jsx("th",{className:"border p-2",children:"Vendedor"}),f.jsx("th",{className:"border p-2",children:"Cliente"}),f.jsx("th",{className:"border p-2",children:"Paga con"}),f.jsx("th",{className:"border p-2",children:"Vuelto"})]})}),f.jsx("tbody",{children:l.sales.map((O,L)=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"border p-1",children:O.productName??"(sin nombre)"}),f.jsx("td",{className:"border p-1",children:vc(O.quantity)}),f.jsxs("td",{className:"border p-1",children:["C$",js(O.amount)]}),f.jsx("td",{className:"border p-1",children:O.userEmail??""}),f.jsx("td",{className:"border p-1",children:O.clientName??""}),f.jsxs("td",{className:"border p-1",children:["C$",js(O.amountReceived)]}),f.jsx("td",{className:"border p-1",children:typeof O.change=="number"?js(O.change):O.change??"0"})]},L))})]})]}):(U=l.products)!=null&&U.length?f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"font-semibold",children:"Productos en el cierre"}),f.jsxs("table",{className:"min-w-full border text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border p-2",children:"Producto"}),f.jsx("th",{className:"border p-2",children:"Cantidad"}),f.jsx("th",{className:"border p-2",children:"Monto"})]})}),f.jsx("tbody",{children:l.products.map((O,L)=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"border p-1",children:O.productName}),f.jsx("td",{className:"border p-1",children:vc(O.quantity)}),f.jsxs("td",{className:"border p-1",children:["C$",js(O.amount)]})]},L))})]})]}):f.jsx("p",{className:"text-sm text-gray-500",children:"Sin detalle de ventas en este cierre."}),(V=l.productSummary)!=null&&V.length?f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"font-semibold",children:"Consolidado por producto"}),f.jsxs("table",{className:"min-w-full border text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border p-2",children:"Producto"}),f.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),f.jsx("th",{className:"border p-2",children:"Total dinero"})]})}),f.jsx("tbody",{children:l.productSummary.map((O,L)=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"border p-1",children:O.productName}),f.jsx("td",{className:"border p-1",children:vc(O.totalQuantity)}),f.jsxs("td",{className:"border p-1",children:["C$",js(O.totalAmount)]})]},L))})]})]}):null]})]}),d&&f.jsx("p",{className:"mt-3 text-sm",children:d})]})}function CY(){const[t,e]=Y.useState(""),[r,n]=Y.useState(""),[i,s]=Y.useState("vendedor"),[A,a]=Y.useState(""),[o,l]=Y.useState([]),[u,d]=Y.useState(!0),[m,p]=Y.useState(null),[_,E]=Y.useState("vendedor"),B=async()=>{d(!0);const O=await zr(Zt(Je,"users")),L=[];O.forEach(F=>{const x=F.data();L.push({id:F.id,email:x.email??"",role:x.role??"vendedor"})}),l(L),d(!1)};Y.useEffect(()=>{B()},[]);const w=async O=>{O.preventDefault(),a("");try{const L=WB(),F=zB(L.options,"Secondary"),x=WN(F),k=await nM(x,t,r);await MV(ir(Zt(Je,"users"),k.user.uid),{email:t,role:i}),await RN(x),await J6(F),l(S=>[{id:k.user.uid,email:t,role:i},...S]),a(" Usuario creado correctamente."),e(""),n(""),s("vendedor")}catch(L){console.error(L),a(" Error al crear el usuario: "+L.message)}},b=O=>{p(O.id),E(O.role||"vendedor")},I=()=>{p(null),E("vendedor")},U=async()=>{if(!m)return;const O=ir(Je,"users",m);await os(O,{role:_}),l(L=>L.map(F=>F.id===m?{...F,role:_}:F)),I()},V=async O=>{confirm("Eliminar este usuario del listado?")&&(await Np(ir(Je,"users",O)),l(F=>F.filter(x=>x.id!==O)))};return f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("form",{onSubmit:w,className:"max-w-md mx-auto bg-white p-8 shadow-lg rounded-lg space-y-6 border border-gray-200",children:[f.jsxs("h2",{className:"text-2xl font-bold mb-4 text-purple-700 flex items-center gap-2",children:[f.jsx("span",{className:"inline-block bg-purple-100 text-purple-700 rounded-full p-2",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),"Registrar nuevo usuario"]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Correo electrnico"}),f.jsx("input",{type:"email",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-purple-400",value:t,onChange:O=>e(O.target.value)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Contrasea"}),f.jsx("input",{type:"password",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-purple-400",value:r,onChange:O=>n(O.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm",children:"Rol"}),f.jsxs("select",{className:"w-full border p-2 rounded",value:i,onChange:O=>s(O.target.value),children:[f.jsx("option",{value:"vendedor",children:"Vendedor"}),f.jsx("option",{value:"admin",children:"Admin"})]})]}),f.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full",children:"Crear usuario"}),A&&f.jsx("p",{className:"text-sm mt-2",children:A})]}),f.jsxs("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto mt-6",children:[f.jsx("h3",{className:"text-lg font-semibold p-2",children:"Usuarios"}),f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Email"}),f.jsx("th",{className:"p-2 border",children:"Rol"}),f.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),f.jsx("tbody",{children:u?f.jsx("tr",{children:f.jsx("td",{colSpan:3,className:"p-4 text-center",children:"Cargando"})}):o.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:3,className:"p-4 text-center",children:"Sin usuarios"})}):o.map(O=>{const L=m===O.id;return f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:O.email}),f.jsx("td",{className:"p-2 border",children:L?f.jsxs("select",{className:"w-full border p-1 rounded",value:_,onChange:F=>E(F.target.value),children:[f.jsx("option",{value:"vendedor",children:"Vendedor"}),f.jsx("option",{value:"admin",children:"Admin"})]}):f.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${O.role==="admin"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:O.role})}),f.jsx("td",{className:"p-2 border space-x-2",children:L?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"px-2 py-1 rounded text-white bg-blue-600 hover:bg-blue-700",onClick:U,children:"Guardar"}),f.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:I,children:"Cancelar"})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"px-2 py-1 rounded text-white bg-yellow-600 hover:bg-yellow-700",onClick:()=>b(O),children:"Editar"}),f.jsx("button",{className:"px-2 py-1 rounded text-white bg-red-600 hover:bg-red-700",onClick:()=>V(O.id),children:"Eliminar"})]})})]},O.id)})})]})]})]})}const bY=t=>`C$${(Number(t)||0).toFixed(2)}`;function EY(){const[t,e]=Y.useState(""),[r,n]=Y.useState(0),[i,s]=Y.useState(""),[A,a]=Y.useState(""),[o,l]=Y.useState(""),[u,d]=Y.useState([]),[m,p]=Y.useState(!0),[_,E]=Y.useState(!1),[B,w]=Y.useState(null),[b,I]=Y.useState(""),[U,V]=Y.useState(""),[O,L]=Y.useState(""),[F,x]=Y.useState(0),k=async()=>{p(!0);const K=await zr(Zt(Je,"products")),se=[];K.forEach(de=>{const pe=de.data();se.push({id:de.id,name:pe.name??"",price:Number(pe.price??0),category:pe.category??"",measurement:pe.measurement??"",active:pe.active!==!1})}),d(se),p(!1)};Y.useEffect(()=>{k()},[]);const S=async K=>{if(K.preventDefault(),s(""),!t||r<=0||!o){s(" Completa nombre, precio vlido y unidad de medida");return}try{const se={name:t,price:parseFloat(r.toFixed(2)),category:A,measurement:o,active:!0},de=await Oh(Zt(Je,"products"),se);d(pe=>[{id:de.id,...se},...pe]),s(" Producto registrado con exito."),e(""),n(0),l(""),a("")}catch(se){s(" Error: "+se.message)}},T=K=>{w(K.id),I(K.name),V(K.category),L(K.measurement),x(K.price)},Q=()=>{w(null),I(""),V(""),L(""),x(0)},z=async()=>{if(!B)return;const K=ir(Je,"products",B);await os(K,{name:b,category:U,measurement:O,price:parseFloat((F||0).toFixed(2))}),d(se=>se.map(de=>de.id===B?{...de,name:b,category:U,measurement:O,price:parseFloat((F||0).toFixed(2))}:de)),Q()},oe=async K=>{const se=ir(Je,"products",K.id),de=K.active===!1;await os(se,{active:de}),d(pe=>pe.map(M=>M.id===K.id?{...M,active:de}:M))},le=async K=>{const se=Ii(Zt(Je,"inventory_batches"),xi("productId","==",K),RV(1));if(!(await zr(se)).empty){alert(`No se puede eliminar: hay lotes asociados a este producto.
Sugerencia: desactvalo para ocultarlo.`);return}confirm("Eliminar este producto definitivamente?")&&(await Np(ir(Je,"products",K)),d(M=>M.filter(X=>X.id!==K)))},ie=_?u:u.filter(K=>K.active!==!1);return f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("form",{onSubmit:S,className:"max-w-md mx-auto bg-white p-8 shadow-lg rounded-lg space-y-6 border border-gray-200",children:[f.jsxs("h2",{className:"text-2xl font-bold mb-4 text-green-700 flex items-center gap-2",children:[f.jsx("span",{className:"inline-block bg-green-100 text-green-700 rounded-full p-2",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),"Registrar producto"]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Categora"}),f.jsxs("select",{value:A,onChange:K=>a(K.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-green-400",children:[f.jsx("option",{value:"",children:"Selecciona"}),f.jsx("option",{value:"pollo",children:"Pollo"}),f.jsx("option",{value:"cerdo",children:"Cerdo"}),f.jsx("option",{value:"huevo",children:"Huevos"}),f.jsx("option",{value:"ropa",children:"Ropa"}),f.jsx("option",{value:"otros",children:"Otros"})]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Nombre del producto"}),f.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:t,onChange:K=>e(K.target.value)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Tipo de unidad de medida"}),f.jsxs("select",{value:o,onChange:K=>l(K.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-green-400",children:[f.jsx("option",{value:"",children:"Selecciona"}),f.jsx("option",{value:"lb",children:"Libra"}),f.jsx("option",{value:"kg",children:"Kilogramo"}),f.jsx("option",{value:"unidad",children:"Unidad"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm",children:"Precio por unidad (ej: 55.50)"}),f.jsx("input",{type:"number",step:"0.01",className:"w-full border p-2 rounded",value:Number.isNaN(r)?"":r,onChange:K=>n(parseFloat(K.target.value)),onFocus:K=>K.target.value==="0"?n(NaN):null})]}),f.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full",children:"Agregar producto"}),i&&f.jsx("p",{className:"text-sm mt-2",children:i})]}),f.jsxs("div",{className:"flex items-center justify-between mt-6 mb-2",children:[f.jsx("h3",{className:"text-lg font-semibold p-2",children:"Productos"}),f.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[f.jsx("input",{type:"checkbox",checked:_,onChange:K=>E(K.target.checked)}),"Mostrar inactivos"]})]}),f.jsx("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Nombre"}),f.jsx("th",{className:"p-2 border",children:"Categora"}),f.jsx("th",{className:"p-2 border",children:"Unidad"}),f.jsx("th",{className:"p-2 border",children:"Precio"}),f.jsx("th",{className:"p-2 border",children:"Estado"}),f.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),f.jsx("tbody",{children:m?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"p-4 text-center",children:"Cargando"})}):ie.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"p-4 text-center",children:"Sin productos"})}):ie.map(K=>{const se=B===K.id,de=K.active!==!1;return f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:se?f.jsx("input",{className:"w-full border p-1 rounded",value:b,onChange:pe=>I(pe.target.value)}):K.name}),f.jsx("td",{className:"p-2 border",children:se?f.jsxs("select",{className:"w-full border p-1 rounded",value:U,onChange:pe=>V(pe.target.value),children:[f.jsx("option",{value:"",children:"Selecciona"}),f.jsx("option",{value:"pollo",children:"Pollo"}),f.jsx("option",{value:"cerdo",children:"Cerdo"}),f.jsx("option",{value:"huevo",children:"Huevos"}),f.jsx("option",{value:"ropa",children:"Ropa"}),f.jsx("option",{value:"otros",children:"Otros"})]}):K.category}),f.jsx("td",{className:"p-2 border",children:se?f.jsxs("select",{className:"w-full border p-1 rounded",value:O,onChange:pe=>L(pe.target.value),children:[f.jsx("option",{value:"",children:"Selecciona"}),f.jsx("option",{value:"lb",children:"Libra"}),f.jsx("option",{value:"kg",children:"Kilogramo"}),f.jsx("option",{value:"unidad",children:"Unidad"})]}):K.measurement}),f.jsx("td",{className:"p-2 border",children:se?f.jsx("input",{type:"number",step:"0.01",className:"w-full border p-1 rounded text-right",value:Number.isNaN(F)?"":F,onChange:pe=>x(parseFloat(pe.target.value))}):bY(K.price)}),f.jsx("td",{className:"p-2 border",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${de?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:de?"Activo":"Inactivo"})}),f.jsx("td",{className:"p-2 border space-x-2",children:se?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"px-2 py-1 rounded text-white bg-blue-600 hover:bg-blue-700",onClick:z,children:"Guardar"}),f.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:Q,children:"Cancelar"})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"px-2 py-1 rounded text-white bg-yellow-600 hover:bg-yellow-700",onClick:()=>T(K),children:"Editar"}),f.jsx("button",{className:`px-2 py-1 rounded ${de?"bg-gray-600 hover:bg-gray-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,onClick:()=>oe(K),children:de?"Desactivar":"Activar"}),f.jsx("button",{className:"px-2 py-1 rounded text-white bg-red-600 hover:bg-red-700",onClick:()=>le(K.id),children:"Eliminar"})]})})]},K.id)})})]})})]})}const Zn=[];for(let t=0;t<256;++t)Zn.push((t+256).toString(16).slice(1));function xY(t,e=0){return(Zn[t[e+0]]+Zn[t[e+1]]+Zn[t[e+2]]+Zn[t[e+3]]+"-"+Zn[t[e+4]]+Zn[t[e+5]]+"-"+Zn[t[e+6]]+Zn[t[e+7]]+"-"+Zn[t[e+8]]+Zn[t[e+9]]+"-"+Zn[t[e+10]]+Zn[t[e+11]]+Zn[t[e+12]]+Zn[t[e+13]]+Zn[t[e+14]]+Zn[t[e+15]]).toLowerCase()}let Ly;const IY=new Uint8Array(16);function FY(){if(!Ly){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ly=crypto.getRandomValues.bind(crypto)}return Ly(IY)}const SY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C4={randomUUID:SY};function NY(t,e,r){var i;if(C4.randomUUID&&!t)return C4.randomUUID();t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??FY();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,xY(n)}async function TY(t,e,r,n=!1){if(r<=0)return{allocations:[],avgUnitCost:0,cogsAmount:0};const i=Zt(t,"inventory_batches"),s=Ii(i,xi("productName","==",e)),o=(await zr(s)).docs.map(l=>({id:l.id,data:l.data()})).sort((l,u)=>{var E,B;const d=l.data.date??"",m=u.data.date??"";if(d!==m)return d<m?-1:1;const p=((E=l.data.createdAt)==null?void 0:E.seconds)??0,_=((B=u.data.createdAt)==null?void 0:B.seconds)??0;return p-_}).map(l=>ir(t,"inventory_batches",l.id));return KU(t,async l=>{let u=Number(r);const d=[];for(const E of o){if(u<=0)break;const B=await l.get(E);if(!B.exists())continue;const w=B.data(),b=Number(w.quantity??0),I=Number(w.remaining??b??0),U=Number(w.purchasePrice??0);if(I<=0)continue;const V=Math.min(I,u),O=Number((I-V).toFixed(2));l.update(E,{remaining:O}),d.push({batchId:E.id,qty:V,unitCost:U,lineCost:Number((V*U).toFixed(2))}),u=Number((u-V).toFixed(2))}if(u>0&&!n)throw new Error(`Stock insuficiente para "${e}". Faltan ${u} unidades.`);const m=Number(d.reduce((E,B)=>E+B.lineCost,0).toFixed(2)),p=d.reduce((E,B)=>E+B.qty,0),_=p>0?Number((m/p).toFixed(4)):0;return{allocations:d,avgUnitCost:_,cogsAmount:m}})}const zQ=3,UY=.5*10**-zQ;function Ci(t){const e=Number(t??0);return Number(e.toFixed(zQ))}function b4(t,e){return Ci((t??0)+(e??0))}function tm(t,e){return Ci(t)+UY>=Ci(e)}async function QY(t,e){const r=await zr(Zt(Je,"inventory_batches")),n=t.trim().toLowerCase();let i=0;for(const s of r.docs){const A=s.data();(A.productName||"").trim().toLowerCase()===n&&A.productId!==e&&(await os(ir(Je,"inventory_batches",s.id),{productId:e}),i++)}return i}function E4({user:t}){const[e,r]=Y.useState([]),[n,i]=Y.useState(""),[s,A]=Y.useState(0),[a,o]=Y.useState(0),[l,u]=Y.useState(!1),[d,m]=Y.useState(0),[p,_]=Y.useState("0"),[E,B]=Y.useState(""),[w,b]=Y.useState([]),[I,U]=Y.useState(""),[V,O]=Y.useState(an(new Date,"yyyy-MM-dd")),L=z=>Math.round(z*100)/100,F=e.find(z=>z.id===n),x=((F==null?void 0:F.measurement)||"").toLowerCase()!=="lb",k=async z=>{if(!z)return 0;const oe=Ii(Zt(Je,"inventory_batches"),xi("productId","==",z)),le=await zr(oe);let ie=0;return le.forEach(K=>{const se=K.data();ie=b4(ie,Number(se.remaining||0))}),Ci(ie)},S=async z=>{if(!z)return 0;const oe=await zr(Zt(Je,"inventory_batches"));let le=0;return oe.forEach(ie=>{const K=ie.data();(K.productName||"").trim().toLowerCase()===z.trim().toLowerCase()&&(le=b4(le,Number(K.remaining||0)))}),Ci(le)};Y.useEffect(()=>{async function z(){const oe=await zr(Zt(Je,"products")),le=[];oe.forEach(ie=>{const K=ie.data();(K==null?void 0:K.active)!==!1&&le.push({id:ie.id,productName:K.name??K.productName??"(sin nombre)",price:Number(K.price??0),measurement:K.measurement??"(sin unidad)",category:K.category??"(sin categora)"})}),r(le)}z()},[]),Y.useEffect(()=>{async function z(){const oe=await zr(Zt(Je,"users")),le=[];oe.forEach(ie=>{const K=ie.data();le.push({id:ie.id,email:K.email??"(sin email)",role:K.role??"USER"})}),b(le)}z()},[]),Y.useEffect(()=>{u(!1)},[n]),Y.useEffect(()=>{const z=e.find(le=>le.id===n);if(!z){o(0);return}const oe=Number(s)||0;if(!l){const le=L(z.price*oe);o(le)}},[n,s,e,l]),Y.useEffect(()=>{const z=Number(d)||0,oe=Number(a)||0,le=(z-oe).toFixed(2);_(le)},[d,a]);const T=z=>{z.key===","&&(z.preventDefault(),z.target.value+=".")},Q=async z=>{var se,de;z.preventDefault(),B("");const oe=e.find(pe=>pe.id===n),le=Number(s)||0,ie=x?Math.max(0,Math.round(le)):Ci(le),K=Number(a)||0;if(!oe||ie<=0){B("Selecciona un producto y una cantidad vlida.");return}try{const pe=await k(oe.id);if(!tm(pe,ie)){const $=await S(oe.productName);if(tm($,0)&&!tm(pe,0)){const re=await QY(oe.productName,oe.id),ae=await k(oe.id);if(tm(ae,ie))B(` Lotes corregidos (${re}). Continuando con la venta`);else{const _e=Ci(ie-ae);B(` Stock insuficiente tras corregir ${re} lote(s). Faltan ${_e.toFixed(3)} unidades.`);return}}else{const re=Ci(ie-pe);B(` Stock insuficiente para "${oe.productName}". Faltan ${re.toFixed(3)} unidades.`);return}}const{allocations:M,avgUnitCost:X,cogsAmount:te}=await TY(Je,oe.productName,ie,!1);await Oh(Zt(Je,"salesV2"),{id:NY(),productId:n,productName:oe.productName,price:oe.price,quantity:ie,amount:K,amountCharged:K,amountReceived:Number(d)||0,change:p,clientName:I.trim(),timestamp:nr.now(),date:V,userEmail:((se=w[0])==null?void 0:se.email)??"sin usuario",vendor:((de=w[0])==null?void 0:de.role)??"sin usuario",status:"FLOTANTE",allocations:M,avgUnitCost:X,cogsAmount:te}),B(" Venta registrada y asignada a inventario (FIFO)."),i(""),A(0),u(!1),o(0),m(0),_("0"),U(""),O(an(new Date,"yyyy-MM-dd"))}catch(pe){console.error(pe),B(` ${(pe==null?void 0:pe.message)||"Error al registrar la venta."}`)}};return f.jsxs("form",{onSubmit:Q,className:`w-full mx-auto bg-white rounded-2xl shadow-2xl
                 p-4 sm:p-6 md:p-8
                 max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl
                 space-y-4`,children:[f.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-4 text-blue-700 flex items-center gap-2",children:[f.jsx("span",{className:"block bg-blue-100 text-blue-700 rounded-full p-2",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})})}),"Registrar venta"]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Producto | Precio por Libra/Unidad"}),f.jsxs("select",{className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-400",value:n,onChange:z=>i(z.target.value),children:[f.jsx("option",{value:"",disabled:!0,children:"Selecciona un producto"}),e.map(z=>f.jsxs("option",{value:z.id,children:[z.productName," - C$ ",z.price]},z.id))]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Fecha de la venta"}),f.jsx("input",{type:"date",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-400",value:V,onChange:z=>O(z.target.value)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Libras - Unidad"}),f.jsx("input",{type:"number",lang:"eng",step:x?1:.01,inputMode:x?"numeric":"decimal",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-400",value:s===0?"":s,onKeyDown:T,onFocus:z=>{z.target.value==="0"&&(z.target.value="")},onChange:z=>{const oe=z.target.value.replace(",","."),le=oe===""?0:parseFloat(oe);if(x){const ie=Number.isFinite(le)?Math.max(0,Math.round(le)):0;A(ie)}else A(Number.isFinite(le)?le:0)},disabled:!n,placeholder:n?"":"Selecciona un producto primero",title:n?"":"Selecciona un producto para habilitar"})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:" Monto total"}),f.jsx("input",{type:"number",step:"0.01",readOnly:!0,inputMode:"decimal",className:"w-full border border-gray-300 p-2 rounded bg-gray-100",value:a===0?"":a.toFixed(2),onKeyDown:T})]}),f.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-3 sm:py-2 rounded-lg font-semibold shadow hover:bg-blue-700 transition",children:"Guardar venta"}),E&&f.jsx("p",{className:`text-sm mt-2 ${E.startsWith("")?"text-green-600":E.startsWith("")?"text-yellow-600":"text-red-600"}`,children:E})]})}const jn=t=>`C$ ${(Number(t)||0).toFixed(2)}`;function LY(){const[t,e]=Y.useState([]),[r,n]=Y.useState([]),[i,s]=Y.useState(!0),[A,a]=Y.useState(""),[o,l]=Y.useState(an($U(new Date),"yyyy-MM-dd")),[u,d]=Y.useState(an(WU(new Date),"yyyy-MM-dd")),[m,p]=Y.useState(""),[_,E]=Y.useState(""),[B,w]=Y.useState(0),[b,I]=Y.useState(0),[U,V]=Y.useState(0),[O,L]=Y.useState(an(new Date,"yyyy-MM-dd")),[F,x]=Y.useState(0),[k,S]=Y.useState(0),[T,Q]=Y.useState(""),[z,oe]=Y.useState(null),[le,ie]=Y.useState(""),[K,se]=Y.useState(0),[de,pe]=Y.useState(0),[M,X]=Y.useState(0),[te,$]=Y.useState(""),[re,ae]=Y.useState(0),[_e,Be]=Y.useState(0);Y.useEffect(()=>{(async()=>{const ve=await zr(Zt(Je,"products")),Ue=[];ve.forEach(tt=>{const Ve=tt.data();Ue.push({id:tt.id,name:Ve.name??Ve.productName??"(sin nombre)",category:Ve.category??"(sin categora)",measurement:Ve.measurement??"lb",price:Number(Ve.price??0)})}),e(Ue);const Ge=Ii(Zt(Je,"inventory_batches"),Sp("date","desc")),je=await zr(Ge),Ye=[];je.forEach(tt=>{const Ve=tt.data();Ye.push({id:tt.id,productId:Ve.productId,productName:Ve.productName,category:Ve.category,unit:Ve.unit,quantity:Ci(Number(Ve.quantity||0)),remaining:Ci(Number(Ve.remaining||0)),purchasePrice:Number(Ve.purchasePrice||0),salePrice:Number(Ve.salePrice||0),invoiceTotal:Number(Ve.invoiceTotal||0),expectedTotal:Number(Ve.expectedTotal??(Number(Ve.quantity||0)*Number(Ve.salePrice||0)||0)),date:Ve.date,createdAt:Ve.createdAt,status:Ve.status,notes:Ve.notes,paidAmount:Number(Ve.paidAmount||0),paidAt:Ve.paidAt})}),n(Ye),s(!1)})()},[]),Y.useEffect(()=>{const ve=t.find(Ue=>Ue.id===_);ve&&V(Number(ve.price||0))},[_,t]),Y.useEffect(()=>{x(Math.floor(B*b*100)/100)},[B,b]),Y.useEffect(()=>{S(Math.floor(B*U*100)/100)},[B,U]);const xe=ve=>{const Ue=(ve||"").toLowerCase();return/(^|\s)(lb|lbs|libra|libras)(\s|$)/.test(Ue)||Ue==="lb"},Qe=Y.useMemo(()=>r.filter(ve=>!(o&&ve.date<o||u&&ve.date>u||m&&ve.productId!==m)),[r,o,u,m]),Ee=Y.useMemo(()=>{const ve=Qe.reduce((At,Ze)=>At+(Ze.invoiceTotal||0),0),Ue=Qe.reduce((At,Ze)=>At+(Ze.expectedTotal||0),0);let Ge=0,je=0,Ye=0,tt=0;for(const At of Qe)xe(At.unit)?(Ge+=At.quantity,je+=At.remaining):(Ye+=At.quantity,tt+=At.remaining);const Ve=Qe.reduce((At,Ze)=>At+Ze.quantity,0),It=Qe.reduce((At,Ze)=>At+Ze.remaining,0);return{lbsIng:Ge,lbsRem:je,udsIng:Ye,udsRem:tt,qty:Ve,rem:It,totalFacturado:ve,totalEsperado:Ue}},[Qe]),He=async ve=>{ve.preventDefault();const Ue=t.find(Ge=>Ge.id===_);if(!Ue||B<=0||b<=0){a("Completa producto, cantidad y costo.");return}try{const Ge=Ci(B),je=await wY({productId:Ue.id,productName:Ue.name,category:Ue.category,unit:Ue.measurement,quantity:Ge,purchasePrice:b,salePrice:U,invoiceTotal:F,expectedTotal:k,date:O,notes:T});n(Ye=>[{id:je.id,productId:Ue.id,productName:Ue.name,category:Ue.category,unit:Ue.measurement,quantity:Ge,remaining:Ge,purchasePrice:b,salePrice:U,invoiceTotal:F,expectedTotal:k,date:O,createdAt:nr.now(),status:"PENDIENTE",notes:T},...Ye]),a(" Lote creado"),E(""),w(0),I(0),V(Ue.price||0),x(0),S(0),Q("")}catch(Ge){console.error(Ge),a(" Error al crear lote")}},Ce=async ve=>{confirm(`Marcar PAGADO el lote del ${ve.date} (${ve.productName})?`)&&(await qQ(ve.id),n(Ge=>Ge.map(je=>je.id===ve.id?{...je,status:"PAGADO"}:je)))},ne=ve=>{oe(ve.id),ie(ve.date),se(Ci(ve.quantity)),pe(ve.purchasePrice),X(ve.salePrice),$(ve.notes||""),ae(Number((ve.quantity*ve.purchasePrice).toFixed(2))),Be(Number((ve.quantity*ve.salePrice).toFixed(2)))},Qt=()=>{oe(null),ie(""),se(0),pe(0),X(0),$(""),ae(0),Be(0)};Y.useEffect(()=>{z&&ae(Math.floor(K*de*100)/100)},[z,K,de]),Y.useEffect(()=>{z&&Be(Math.floor(K*M*100)/100)},[z,K,M]);const xt=async()=>{if(!z)return;const ve=r.find(Ye=>Ye.id===z);if(!ve)return;const Ue=Ci(ve.quantity-ve.remaining),Ge=Math.max(0,Ci(K-Ue)),je=ir(Je,"inventory_batches",z);await os(je,{date:le,quantity:Ci(K),purchasePrice:de,salePrice:M,invoiceTotal:re,expectedTotal:_e,notes:te,remaining:Ge}),n(Ye=>Ye.map(tt=>tt.id===z?{...tt,date:le,quantity:Ci(K),purchasePrice:de,salePrice:M,invoiceTotal:re,expectedTotal:_e,notes:te,remaining:Ge}:tt)),Qt(),a(" Lote actualizado")},pt=async ve=>{confirm(`Eliminar el lote del ${ve.date} (${ve.productName})?`)&&(await Np(ir(Je,"inventory_batches",ve.id)),n(Ge=>Ge.filter(je=>je.id!==ve.id)),a(" Lote eliminado"))},ke=()=>{const ve=(o?`Desde ${o}`:"Desde inicio")+"  "+(u?`Hasta ${u}`:"Hasta hoy"),Ue=Qe.map(Ye=>`
      <tr>
        <td>${Ye.date}</td>
        <td>${(Ye.category||"").toUpperCase()}</td>
        <td>${Ye.productName}</td>
        <td>${(Ye.unit||"").toUpperCase()}</td>
        <td style="text-align:right">${Ye.quantity.toFixed(3)}</td>
        <td style="text-align:right">${Ye.remaining.toFixed(3)}</td>
        <td style="text-align:right">${jn(Ye.purchasePrice)}</td>
        <td style="text-align:right">${jn(Ye.salePrice)}</td>
        <td style="text-align:right">${jn(Ye.invoiceTotal||0)}</td>
        <td style="text-align:right">${jn(Ye.expectedTotal||0)}</td>
        <td>${Ye.status}</td>
      </tr>`).join(""),Ge=`
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Inventario por Lotes</title>
 <style>
  * { font-family: Arial, sans-serif; }
  h1 { margin: 0 0 4px; }
  .muted { color: #555; font-size: 12px; margin-bottom: 12px; }

  table { width: 100%; border-collapse: collapse; font-size: 12px; }
  th, td { border: 1px solid #ddd; padding: 6px; }
  th { background: #f5f5f5; text-align: left; }

  .totals {
    margin: 10px 0 16px;
    font-size: 12px;
    display: grid;
    grid-template-columns: repeat(2, max-content);
    column-gap: 32px;
    row-gap: 6px;
    align-items: center;
  }
  .totals span {
    margin: 0;
    white-space: nowrap;
  }

  @media print {
    @page { size: A4 landscape; margin: 15mm; }
    button { display: none; }
  }
</style>

</head>

<body>
  <button onclick="window.print()">Imprimir</button>
  <h1>Inventario por Lotes</h1>
<div class="muted">${ve}</div>
<div class="totals">
  <span><strong>Libras ingresadas:</strong> ${Ee.lbsIng.toFixed(3)}</span>
  <span><strong>Libras restantes:</strong> ${Ee.lbsRem.toFixed(3)}</span>

  <span><strong>Unidades ingresadas:</strong> ${Ee.udsIng.toFixed(3)}</span>
  <span><strong>Unidades restantes:</strong> ${Ee.udsRem.toFixed(3)}</span>

  <span><strong>Total esperado a ganar:</strong> ${jn(Ee.totalEsperado)}</span>
  <span><strong>Total facturado:</strong> ${jn(Ee.totalFacturado)}</span>
  <span><strong>Ganancia sin gastos:</strong> ${jn(Number((Ee.totalEsperado-Ee.totalFacturado).toFixed(2)))}</span>
</div>

  <table>
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Tipo</th>
        <th>Producto</th>
        <th>Unidad</th>
        <th>Ingresado</th>
        <th>Restantes</th>
        <th>Precio Compra</th>
        <th>Precio Venta</th>
        <th>Total factura</th>
        <th>Total esperado</th>
        <th>Estado</th>
      </tr>
    </thead>
    <tbody>
      ${Ue||'<tr><td colspan="11" style="text-align:center">Sin lotes</td></tr>'}
    </tbody>
  </table>
</body>
</html>`,je=window.open("","_blank");je&&(je.document.open(),je.document.write(Ge),je.document.close())};return f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Inventario Productos"}),f.jsxs("form",{onSubmit:He,className:"bg-white p-4 rounded shadow border mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-semibold",children:"Producto"}),f.jsxs("select",{className:"w-full border p-2 rounded",value:_,onChange:ve=>E(ve.target.value),children:[f.jsx("option",{value:"",children:"Selecciona un producto"}),t.map(ve=>f.jsxs("option",{value:ve.id,children:[ve.name,"  ",ve.category,"  ",ve.measurement,"  Precio:"," ",jn(ve.price)]},ve.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold",children:"Fecha del lote"}),f.jsx("input",{type:"date",className:"w-full border p-2 rounded",value:O,onChange:ve=>L(ve.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold",children:"Cantidad (Lo que esta ingresando)"}),f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-2 rounded",value:B===0?"":B,onChange:ve=>{const Ue=ve.target.value.replace(",","."),Ge=parseFloat(Ue),je=Number.isFinite(Ge)?parseFloat(Ge.toFixed(3)):0;w(je)},disabled:!_,placeholder:_?"":"Selecciona un producto primero",title:_?"":"Selecciona un producto para habilitar"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold",children:"Precio de compra (compra)"}),f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-2 rounded",value:b===0?"":b,onChange:ve=>{const Ue=ve.target.value.replace(",","."),Ge=parseFloat(Ue),je=Number.isFinite(Ge)?parseFloat(Ge.toFixed(2)):0;I(je)},disabled:!_,placeholder:_?"":"Selecciona un producto primero",title:_?"":"Selecciona un producto para habilitar"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold",children:"Precio de venta (venta)"}),f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-2 rounded",value:U===0?"":U,onChange:ve=>{const Ue=ve.target.value.replace(",","."),Ge=parseFloat(Ue),je=Number.isFinite(Ge)?parseFloat(Ge.toFixed(2)):0;V(je)},disabled:!_,placeholder:_?"":"Selecciona un producto primero",title:_?"":"Selecciona un producto para habilitar"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold",children:"Total factura (auto)"}),f.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-gray-100",value:jn(F),readOnly:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold",children:"Total esperado (auto)"}),f.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-gray-100",value:jn(k),readOnly:!0})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-semibold",children:"Notas"}),f.jsx("input",{className:"w-full border p-2 rounded",value:T,onChange:ve=>Q(ve.target.value)})]}),f.jsx("div",{className:"md:col-span-2",children:f.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Guardar lote"})})]}),f.jsxs("div",{className:"bg-white p-3 rounded shadow border mb-4 flex flex-wrap items-end gap-3 text-sm",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("label",{className:"font-semibold",children:"Desde"}),f.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:o,onChange:ve=>l(ve.target.value)})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("label",{className:"font-semibold",children:"Hasta"}),f.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:u,onChange:ve=>d(ve.target.value)})]}),f.jsxs("div",{className:"flex flex-col min-w-[240px]",children:[f.jsx("label",{className:"font-semibold",children:"Producto"}),f.jsxs("select",{className:"border rounded px-2 py-1",value:m,onChange:ve=>p(ve.target.value),children:[f.jsx("option",{value:"",children:"Todos"}),t.map(ve=>f.jsxs("option",{value:ve.id,children:[ve.name,"  ",ve.category]},ve.id))]})]}),f.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:()=>{l(""),d(""),p("")},children:"Quitar filtro"}),f.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:ke,children:"Imprimir PDF"})]}),f.jsx("div",{className:"bg-gray-50 p-3 rounded shadow border mb-3 text-base",children:f.jsxs("div",{className:"grid grid-cols-3 gap-y-2 gap-x-8",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Libras ingresadas:"})," ",Ee.lbsIng.toFixed(3)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Unidades ingresadas:"})," ",Ee.udsIng.toFixed(3)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Total esperado en ventas:"})," C$"," ",Ee.totalEsperado.toFixed(2)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Libras restantes:"})," ",Ee.lbsRem.toFixed(3)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Unidades restantes:"})," ",Ee.udsRem.toFixed(3)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Total facturado:"})," C$"," ",Ee.totalFacturado.toFixed(2)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Ganancia sin gastos:"})," C$"," ",(Ee.totalEsperado-Ee.totalFacturado).toFixed(2)]})]})}),f.jsx("div",{className:"bg-white p-2 rounded shadow border w-full",children:f.jsxs("table",{className:"min-w-full w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Fecha"}),f.jsx("th",{className:"p-2 border",children:"Tipo"}),f.jsx("th",{className:"p-2 border",children:"Producto"}),f.jsx("th",{className:"p-2 border",children:"Unidad"}),f.jsx("th",{className:"p-2 border",children:"Ingresado"}),f.jsx("th",{className:"p-2 border",children:"Restantes"}),f.jsx("th",{className:"p-2 border",children:"Precio Compra"}),f.jsx("th",{className:"p-2 border",children:"Precio Venta"}),f.jsx("th",{className:"p-2 border",children:"Total factura"}),f.jsx("th",{className:"p-2 border",children:"Total esperado"}),f.jsx("th",{className:"p-2 border",children:"Total ganancia"}),f.jsx("th",{className:"p-2 border",children:"Estado"}),f.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),f.jsx("tbody",{children:i?f.jsx("tr",{children:f.jsx("td",{colSpan:12,className:"p-4 text-center",children:"Cargando"})}):Qe.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:12,className:"p-4 text-center",children:"Sin lotes"})}):Qe.map(ve=>{const Ue=z===ve.id;return f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:Ue?f.jsx("input",{type:"date",className:"w-full border p-1 rounded",value:le,onChange:Ge=>ie(Ge.target.value)}):ve.date}),f.jsx("td",{className:"p-2 border",children:ve.category.toUpperCase()}),f.jsx("td",{className:"p-2 border",children:ve.productName}),f.jsx("td",{className:"p-2 border",children:ve.unit.toUpperCase()}),f.jsx("td",{className:"p-2 border",children:Ue?f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-1 rounded text-right",value:Number.isNaN(K)?"":K,onChange:Ge=>{const je=Ge.target.value.replace(",","."),Ye=parseFloat(je),tt=Number.isFinite(Ye)?parseFloat(Ye.toFixed(3)):0;se(Math.max(0,tt))}}):ve.quantity.toFixed(3)}),f.jsx("td",{className:"p-2 border",children:Ue?ve.remaining:ve.remaining.toFixed(3)}),f.jsx("td",{className:"p-2 border",children:Ue?f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-1 rounded text-right",value:Number.isNaN(de)?"":de,onChange:Ge=>{const je=Ge.target.value.replace(",","."),Ye=parseFloat(je),tt=Number.isFinite(Ye)?parseFloat(Ye.toFixed(2)):0;pe(Math.max(0,tt))}}):jn(ve.purchasePrice)}),f.jsx("td",{className:"p-2 border",children:Ue?f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"w-full border p-1 rounded text-right",value:Number.isNaN(M)?"":M,onChange:Ge=>{const je=Ge.target.value.replace(",","."),Ye=parseFloat(je),tt=Number.isFinite(Ye)?parseFloat(Ye.toFixed(2)):0;X(Math.max(0,tt))}}):jn(ve.salePrice)}),f.jsx("td",{className:"p-2 border",children:jn(Ue?re:ve.invoiceTotal||0)}),f.jsx("td",{className:"p-2 border",children:jn(Ue?_e:ve.expectedTotal||0)}),f.jsx("td",{className:"p-2 border",children:jn(Ue?_e-re:(ve.expectedTotal||0)-(ve.invoiceTotal||0))}),f.jsx("td",{className:"p-2 border",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${ve.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:ve.status})}),f.jsx("td",{className:"flex space-x-2 justify-center",children:Ue?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"px-2 py-1 rounded text-white bg-blue-600 hover:bg-blue-700",onClick:xt,children:"Guardar"}),f.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:Qt,children:"Cancelar"})]}):f.jsxs(f.Fragment,{children:[ve.status==="PENDIENTE"&&f.jsx("button",{onClick:()=>Ce(ve),className:"px-2 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Pagar"}),f.jsx("button",{className:"px-2 py-1 rounded text-white bg-yellow-600 hover:bg-yellow-700",onClick:()=>ne(ve),children:"Editar"}),f.jsx("button",{className:"px-2 py-1 rounded text-white bg-red-600 hover:bg-red-700",onClick:()=>pt(ve),children:"Borrar"})]})})]},ve.id)})})]})}),A&&f.jsx("p",{className:"mt-2 text-sm",children:A})]})}const Qa=t=>`C$${(Number(t)||0).toFixed(2)}`;function PY(){const t=r9(new Date),[e,r]=Y.useState(an(t,"yyyy-MM")),[n,i]=Y.useState([]),[s,A]=Y.useState(!1),[a,o]=Y.useState(""),l=Y.useRef(null),u=Y.useMemo(()=>{const[B,w]=e.split("-").map(U=>parseInt(U,10)),b=an($U(new Date(B,w-1,1)),"yyyy-MM-dd"),I=an(WU(new Date(B,w-1,1)),"yyyy-MM-dd");return{from:b,to:I}},[e]),d=async()=>{A(!0);try{const B=await yY(u.from,u.to),w=[];for(const b of B){const I=ir(Je,"inventory_batches",b.batchId),U=await Dh(I);if(!U.exists())continue;const V=U.data();w.push({batchId:b.batchId,batchDate:b.batchDate,productName:b.productName,soldQty:Number(b.quantity||0),soldAmount:Number(b.amountCharged||0),status:V.status??"PENDIENTE",purchasePrice:Number(V.purchasePrice||0),salePrice:Number(V.salePrice||0),supplier:V.supplier})}i(w)}catch(B){console.error(B),o(" Error al cargar liquidaciones")}finally{A(!1)}};Y.useEffect(()=>{d()},[e]);const m=async B=>{confirm("Marcar este lote como PAGADO?")&&(await qQ(B),i(b=>b.map(I=>I.batchId===B?{...I,status:"PAGADO"}:I)))},p=Y.useMemo(()=>{const B=n.reduce((U,V)=>U+V.soldQty,0),w=n.reduce((U,V)=>U+V.soldAmount,0),b=n.reduce((U,V)=>U+V.soldQty*V.purchasePrice,0),I=w-b;return{q:B,amt:w,cogs:b,profit:I}},[n]),_=Y.useMemo(()=>{const B=new Map;for(const w of n){const b=w.productName||"(sin nombre)";B.has(b)||B.set(b,{productName:b,qty:0,revenue:0,cogs:0,profit:0});const I=B.get(b);I.qty+=w.soldQty,I.revenue+=w.soldAmount;const U=w.soldQty*w.purchasePrice;I.cogs+=U,I.profit=I.revenue-I.cogs}return Array.from(B.values()).sort((w,b)=>w.productName.localeCompare(b.productName))},[n]),E=async()=>{if(!l.current)return;const B=l.current;B.classList.add("force-pdf-colors");try{const[{default:w},{jsPDF:b}]=await Promise.all([ml(()=>Promise.resolve().then(()=>A5),void 0),ml(()=>Promise.resolve().then(()=>j2),void 0)]),U=(await w(B,{backgroundColor:"#ffffff",scale:2})).toDataURL("image/png"),V=new b("p","mm","a4"),O=190,L=V.getImageProperties(U),F=O,x=L.height*F/L.width;V.addImage(U,"PNG",10,10,F,x),V.save(`liquidaciones_${e}.pdf`)}catch(w){console.error(w),alert("No se pudo generar el PDF")}finally{B.classList.remove("force-pdf-colors")}};return f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Liquidaciones por lote"}),f.jsx("button",{onClick:E,className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:"Descargar PDF"})]}),f.jsxs("div",{className:"bg-white p-3 rounded shadow border mb-4 flex flex-wrap items-center gap-3",children:[f.jsx("label",{className:"text-sm font-semibold",children:"Mes:"}),f.jsx("input",{type:"month",className:"border rounded px-2 py-1",value:e,onChange:B=>r(B.target.value)}),f.jsx("button",{onClick:d,className:"bg-gray-800 text-white px-3 py-1 rounded",children:"Aplicar"})]}),f.jsxs("div",{ref:l,children:[f.jsx("div",{className:"bg-white p-3 rounded shadow border mb-3 text-sm",children:f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Total vendido (cantidad):"})," ",p.q]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Monto vendido:"})," ",Qa(p.amt)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Costo (COGS):"})," ",Qa(p.cogs)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Utilidad:"})," ",Qa(p.profit)]})]})}),f.jsx("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto mb-6",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Lote (fecha)"}),f.jsx("th",{className:"p-2 border",children:"Producto"}),f.jsx("th",{className:"p-2 border",children:"Proveedor"}),f.jsx("th",{className:"p-2 border",children:"Vendido"}),f.jsx("th",{className:"p-2 border",children:"Monto vendido"}),f.jsx("th",{className:"p-2 border",children:"COGS"}),f.jsx("th",{className:"p-2 border",children:"Utilidad"}),f.jsx("th",{className:"p-2 border",children:"Estado"}),f.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),f.jsx("tbody",{children:s?f.jsx("tr",{children:f.jsx("td",{colSpan:9,className:"p-4 text-center",children:"Cargando"})}):n.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:9,className:"p-4 text-center",children:"Sin datos"})}):n.map(B=>{const w=B.soldQty*B.purchasePrice,b=B.soldAmount-w;return f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:B.batchDate}),f.jsx("td",{className:"p-2 border",children:B.productName}),f.jsx("td",{className:"p-2 border",children:B.supplier||"-"}),f.jsx("td",{className:"p-2 border",children:B.soldQty}),f.jsx("td",{className:"p-2 border",children:Qa(B.soldAmount)}),f.jsx("td",{className:"p-2 border",children:Qa(w)}),f.jsx("td",{className:`p-2 border ${b>=0?"text-green-700":"text-red-700"}`,children:Qa(b)}),f.jsx("td",{className:"p-2 border",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${B.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:B.status})}),f.jsx("td",{className:"p-2 border",children:B.status==="PENDIENTE"&&f.jsx("button",{onClick:()=>m(B.batchId),className:"px-2 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Marcar pagado"})})]},B.batchId)})})]})}),f.jsx("h3",{className:"font-semibold mb-2",children:"Utilidad por producto"}),f.jsx("div",{className:"bg-white p-2 rounded shadow border overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Producto"}),f.jsx("th",{className:"p-2 border",children:"Cantidad vendida"}),f.jsx("th",{className:"p-2 border",children:"Ingreso"}),f.jsx("th",{className:"p-2 border",children:"COGS"}),f.jsx("th",{className:"p-2 border",children:"Utilidad"})]})}),f.jsx("tbody",{children:_.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"p-4 text-center",children:"Sin datos"})}):_.map(B=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:B.productName}),f.jsx("td",{className:"p-2 border",children:B.qty}),f.jsx("td",{className:"p-2 border",children:Qa(B.revenue)}),f.jsx("td",{className:"p-2 border",children:Qa(B.cogs)}),f.jsx("td",{className:`p-2 border ${B.profit>=0?"text-green-700":"text-red-700"}`,children:Qa(B.profit)})]},B.productName))})]})})]}),a&&f.jsx("p",{className:"mt-2 text-sm",children:a})]})}const La=t=>`C$${Number(t??0).toFixed(2)}`,kY=()=>an(new Date,"yyyy-MM-dd");function RY(){const[t,e]=Y.useState(()=>{const m=new Date,p=new Date(m.getFullYear(),m.getMonth(),1);return an(p,"yyyy-MM-dd")}),[r,n]=Y.useState(kY()),[i,s]=Y.useState(!0),[A,a]=Y.useState([]),[o,l]=Y.useState([]);Y.useEffect(()=>{(async()=>{s(!0);const p=Ii(Zt(Je,"salesV2"),xi("date",">=",t),xi("date","<=",r)),_=await zr(p),E=[];_.forEach(I=>{const U=I.data();E.push({id:I.id,date:U.date??"",productName:U.productName??"(sin nombre)",quantity:Number(U.quantity??0),amount:Number(U.amount??U.amountCharged??0),allocations:Array.isArray(U.allocations)?U.allocations:[],avgUnitCost:Number(U.avgUnitCost??0)})}),a(E);const B=Ii(Zt(Je,"expenses"),xi("date",">=",t),xi("date","<=",r)),w=await zr(B),b=[];w.forEach(I=>{const U=I.data();b.push({id:I.id,date:U.date??"",category:U.category??"(sin categora)",description:U.description??"",amount:Number(U.amount??0),status:U.status??"PAGADO",createdAt:U.createdAt})}),l(b),s(!1)})()},[t,r]);const u=Y.useMemo(()=>{const m=A.reduce((w,b)=>w+(b.amount||0),0);let p=0;A.forEach(w=>{if(w.allocations&&w.allocations.length>0){const b=w.allocations.reduce((I,U)=>I+Number(U.lineCost||0),0);p+=b}else w.avgUnitCost&&w.quantity&&(p+=Number(w.avgUnitCost)*Number(w.quantity))});const _=m-p,E=o.reduce((w,b)=>w+(b.amount||0),0),B=_-E;return{revenue:m,cogsReal:p,grossProfit:_,expensesSum:E,netProfit:B}},[A,o]),d=Y.useMemo(()=>{var p;const m=new Map;for(const _ of A){const E=_.productName||"(sin nombre)";m.has(E)||m.set(E,{productName:E,units:0,revenue:0,cogs:0,profit:0});const B=m.get(E);B.units+=Number(_.quantity||0),B.revenue+=Number(_.amount||0);let w=0;(p=_.allocations)!=null&&p.length?w=_.allocations.reduce((b,I)=>b+Number(I.lineCost||0),0):_.avgUnitCost&&(w=Number(_.avgUnitCost)*Number(_.quantity||0)),B.cogs+=w,B.profit=B.revenue-B.cogs}return Array.from(m.values()).sort((_,E)=>_.productName.localeCompare(E.productName))},[A]);return f.jsxs("div",{className:"max-w-7xl mx-auto bg-white p-6 rounded shadow ",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Finanzas"}),f.jsxs("div",{className:"flex flex-wrap items-end gap-2 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Desde"}),f.jsx("input",{type:"date",className:"border rounded px-3 py-2",value:t,onChange:m=>e(m.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Hasta"}),f.jsx("input",{type:"date",className:"border rounded px-3 py-2",value:r,onChange:m=>n(m.target.value)})]})]}),i?f.jsx("p",{children:"Cargando"}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 mb-6 text-3xl font-bold",children:[f.jsx(Fd,{title:"Ventas Totales",value:La(u.revenue)}),f.jsx(Fd,{title:"Costo de Mercaderia",value:La(u.cogsReal)}),f.jsx(Fd,{title:"Ganancia antes de Gastos",value:La(u.grossProfit),positive:!0}),f.jsx(Fd,{title:"Gastos del Negocio",value:La(u.expensesSum)}),f.jsx(Fd,{title:"Ganancia despues de Gastos",value:La(u.netProfit),positive:!0})]}),f.jsx("h3",{className:"font-semibold mb-2",children:"Consolidado por producto"}),f.jsxs("table",{className:"min-w-full border text-sm mb-6",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border p-2",children:"Producto"}),f.jsx("th",{className:"border p-2",children:"Total libras/unidades"}),f.jsx("th",{className:"border p-2",children:"Ingreso"}),f.jsx("th",{className:"border p-2",children:"Costo"}),f.jsx("th",{className:"border p-2",children:"Utilidad"})]})}),f.jsxs("tbody",{children:[d.map(m=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"border p-1",children:m.productName}),f.jsx("td",{className:"border p-1",children:m.units}),f.jsx("td",{className:"border p-1",children:La(m.revenue)}),f.jsx("td",{className:"border p-1",children:La(m.cogs)}),f.jsx("td",{className:`border p-1 ${m.profit>=0?"text-green-700":"text-red-700"}`,children:La(m.profit)})]},m.productName)),d.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Sin datos en el rango seleccionado."})})]})]}),f.jsx("h3",{className:"font-semibold mb-2",children:"Gastos del periodo"}),f.jsxs("table",{className:"min-w-full border text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border p-2",children:"Fecha"}),f.jsx("th",{className:"border p-2",children:"Categora"}),f.jsx("th",{className:"border p-2",children:"Descripcin"}),f.jsx("th",{className:"border p-2",children:"Monto"}),f.jsx("th",{className:"border p-2",children:"Estado"})]})}),f.jsxs("tbody",{children:[o.map(m=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"border p-1",children:m.date}),f.jsx("td",{className:"border p-1",children:m.category}),f.jsx("td",{className:"border p-1",children:m.description}),f.jsx("td",{className:"border p-1",children:La(m.amount)}),f.jsx("td",{className:"border p-1",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${m.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:m.status})})]},m.id)),o.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Sin gastos en el rango seleccionado."})})]})]})]})]})}function Fd({title:t,value:e,positive:r}){return f.jsxs("div",{className:"border rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-gray-500",children:t}),f.jsx("div",{className:`text-xl font-bold ${r?"text-green-700":""}`,children:e})]})}const DY=t=>`C$${Number(t??0).toFixed(2)}`;function OY(){const[t,e]=Y.useState([]),[r,n]=Y.useState(!0),[i,s]=Y.useState(an(new Date,"yyyy-MM-dd")),[A,a]=Y.useState("Varios"),[o,l]=Y.useState(""),[u,d]=Y.useState(0),[m,p]=Y.useState("PENDIENTE"),[_,E]=Y.useState(""),[B,w]=Y.useState(null),[b,I]=Y.useState(""),[U,V]=Y.useState(""),[O,L]=Y.useState(""),[F,x]=Y.useState(0),k=async()=>{const ie=Ii(Zt(Je,"expenses"),Sp("createdAt","desc")),K=await zr(ie),se=[];K.forEach(de=>se.push({id:de.id,...de.data()})),e(se)};Y.useEffect(()=>{(async()=>(n(!0),await k(),n(!1)))()},[]);const S=async()=>{try{await Oh(Zt(Je,"expenses"),{date:i,category:A,description:o,amount:Number(u)||0,status:m,createdAt:nr.now()}),E(" Gasto registrado."),s(an(new Date,"yyyy-MM-dd")),a("Varios"),l(""),d(0),p("PENDIENTE"),await k()}catch(ie){console.error(ie),E(" No se pudo registrar el gasto.")}},T=async ie=>{confirm("Eliminar gasto?")&&(await Np(ir(Je,"expenses",ie)),e(K=>K.filter(se=>se.id!==ie)))},Q=async ie=>{if(ie.status==="PAGADO")return;const K=ir(Je,"expenses",ie.id);await os(K,{status:"PAGADO",paidAt:nr.now()}),e(se=>se.map(de=>de.id===ie.id?{...de,status:"PAGADO",paidAt:nr.now()}:de))},z=ie=>{w(ie.id),I(ie.date||""),V(ie.category||"Varios"),L(ie.description||""),x(Number(ie.amount||0))},oe=()=>{w(null),I(""),V("Varios"),L(""),x(0)},le=async()=>{if(!B)return;const ie=ir(Je,"expenses",B);await os(ie,{date:b,category:U,description:O,amount:Number(F)||0}),e(K=>K.map(se=>se.id===B?{...se,date:b,category:U,description:O,amount:Number(F)||0}:se)),oe()};return f.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded shadow",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gastos"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Fecha"}),f.jsx("input",{type:"date",className:"border rounded px-3 py-2 w-full",value:i,onChange:ie=>s(ie.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Categora"}),f.jsx("input",{className:"border rounded px-3 py-2 w-full",value:A,onChange:ie=>a(ie.target.value)})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Descripcin"}),f.jsx("input",{className:"border rounded px-3 py-2 w-full",value:o,onChange:ie=>l(ie.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Monto"}),f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"border rounded px-3 py-2 w-full",onKeyDown:ie=>{ie.key===","&&(ie.preventDefault(),ie.target.value+=".")},value:u===0?"":u,onChange:ie=>d(parseFloat((ie.target.value||"0").replace(",",".")))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Estado"}),f.jsxs("select",{className:"border rounded px-3 py-2 w-full",value:m,onChange:ie=>p(ie.target.value),children:[f.jsx("option",{value:"PENDIENTE",children:"Pendiente"}),f.jsx("option",{value:"PAGADO",children:"Pagado"})]})]})]}),f.jsx("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Registrar gasto"}),_&&f.jsx("p",{className:"mt-2 text-sm",children:_}),f.jsx("h3",{className:"font-semibold mt-6 mb-2",children:"Listado"}),r?f.jsx("p",{children:"Cargando"}):f.jsxs("table",{className:"min-w-full border text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border p-2",children:"Fecha"}),f.jsx("th",{className:"border p-2",children:"Categora"}),f.jsx("th",{className:"border p-2",children:"Descripcin"}),f.jsx("th",{className:"border p-2",children:"Monto"}),f.jsx("th",{className:"border p-2",children:"Estado"}),f.jsx("th",{className:"border p-2",children:"Acciones"})]})}),f.jsxs("tbody",{children:[t.map(ie=>{const K=B===ie.id;return f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"border p-1",children:K?f.jsx("input",{type:"date",className:"border rounded px-2 py-1 w-full",value:b,onChange:se=>I(se.target.value)}):ie.date}),f.jsx("td",{className:"border p-1",children:K?f.jsx("input",{className:"border rounded px-2 py-1 w-full",value:U,onChange:se=>V(se.target.value)}):ie.category}),f.jsx("td",{className:"border p-1",children:K?f.jsx("input",{className:"border rounded px-2 py-1 w-full",value:O,onChange:se=>L(se.target.value)}):ie.description}),f.jsx("td",{className:"border p-1",children:K?f.jsx("input",{type:"number",step:"0.01",className:"border rounded px-2 py-1 w-full text-right",value:Number.isNaN(F)?"":F,onChange:se=>x(parseFloat(se.target.value||"0"))}):DY(ie.amount)}),f.jsx("td",{className:"border p-1",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${ie.status==="PAGADO"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:ie.status})}),f.jsx("td",{className:"border p-1 space-x-1",children:K?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:le,className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",children:"Guardar"}),f.jsx("button",{onClick:oe,className:"text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300",children:"Cancelar"})]}):f.jsxs(f.Fragment,{children:[ie.status==="PENDIENTE"&&f.jsx("button",{onClick:()=>Q(ie),className:"text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700",children:"Pagar"}),f.jsx("button",{onClick:()=>z(ie),className:"text-xs bg-yellow-600 text-white px-2 py-1 rounded hover:bg-yellow-700",children:"Editar"}),f.jsx("button",{onClick:()=>T(ie.id),className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",children:"Eliminar"})]})})]},ie.id)}),t.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"p-3 text-center text-gray-500",children:"Sin gastos an."})})]})]})]})}function O0(t){return(t||"").trim().toLowerCase()}async function WQ(){const t=await zr(Zt(Je,"products")),e=new Map;return t.forEach(r=>{const n=r.data(),i=O0(n.name??n.productName);i&&e.set(i,r.id)}),e}async function MY(t=!1){const e=await WQ(),r=await zr(Zt(Je,"inventory_batches")),n={checked:0,fixed:0,alreadyOk:0,missingName:0,withoutMatch:0,details:[]};for(const i of r.docs){n.checked++;const s=i.data(),A=O0(s.productName);if(!A){n.missingName++,n.details.push({batchId:i.id,productName:s.productName??"",oldProductId:s.productId,status:"missingName"});continue}const a=e.get(A);if(!a){n.withoutMatch++,n.details.push({batchId:i.id,productName:s.productName??"",oldProductId:s.productId,status:"withoutMatch"});continue}if(s.productId===a){n.alreadyOk++,n.details.push({batchId:i.id,productName:s.productName??"",oldProductId:s.productId,newProductId:a,status:"alreadyOk"});continue}t||await os(ir(Je,"inventory_batches",i.id),{productId:a}),n.fixed++,n.details.push({batchId:i.id,productName:s.productName??"",oldProductId:s.productId,newProductId:a,status:"fixed"})}return console.group("[fixAllBatchProductIds] Resultado"),console.log("checked:",n.checked),console.log("fixed:",n.fixed),console.log("alreadyOk:",n.alreadyOk),console.log("missingName:",n.missingName),console.log("withoutMatch:",n.withoutMatch),console.groupEnd(),n}async function HY(t,e=!1){const r=O0(t),i=(await WQ()).get(r);if(!i)throw new Error(`No existe un producto activo con nombre "${t}".`);const s=await zr(Zt(Je,"inventory_batches"));let A=0;for(const a of s.docs){const o=a.data();O0(o.productName)===r&&o.productId!==i&&(e||await os(ir(Je,"inventory_batches",a.id),{productId:i}),A++)}return console.log(`[fixBatchesByProductName] "${t}" fixed: ${A} lote(s)`),A}function jY(){const[t,e]=Y.useState(!1),[r,n]=Y.useState(""),i=async()=>{try{e(!0),n("");const o=await MY(!1);n(` Hecho. Revisados: ${o.checked}, Corregidos: ${o.fixed}, Ok: ${o.alreadyOk}, Sin nombre: ${o.missingName}, Sin match: ${o.withoutMatch}. (Mira consola para detalles)`)}catch(o){n(" Error: "+((o==null?void 0:o.message)||o))}finally{e(!1)}},[s,A]=Y.useState(""),a=async()=>{if(!s.trim()){n(" Escribe el nombre del producto.");return}try{e(!0),n("");const o=await HY(s.trim(),!1);n(` Hecho. Corregidos ${o} lote(s) para "${s}".`)}catch(o){n(" Error: "+((o==null?void 0:o.message)||o))}finally{e(!1)}};return f.jsxs("div",{className:"max-w-xl mx-auto bg-white p-6 rounded shadow border space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold",children:"Herramienta de Migracin de Lotes"}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Corrige los ",f.jsx("code",{children:"inventory_batches.productId"})," basndose en el nombre del producto. salo una sola vez para limpiar datos viejos. Revisa la consola para un log detallado."]}),f.jsx("div",{className:"space-y-2",children:f.jsx("button",{onClick:i,disabled:t,className:"bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-60",children:t?"Corriendo":"Corregir TODOS los lotes"})}),f.jsx("hr",{}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Corregir por nombre:"}),f.jsx("input",{className:"border p-2 rounded w-full",placeholder:'Ej: "Pierna Entera"',value:s,onChange:o=>A(o.target.value)}),f.jsx("button",{onClick:a,disabled:t,className:"bg-indigo-600 text-white px-4 py-2 rounded disabled:opacity-60",children:t?"Corriendo":"Corregir lotes de ese producto"})]}),r&&f.jsx("p",{className:"text-sm",children:r})]})}const Pa=t=>`C$ ${Number(t||0).toFixed(2)}`,Sd=t=>Number(t||0).toFixed(3);function VY(){var d,m,p,_,E;const[t,e]=Y.useState([]),[r,n]=Y.useState(!0),[i,s]=Y.useState(null),A=Y.useRef(null);Y.useEffect(()=>{(async()=>{n(!0);const B=Ii(Zt(Je,"invoices"),Sp("date","desc")),w=await zr(B),b=[];w.forEach(I=>{const U=I.data();b.push({id:I.id,...U,batches:U.batches||[],expenses:U.expenses||[],totals:U.totals||{lbs:U.totalLbs||0,units:U.totalUnits||0,amount:U.totalAmount||0,expenses:U.totalExpenses||0,finalAmount:U.finalAmount||0}})}),e(b),n(!1)})()},[]);const a=async B=>{const w=B.status==="PAGADA"?"PENDIENTE":"PAGADA";await os(ir(Je,"invoices",B.id),{status:w}),e(b=>b.map(I=>I.id===B.id?{...I,status:w}:I)),(i==null?void 0:i.id)===B.id&&s({...B,status:w})},o=async B=>{if(window.confirm(`Eliminar factura del ${B.date}?`))try{const w=ir(Je,"invoices",B.id),b=await Dh(w),I=b.exists()?b.data():null,U=Y_(Je),V=(I==null?void 0:I.batches)||[];for(const O of V){const L=O.batchId||O.id;if(!L)continue;const F=ir(Je,"inventory_batches",L);U.update(F,{invoiceId:null,invoiceNumber:null,invoiceTotal:null})}U.delete(w),await U.commit(),e(O=>O.filter(L=>L.id!==B.id)),(i==null?void 0:i.id)===B.id&&s(null)}catch(w){console.error(w),alert("No se pudo eliminar la factura por completo.")}},l=async()=>{if(!A.current||!i)return;const B=A.current,w=await s5(B,{backgroundColor:"#ffffff"}),b=w.toDataURL("image/png"),I=new ut("p","mm","a4"),U=I.internal.pageSize.getWidth(),V=w.height*U/w.width;I.addImage(b,"PNG",0,0,U,V),I.save(`factura_${i.number||i.date}.pdf`)},u=B=>B.totals||{lbs:B.totalLbs||0,units:B.totalUnits||0,amount:B.totalAmount||0,expenses:B.totalExpenses||0,finalAmount:B.finalAmount||0};return f.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-white rounded shadow",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Facturacin"}),f.jsx("div",{className:"bg-white p-2 rounded shadow border w-full mb-4",children:f.jsxs("table",{className:"min-w-full w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Fecha"}),f.jsx("th",{className:"p-2 border",children:"N factura"}),f.jsx("th",{className:"p-2 border",children:"Descripcin"}),f.jsx("th",{className:"p-2 border",children:"Libras"}),f.jsx("th",{className:"p-2 border",children:"Unidades"}),f.jsx("th",{className:"p-2 border",children:"Monto"}),f.jsx("th",{className:"p-2 border",children:"Gastos"}),f.jsx("th",{className:"p-2 border",children:"Monto final"}),f.jsx("th",{className:"p-2 border",children:"Estado"}),f.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),f.jsx("tbody",{children:r?f.jsx("tr",{children:f.jsx("td",{colSpan:10,className:"p-4 text-center",children:"Cargando"})}):t.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:10,className:"p-4 text-center",children:"Sin facturas"})}):t.map(B=>{const w=u(B);return f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:B.date}),f.jsx("td",{className:"p-2 border",children:B.number||""}),f.jsx("td",{className:"p-2 border",children:B.description||""}),f.jsx("td",{className:"p-2 border",children:Sd(w.lbs)}),f.jsx("td",{className:"p-2 border",children:Sd(w.units)}),f.jsx("td",{className:"p-2 border",children:Pa(w.amount)}),f.jsx("td",{className:"p-2 border",children:Pa(w.expenses)}),f.jsx("td",{className:"p-2 border",children:Pa(w.finalAmount)}),f.jsx("td",{className:"p-2 border",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${B.status==="PAGADA"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:B.status})}),f.jsx("td",{className:"p-2 border",children:f.jsxs("div",{className:"flex gap-2 justify-center",children:[f.jsx("button",{className:"text-xs bg-indigo-600 text-white px-2 py-1 rounded hover:bg-indigo-700",onClick:()=>s(B),children:"Ver"}),f.jsx("button",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",onClick:()=>a(B),children:B.status==="PAGADA"?"Marcar PENDIENTE":"Marcar PAGADA"}),f.jsx("button",{className:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",onClick:()=>o(B),children:"Eliminar"})]})})]},B.id)})})]})}),i&&f.jsxs("div",{ref:A,className:"bg-white p-4 rounded shadow border",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsxs("h3",{className:"text-lg font-semibold",children:["Detalle ",i.date," ",i.number?` ${i.number}`:""]}),f.jsx("button",{className:"ml-auto px-3 py-1 border rounded",onClick:()=>s(null),children:"Cerrar"}),f.jsx("button",{onClick:l,className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 text-sm",children:"Imprimir PDF"})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm mb-3",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Estado:"})," ",i.status]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Libras:"})," ",Sd(((d=i.totals)==null?void 0:d.lbs)||0)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Unidades:"})," ",Sd(((m=i.totals)==null?void 0:m.units)||0)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Monto:"})," ",Pa(((p=i.totals)==null?void 0:p.amount)||0)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Gastos:"})," ",Pa(((_=i.totals)==null?void 0:_.expenses)||0)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Monto final:"})," ",Pa(((E=i.totals)==null?void 0:E.finalAmount)||0)]})]}),f.jsx("h4",{className:"font-semibold mb-1",children:"Lotes"}),f.jsxs("table",{className:"min-w-full text-sm mb-4",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Producto"}),f.jsx("th",{className:"p-2 border",children:"Unidad"}),f.jsx("th",{className:"p-2 border",children:"Cantidad"}),f.jsx("th",{className:"p-2 border",children:"Precio venta"}),f.jsx("th",{className:"p-2 border",children:"Total esperado"})]})}),f.jsx("tbody",{children:i.batches&&i.batches.length>0?i.batches.map((B,w)=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:B.productName||"(sin nombre)"}),f.jsx("td",{className:"p-2 border",children:(B.unit||"").toUpperCase()}),f.jsx("td",{className:"p-2 border",children:Sd(B.quantity)}),f.jsx("td",{className:"p-2 border",children:Pa(B.salePrice)}),f.jsx("td",{className:"p-2 border",children:Pa(B.amount)})]},w)):f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Sin items"})})})]}),f.jsx("h4",{className:"font-semibold mb-1",children:"Gastos"}),f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Fecha"}),f.jsx("th",{className:"p-2 border",children:"Descripcin"}),f.jsx("th",{className:"p-2 border",children:"Monto"})]})}),f.jsx("tbody",{children:i.expenses&&i.expenses.length>0?i.expenses.map((B,w)=>f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:B.date}),f.jsx("td",{className:"p-2 border",children:B.description}),f.jsx("td",{className:"p-2 border",children:Pa(B.amount)})]},w)):f.jsx("tr",{children:f.jsx("td",{colSpan:3,className:"p-3 text-center text-gray-500",children:"Sin gastos"})})})]})]})]})}const Bc=t=>`C$${Number(t||0).toFixed(2)}`,Py=t=>Number(t||0).toFixed(3),KY=t=>(t||"").toLowerCase()==="lb"||/libra/.test((t||"").toLowerCase());function GY({paidBatches:t=[],onClose:e,onCreated:r}){const n=Array.isArray(t)?t:[],[i,s]=Y.useState(an(new Date,"yyyy-MM-dd")),[A,a]=Y.useState(()=>`FAC-${Date.now().toString().slice(-6)}`),[o,l]=Y.useState(""),[u,d]=Y.useState(n.map(T=>T.id)),[m,p]=Y.useState([]),[_,E]=Y.useState([]),[B,w]=Y.useState(!1),[b,I]=Y.useState(!1),[U,V]=Y.useState("");Y.useEffect(()=>{(async()=>{try{w(!0);const T=Ii(Zt(Je,"expenses"),Sp("date","desc")),Q=await zr(T),z=[];Q.forEach(oe=>{const le=oe.data();z.push({id:oe.id,date:le.date,description:le.description,amount:Number(le.amount||0)})}),p(z)}catch(T){console.error(T)}finally{w(!1)}})()},[]);const O=Y.useMemo(()=>n.filter(T=>u.includes(T.id)),[n,u]),L=Y.useMemo(()=>{let T=0,Q=0,z=0;for(const ie of O){KY(ie.unit)?T+=Number(ie.quantity||0):Q+=Number(ie.quantity||0);const K=ie.expectedTotal??Number((Number(ie.quantity||0)*Number(ie.salePrice||0)).toFixed(2));z+=Number(K||0)}const oe=m.filter(ie=>_.includes(ie.id)).reduce((ie,K)=>ie+Number(K.amount||0),0),le=z-oe;return{totalLbs:T,totalUnits:Q,totalAmount:z,totalGastos:oe,finalAmount:le}},[O,m,_]),F=(T,Q)=>{d(z=>Q?[...new Set([...z,T])]:z.filter(oe=>oe!==T))},x=(T,Q)=>{E(z=>Q?[...new Set([...z,T])]:z.filter(oe=>oe!==T))},k=T=>{d(T?n.map(Q=>Q.id):[])},S=async()=>{if(V(""),O.length===0){V("Selecciona al menos 1 lote pagado.");return}try{I(!0);const T={number:A.trim(),date:i,description:o.trim(),status:"PENDIENTE",createdAt:nr.now(),totalLbs:Number(L.totalLbs.toFixed(3)),totalUnits:Number(L.totalUnits.toFixed(3)),totalAmount:Number(L.totalAmount.toFixed(2)),totalExpenses:Number(L.totalGastos.toFixed(2)),finalAmount:Number(L.finalAmount.toFixed(2)),batches:O.map(Q=>{var z;return{id:Q.id,productId:Q.productId,productName:Q.productName,unit:Q.unit,quantity:Number(Number(Q.quantity||0).toFixed(3)),salePrice:Number(Number(Q.salePrice||0).toFixed(2)),amount:Number((Number(Q.quantity||0)*Number(Q.salePrice||0)).toFixed(2)),batchDate:Q.date,paidAt:(z=Q.paidAt)!=null&&z.toDate?an(Q.paidAt.toDate(),"yyyy-MM-dd"):null}}),expenses:m.filter(Q=>_.includes(Q.id)).map(Q=>({id:Q.id,date:Q.date||null,description:Q.description||"",amount:Number(Number(Q.amount||0).toFixed(2))}))};await Oh(Zt(Je,"invoices"),T),V(" Factura creada."),r()}catch(T){console.error(T),V(` Error al crear factura: ${(T==null?void 0:T.message)||"desconocido"}`)}finally{I(!1)}};return f.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/40 flex items-center justify-center p-3",children:f.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-xl shadow-xl p-4 md:p-6 max-h-[90vh] overflow-auto",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Crear factura"}),f.jsx("button",{onClick:e,className:"ml-auto px-2 py-1 border rounded hover:bg-gray-50",children:"Cerrar"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Fecha"}),f.jsx("input",{type:"date",className:"w-full border rounded px-2 py-1",value:i,onChange:T=>s(T.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Nmero"}),f.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1",value:A,onChange:T=>a(T.target.value),placeholder:"FAC-001"})]}),f.jsxs("div",{className:"md:col-span-1",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Descripcin"}),f.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1",value:o,onChange:T=>l(T.target.value),placeholder:"Comentarios de la factura"})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h4",{className:"font-semibold",children:"Lotes pagados"}),f.jsxs("label",{className:"text-sm flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:n.length>0&&u.length===n.length,onChange:T=>k(T.target.checked)}),"Seleccionar todos"]})]}),n.length===0?f.jsx("p",{className:"text-sm text-gray-500",children:"No hay lotes pagados disponibles en el filtro actual."}):f.jsx("div",{className:"border rounded",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Sel"}),f.jsx("th",{className:"p-2 border",children:"Fecha lote"}),f.jsx("th",{className:"p-2 border",children:"Producto"}),f.jsx("th",{className:"p-2 border",children:"Unidad"}),f.jsx("th",{className:"p-2 border",children:"Cantidad"}),f.jsx("th",{className:"p-2 border",children:"Precio venta"}),f.jsx("th",{className:"p-2 border",children:"Monto"}),f.jsx("th",{className:"p-2 border",children:"Fecha pago"})]})}),f.jsx("tbody",{children:n.map(T=>{var oe;const Q=u.includes(T.id),z=T.expectedTotal??Number((Number(T.quantity||0)*Number(T.salePrice||0)).toFixed(2));return f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:f.jsx("input",{type:"checkbox",checked:Q,onChange:le=>F(T.id,le.target.checked)})}),f.jsx("td",{className:"p-2 border",children:T.date}),f.jsx("td",{className:"p-2 border",children:T.productName}),f.jsx("td",{className:"p-2 border",children:(T.unit||"").toUpperCase()}),f.jsx("td",{className:"p-2 border",children:Py(T.quantity)}),f.jsx("td",{className:"p-2 border",children:Bc(T.salePrice)}),f.jsx("td",{className:"p-2 border",children:Bc(z)}),f.jsx("td",{className:"p-2 border",children:(oe=T.paidAt)!=null&&oe.toDate?an(T.paidAt.toDate(),"yyyy-MM-dd"):""})]},T.id)})})]})})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h4",{className:"font-semibold",children:"Gastos a incluir (opcional)"}),B&&f.jsx("span",{className:"text-xs text-gray-500",children:"Cargando"})]}),m.length===0?f.jsx("p",{className:"text-sm text-gray-500",children:"No hay gastos registrados o no estn disponibles."}):f.jsx("div",{className:"border rounded max-h-48 overflow-auto",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Sel"}),f.jsx("th",{className:"p-2 border",children:"Fecha"}),f.jsx("th",{className:"p-2 border",children:"Descripcin"}),f.jsx("th",{className:"p-2 border",children:"Monto"})]})}),f.jsx("tbody",{children:m.map(T=>{const Q=_.includes(T.id);return f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:f.jsx("input",{type:"checkbox",checked:Q,onChange:z=>x(T.id,z.target.checked)})}),f.jsx("td",{className:"p-2 border",children:T.date||""}),f.jsx("td",{className:"p-2 border",children:T.description||""}),f.jsx("td",{className:"p-2 border",children:Bc(Number(T.amount||0))})]},T.id)})})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm mb-4",children:[f.jsxs("div",{children:["Total libras: ",f.jsx("strong",{children:Py(L.totalLbs)})]}),f.jsxs("div",{children:["Total unidades: ",f.jsx("strong",{children:Py(L.totalUnits)})]}),f.jsxs("div",{children:["Total monto: ",f.jsx("strong",{children:Bc(L.totalAmount)})]}),f.jsxs("div",{children:["Total gastos: ",f.jsx("strong",{children:Bc(L.totalGastos)})]}),f.jsxs("div",{className:"md:col-span-2",children:["Monto final (monto - gastos):"," ",f.jsx("strong",{children:Bc(L.finalAmount)})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{disabled:b,onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-60",children:b?"Creando":"Crear factura"}),f.jsx("button",{onClick:e,className:"px-4 py-2 border rounded",children:"Cancelar"}),U&&f.jsx("span",{className:"text-sm ml-2",children:U})]})]})})}const Yl=t=>`C$ ${Number(t||0).toFixed(2)}`,_c=t=>Number(t||0).toFixed(3),qY=t=>(t||"").toLowerCase()==="lb"||/libra/.test((t||"").toLowerCase());function zY(){const[t,e]=Y.useState([]),[r,n]=Y.useState(!0),[i,s]=Y.useState(an(new Date(new Date().getFullYear(),new Date().getMonth(),1),"yyyy-MM-dd")),[A,a]=Y.useState(an(new Date,"yyyy-MM-dd")),[o,l]=Y.useState(""),[u,d]=Y.useState(!1);Y.useEffect(()=>{(async()=>{n(!0);const B=Ii(Zt(Je,"inventory_batches"),xi("status","==","PAGADO"),Sp("date","desc")),w=await zr(B),b=[];w.forEach(I=>{const U=I.data();b.push({id:I.id,productId:U.productId,productName:U.productName,category:U.category,unit:U.unit,quantity:Number(U.quantity||0),remaining:Number(U.remaining||0),purchasePrice:Number(U.purchasePrice||0),salePrice:Number(U.salePrice||0),invoiceTotal:Number(U.invoiceTotal||0),expectedTotal:Number(U.expectedTotal||Number(U.quantity||0)*Number(U.salePrice||0)),date:U.date,status:U.status,paidAt:U.paidAt})}),e(b),n(!1)})()},[]);const m=Y.useMemo(()=>t.filter(B=>!(i&&B.date<i||A&&B.date>A||o&&B.productId!==o)),[t,i,A,o]),p=Y.useMemo(()=>{let B=0,w=0,b=0,I=0,U=0,V=0;for(const O of m)qY(O.unit)?(B+=O.quantity,w+=O.remaining):(b+=O.quantity,I+=O.remaining),U+=Number(O.expectedTotal||0),V+=Number(O.invoiceTotal||0);return{lbsIng:B,lbsRem:w,udsIng:b,udsRem:I,totalEsperado:U,totalFact:V,gross:U-V}},[m]),_=async B=>{window.confirm(`Marcar PENDIENTE el lote ${B.productName} (${B.date})?`)&&(await os(ir(Je,"inventory_batches",B.id),{status:"PENDIENTE"}),e(w=>w.map(b=>b.id===B.id?{...b,status:"PENDIENTE"}:b)))},E=Y.useMemo(()=>{const B=new Map;return t.forEach(w=>B.set(w.productId,{id:w.productId,name:w.productName})),Array.from(B.values())},[t]);return f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Inventarios Pagados"}),f.jsxs("div",{className:"bg-white p-3 rounded shadow border mb-4 flex flex-wrap items-end gap-3 text-sm",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("label",{className:"font-semibold",children:"Desde"}),f.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:i,onChange:B=>s(B.target.value)})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("label",{className:"font-semibold",children:"Hasta"}),f.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:A,onChange:B=>a(B.target.value)})]}),f.jsxs("div",{className:"flex flex-col min-w-[240px]",children:[f.jsx("label",{className:"font-semibold",children:"Producto"}),f.jsxs("select",{className:"border rounded px-2 py-1",value:o,onChange:B=>l(B.target.value),children:[f.jsx("option",{value:"",children:"Todos"}),E.map(B=>f.jsx("option",{value:B.id,children:B.name},B.id))]})]}),f.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:()=>{s(""),a(""),l("")},children:"Quitar filtro"}),f.jsx("button",{className:"ml-auto px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:()=>d(!0),children:"Crear factura"})]}),f.jsx("div",{className:"bg-gray-50 p-3 rounded shadow border mb-3 text-base",children:f.jsxs("div",{className:"grid grid-cols-3 gap-y-2 gap-x-8",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Libras ingresadas:"})," ",_c(p.lbsIng)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Unidades ingresadas:"})," ",_c(p.udsIng)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Total esperado en ventas:"})," ",Yl(p.totalEsperado)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Libras restantes:"})," ",_c(p.lbsRem)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Unidades restantes:"})," ",_c(p.udsRem)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Total facturado:"})," ",Yl(p.totalFact)]}),f.jsxs("div",{className:"col-span-3",children:[f.jsx("span",{className:"font-semibold",children:"Ganancia sin gastos:"})," ",Yl(p.gross)]})]})}),f.jsx("div",{className:"bg-white p-2 rounded shadow border w-full",children:f.jsxs("table",{className:"min-w-full w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 border",children:"Fecha"}),f.jsx("th",{className:"p-2 border",children:"Tipo"}),f.jsx("th",{className:"p-2 border",children:"Producto"}),f.jsx("th",{className:"p-2 border",children:"Unidad"}),f.jsx("th",{className:"p-2 border",children:"Ingresado"}),f.jsx("th",{className:"p-2 border",children:"Restantes"}),f.jsx("th",{className:"p-2 border",children:"Precio Compra"}),f.jsx("th",{className:"p-2 border",children:"Precio Venta"}),f.jsx("th",{className:"p-2 border",children:"Total factura"}),f.jsx("th",{className:"p-2 border",children:"Total esperado"}),f.jsx("th",{className:"p-2 border",children:"Fecha pago"}),f.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),f.jsx("tbody",{children:r?f.jsx("tr",{children:f.jsx("td",{colSpan:12,className:"p-4 text-center",children:"Cargando"})}):m.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:12,className:"p-4 text-center",children:"Sin lotes pagados"})}):m.map(B=>{var w;return f.jsxs("tr",{className:"text-center",children:[f.jsx("td",{className:"p-2 border",children:B.date}),f.jsx("td",{className:"p-2 border",children:(B.category||"").toUpperCase()}),f.jsx("td",{className:"p-2 border",children:B.productName}),f.jsx("td",{className:"p-2 border",children:(B.unit||"").toUpperCase()}),f.jsx("td",{className:"p-2 border",children:_c(B.quantity)}),f.jsx("td",{className:"p-2 border",children:_c(B.remaining)}),f.jsx("td",{className:"p-2 border",children:Yl(B.purchasePrice)}),f.jsx("td",{className:"p-2 border",children:Yl(B.salePrice)}),f.jsx("td",{className:"p-2 border",children:Yl(B.invoiceTotal||0)}),f.jsx("td",{className:"p-2 border",children:Yl(B.expectedTotal||0)}),f.jsx("td",{className:"p-2 border",children:(w=B.paidAt)!=null&&w.toDate?an(B.paidAt.toDate(),"yyyy-MM-dd"):""}),f.jsx("td",{className:"p-2 border",children:f.jsx("button",{className:"px-2 py-1 rounded text-white bg-yellow-600 hover:bg-yellow-700",onClick:()=>_(B),children:"Marcar PENDIENTE"})})]},B.id)})})]})}),u&&f.jsx(GY,{paidBatches:m,onClose:()=>d(!1),onCreated:()=>d(!1)})]})}function WY(){const[t,e]=Y.useState(null),[r,n]=Y.useState(""),[i,s]=Y.useState(!0);return Y.useEffect(()=>{const A=kN(Fw,async a=>{if(s(!0),a){e(a);const o=ir(Je,"users",a.uid),l=await Dh(o);n(l.exists()?l.data().role:"")}else e(null),n("");s(!1)});return()=>A()},[]),i?f.jsx("div",{className:"p-6 text-center",children:"Cargando..."}):f.jsx(_D,{children:f.jsxs(ZR,{children:[f.jsx(Vn,{path:"/",element:f.jsx(GV,{})}),f.jsxs(Vn,{path:"/admin",element:f.jsx(Zi,{allowedRoles:["admin","vendedor"],children:f.jsx(qV,{role:r})}),children:[f.jsx(Vn,{index:!0,element:f.jsx(Nv,{to:"bills",replace:!0})}),f.jsx(Vn,{path:"bills",element:f.jsx(Zi,{allowedRoles:["vendedor","admin"],children:f.jsx(BY,{})})}),f.jsx(Vn,{path:"fix",element:f.jsx(Zi,{allowedRoles:["admin"],children:f.jsx(jY,{})})}),f.jsx(Vn,{path:"salesV2",element:f.jsx(Zi,{allowedRoles:["vendedor","admin"],children:f.jsx(E4,{user:t})})}),f.jsx(Vn,{path:"billhistoric",element:f.jsx(Zi,{allowedRoles:["admin"],children:f.jsx(_Y,{})})}),f.jsx(Vn,{path:"users",element:f.jsx(Zi,{allowedRoles:["admin"],children:f.jsx(CY,{})})}),f.jsx(Vn,{path:"products",element:f.jsx(Zi,{allowedRoles:["admin"],children:f.jsx(EY,{})})}),f.jsx(Vn,{path:"batches",element:f.jsx(Zi,{allowedRoles:["admin"],children:f.jsx(LY,{})})}),f.jsx(Vn,{path:"transactionclose",element:f.jsx(Zi,{allowedRoles:["admin"],children:f.jsx(PY,{})})}),f.jsx(Vn,{path:"financialDashboard",element:f.jsx(Zi,{allowedRoles:["admin"],children:f.jsx(RY,{})})}),f.jsx(Vn,{path:"expenses",element:f.jsx(Zi,{allowedRoles:["admin"],children:f.jsx(OY,{})})}),f.jsx(Vn,{path:"billing",element:f.jsx(Zi,{allowedRoles:["admin"],children:f.jsx(VY,{})})}),f.jsx(Vn,{path:"paidBatches",element:f.jsx(Zi,{allowedRoles:["admin"],children:f.jsx(zY,{})})})]}),f.jsx(Vn,{path:"/salesV2",element:f.jsx(Zi,{allowedRoles:["vendedor","admin"],children:f.jsx(E4,{user:t})})}),f.jsx(Vn,{path:"*",element:f.jsx(Nv,{to:"/"})})]})})}ky.createRoot(document.getElementById("root")).render(f.jsx(k4.StrictMode,{children:f.jsx(WY,{})}));export{pr as _,XY as c,LL as g};
